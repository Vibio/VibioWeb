diff --git a/.gitignore b/.gitignore
index ae60c1c..a8c0391 100644
--- a/.gitignore
+++ b/.gitignore
@@ -1,3 +1,9 @@
+sites/default/settings.php
+/var/www/vibio/src/sites/default/settings.php
 settings.php
 modules/vibio/facebook/compare_with_facebook_module_fb
 WELCOME_TO_DEV
+WELCOME_TO_MESH
+modules/memcache
+modules/memcache/*
+
diff --git a/.htaccess b/.htaccess
index 582c22a..64cc647 100644
--- a/.htaccess
+++ b/.htaccess
@@ -68,7 +68,8 @@ DirectoryIndex index.php
   ExpiresActive On
 
   # Cache all files for 2 weeks after access (A).
-  ExpiresDefault A1209600
+  ExpiresDefault A1209601
+		# Stephen added 1 second, makes our cache unique
 
   <FilesMatch \.php$>
     # Do not allow PHP scripts to be cached unless they explicitly send cache
diff --git a/AmazonResult.xml.Readme b/AmazonResult.xml.Readme
new file mode 100644
index 0000000..7697717
--- /dev/null
+++ b/AmazonResult.xml.Readme
@@ -0,0 +1,5 @@
+Keith:
+AmazonResult.xml is something I added to the code to "log" the latest Amazon dump.  It contains all the data available, not just the data we are currently using.  It was a way to track what was going on during the test time (and after).  It does not need to be archived or Gig'd.  It is automatically created and overwritten at each Amazon service request (one per each new item request, returning 10 Amazon items).
+
+
+Find and comment this out before we go live.
diff --git a/DEADJOE b/DEADJOE
new file mode 100644
index 0000000..f8e158c
--- /dev/null
+++ b/DEADJOE
@@ -0,0 +1,66 @@
+
+*** These modified files were found in JOE when it aborted on Tue Oct 18 23:20:58 2011
+*** JOE was aborted by UNIX signal 1
+
+*** File '(Unnamed)'
+.git/COMMIT_EDITMSG
+
+*** File '.git/COMMIT_EDITMSG'
+initial css
+
+
+
+ 
+# Please enter the commit message for your changes. Lines starting
+# with '#' will be ignored, and an empty message aborts the commit.
+# Explicit paths specified without -i nor -o; assuming --only paths...
+#
+# Committer: travis <travis@ip-10-244-151-207.ec2.internal>
+#
+# On branch mesh
+# Changes to be committed:
+#   (use "git reset HEAD <file>..." to unstage)
+#
+#	new file:   travis.css
+#
+# Changed but not updated:
+#   (use "git add/rm <file>..." to update what will be committed)
+#   (use "git checkout -- <file>..." to discard changes in working directory)
+#
+#	modified:   ../../../modules/vibio/facebook/fb.module
+#	modified:   ../../../modules/vibio/vibio_item/collection/collection.inc
+#	modified:   ../../../modules/vibio/vibio_item/collection/collection.info
+#	modified:   ../../../modules/vibio/vibio_item/collection/collection.install
+#	modified:   ../../../modules/vibio/vibio_item/collection/collection.module
+#	modified:   ../../../sites/all/modules/orig_core_modules/amazon/amazon.module
+#	deleted:    ../../../sites/all/modules/orig_core_modules/imagefield/imagefield
+#	modified:   ../../../sites/all/themes/vibio/templates/facebook/share.tpl.php
+#	modified:   ../../../sites/all/themes/vibio/vibio.info
+#	modified:   pages.css
+#	modified:   profile.css
+#	modified:   tabs.css
+#	modified:   user.css
+#	modified:   views-styles.css
+#	modified:   ../js/dom-manipulate.js
+#	modified:   ../js/dom-removal.js
+#	modified:   ../js/facebook.js
+#	modified:   ../templates/badge/list-badge.tpl.php
+#	modified:   ../templates/facebook/share.tpl.php
+#	modified:   ../templates/profile/view-fields.tpl.php
+#	modified:   ../templates/user/user-profile.tpl.php
+#	modified:   ../vibio.info
+#
+# Untracked files:
+#   (use "git add <file>..." to include in what will be committed)
+#
+#	../../../AmazonResult.xml
+#	../../../modules/vibio/tweetassist
+#	../../../modules/vibio/vibio_item/collection/.collection.module.swp
+#	../../../sites/all/modules/views_fluidgrid/
+#	../../../sites/all/themes/seven/
+#	../../../sites/all/themes/vibio/css/travis.css
+#	../../../sites/all/themes/vibio/images/vshare/share-btn-hover.png
+#	../../../sites/all/themes/vibio/images/vshare/share-btn.png
+#	stephen.css---modified_version
+#	../images/info_button.png
+#	../images/tabs_bgd.png
diff --git a/LICENSE.txt b/LICENSE.txt
index 450923a..8926a91 100644
--- a/LICENSE.txt
+++ b/LICENSE.txt
@@ -1,340 +1,340 @@
-// $Id: LICENSE.txt,v 1.5.4.1 2009/01/06 17:27:13 goba Exp $
-		    GNU GENERAL PUBLIC LICENSE
-		       Version 2, June 1991
-
- Copyright (C) 1989, 1991 Free Software Foundation, Inc.,
- 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
- Everyone is permitted to copy and distribute verbatim copies
- of this license document, but changing it is not allowed.
-
-			    Preamble
-
-  The licenses for most software are designed to take away your
-freedom to share and change it.  By contrast, the GNU General Public
-License is intended to guarantee your freedom to share and change free
-software--to make sure the software is free for all its users.  This
-General Public License applies to most of the Free Software
-Foundation's software and to any other program whose authors commit to
-using it.  (Some other Free Software Foundation software is covered by
-the GNU Lesser General Public License instead.)  You can apply it to
-your programs, too.
-
-  When we speak of free software, we are referring to freedom, not
-price.  Our General Public Licenses are designed to make sure that you
-have the freedom to distribute copies of free software (and charge for
-this service if you wish), that you receive source code or can get it
-if you want it, that you can change the software or use pieces of it
-in new free programs; and that you know you can do these things.
-
-  To protect your rights, we need to make restrictions that forbid
-anyone to deny you these rights or to ask you to surrender the rights.
-These restrictions translate to certain responsibilities for you if you
-distribute copies of the software, or if you modify it.
-
-  For example, if you distribute copies of such a program, whether
-gratis or for a fee, you must give the recipients all the rights that
-you have.  You must make sure that they, too, receive or can get the
-source code.  And you must show them these terms so they know their
-rights.
-
-  We protect your rights with two steps: (1) copyright the software, and
-(2) offer you this license which gives you legal permission to copy,
-distribute and/or modify the software.
-
-  Also, for each author's protection and ours, we want to make certain
-that everyone understands that there is no warranty for this free
-software.  If the software is modified by someone else and passed on, we
-want its recipients to know that what they have is not the original, so
-that any problems introduced by others will not reflect on the original
-authors' reputations.
-
-  Finally, any free program is threatened constantly by software
-patents.  We wish to avoid the danger that redistributors of a free
-program will individually obtain patent licenses, in effect making the
-program proprietary.  To prevent this, we have made it clear that any
-patent must be licensed for everyone's free use or not licensed at all.
-
-  The precise terms and conditions for copying, distribution and
-modification follow.
-
-		    GNU GENERAL PUBLIC LICENSE
-   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
-
-  0. This License applies to any program or other work which contains
-a notice placed by the copyright holder saying it may be distributed
-under the terms of this General Public License.  The "Program", below,
-refers to any such program or work, and a "work based on the Program"
-means either the Program or any derivative work under copyright law:
-that is to say, a work containing the Program or a portion of it,
-either verbatim or with modifications and/or translated into another
-language.  (Hereinafter, translation is included without limitation in
-the term "modification".)  Each licensee is addressed as "you".
-
-Activities other than copying, distribution and modification are not
-covered by this License; they are outside its scope.  The act of
-running the Program is not restricted, and the output from the Program
-is covered only if its contents constitute a work based on the
-Program (independent of having been made by running the Program).
-Whether that is true depends on what the Program does.
-
-  1. You may copy and distribute verbatim copies of the Program's
-source code as you receive it, in any medium, provided that you
-conspicuously and appropriately publish on each copy an appropriate
-copyright notice and disclaimer of warranty; keep intact all the
-notices that refer to this License and to the absence of any warranty;
-and give any other recipients of the Program a copy of this License
-along with the Program.
-
-You may charge a fee for the physical act of transferring a copy, and
-you may at your option offer warranty protection in exchange for a fee.
-
-  2. You may modify your copy or copies of the Program or any portion
-of it, thus forming a work based on the Program, and copy and
-distribute such modifications or work under the terms of Section 1
-above, provided that you also meet all of these conditions:
-
-    a) You must cause the modified files to carry prominent notices
-    stating that you changed the files and the date of any change.
-
-    b) You must cause any work that you distribute or publish, that in
-    whole or in part contains or is derived from the Program or any
-    part thereof, to be licensed as a whole at no charge to all third
-    parties under the terms of this License.
-
-    c) If the modified program normally reads commands interactively
-    when run, you must cause it, when started running for such
-    interactive use in the most ordinary way, to print or display an
-    announcement including an appropriate copyright notice and a
-    notice that there is no warranty (or else, saying that you provide
-    a warranty) and that users may redistribute the program under
-    these conditions, and telling the user how to view a copy of this
-    License.  (Exception: if the Program itself is interactive but
-    does not normally print such an announcement, your work based on
-    the Program is not required to print an announcement.)
-
-These requirements apply to the modified work as a whole.  If
-identifiable sections of that work are not derived from the Program,
-and can be reasonably considered independent and separate works in
-themselves, then this License, and its terms, do not apply to those
-sections when you distribute them as separate works.  But when you
-distribute the same sections as part of a whole which is a work based
-on the Program, the distribution of the whole must be on the terms of
-this License, whose permissions for other licensees extend to the
-entire whole, and thus to each and every part regardless of who wrote it.
-
-Thus, it is not the intent of this section to claim rights or contest
-your rights to work written entirely by you; rather, the intent is to
-exercise the right to control the distribution of derivative or
-collective works based on the Program.
-
-In addition, mere aggregation of another work not based on the Program
-with the Program (or with a work based on the Program) on a volume of
-a storage or distribution medium does not bring the other work under
-the scope of this License.
-
-  3. You may copy and distribute the Program (or a work based on it,
-under Section 2) in object code or executable form under the terms of
-Sections 1 and 2 above provided that you also do one of the following:
-
-    a) Accompany it with the complete corresponding machine-readable
-    source code, which must be distributed under the terms of Sections
-    1 and 2 above on a medium customarily used for software interchange; or,
-
-    b) Accompany it with a written offer, valid for at least three
-    years, to give any third party, for a charge no more than your
-    cost of physically performing source distribution, a complete
-    machine-readable copy of the corresponding source code, to be
-    distributed under the terms of Sections 1 and 2 above on a medium
-    customarily used for software interchange; or,
-
-    c) Accompany it with the information you received as to the offer
-    to distribute corresponding source code.  (This alternative is
-    allowed only for noncommercial distribution and only if you
-    received the program in object code or executable form with such
-    an offer, in accord with Subsection b above.)
-
-The source code for a work means the preferred form of the work for
-making modifications to it.  For an executable work, complete source
-code means all the source code for all modules it contains, plus any
-associated interface definition files, plus the scripts used to
-control compilation and installation of the executable.  However, as a
-special exception, the source code distributed need not include
-anything that is normally distributed (in either source or binary
-form) with the major components (compiler, kernel, and so on) of the
-operating system on which the executable runs, unless that component
-itself accompanies the executable.
-
-If distribution of executable or object code is made by offering
-access to copy from a designated place, then offering equivalent
-access to copy the source code from the same place counts as
-distribution of the source code, even though third parties are not
-compelled to copy the source along with the object code.
-
-  4. You may not copy, modify, sublicense, or distribute the Program
-except as expressly provided under this License.  Any attempt
-otherwise to copy, modify, sublicense or distribute the Program is
-void, and will automatically terminate your rights under this License.
-However, parties who have received copies, or rights, from you under
-this License will not have their licenses terminated so long as such
-parties remain in full compliance.
-
-  5. You are not required to accept this License, since you have not
-signed it.  However, nothing else grants you permission to modify or
-distribute the Program or its derivative works.  These actions are
-prohibited by law if you do not accept this License.  Therefore, by
-modifying or distributing the Program (or any work based on the
-Program), you indicate your acceptance of this License to do so, and
-all its terms and conditions for copying, distributing or modifying
-the Program or works based on it.
-
-  6. Each time you redistribute the Program (or any work based on the
-Program), the recipient automatically receives a license from the
-original licensor to copy, distribute or modify the Program subject to
-these terms and conditions.  You may not impose any further
-restrictions on the recipients' exercise of the rights granted herein.
-You are not responsible for enforcing compliance by third parties to
-this License.
-
-  7. If, as a consequence of a court judgment or allegation of patent
-infringement or for any other reason (not limited to patent issues),
-conditions are imposed on you (whether by court order, agreement or
-otherwise) that contradict the conditions of this License, they do not
-excuse you from the conditions of this License.  If you cannot
-distribute so as to satisfy simultaneously your obligations under this
-License and any other pertinent obligations, then as a consequence you
-may not distribute the Program at all.  For example, if a patent
-license would not permit royalty-free redistribution of the Program by
-all those who receive copies directly or indirectly through you, then
-the only way you could satisfy both it and this License would be to
-refrain entirely from distribution of the Program.
-
-If any portion of this section is held invalid or unenforceable under
-any particular circumstance, the balance of the section is intended to
-apply and the section as a whole is intended to apply in other
-circumstances.
-
-It is not the purpose of this section to induce you to infringe any
-patents or other property right claims or to contest validity of any
-such claims; this section has the sole purpose of protecting the
-integrity of the free software distribution system, which is
-implemented by public license practices.  Many people have made
-generous contributions to the wide range of software distributed
-through that system in reliance on consistent application of that
-system; it is up to the author/donor to decide if he or she is willing
-to distribute software through any other system and a licensee cannot
-impose that choice.
-
-This section is intended to make thoroughly clear what is believed to
-be a consequence of the rest of this License.
-
-  8. If the distribution and/or use of the Program is restricted in
-certain countries either by patents or by copyrighted interfaces, the
-original copyright holder who places the Program under this License
-may add an explicit geographical distribution limitation excluding
-those countries, so that distribution is permitted only in or among
-countries not thus excluded.  In such case, this License incorporates
-the limitation as if written in the body of this License.
-
-  9. The Free Software Foundation may publish revised and/or new versions
-of the General Public License from time to time.  Such new versions will
-be similar in spirit to the present version, but may differ in detail to
-address new problems or concerns.
-
-Each version is given a distinguishing version number.  If the Program
-specifies a version number of this License which applies to it and "any
-later version", you have the option of following the terms and conditions
-either of that version or of any later version published by the Free
-Software Foundation.  If the Program does not specify a version number of
-this License, you may choose any version ever published by the Free Software
-Foundation.
-
-  10. If you wish to incorporate parts of the Program into other free
-programs whose distribution conditions are different, write to the author
-to ask for permission.  For software which is copyrighted by the Free
-Software Foundation, write to the Free Software Foundation; we sometimes
-make exceptions for this.  Our decision will be guided by the two goals
-of preserving the free status of all derivatives of our free software and
-of promoting the sharing and reuse of software generally.
-
-			    NO WARRANTY
-
-  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
-FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
-OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
-PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
-OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
-MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
-TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
-PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
-REPAIR OR CORRECTION.
-
-  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
-WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
-REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
-INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
-OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
-TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
-YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
-PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
-POSSIBILITY OF SUCH DAMAGES.
-
-		     END OF TERMS AND CONDITIONS
-
-	    How to Apply These Terms to Your New Programs
-
-  If you develop a new program, and you want it to be of the greatest
-possible use to the public, the best way to achieve this is to make it
-free software which everyone can redistribute and change under these terms.
-
-  To do so, attach the following notices to the program.  It is safest
-to attach them to the start of each source file to most effectively
-convey the exclusion of warranty; and each file should have at least
-the "copyright" line and a pointer to where the full notice is found.
-
-    <one line to give the program's name and a brief idea of what it does.>
-    Copyright (C) <year>  <name of author>
-
-    This program is free software; you can redistribute it and/or modify
-    it under the terms of the GNU General Public License as published by
-    the Free Software Foundation; either version 2 of the License, or
-    (at your option) any later version.
-
-    This program is distributed in the hope that it will be useful,
-    but WITHOUT ANY WARRANTY; without even the implied warranty of
-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-    GNU General Public License for more details.
-
-    You should have received a copy of the GNU General Public License along
-    with this program; if not, write to the Free Software Foundation, Inc.,
-    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
-
-Also add information on how to contact you by electronic and paper mail.
-
-If the program is interactive, make it output a short notice like this
-when it starts in an interactive mode:
-
-    Gnomovision version 69, Copyright (C) year name of author
-    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
-    This is free software, and you are welcome to redistribute it
-    under certain conditions; type `show c' for details.
-
-The hypothetical commands `show w' and `show c' should show the appropriate
-parts of the General Public License.  Of course, the commands you use may
-be called something other than `show w' and `show c'; they could even be
-mouse-clicks or menu items--whatever suits your program.
-
-You should also get your employer (if you work as a programmer) or your
-school, if any, to sign a "copyright disclaimer" for the program, if
-necessary.  Here is a sample; alter the names:
-
-  Yoyodyne, Inc., hereby disclaims all copyright interest in the program
-  `Gnomovision' (which makes passes at compilers) written by James Hacker.
-
-  <signature of Ty Coon>, 1 April 1989
-  Ty Coon, President of Vice
-
-This General Public License does not permit incorporating your program into
-proprietary programs.  If your program is a subroutine library, you may
-consider it more useful to permit linking proprietary applications with the
-library.  If this is what you want to do, use the GNU Lesser General
-Public License instead of this License.
+// $Id: LICENSE.txt,v 1.5.4.1 2009/01/06 17:27:13 goba Exp $
+		    GNU GENERAL PUBLIC LICENSE
+		       Version 2, June 1991
+
+ Copyright (C) 1989, 1991 Free Software Foundation, Inc.,
+ 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
+ Everyone is permitted to copy and distribute verbatim copies
+ of this license document, but changing it is not allowed.
+
+			    Preamble
+
+  The licenses for most software are designed to take away your
+freedom to share and change it.  By contrast, the GNU General Public
+License is intended to guarantee your freedom to share and change free
+software--to make sure the software is free for all its users.  This
+General Public License applies to most of the Free Software
+Foundation's software and to any other program whose authors commit to
+using it.  (Some other Free Software Foundation software is covered by
+the GNU Lesser General Public License instead.)  You can apply it to
+your programs, too.
+
+  When we speak of free software, we are referring to freedom, not
+price.  Our General Public Licenses are designed to make sure that you
+have the freedom to distribute copies of free software (and charge for
+this service if you wish), that you receive source code or can get it
+if you want it, that you can change the software or use pieces of it
+in new free programs; and that you know you can do these things.
+
+  To protect your rights, we need to make restrictions that forbid
+anyone to deny you these rights or to ask you to surrender the rights.
+These restrictions translate to certain responsibilities for you if you
+distribute copies of the software, or if you modify it.
+
+  For example, if you distribute copies of such a program, whether
+gratis or for a fee, you must give the recipients all the rights that
+you have.  You must make sure that they, too, receive or can get the
+source code.  And you must show them these terms so they know their
+rights.
+
+  We protect your rights with two steps: (1) copyright the software, and
+(2) offer you this license which gives you legal permission to copy,
+distribute and/or modify the software.
+
+  Also, for each author's protection and ours, we want to make certain
+that everyone understands that there is no warranty for this free
+software.  If the software is modified by someone else and passed on, we
+want its recipients to know that what they have is not the original, so
+that any problems introduced by others will not reflect on the original
+authors' reputations.
+
+  Finally, any free program is threatened constantly by software
+patents.  We wish to avoid the danger that redistributors of a free
+program will individually obtain patent licenses, in effect making the
+program proprietary.  To prevent this, we have made it clear that any
+patent must be licensed for everyone's free use or not licensed at all.
+
+  The precise terms and conditions for copying, distribution and
+modification follow.
+
+		    GNU GENERAL PUBLIC LICENSE
+   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
+
+  0. This License applies to any program or other work which contains
+a notice placed by the copyright holder saying it may be distributed
+under the terms of this General Public License.  The "Program", below,
+refers to any such program or work, and a "work based on the Program"
+means either the Program or any derivative work under copyright law:
+that is to say, a work containing the Program or a portion of it,
+either verbatim or with modifications and/or translated into another
+language.  (Hereinafter, translation is included without limitation in
+the term "modification".)  Each licensee is addressed as "you".
+
+Activities other than copying, distribution and modification are not
+covered by this License; they are outside its scope.  The act of
+running the Program is not restricted, and the output from the Program
+is covered only if its contents constitute a work based on the
+Program (independent of having been made by running the Program).
+Whether that is true depends on what the Program does.
+
+  1. You may copy and distribute verbatim copies of the Program's
+source code as you receive it, in any medium, provided that you
+conspicuously and appropriately publish on each copy an appropriate
+copyright notice and disclaimer of warranty; keep intact all the
+notices that refer to this License and to the absence of any warranty;
+and give any other recipients of the Program a copy of this License
+along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and
+you may at your option offer warranty protection in exchange for a fee.
+
+  2. You may modify your copy or copies of the Program or any portion
+of it, thus forming a work based on the Program, and copy and
+distribute such modifications or work under the terms of Section 1
+above, provided that you also meet all of these conditions:
+
+    a) You must cause the modified files to carry prominent notices
+    stating that you changed the files and the date of any change.
+
+    b) You must cause any work that you distribute or publish, that in
+    whole or in part contains or is derived from the Program or any
+    part thereof, to be licensed as a whole at no charge to all third
+    parties under the terms of this License.
+
+    c) If the modified program normally reads commands interactively
+    when run, you must cause it, when started running for such
+    interactive use in the most ordinary way, to print or display an
+    announcement including an appropriate copyright notice and a
+    notice that there is no warranty (or else, saying that you provide
+    a warranty) and that users may redistribute the program under
+    these conditions, and telling the user how to view a copy of this
+    License.  (Exception: if the Program itself is interactive but
+    does not normally print such an announcement, your work based on
+    the Program is not required to print an announcement.)
+
+These requirements apply to the modified work as a whole.  If
+identifiable sections of that work are not derived from the Program,
+and can be reasonably considered independent and separate works in
+themselves, then this License, and its terms, do not apply to those
+sections when you distribute them as separate works.  But when you
+distribute the same sections as part of a whole which is a work based
+on the Program, the distribution of the whole must be on the terms of
+this License, whose permissions for other licensees extend to the
+entire whole, and thus to each and every part regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest
+your rights to work written entirely by you; rather, the intent is to
+exercise the right to control the distribution of derivative or
+collective works based on the Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of
+a storage or distribution medium does not bring the other work under
+the scope of this License.
+
+  3. You may copy and distribute the Program (or a work based on it,
+under Section 2) in object code or executable form under the terms of
+Sections 1 and 2 above provided that you also do one of the following:
+
+    a) Accompany it with the complete corresponding machine-readable
+    source code, which must be distributed under the terms of Sections
+    1 and 2 above on a medium customarily used for software interchange; or,
+
+    b) Accompany it with a written offer, valid for at least three
+    years, to give any third party, for a charge no more than your
+    cost of physically performing source distribution, a complete
+    machine-readable copy of the corresponding source code, to be
+    distributed under the terms of Sections 1 and 2 above on a medium
+    customarily used for software interchange; or,
+
+    c) Accompany it with the information you received as to the offer
+    to distribute corresponding source code.  (This alternative is
+    allowed only for noncommercial distribution and only if you
+    received the program in object code or executable form with such
+    an offer, in accord with Subsection b above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it.  For an executable work, complete source
+code means all the source code for all modules it contains, plus any
+associated interface definition files, plus the scripts used to
+control compilation and installation of the executable.  However, as a
+special exception, the source code distributed need not include
+anything that is normally distributed (in either source or binary
+form) with the major components (compiler, kernel, and so on) of the
+operating system on which the executable runs, unless that component
+itself accompanies the executable.
+
+If distribution of executable or object code is made by offering
+access to copy from a designated place, then offering equivalent
+access to copy the source code from the same place counts as
+distribution of the source code, even though third parties are not
+compelled to copy the source along with the object code.
+
+  4. You may not copy, modify, sublicense, or distribute the Program
+except as expressly provided under this License.  Any attempt
+otherwise to copy, modify, sublicense or distribute the Program is
+void, and will automatically terminate your rights under this License.
+However, parties who have received copies, or rights, from you under
+this License will not have their licenses terminated so long as such
+parties remain in full compliance.
+
+  5. You are not required to accept this License, since you have not
+signed it.  However, nothing else grants you permission to modify or
+distribute the Program or its derivative works.  These actions are
+prohibited by law if you do not accept this License.  Therefore, by
+modifying or distributing the Program (or any work based on the
+Program), you indicate your acceptance of this License to do so, and
+all its terms and conditions for copying, distributing or modifying
+the Program or works based on it.
+
+  6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the
+original licensor to copy, distribute or modify the Program subject to
+these terms and conditions.  You may not impose any further
+restrictions on the recipients' exercise of the rights granted herein.
+You are not responsible for enforcing compliance by third parties to
+this License.
+
+  7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues),
+conditions are imposed on you (whether by court order, agreement or
+otherwise) that contradict the conditions of this License, they do not
+excuse you from the conditions of this License.  If you cannot
+distribute so as to satisfy simultaneously your obligations under this
+License and any other pertinent obligations, then as a consequence you
+may not distribute the Program at all.  For example, if a patent
+license would not permit royalty-free redistribution of the Program by
+all those who receive copies directly or indirectly through you, then
+the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under
+any particular circumstance, the balance of the section is intended to
+apply and the section as a whole is intended to apply in other
+circumstances.
+
+It is not the purpose of this section to induce you to infringe any
+patents or other property right claims or to contest validity of any
+such claims; this section has the sole purpose of protecting the
+integrity of the free software distribution system, which is
+implemented by public license practices.  Many people have made
+generous contributions to the wide range of software distributed
+through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing
+to distribute software through any other system and a licensee cannot
+impose that choice.
+
+This section is intended to make thoroughly clear what is believed to
+be a consequence of the rest of this License.
+
+  8. If the distribution and/or use of the Program is restricted in
+certain countries either by patents or by copyrighted interfaces, the
+original copyright holder who places the Program under this License
+may add an explicit geographical distribution limitation excluding
+those countries, so that distribution is permitted only in or among
+countries not thus excluded.  In such case, this License incorporates
+the limitation as if written in the body of this License.
+
+  9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time.  Such new versions will
+be similar in spirit to the present version, but may differ in detail to
+address new problems or concerns.
+
+Each version is given a distinguishing version number.  If the Program
+specifies a version number of this License which applies to it and "any
+later version", you have the option of following the terms and conditions
+either of that version or of any later version published by the Free
+Software Foundation.  If the Program does not specify a version number of
+this License, you may choose any version ever published by the Free Software
+Foundation.
+
+  10. If you wish to incorporate parts of the Program into other free
+programs whose distribution conditions are different, write to the author
+to ask for permission.  For software which is copyrighted by the Free
+Software Foundation, write to the Free Software Foundation; we sometimes
+make exceptions for this.  Our decision will be guided by the two goals
+of preserving the free status of all derivatives of our free software and
+of promoting the sharing and reuse of software generally.
+
+			    NO WARRANTY
+
+  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
+FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
+OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
+PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
+OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
+MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
+TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
+REPAIR OR CORRECTION.
+
+  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
+WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
+INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
+OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
+TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
+YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
+PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
+POSSIBILITY OF SUCH DAMAGES.
+
+		     END OF TERMS AND CONDITIONS
+
+	    How to Apply These Terms to Your New Programs
+
+  If you develop a new program, and you want it to be of the greatest
+possible use to the public, the best way to achieve this is to make it
+free software which everyone can redistribute and change under these terms.
+
+  To do so, attach the following notices to the program.  It is safest
+to attach them to the start of each source file to most effectively
+convey the exclusion of warranty; and each file should have at least
+the "copyright" line and a pointer to where the full notice is found.
+
+    <one line to give the program's name and a brief idea of what it does.>
+    Copyright (C) <year>  <name of author>
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; either version 2 of the License, or
+    (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License along
+    with this program; if not, write to the Free Software Foundation, Inc.,
+    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
+
+Also add information on how to contact you by electronic and paper mail.
+
+If the program is interactive, make it output a short notice like this
+when it starts in an interactive mode:
+
+    Gnomovision version 69, Copyright (C) year name of author
+    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
+    This is free software, and you are welcome to redistribute it
+    under certain conditions; type `show c' for details.
+
+The hypothetical commands `show w' and `show c' should show the appropriate
+parts of the General Public License.  Of course, the commands you use may
+be called something other than `show w' and `show c'; they could even be
+mouse-clicks or menu items--whatever suits your program.
+
+You should also get your employer (if you work as a programmer) or your
+school, if any, to sign a "copyright disclaimer" for the program, if
+necessary.  Here is a sample; alter the names:
+
+  Yoyodyne, Inc., hereby disclaims all copyright interest in the program
+  `Gnomovision' (which makes passes at compilers) written by James Hacker.
+
+  <signature of Ty Coon>, 1 April 1989
+  Ty Coon, President of Vice
+
+This General Public License does not permit incorporating your program into
+proprietary programs.  If your program is a subroutine library, you may
+consider it more useful to permit linking proprietary applications with the
+library.  If this is what you want to do, use the GNU Lesser General
+Public License instead of this License.
diff --git a/WELCOME_TO_MESH--dev.vibio.com b/WELCOME_TO_MESH--dev.vibio.com
new file mode 100644
index 0000000..139597f
--- /dev/null
+++ b/WELCOME_TO_MESH--dev.vibio.com
@@ -0,0 +1,2 @@
+
+
diff --git a/cron.php b/cron.php
old mode 100644
new mode 100755
diff --git a/firefile-delete/.gitignore b/firefile-delete/.gitignore
new file mode 100755
index 0000000..fbbf360
--- /dev/null
+++ b/firefile-delete/.gitignore
@@ -0,0 +1,3 @@
+config.php
+style1.css
+style2.css
diff --git a/firefile-delete/README b/firefile-delete/README
new file mode 100755
index 0000000..06cb479
--- /dev/null
+++ b/firefile-delete/README
@@ -0,0 +1,3 @@
+## FireFile Server Script
+
+This Script handles css file saving to remote servers
diff --git a/firefile-delete/firefile.php b/firefile-delete/firefile.php
new file mode 100755
index 0000000..9e0fb53
--- /dev/null
+++ b/firefile-delete/firefile.php
@@ -0,0 +1,516 @@
+<?php #0.8.3
+global $version;
+$version = "0.8.3";
+
+// GET OS SETTINGS
+if(isset($_SERVER["OS"]) && substr($_SERVER["OS"], 0, 3) == "win") {
+	define("OS", "WIN");
+	define("SL", '\\\\');
+}else{
+	define("OS", "UNIX");
+	define("SL", '/');
+}
+
+// CHECK PERMISSIONS
+checkPermissions();
+
+// READ CONFIG
+$user = getConfigValue("user");
+
+// CHECK FOR VALID SETUP
+if($_POST && isset($_POST["action"])) {
+	// ACTION HANDLE
+	switch($_POST["action"]) {
+		case "save":
+			$result = authorizeAction();
+			if($result == "success") {
+				$result = onActionSaveRoutine();
+			}
+		    
+		    // HANDLE RESULT
+		    $response = getResponse($result);
+			echo "<?xml version='1.0' encoding='ISO-8859-1'?>";
+			die($response);
+			break;
+		default:
+			$result = false;
+	}
+}else{
+	// CONFIG HANDLE
+	onConfigViewRoutine();
+}
+
+die();
+
+function authorizeAction() {
+
+	// CHECK FILENAME
+	if(!getPost("file")) { return "no_file_specified"; }
+	if(substr(base64_decode(getPost("file")), -4) != ".css") { return "invalid_file_extension"; }
+	
+	// CHECK STYLESHEET DATA
+	if(!getPost("stylesheet")) { return "no_stylesheet_attached"; }
+	if(strlen(getPost("stylesheet")) < 10 ) { return "stylesheet_too_short"; }
+	
+	// CKECK CODE
+	if(getPost("code") != md5(getConfigValue("user")."/".getConfigValue("pass"))) { return "invalid_code"; }
+		
+	return "success";
+}
+
+function getConfigValue($key) {
+	// CHECK IF FILE EXISTS
+	if(!file_exists("config.php")) {
+		createConfigFile();
+	}
+	
+	$contents = file_get_contents("config.php");
+	preg_match("/\n".$key."=([^\n]+)/", $contents, $match);
+	if(count($match) < 2) {
+		return "";
+	}else{
+		return $match[1];
+	}
+	
+}
+
+function createConfigFile() {
+	$handle = @fopen("config.php", "w");
+	fwrite($handle, "<?php/*\nuser=\npass=\n*/?>");
+	fclose($handle);
+}
+
+function setConfigValue($key, $value) {
+	$contents = file_get_contents("config.php");
+	preg_match("/\n".$key."=([^\n]*)/", $contents, $match);
+	
+	if(!$match) {
+		createConfigFile();
+		$contents = file_get_contents("config.php");
+		preg_match("/\n".$key."=([^\n]*)/", $contents, $match);
+	}
+	
+	$contents = str_replace($match[0], "\n$key=$value", $contents);
+	saveFile("config.php", $contents);
+	return true;
+}
+
+function onConfigViewRoutine() {
+	$data = array();
+	$data["success"] = array();
+	$data["error"] = array();
+	$data["code"] = "";
+	$data["user_set"] = true;
+	$data["pass_set"] = true;
+	
+	// IS LOGGED IN
+	if(getPost("username") == getConfigValue("user") && getPost("password") == getConfigValue("pass")) {
+		handlePostData($data);
+	}else{
+		$data["logged_in"] = false;
+	}
+	
+	echo printTemplate($data);
+	return true;
+}
+
+function checkPermissions() {
+	$break = false;
+	$data = array();
+	$data["error"] = array();
+	
+	if(!is_writable(".")) {		
+		$data["error"][] = "DIRECTORY '.' IS NOT WRITABLE!<div class='code'>set directory permissions to '777'<br />chmod -R 777 ".getcwd()."</div>";
+		$break = true;
+	}
+	
+	if(file_exists("config.php") && !is_writable("config.php")) {
+		$data["error"][] = "FILE 'config.php' IS NOT WRITABLE!<div class='code'>set file permissions to '666'<br />chmod 666 ".getcwd()."/config.php</div>";
+		$break = true;
+	}
+	
+	if($break) {
+		$data["logged_in"] = false;
+		$data["code"] = "";
+		$data["user_set"] = false;
+		$data["pass_set"] = false;
+		$data["break"] = true;
+		$data["success"] = array();
+		printTemplate($data);
+		die();
+	}
+}
+
+
+function handlePostData(&$data) {
+	
+	
+	if(getPost("username_new")) {
+		
+		if(strlen(getPost("username_new")) >= 4) {
+			setConfigValue("user", getPost("username_new"));
+			$_POST["username"] = getPost("username_new");
+			$data["logged_in"] = true;
+			$data["success"][] = "The username was successfully changed";
+		}else{
+			$data["success"][] = "The specified username is too short!";
+		}
+
+	}
+	
+	if(getPost("password_new") || getPost("password_new_retype")) {
+		if(getPost("password_new") == getPost("password_new_retype")) {
+			setConfigValue("pass", getPost("password_new"));
+			$_POST["password"] = getPost("password_new");
+			$data["logged_in"] = true;
+			$data["success"][] = "The password was successfully changed";
+		}else{
+			$data["error"][] = "Passwords do not match!";
+		}
+	}
+	
+	if(!getConfigValue("user")) {
+		$data["user_set"] = false;
+	}
+	
+	if(!getConfigValue("pass")) {
+		$data["pass_set"] = false;
+	}
+		
+	$data["code"] = md5(getConfigValue("user")."/".getConfigValue("pass"));
+	$data["logged_in"] = true;
+	
+	if($data["user_set"] && $data["pass_set"] && $data["logged_in"]) {
+		createDemoContent();
+	}
+	
+	return true;
+}
+
+function onActionSaveRoutine() {
+
+	// DECODE
+	$stylesheet = base64_decode(getPost("stylesheet"));
+	$file = base64_decode(getPost("file"));
+
+	// SAVE FILE
+	if(OS == "UNIX") {
+		$file_abs_path = str_replace($_SERVER["PHP_SELF"], "", $_SERVER["SCRIPT_FILENAME"]).str_replace("http://".$_SERVER["HTTP_HOST"], "", $file);
+	}else if(OS == "WIN") {
+		$file_abs_path = str_replace(str_replace("/", "\\\\", $_SERVER["PHP_SELF"]), "", $_SERVER["PATH_TRANSLATED"]).str_replace("/", "\\\\", str_replace("http://".$_SERVER["HTTP_HOST"], "", $file));
+	}else{
+		die("system_error");
+	}
+
+	$result = saveFile($file_abs_path, $stylesheet);
+	
+	return $result;
+}
+
+function saveFile($file, $contents, $force=false) {
+	if(file_exists($file) || $force) {
+		$handle = @fopen($file, 'w') or die(endError());
+		fwrite($handle, $contents);
+		fclose($handle);
+		return "success";
+	}else{
+		return "file_not_exists";
+	}
+}
+
+function getPost($var) {
+	if(isset($_POST[$var])) {
+		return $_POST[$var];
+	}
+}
+
+function createDemoContent() {
+	if(!file_exists("style1.css")) {
+		$style1 = "body {margin:0;padding:0;}div.outer_div {-moz-background-clip:border;-moz-background-inline-policy:continuous;-moz-background-origin:padding;background:#EEEEEE none repeat scroll 0 0;border:1px solid #CCCCCC;margin:4px;padding:2px;}div.inner_div {-moz-background-clip:border;-moz-background-inline-policy:continuous;-moz-background-origin:padding;background:#F2F2F2 none repeat scroll 0 0;border:1px solid #CCCCCC;margin:2px;padding:4px;}";
+		saveFile("style1.css", $style1, true);
+	}
+	
+	if(!file_exists("style2.css")) {
+		$style2 = "div.header_div {border-bottom:1px dotted #CCCCCC;color:#444444;font-size:12px;font-weight:bold;padding:2px 4px 0;}div.content_div {-moz-background-clip:border;-moz-background-inline-policy:continuous;-moz-background-origin:padding;background:#F6F6F6 none repeat scroll 0 0;font-size:11px;padding:4px;text-align:center;}div.footer_div {border-top:1px dotted #CCCCCC;color:#CCCCCC;font-size:12px;padding:4px 4px 0;text-align:right;}";
+		saveFile("style2.css", $style2, true);
+	}
+}
+
+function getResponse($result) {
+    $index = getPost("index");
+    
+    switch($result) {
+        case "success":
+            return "<firefilestatus success='true' msg='FilesSuccessfullySaved' styleindex='$index' />";
+            break;
+        default:
+            return $result;
+    }
+}
+
+function endError() {
+	$retVal = "<?xml version='1.0' encoding='ISO-8859-1'?>";
+	$index = getPost("index");
+	$retVal .= "<firefilestatus success='false' msg='FileErrors' styleindex='$index' />";
+    return $retVal;
+}
+
+function printTemplate($data) { 
+    global $version; ?>
+	<html>
+		<head>
+			<title>FireFile Configuration</title>
+			<link rel="shortcut icon" href="http://www.strebitzer.at/projects/firefile/favicon.ico" type="image/x-icon" />
+			<style>
+				
+				body {
+					padding: 0px;
+					margin: 0px;
+					background: #FFFFFF;
+					color: #444444;
+				}
+				
+				div.config-pane {
+					margin: 2px;
+					padding: 2px;
+					border: 1px dotted #DDDDDD;
+				}
+				
+				div.success {
+					background: #DDEEDD;
+				}
+				
+				div.error {
+					background: #EEDDDD;
+				}
+				
+				div.code {
+					border: 1px dotted #CCCCCC;
+					background: #FFEEEE;
+					padding: 2px;
+					font-family: 'Lucida Sans Unicode', 'Lucida Grande', sans-serif;
+					font-size: 11px;
+					color: #444444;
+				}
+				
+				div.success h1, div.error h1 {
+					color: #444444 !IMPORTANT;
+					font-size: 12px;
+                    font-family: monospace;
+                    text-shadow: 0px 1px 1px #999999;
+				}
+
+				#login-panel {
+					background: #EEEEEE;
+					width: 100%;
+					height: 32px;
+					padding: 4px 0px 4px 0px;
+					border-bottom: 2px solid #DDDDDD;
+				}
+				
+				div.login-control {
+					float: right;
+					padding: 2px 2px 2px 6px;
+					margin: 3px 3px 3px 0px;
+					border: 1px dotted #CCCCCC;
+				}
+				
+				input {
+					border: 1px solid #444444;
+					height: 18px;
+				}
+				
+				label {
+					color: #444444;
+					font-size: 10px;
+					line-height: 18px;
+				}
+				
+				div.config-pane label {
+					display: block;
+					line-height: 13px;
+				}
+				
+				div.config-pane input {
+					display: block;
+
+				}
+				
+				h1 {
+					margin: 6px 0px 4px 4px;
+					padding: 0px;
+					font-size: 12px;
+					/*text-transform: uppercase;*/
+					color: #AAAAAA;
+					font-weight: normal;
+				}
+				
+				input#cmd_submit {
+					float: right;
+					margin: 3px 3px 3px 0px;
+					height: 26px;
+					border: 1px dotted #CCCCCC;
+					color: #444444;
+					font-weight: bold;
+				}
+				
+				input.inner_submit {
+					margin: 2px 0px 0px 0px;
+					float: none;
+					height: 18px;
+					border: 1px dotted #CCCCCC;
+					color: #444444;
+					font-weight: bold;
+				}
+				
+				input.highlight {
+					background: #FFCB51;
+					border: 1px solid #99882B;
+				}
+				
+				span.firefile-key {
+					border: 1px solid #CCCCCC;
+					padding: 2px 4px 0px 4px;
+					text-transform: uppercase;
+					background: #EEEEEE;
+				}
+				
+				span.firefile-install {
+					border: 1px solid #CCCCCC;
+					padding: 2px 4px 0px 4px;
+					text-transform: uppercase;
+					background: #EEEEEE;
+				}
+				
+				span.firefile-install a {
+					color: #444444;
+					font-weight: bold;
+					text-decoration: none;
+				}
+				
+				div.logo-float {
+					float: left;
+					padding: 0px 0px 0px 4px;
+					font-size: 40px;
+					line-height: 40px;
+					font-weight: bold;
+				}
+				
+				div.logo-float img {
+				    border: 0 none;
+					float: left;
+				}
+				
+				div.logo-float span.logo-fire {
+					float: left;
+				}
+				
+				div.logo-float span.logo-file {
+					float: left;
+					color: #666666;
+				}
+				
+				div.logo-float span.logo-version {
+					float: left;
+					color: #EAEAEA;
+					margin-left: 10px;
+				}
+				
+				div#key-pane {
+				    display: none;
+				}
+				
+			</style>
+			
+			<?php if(file_exists("style1.css") && file_exists("style2.css")) { ?>
+				<link rel="stylesheet" href="style1.css" type="text/css" />
+				<link rel="stylesheet" href="style2.css" type="text/css" />
+			<?php } ?>
+		</head>
+		<body>
+			<form id="firefile-form" method="POST">
+				<div id="login-panel">
+					<div class="logo-float">
+						<a href="http://firefile.strebitzer.at/?hasversion=<?php echo $version; ?>" target="_blank"><img src="http://www.strebitzer.at/projects/firefile/firefile_update_icon.php?version=<?php echo $version; ?>" width="32" height="32" alt="FireFile" title="FireFile" /></a>
+						<span class="logo-fire">Fire</span>
+						<span class="logo-file">File</span>
+						<span class="logo-version">0.5.0</span>
+					</div>
+					<?php if($data["user_set"] || $data["pass_set"]){ ?>
+						<input id="cmd_submit" type="submit" value="APPLY" />
+						<div class="login-control">
+							<label for="password">PASS:</label>
+							<input type="password" tabindex="2" autocomplete="off" value="<?php echo getPost("password"); ?>" id="password" name="password" />
+						</div>
+						<div class="login-control">
+							<label for="username">USER:</label>
+							<input type="text" tabindex="1" autocomplete="off" value="<?php echo getPost("username"); ?>" id="username" name="username" />
+						</div>
+					<?php } ?>
+				</div>
+				<?php foreach($data["success"] as $msg) { ?>
+					<div class="config-pane success">
+						<h1><?php echo $msg ?></h1>
+					</div>
+				<?php } ?>
+				
+				<?php foreach($data["error"] as $msg) { ?>
+					<div class="config-pane error">
+						<h1><?php echo $msg ?></h1>
+					</div>
+				<?php } ?>
+				
+				<?php if($data["logged_in"]) { ?>
+    				<div class="config-pane success">
+    					<h1>Please make sure that Firebug ist activated to successfully register FireFile</h1>
+    				</div>
+    				
+					<div class="config-pane">
+						<h1>CHANGE USERNAME:</h1>
+						<div class="config-pane">
+							<label for="username_new">NEW USERNAME:</label>
+							<input <?php if(!$data["user_set"]) { echo "class='highlight'"; } ?> type="text" autocomplete="off" value="" id="username_new" name="username_new" />
+							<input class="inner_submit" type="submit" value="APPLY" />
+						</div>
+						<h1>CHANGE PASSWORD:</h1>
+						<div class="config-pane">
+							<label for="password_new">NEW PASSWORD:</label>
+							<input <?php if(!$data["pass_set"]) { echo "class='highlight'"; } ?> type="password" autocomplete="off" value="" id="password_new" name="password_new" />
+							<label for="password_new_retype">RETYPE:</label>
+							<input <?php if(!$data["pass_set"]) { echo "class='highlight'"; } ?> type="password" autocomplete="off" value="" id="password_new_retype" name="password_new_retype" />
+							<input class="inner_submit" type="submit" value="APPLY" />
+						</div>
+						<?php if($data["user_set"] && $data["pass_set"]) { ?>
+							<div id="key-pane" class="config-pane">
+								<label for="username">FIREFILE KEY:</label>
+								<span id="firefile-key-holder" class="firefile-key"><?php echo $data["code"] ?></span>
+							</div>
+						<?php } ?>
+					</div>
+				<?php }else{ ?>
+					<?php if(!isset($data["break"])) { ?>
+						<div class="config-pane error">
+							<h1>YOU ARE NOT LOGGED IN</h1>
+						</div>
+					<?php } ?>
+				<?php } ?>
+				<?php if(file_exists("style1.css") && file_exists("style2.css")) { ?>
+					<h1>TEST AREA:</h1>
+					<div class="config-pane">
+						<label>You can edit this test area with firebug to make sure that firefile is working</label>
+						<div id="test">
+							<div class="outer_div">
+								<div class="inner_div">
+									<div class="header_div">HEADER</div>
+									<div class="content_div">CONTENT</div>
+									<div class="footer_div">FOOTER</div>
+								</div>
+							</div>
+						</div>
+						<input class="inner_submit" type="submit" value="RELOAD PAGE" />
+					</div>
+				<?php } ?>
+			</form>
+		</body>
+	</html>
+<?php } ?>
diff --git a/index.html b/index.html
deleted file mode 100644
index d047840..0000000
--- a/index.html
+++ /dev/null
@@ -1 +0,0 @@
-make it simple
diff --git a/modules/search/search.module b/modules/search/search.module
index 6e4c97d..6f6732e 100644
--- a/modules/search/search.module
+++ b/modules/search/search.module
@@ -956,8 +956,15 @@ function do_search($keywords, $type, $join1 = '', $where1 = '1 = 1', $arguments1
   // Do actual search query
   // This doesn't seem to be fired for a product search, 
   // or is being seriously cached -- stephen
-
-  $result = pager_query("$select $sort_parameters", 14, 0, $count_select, $arguments);
+	// May be ok to overwrite this, doesn't seem to work anyway, sorry
+	// mucking around in core right now... erase this, work on it when time
+	/*
+	global $pager_total;
+	$new_search_page_count = 20; // started as 10, and changing it not working
+	 $pager_total = $new_search_page_count;
+	*/
+
+  $result = pager_query("$select $sort_parameters", $new_search_page_count, 0, $count_select, $arguments);
   $results = array();
   while ($item = db_fetch_object($result)) {
     $results[] = $item;
@@ -1161,7 +1168,7 @@ function search_data($keys = NULL, $type = 'node') {
 			//looks fine for users...dsm($results);
       if (isset($results) && is_array($results) && count($results)) {
         if (module_hook($type, 'search_page')) {
-					//nope. die("here");
+					//die("Search is running"); --> does not trigger for a normal search
           return module_invoke($type, 'search_page', $results);
         }
         else {
diff --git a/modules/search/search.pages.inc b/modules/search/search.pages.inc
index c97c89f..2b31957 100644
--- a/modules/search/search.pages.inc
+++ b/modules/search/search.pages.inc
@@ -64,7 +64,9 @@ function template_preprocess_search_results(&$variables) {
 	  $variables['search_results_not_lost'] .= theme('search_result', $result, $variables['type']);
 
   }
-  $variables['pager'] = theme('pager', NULL, 10, 0);
+  $variables['pager'] = theme('pager', NULL, 10, 0); // changed to 40, 
+		// change not obvious
+
   // Provide alternate search results template.
   $variables['template_files'][] = 'search-results-'. $variables['type'];
 }
diff --git a/modules/system/box.tpl.php b/modules/system/box.tpl.php
index ac4df35..070c1ad 100644
--- a/modules/system/box.tpl.php
+++ b/modules/system/box.tpl.php
@@ -12,11 +12,9 @@
  * @see template_preprocess()
  */
 ?>
-<div class="box">
-
 <?php if ($title): ?>
-  <h2><?php print $title ?></h2>
+  <h1 id="box_page_title"><?php print $title ?></h1>
 <?php endif; ?>
-
+<div class="box">
   <div class="content"><?php print $content ?></div>
 </div>
diff --git a/modules/user/user.module b/modules/user/user.module
index f95b5e4..9088be5 100644
--- a/modules/user/user.module
+++ b/modules/user/user.module
@@ -904,7 +904,7 @@ function user_menu() {
 
   // Registration and login pages.
   $items['user'] = array(
-    'title' => 'User account',
+    'title' => 'Log In',
     'page callback' => 'user_page',
     'access callback' => TRUE,
     'type' => MENU_CALLBACK,
diff --git a/modules/vibio/badges/.badge.module.swp b/modules/vibio/badges/.badge.module.swp
deleted file mode 100644
index f3bc569..0000000
Binary files a/modules/vibio/badges/.badge.module.swp and /dev/null differ
diff --git a/modules/vibio/badges/badge.module b/modules/vibio/badges/badge.module
index 860e1b2..e943b15 100644
--- a/modules/vibio/badges/badge.module
+++ b/modules/vibio/badges/badge.module
@@ -399,19 +399,30 @@ function badge_preprocess_badge_list($vars)
 	
 	module_load_include("inc", "badge");
 	drupal_add_css("themes/vibio/css/badge.css");
-	
-	$out = "";
+
+	$out = "";	
+
+	// vibio: add some text, maybe just for your own badges page
+	if ($user->uid == $vars['uid'])
+        {
+		$out .= 
+"<div class='section-intro'><p class='section_title'>Badges Awarded <span class='section_sub_title'><a class='badges_unearned' href='/badge/unearned-list'>What other badges can I earn?</a></span></p>
+<p class='badges-intro'>Build your social status on Vibio by creating collections of your most prized and unique possessions. Badges are earned when you reach certain milestones.</p></div>
+";
+	}
+
+	/* list the badges, running through template list-badge.tpl */
 	foreach (badge_get_user_badges($vars['uid']) as $bid => $badge)
 	{
 		$badge->image_src = file_create_url($badge->image);
 		$out .= theme("badge_list_badge", $badge);
 	}
 	
-	if ($user->uid == $vars['uid'])
+/*	if ($user->uid == $vars['uid'])
 	{
 		$out .= l(t("What other badges can I earn?"), "badge/unearned-list", array("attributes" => array("class" => "badges_unearned")));
 	}
-	
+*/	
 	$vars['badge_html'] = $out;
 }
 
diff --git a/modules/vibio/badges/badge.pages.inc b/modules/vibio/badges/badge.pages.inc
index 2894bf9..0475173 100644
--- a/modules/vibio/badges/badge.pages.inc
+++ b/modules/vibio/badges/badge.pages.inc
@@ -310,4 +310,4 @@ function badge_get_info($badge)
 	
 	exit($out);
 }
-?>
\ No newline at end of file
+?>
diff --git a/modules/vibio/facebook/fb.module b/modules/vibio/facebook/fb.module
index bb6e8c0..c8cfb18 100644
--- a/modules/vibio/facebook/fb.module
+++ b/modules/vibio/facebook/fb.module
@@ -1,492 +1,492 @@
-<?php
-function fb_perm()
-{
-	return array(
-		"fb admin",
-		"fb user",
-	);
-}
-
-function fb_menu()
-{
-	return array(
-		"admin/settings/facebook"	=> array(
-			"title"				=> "Facebook Settings",
-			"page callback"		=> "drupal_get_form",
-			"page arguments"	=> array("facebook_admin"),
-			"access arguments"	=> array("fb admin"),
-			"file"				=> "fb.admin.inc",
-			"type"				=> MENU_NORMAL_ITEM,
-		),
-		"facebook/signup"		=> array(
-			"title"				=> "Sign Up Using Facebook",
-			"page callback"		=> "fb_user_signup",
-			"access arguments"	=> array("fb user"),
-			"file"				=> "fb.pages.inc",
-			"type"				=> MENU_CALLBACK,
-		),
-		"facebook/link-account"	=> array(
-			"page callback"		=> "fb_user_link_account",
-			"access arguments"	=> array("fb user"),
-			"file"				=> "fb.pages.inc",
-			"type"				=> MENU_CALLBACK,
-		),
-		"facebook/link-account-ajax"	=> array(
-			"page callback"		=> "fb_user_link_account_ajax",
-			"access arguments"	=> array("fb user"),
-			"file"				=> "fb.pages.inc",
-			"type"				=> MENU_CALLBACK,
-		),
-		"facebook/ff_ajax"		=> array(
-			"page callback"		=> "fb_ff_ajax",
-			"file"				=> "fb.pages.inc",
-			"access arguments"	=> array("fb user"),
-			"type"				=> MENU_CALLBACK,
-		),
-		"facebook/remove-account"	=> array(
-			"page callback"		=> "fb_user_remove_account",
-			"access arguments"	=> array("fb user"),
-			"file"				=> "fb.pages.inc",
-			"type"				=> MENU_CALLBACK,
-		),
-		"fb/remove-account"		=> array(
-			"page callback"		=> "fb_user_remove_account",
-			"access arguments"	=> array("fb user"),
-			"file"				=> "fb.pages.inc",
-			"type"				=> MENU_CALLBACK,
-		),
-	);
-}
-
-function fb_user($op, &$edit, &$u, $category=null)
-{
-	switch ($op)
-	{
-		case "insert":
-			if ($edit['fb_id'])
-			{
-				module_load_include("inc", "fb");
-				fb_save_user($u, $edit['fb_id'], true);
-				$edit['fb_id'] = null;
-			}
-			break;
-		case "delete":
-			$sql = "DELETE FROM {fb_users}
-					WHERE `uid`=%d";
-			db_query($sql, $u->uid);
-			break;
-		case "login":
-			if (!$u->picture)
-			{
-				module_load_include("inc", "fb");
-				if (($pic = fb_get_user_image($u->uid)))
-				{
-					$u->picture = $pic;
-					$sql = "UPDATE {users}
-							SET `picture`='%s'
-							WHERE `uid`=%d";
-					db_query($sql, $pic, $u->uid);
-				}
-			}
-			break;
-	}
-}
-
-function fb_nodeapi(&$node, $op, $a3=null, $a4=null)
-{
-	if ($node->type != "vibio_item")
-	{
-		return;
-	}
-	
-	module_load_include("inc", "fb");
-	
-	switch ($op)
-	{
-		case "insert":
-			fb_register_prompt("share_item", $node->nid);
-			break;
-	}
-}
-
-function fb_offer2buy_set_item_on_sale($nid)
-{
-	module_load_include("inc", "fb");
-	fb_register_prompt("share_item", $nid);
-}
-
-function fb_offer2buy_complete_actions($old_uid, $node)
-{
-	fb_register_prompt("buy_item", $node->nid);
-}
-
-function fb_block($op="list", $delta=0, $edit=array())
-{
-	switch ($op)
-	{
-		case "list":
-			return array(
-				"fb_login"			=> array(
-					"info"	=> t("Facebook Login"),
-				),
-				"fb_dialogs"	=> array(
-					"info"	=> t("Facebook Dialogs"),
-					"cache"	=> BLOCK_CACHE_GLOBAL,
-				),
-				"fb_api_init"		=> array( // this block is REQUIRED for any fb things to work.
-					"info"	=> t("Facebook API Init"),
-					"cache"	=> BLOCK_NO_CACHE,
-				),
-			);
-		case "view":
-			switch ($delta)
-			{
-				case "fb_login":
-					return array(
-						"subject"	=> "",
-						"content"	=> theme("fb_login_block"),
-					);
-				case "fb_api_init":
-					drupal_add_css("themes/vibio/css/facebook.css");
-					module_load_include("inc", "fb");
-					fb_add_js();
-					
-					return array(
-						"subject"	=> "",
-						"content"	=> "<div id='fb-root'></div>",
-					);
-				case "fb_dialogs":
-					return array(
-						"subject"	=> "",
-						"content"	=> theme("fb_dialogs"),
-					);
-			}
-	}
-}
-
-function fb_theme(&$existing, $type, $theme, $path)
-{
-	return array(
-		"fb_login_block"	=> array(
-			"arguments"	=> array(),
-			"template"	=> "templates/facebook/login-block",
-			"path"		=> drupal_get_path("theme", "vibio"),
-		),
-		"fb_share"			=> array(
-			"arguments"	=> array("share_id" => false, "share_type" => "node", "button_type" => "button"),
-			"template"	=> "templates/facebook/share",
-			"path"		=> drupal_get_path("theme", "vibio"),
-		),
-		"fb_dialogs"		=> array(
-			"arguments"	=> array(),
-			"template"	=> "templates/facebook/dialogs",
-			"path"		=> drupal_get_path("theme", "vibio"),
-		),
-		"fb_wrong_login"	=> array(
-			"arguments"	=> array(),
-			"template"	=> "templates/facebook/wrong-login",
-			"path"		=> drupal_get_path("theme", "vibio"),
-		),
-		"fb_login_prompt"	=> array(
-			"arguments"	=> array(),
-			"template"	=> "templates/facebook/login-prompt",
-			"path"		=> drupal_get_path("theme", "vibio"),
-		),
-		"fb_share_success"	=> array(
-			"arguments"	=> array(),
-			"template"	=> "templates/facebook/share-success",
-			"path"		=> drupal_get_path("theme", "vibio"),
-		),
-		"fb_prompt_account_link"	=> array(
-			"arguments"	=> array(),
-			"template"	=> "templates/facebook/prompt-account-link",
-			"path"		=> drupal_get_path("theme", "vibio"),
-		),
-		"fb_ff_message"		=> array(
-			"arguments"	=> array("message" => "", "href" => false, "message_type" => "link_account"),
-			"template"	=> "templates/facebook/ff-link-account",
-			"path"		=> drupal_get_path("theme", "vibio"),
-		),
-	);
-}
-
-function fb_preprocess_fb_share(&$vars)
-{
-	module_load_include("inc", "fb");
-	$type = $vars['share_type'];
-	
-	if ($type == "node")
-	{
-		$vars['share_params'] = json_encode(fb_get_share_params(node_load($vars['share_id'])));
-	}
-	elseif ($type == "collection" && module_exists("collection"))
-	{
-		$vars['share_params'] = json_encode(fb_get_collection_share_params(collection_load($vars['share_id']), "share_collection"));
-	}
-
-	switch ($vars['button_type'])
-	{
-		case "icon":
-			$vars['share_image'] = "/themes/vibio/images/facebook/share.png";
-			break;
-		case "button":
-			$vars['share_image'] = "/themes/vibio/images/facebook/share_button.png";
-	}
-}
-
-function fb_preprocess_fb_ff_message(&$vars)
-{
-	switch ($vars['message_type'])
-	{
-		case "link_account":
-			$vars['fb_image'] = "/themes/vibio/images/facebook/link-account.png";
-	}
-}
-
-function fb_preprocess_uri_user_friends(&$vars)
-{
-	drupal_add_css("themes/vibio/css/facebook.css");
-}
-
-function fb_network_get_userinfo($uid)
-{
-	$sql = "SELECT `fb_id`
-			FROM {fb_users}
-			WHERE `uid`=%d";
-	if (!($fb_id = db_result(db_query($sql, $uid))))
-	{
-		return array();
-	}
-	
-	return array(
-		"fb_id"	=> array(
-			$fb_id,
-		)
-	);
-}
-
-function fb_profile_ext_external_account_data()
-{
-	return array(
-		"fb_id"	=> array(
-			"id"	=> "fb",
-			"name"	=> "Facebook",
-			"title"	=> t("Facebook Account"),
-			"image"	=> "facebook.png",
-			"remove"=> array(
-				"class"	=> "fb_remove_account",
-			),
-			"add"	=> array(
-				"multiple"	=> false,
-				"class"		=> "fb_link_account",
-			),
-		),
-	);
-}
-
-function fb_collections_insert($collection)
-{
-	module_load_include("inc", "fb");
-	fb_register_prompt("create_collection", $collection['cid'], "collection");
-}
-
-function fb_collection_update($uid, $cids)
-{
-	$cid = array_shift($cids);
-	module_load_include("inc", "fb");
-	fb_register_prompt("share_collection", $cid, "collection");
-}
-
-function fb_network_find_friends($uid, &$potentials, $existing, &$errors)
-{
-	module_load_include("inc", "fb");
-	
-	if (!(fb_user_has_fb($uid)))
-	{
-		$message = t("Connect your Facebook account to see which friends use Vibio");
-		$href = array("url" => url("fb/add-account"), "class" => "fb_link_account");
-		$errors[] = theme("fb_ff_message", $message, (object) $href, "link_account");
-		
-		return false;
-	}
-	elseif (!($friends = fb_get_friends($uid)))
-	{
-		$fb_login_refresh = array(
-			"attributes"	=> array(
-				"class"	=> "fb_login fb_refresh fb_reload",
-			),
-		);
-		$t_args = array(
-			"!fb_refresh" => l(t("refresh your Facebook session"), "user/{$uid}/external-accounts", $fb_login_refresh),
-		);
-
-		$errors[] = t("Your Facebook session has expired, please !fb_refresh to see which of your Facebook friends are using Vibio", $t_args);
-		return false;
-	}
-	
-	$friends = $friends->data;
-	foreach ($friends as $friend)
-	{
-		if (!($friend_uid = fb_user_exists($friend->id)) || // not on Vibio
-			in_array($friend_uid, $existing) || // already friends
-			array_key_exists($friend_uid, $potentials)) // already in the list of potential friends
-		{
-			continue;
-		}
-		
-		$potential = new stdClass;
-		$potential->info = _network_get_userinfo($friend_uid);
-		$potential->src = "fb";
-		$potential->link = fb_profile_link($friend->id);
-		$potentials[$friend_uid] = $potential;
-	}
-}
-
-function fb_preprocess_network_potential_friend(&$vars)
-{
-	if ($vars['friend']->src == "fb")
-	{
-		$link = t("Facebook profile");
-		$vars['friend_src_link'] = "
-			<a href='{$vars['friend']->link}' target='_blank'>
-				$link
-			</a>
-		";
-	}
-}
-
-function fb_external_account_display($uid, $fb_data, &$user_fb_data, $is_admin)
-{
-	if (!$user_fb_data)
-	{
-		return false;
-	}
-	
-	module_load_include("inc", "fb");
-	$profile_link = l(t("View Facebook Profile"), fb_profile_link($user_fb_data[0]))."<br />";
-	$user_fb_data = array(array(
-		"id"		=> $user_fb_data[0],
-		"display"	=> $profile_link,
-	));
-	
-	return false;
-}
-
-function fb_reports_daily_cron($last_run)
-{
-	$sql = "SELECT COUNT(*)
-			FROM {fb_users}
-			WHERE `is_signup`=%d
-				AND `time` >= %d";
-	$new = db_result(db_query($sql, 1, $last_run));
-	
-	reports_log("new users", $new, "fb signup");
-	
-	if ($emp_role = variable_get("reports_employee_role", false))
-	{
-		$sql = "SELECT COUNT(*)
-				FROM {fb_users}
-				WHERE `is_signup`=%d
-					AND `time` >= %d
-					AND `uid` NOT IN (
-						SELECT `uid`
-						FROM {users_roles}
-						WHERE `rid`=%d
-					)";
-		$total = db_result(db_query($sql, 1, $last_run, $emp_role));
-		reports_log("new users noemployee", $new, "fb signup");
-	}
-}
-
-function fb_newuser_tutorial($u, $user_stage)
-{
-	$stage_number = 1;
-	
-	if ($user_stage >= $stage_number)
-	{
-		return array(array(
-			"stage" => $stage_number,
-			"header"=> t("Connection Finder"),
-		));
-	}
-	
-	module_load_include("inc", "fb");
-	$fb_id = fb_user_has_fb($u->uid);
-	$link_account_href = (object) array(
-		"url"	=> url("fb/add-account"),
-		"class" => "fb_link_account fb_link_account_ajax",
-	);
-	
-	$link_account = (object) array(
-		"header"	=> t("Link your Facebook account to see who is already using Vibio"),
-		"available"	=> true,
-		"complete"	=> $fb_id,
-		"content"	=> $fb_id ? "" : theme("fb_ff_message", "", $link_account_href),
-	);
-	
-	$add_friends = (object) array(
-		"header"	=> t("These friends are already using Vibio!"),
-		"available"	=> $fb_id,
-		"complete"	=> false,
-		"content"	=> "",
-	);
-	
-	if ($fb_id && module_exists("network"))
-	{
-		module_load_include("inc", "network", "network.pages");
-		$add_friends->content = network_find_friends($u->uid, false, "fb");
-	}
-	
-	return array(array(
-		"stage"			=> $stage_number,
-		"header"		=> t("Connection Finder"),
-		"content_header"=> t("Find your Facebook friends"),
-		"steps"			=> array(
-			$link_account,
-			$add_friends,
-		),
-	));
-}
-
-function fb_profile_ext_progress($uid)
-{
-	$possible_points = 5;
-	
-	module_load_include("inc", "fb");
-	$points = fb_user_has_fb($uid) ? $possible_points : 0;
-	
-	$data = array(
-		"possible_points"	=> $possible_points,
-		"points"			=> $points,
-		"complete"			=> $points == $possible_points,
-	);
-	
-	if (!$points)
-	{
-		$data['completion_steps'] = array(
-			l(t("Link your Facebook Account"), "fb/add-account", array("attributes"	=> array("class" => "fb_link_account")))
-		);
-	}
-	
-	return array(t("fb") => $data);
-}
-
-function fb_badge_user_login($uid) {
-	module_load_include("inc", "fb");
-	
-	$app_id = variable_get("fb_app_id", false);
-	
-	if (!$app_id ||
-		!($badge = badge_load_special("fb_fan")) ||
-		badge_user_has_badge($badge->bid, $uid) ||
-		!($likes = fb_graph_api("me/likes", $uid))) {
-			return;
-	}
-	
-	foreach ($likes->data as $like) {
-		if ($like->id == $app_id) {
-			badge_give_badge($badge->bid, $uid);
-		}
-	}
-}
-?>
+<?php
+function fb_perm()
+{
+	return array(
+		"fb admin",
+		"fb user",
+	);
+}
+
+function fb_menu()
+{
+	return array(
+		"admin/settings/facebook"	=> array(
+			"title"				=> "Facebook Settings",
+			"page callback"		=> "drupal_get_form",
+			"page arguments"	=> array("facebook_admin"),
+			"access arguments"	=> array("fb admin"),
+			"file"				=> "fb.admin.inc",
+			"type"				=> MENU_NORMAL_ITEM,
+		),
+		"facebook/signup"		=> array(
+			"title"				=> "Sign Up Using Facebook",
+			"page callback"		=> "fb_user_signup",
+			"access arguments"	=> array("fb user"),
+			"file"				=> "fb.pages.inc",
+			"type"				=> MENU_CALLBACK,
+		),
+		"facebook/link-account"	=> array(
+			"page callback"		=> "fb_user_link_account",
+			"access arguments"	=> array("fb user"),
+			"file"				=> "fb.pages.inc",
+			"type"				=> MENU_CALLBACK,
+		),
+		"facebook/link-account-ajax"	=> array(
+			"page callback"		=> "fb_user_link_account_ajax",
+			"access arguments"	=> array("fb user"),
+			"file"				=> "fb.pages.inc",
+			"type"				=> MENU_CALLBACK,
+		),
+		"facebook/ff_ajax"		=> array(
+			"page callback"		=> "fb_ff_ajax",
+			"file"				=> "fb.pages.inc",
+			"access arguments"	=> array("fb user"),
+			"type"				=> MENU_CALLBACK,
+		),
+		"facebook/remove-account"	=> array(
+			"page callback"		=> "fb_user_remove_account",
+			"access arguments"	=> array("fb user"),
+			"file"				=> "fb.pages.inc",
+			"type"				=> MENU_CALLBACK,
+		),
+		"fb/remove-account"		=> array(
+			"page callback"		=> "fb_user_remove_account",
+			"access arguments"	=> array("fb user"),
+			"file"				=> "fb.pages.inc",
+			"type"				=> MENU_CALLBACK,
+		),
+	);
+}
+
+function fb_user($op, &$edit, &$u, $category=null)
+{
+	switch ($op)
+	{
+		case "insert":
+			if ($edit['fb_id'])
+			{
+				module_load_include("inc", "fb");
+				fb_save_user($u, $edit['fb_id'], true);
+				$edit['fb_id'] = null;
+			}
+			break;
+		case "delete":
+			$sql = "DELETE FROM {fb_users}
+					WHERE `uid`=%d";
+			db_query($sql, $u->uid);
+			break;
+		case "login":
+			if (!$u->picture)
+			{
+				module_load_include("inc", "fb");
+				if (($pic = fb_get_user_image($u->uid)))
+				{
+					$u->picture = $pic;
+					$sql = "UPDATE {users}
+							SET `picture`='%s'
+							WHERE `uid`=%d";
+					db_query($sql, $pic, $u->uid);
+				}
+			}
+			break;
+	}
+}
+
+function fb_nodeapi(&$node, $op, $a3=null, $a4=null)
+{
+	if ($node->type != "vibio_item")
+	{
+		return;
+	}
+	
+	module_load_include("inc", "fb");
+	
+	switch ($op)
+	{
+		case "insert":
+			fb_register_prompt("share_item", $node->nid);
+			break;
+	}
+}
+
+function fb_offer2buy_set_item_on_sale($nid)
+{
+	module_load_include("inc", "fb");
+	fb_register_prompt("share_item", $nid);
+}
+
+function fb_offer2buy_complete_actions($old_uid, $node)
+{
+	fb_register_prompt("buy_item", $node->nid);
+}
+
+function fb_block($op="list", $delta=0, $edit=array())
+{
+	switch ($op)
+	{
+		case "list":
+			return array(
+				"fb_login"			=> array(
+					"info"	=> t("Facebook Login"),
+				),
+				"fb_dialogs"	=> array(
+					"info"	=> t("Facebook Dialogs"),
+					"cache"	=> BLOCK_CACHE_GLOBAL,
+				),
+				"fb_api_init"		=> array( // this block is REQUIRED for any fb things to work.
+					"info"	=> t("Facebook API Init"),
+					"cache"	=> BLOCK_NO_CACHE,
+				),
+			);
+		case "view":
+			switch ($delta)
+			{
+				case "fb_login":
+					return array(
+						"subject"	=> "",
+						"content"	=> theme("fb_login_block"),
+					);
+				case "fb_api_init":
+					drupal_add_css("themes/vibio/css/facebook.css");
+					module_load_include("inc", "fb");
+					fb_add_js();
+					
+					return array(
+						"subject"	=> "",
+						"content"	=> "<div id='fb-root'></div>",
+					);
+				case "fb_dialogs":
+					return array(
+						"subject"	=> "",
+						"content"	=> theme("fb_dialogs"),
+					);
+			}
+	}
+}
+
+function fb_theme(&$existing, $type, $theme, $path)
+{
+	return array(
+		"fb_login_block"	=> array(
+			"arguments"	=> array(),
+			"template"	=> "templates/facebook/login-block",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"fb_share"			=> array(
+			"arguments"	=> array("share_id" => false, "share_type" => "node", "button_type" => "button"),
+			"template"	=> "templates/facebook/share",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"fb_dialogs"		=> array(
+			"arguments"	=> array(),
+			"template"	=> "templates/facebook/dialogs",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"fb_wrong_login"	=> array(
+			"arguments"	=> array(),
+			"template"	=> "templates/facebook/wrong-login",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"fb_login_prompt"	=> array(
+			"arguments"	=> array(),
+			"template"	=> "templates/facebook/login-prompt",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"fb_share_success"	=> array(
+			"arguments"	=> array(),
+			"template"	=> "templates/facebook/share-success",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"fb_prompt_account_link"	=> array(
+			"arguments"	=> array(),
+			"template"	=> "templates/facebook/prompt-account-link",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"fb_ff_message"		=> array(
+			"arguments"	=> array("message" => "", "href" => false, "message_type" => "link_account"),
+			"template"	=> "templates/facebook/ff-link-account",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+	);
+}
+
+function fb_preprocess_fb_share(&$vars)
+{
+	module_load_include("inc", "fb");
+	$type = $vars['share_type'];
+	
+	if ($type == "node")
+	{
+		$vars['share_params'] = json_encode(fb_get_share_params(node_load($vars['share_id'])));
+	}
+	elseif ($type == "collection" && module_exists("collection"))
+	{
+		$vars['share_params'] = json_encode(fb_get_collection_share_params(collection_load($vars['share_id']), "share_collection"));
+	}
+
+	switch ($vars['button_type'])
+	{
+		case "icon":
+			$vars['share_image'] = "/themes/vibio/images/facebook/share.png";
+			break;
+		case "button":
+			$vars['share_image'] = "/themes/vibio/images/facebook/share_button.png";
+	}
+}
+
+function fb_preprocess_fb_ff_message(&$vars)
+{
+	switch ($vars['message_type'])
+	{
+		case "link_account":
+			$vars['fb_image'] = "/themes/vibio/images/facebook/link-account.png";
+	}
+}
+
+function fb_preprocess_uri_user_friends(&$vars)
+{
+	drupal_add_css("themes/vibio/css/facebook.css");
+}
+
+function fb_network_get_userinfo($uid)
+{
+	$sql = "SELECT `fb_id`
+			FROM {fb_users}
+			WHERE `uid`=%d";
+	if (!($fb_id = db_result(db_query($sql, $uid))))
+	{
+		return array();
+	}
+	
+	return array(
+		"fb_id"	=> array(
+			$fb_id,
+		)
+	);
+}
+
+function fb_profile_ext_external_account_data()
+{
+	return array(
+		"fb_id"	=> array(
+			"id"	=> "fb",
+			"name"	=> "Facebook",
+			"title"	=> t("Facebook Account"),
+			"image"	=> "facebook.png",
+			"remove"=> array(
+				"class"	=> "fb_remove_account",
+			),
+			"add"	=> array(
+				"multiple"	=> false,
+				"class"		=> "fb_link_account",
+			),
+		),
+	);
+}
+
+function fb_collections_insert($collection)
+{
+	module_load_include("inc", "fb");
+	fb_register_prompt("create_collection", $collection['cid'], "collection");
+}
+
+function fb_collection_update($uid, $cids)
+{
+	$cid = array_shift($cids);
+	module_load_include("inc", "fb");
+	fb_register_prompt("share_collection", $cid, "collection");
+}
+
+function fb_network_find_friends($uid, &$potentials, $existing, &$errors)
+{
+	module_load_include("inc", "fb");
+	
+	if (!(fb_user_has_fb($uid)))
+	{
+		$message = t("Connect your Facebook account to see which friends use Vibio");
+		$href = array("url" => url("fb/add-account"), "class" => "fb_link_account");
+		$errors[] = theme("fb_ff_message", $message, (object) $href, "link_account");
+		
+		return false;
+	}
+	elseif (!($friends = fb_get_friends($uid)))
+	{
+		$fb_login_refresh = array(
+			"attributes"	=> array(
+				"class"	=> "fb_login fb_refresh fb_reload",
+			),
+		);
+		$t_args = array(
+			"!fb_refresh" => l(t("refresh your Facebook session"), "user/{$uid}/external-accounts", $fb_login_refresh),
+		);
+
+		$errors[] = t("Your Facebook session has expired, please !fb_refresh to see which of your Facebook friends are using Vibio", $t_args);
+		return false;
+	}
+	
+	$friends = $friends->data;
+	foreach ($friends as $friend)
+	{
+		if (!($friend_uid = fb_user_exists($friend->id)) || // not on Vibio
+			in_array($friend_uid, $existing) || // already friends
+			array_key_exists($friend_uid, $potentials)) // already in the list of potential friends
+		{
+			continue;
+		}
+		
+		$potential = new stdClass;
+		$potential->info = _network_get_userinfo($friend_uid);
+		$potential->src = "fb";
+		$potential->link = fb_profile_link($friend->id);
+		$potentials[$friend_uid] = $potential;
+	}
+}
+
+function fb_preprocess_network_potential_friend(&$vars)
+{
+	if ($vars['friend']->src == "fb")
+	{
+		$link = t("Facebook profile");
+		$vars['friend_src_link'] = "
+			<a href='{$vars['friend']->link}' target='_blank'>
+				$link
+			</a>
+		";
+	}
+}
+
+function fb_external_account_display($uid, $fb_data, &$user_fb_data, $is_admin)
+{
+	if (!$user_fb_data)
+	{
+		return false;
+	}
+	
+	module_load_include("inc", "fb");
+	$profile_link = l(t("View Facebook Profile"), fb_profile_link($user_fb_data[0]))."<br />";
+	$user_fb_data = array(array(
+		"id"		=> $user_fb_data[0],
+		"display"	=> $profile_link,
+	));
+	
+	return false;
+}
+
+function fb_reports_daily_cron($last_run)
+{
+	$sql = "SELECT COUNT(*)
+			FROM {fb_users}
+			WHERE `is_signup`=%d
+				AND `time` >= %d";
+	$new = db_result(db_query($sql, 1, $last_run));
+	
+	reports_log("new users", $new, "fb signup");
+	
+	if ($emp_role = variable_get("reports_employee_role", false))
+	{
+		$sql = "SELECT COUNT(*)
+				FROM {fb_users}
+				WHERE `is_signup`=%d
+					AND `time` >= %d
+					AND `uid` NOT IN (
+						SELECT `uid`
+						FROM {users_roles}
+						WHERE `rid`=%d
+					)";
+		$total = db_result(db_query($sql, 1, $last_run, $emp_role));
+		reports_log("new users noemployee", $new, "fb signup");
+	}
+}
+
+function fb_newuser_tutorial($u, $user_stage)
+{
+	$stage_number = 1;
+	
+	if ($user_stage >= $stage_number)
+	{
+		return array(array(
+			"stage" => $stage_number,
+			"header"=> t("Connection Finder"),
+		));
+	}
+	
+	module_load_include("inc", "fb");
+	$fb_id = fb_user_has_fb($u->uid);
+	$link_account_href = (object) array(
+		"url"	=> url("fb/add-account"),
+		"class" => "fb_link_account fb_link_account_ajax",
+	);
+	
+	$link_account = (object) array(
+		"header"	=> t("Link your Facebook account to see who is already using Vibio"),
+		"available"	=> true,
+		"complete"	=> $fb_id,
+		"content"	=> $fb_id ? "" : theme("fb_ff_message", "", $link_account_href),
+	);
+	
+	$add_friends = (object) array(
+		"header"	=> t("These friends are already using Vibio!"),
+		"available"	=> $fb_id,
+		"complete"	=> false,
+		"content"	=> "",
+	);
+	
+	if ($fb_id && module_exists("network"))
+	{
+		module_load_include("inc", "network", "network.pages");
+		$add_friends->content = network_find_friends($u->uid, false, "fb");
+	}
+	
+	return array(array(
+		"stage"			=> $stage_number,
+		"header"		=> t("Connection Finder"),
+		"content_header"=> t("Find your Facebook friends"),
+		"steps"			=> array(
+			$link_account,
+			$add_friends,
+		),
+	));
+}
+
+function fb_profile_ext_progress($uid)
+{
+	$possible_points = 5;
+	
+	module_load_include("inc", "fb");
+	$points = fb_user_has_fb($uid) ? $possible_points : 0;
+	
+	$data = array(
+		"possible_points"	=> $possible_points,
+		"points"			=> $points,
+		"complete"			=> $points == $possible_points,
+	);
+	
+	if (!$points)
+	{
+		$data['completion_steps'] = array(
+			l(t("Link your Facebook Account"), "fb/add-account", array("attributes"	=> array("class" => "fb_link_account")))
+		);
+	}
+	
+	return array(t("fb") => $data);
+}
+
+function fb_badge_user_login($uid) {
+	module_load_include("inc", "fb");
+	
+	$app_id = variable_get("fb_app_id", false);
+	
+	if (!$app_id ||
+		!($badge = badge_load_special("fb_fan")) ||
+		badge_user_has_badge($badge->bid, $uid) ||
+		!($likes = fb_graph_api("me/likes", $uid))) {
+			return;
+	}
+	
+	foreach ($likes->data as $like) {
+		if ($like->id == $app_id) {
+			badge_give_badge($badge->bid, $uid);
+		}
+	}
+}
+?>
diff --git a/modules/vibio/heartbeat_integration/hbi.module b/modules/vibio/heartbeat_integration/hbi.module
index 2b315a5..fd0802d 100644
--- a/modules/vibio/heartbeat_integration/hbi.module
+++ b/modules/vibio/heartbeat_integration/hbi.module
@@ -29,7 +29,7 @@ function hbi_nodeapi(&$node, $op, $a3=null, $a4=null)
 function hbi_views_api()
 {
 	return array(
-		"api"	=> 2,
+		"api"	=> 3, // it was 2, now we're using 3.  What happens?
 	);
 }
 
@@ -202,4 +202,4 @@ function hbi_node_log_update()
 		}
 	}
 }
-?>
\ No newline at end of file
+?>
diff --git a/modules/vibio/heartbeat_integration/hbi.views.inc b/modules/vibio/heartbeat_integration/hbi.views.inc
index e107818..0ba3af3 100644
--- a/modules/vibio/heartbeat_integration/hbi.views.inc
+++ b/modules/vibio/heartbeat_integration/hbi.views.inc
@@ -61,4 +61,4 @@ function hbi_views_query_alter(&$view, &$query)
 		$query->add_where(0, $sql, $user->uid, $user->uid, $user->uid, PRIVACY_CONNECTION, PRIVACY_CONNECTION, PRIVACY_CONNECTION, PRIVACY_CONNECTION);
 	}
 }
-?>
\ No newline at end of file
+?>
diff --git a/modules/vibio/network/network.module b/modules/vibio/network/network.module
index 474d68a..a0de1c1 100644
--- a/modules/vibio/network/network.module
+++ b/modules/vibio/network/network.module
@@ -4,15 +4,22 @@ define("NETWORK_DEFAULT_DEPTH", 3);
 function network_menu()
 {
 	return array(
-		"network/find-friends"	=> array(
-			"title"				=> "Vibio Connection Finder",
+		"contacts/find-friends"	=> array( // s /network/contact 20110926
+			"title"				=> "Connection Finder",
+			"title callback"  => "connection_finder_title",
 			"page callback"		=> "network_find_friends",
 			"access arguments"	=> array("can have relationships"),
 			"file"				=> "network.pages.inc",
-			"type"				=> MENU_CALLBACK,
+			"type"				=> MENU_LOCAL_TASK,  // MENU_CALLBACK,
+			"weight" => 1,
 		),
 	);
 }
+function connection_finder_title() {   /* otherwise parent overrides? */
+	// use drupal_set_message in the page.inc, not sure why this here doesn't
+	// work.  bad bad bad !!!
+  return t("Connection Finder");
+}
 
 function network_theme()
 {
diff --git a/modules/vibio/network/network.pages.inc b/modules/vibio/network/network.pages.inc
index 5cbc106..caf630a 100644
--- a/modules/vibio/network/network.pages.inc
+++ b/modules/vibio/network/network.pages.inc
@@ -1,6 +1,11 @@
 <?php
-function network_find_friends($uid=false, $ajax=true, $specific_modules=false)
+//  ajax defaulted to true in last version, default to false give own page.
+function network_find_friends($uid=false, $ajax=false, $specific_modules=false)
 {
+drupal_set_title("Connection Finder"); // !!! bad bad bad, why doesn't the code below work? note that invite didn't work either. ~/src/modules/vibio/user_relationships_integration$ vim uri.module  is somehow overpowering?  rush...
+
+
+
 	if (!$uid)
 	{
 		global $user;
diff --git a/modules/vibio/overrides/overrides.module b/modules/vibio/overrides/overrides.module
index 948655e..1e5c8d8 100644
--- a/modules/vibio/overrides/overrides.module
+++ b/modules/vibio/overrides/overrides.module
@@ -73,6 +73,8 @@ function overrides_form_alter($form, &$state, $id)
 	}
 	if ($id == 'offer_neg_seller_node_form' ) {
 		$form['buttons']['submit']['#submit'][] = 'overides_remessagify_seller_form_submit';
+		//Because it's a CCK field, we have to alter it after form build.
+		$form['#after_build'][] = 'overrides_edit_chat_field';
 	}
 
 
@@ -81,6 +83,45 @@ function overrides_form_alter($form, &$state, $id)
 	{
 		drupal_set_title(t("Create A New Account"));
 	}
+
+
+	/* try to redirect on login */
+	/* ODD DIFFICULTIES: gave up and wrote overrides_user with a different
+	// approach.  Maybe be a blooper on my part, but I think there was a race
+	// condition or something making the code below not work, possibly
+	// struggle with security module.
+	// see overrides_user just below here
+	/*
+ 	if ($form_id == 'user_login_block' || $form_id == 'user_login') {
+		$go = 'home';
+    $form['#action'] = '/user/login?destination=' . $go;
+  }
+	*/
+}
+
+/**
+ * Adds a title to the chat field on the offer_neg_seller node form.
+ * 
+ * The chat field on the offer_neg_seller form is a CCK field, which means
+ * to alter its fields on the node form, we have to alter the form after build.
+ * See http://drupal.org/node/726282
+ * 
+ * @param <type> $form
+ * @param <type> $form_state
+ * @return <type> 
+ */
+function overrides_edit_chat_field($form, &$form_state){
+  //Add "Message:" before the textfield for the seller's negotiation response
+  $form['field_chat']['#prefix'] = '<label>Message:</label>';
+  return $form;
+}
+
+function overrides_user($op)
+{
+  if ( $op == 'login' ) {
+    $_REQUEST['destination'] = 'home';
+  }
+  return;
 }
 
 function overrides_form_user_login_block_alter(&$form, &$state)
@@ -96,6 +137,13 @@ function overrides_form_user_login_block_alter(&$form, &$state)
 	$form['submit']['#value'] = " ";
 }
 
+/* try to redirect again */
+function overrides_user_register_submit($form, &$form_state) {
+	$form_state['redirect'] = 'home';
+}
+
+
+
 function overrides_form_system_file_system_settings_alter(&$form, &$state)
 {
 	$form['file_downloads']['#options'][OVERRIDES_FILE_DOWNLOAD_DIRECT] = t("Separate server");
@@ -145,7 +193,9 @@ function overrides_form_search_theme_form_alter(&$form, &$state)
 
 	$form['search_type'] = array(
 		"#type"			=> "hidden",
-		"#default_value"=> "vibio_item",
+		//The default search type should reflect the last search performed. Default
+		//should be "vibio_item"
+		"#default_value"=> isset($_SESSION['search_type']) ? $_SESSION['search_type'] : "vibio_item",
 	);
 
 	$form['search_type_select'] = array(
@@ -155,6 +205,25 @@ function overrides_form_search_theme_form_alter(&$form, &$state)
 	);
 
 	$form['search_theme_form']['#title'] = "";
+  $url_parts =  explode('/', substr($_SERVER['REQUEST_URI'], 1));
+  if($url_parts[0] == 'search'){
+    array_shift($url_parts);
+    $search_type = array_shift($url_parts);
+
+    //Depending on search type, parse the URL appropriately. Add more cases
+    //if more searches are added.
+    switch ($search_type) {
+      case "user":
+        $last_keywords = urldecode($url_parts[0]);
+        $form['search_theme_form']['#default_value'] = $last_keywords;
+        break;
+      case "vibio_item":
+        $search_request = explode('?', $url_parts[0]);
+        $last_keywords = urldecode($search_request[0]);
+        $form['search_theme_form']['#default_value'] = $last_keywords;
+        break;
+    }
+  }
 }
 
 function overrides_search_submit($form, &$state)
@@ -162,6 +231,8 @@ function overrides_search_submit($form, &$state)
 	$allowed_searches = overrides_allowed_search_types();
 	$default_search = "vibio_item";
 	$search_type = array_key_exists($state['values']['search_type'], $allowed_searches) ? $state['values']['search_type'] : $default_search;
+	//Maintain state of search_type to the next page (may not be desired)
+	$_SESSION['search_type'] = $search_type;
 	$search_term = trim($state['values'][$form['form_id']['#value']]);
 
 	$state['redirect'] = "search/$search_type/$search_term";
@@ -170,9 +241,18 @@ function overrides_search_submit($form, &$state)
 /* This produces the main search form */
 function overrides_form_search_form_alter(&$form, &$state)
 {	
-	$search_prefix = "<div id='search_page_prefix'><h3>Add an Item?</h3>
-		<div id='search_page_prefix_additional'><img src='/themes/vibio/images/Add_an_Item.png'></div>
-	</div>";
+
+  /* changes to searchform:
+   * We're greatly changing the search form 20090928.
+   * I'm not sure we'll stick with these changes.
+   * So I'm going to just hide it all with css for now
+   * A lot of this code could be removed if we stick with it.
+   */
+
+
+
+
+	$search_prefix = "";
 
 	drupal_add_js("themes/vibio/js/jquery-csb-1.0.js");
 	drupal_add_js("themes/vibio/js/search.js");
@@ -189,11 +269,10 @@ function overrides_form_search_form_alter(&$form, &$state)
 	$form['basic']['inline']['submit']['#prefix'] = "<div class='button_left'></div><div class='button_mid'>";
 	$form['basic']['inline']['submit']['#suffix'] = "</div><div class='button_right'></div>";
 	$form['basic']['inline']['#suffix'] .= "<div class='clear'></div>";
-	
 	$form['#submit'][] = "overrides_search_form_submit";
 	$form['search_form_type'] = array(
 		"#type"			=> "select",
-		"#title"		=> t("Search"),
+		"#title"		=> t("Search Results"),
 		"#options"		=> overrides_allowed_search_types(true),
 		"#default_value"=> $default,
 		"#weight"		=> -10,
diff --git a/modules/vibio/privacy/privacy.module b/modules/vibio/privacy/privacy.module
index c017891..44736ec 100644
--- a/modules/vibio/privacy/privacy.module
+++ b/modules/vibio/privacy/privacy.module
@@ -290,6 +290,12 @@ function privacy_del_user($uid)
  *
  * Creates, but does it store, an array of privacy levels 
  *  uid_owner x uid_viewer
+ *
+ * Typical: I request to a privacy access for someone else, get  authenticated
+ *  or my friends circle, 2 or 3.
+ * For myself, get PRIVACY_ONLYME = 4
+
+ * The higher this returns, the more I can access
  */ 
 function privacy_get_access_level($to_uid, $from_uid=null)
 {
diff --git a/modules/vibio/privacy/privacy.views.inc b/modules/vibio/privacy/privacy.views.inc
index 3fc0ddb..4ee05a3 100644
--- a/modules/vibio/privacy/privacy.views.inc
+++ b/modules/vibio/privacy/privacy.views.inc
@@ -57,6 +57,16 @@ function privacy_views_query_alter(&$view, &$query)
 	if (!privacy_views_ensure_privacy($view->args))
 	{
 		$query->add_where(0, "0"); // can't see it, DAWG!
+
+		// stephen: this seems a bit odd so far.  If the view says
+		// "show this person lots" it doesn't say "they can only see this much",
+    //  instead it blocks everything.  So 711/1 shows me info about 711 that
+    //  is public.  711/4 I'm not allowed to see.
+    // Is this just here to prevent manipulations?
+
+		// dsm($view->args);
+		// 711, 4 returns false. 711, 1 returns true.  Signed in as uid 1.
+		// 1,4 or 1,1 both true (meaning if above does not fire.)/privacy_views_ensure_privacy(
 		$view->no_cache = true;
 	}
 	elseif ($view->name == "user_heartbeat_activity")
@@ -126,8 +136,11 @@ function privacy_views_query_alter(&$view, &$query)
 }
 
 /*
- if a view has multiple arguments, the first argument is a uid, last arg is a privacy setting
-*/
+ if a view has multiple arguments, the first argument is a uid, last arg is a privacy setting.  The higher the privacy, the more likely to fail.
+
+ * RETURNS boolean indicating logged in user (at leat for 2 arg case that I see)
+ *  can see the $uid (first arg) at the given level of privacy.  
+ */
 function privacy_views_ensure_privacy($args)
 {
 	if (count($args) <= 1)
@@ -138,7 +151,10 @@ function privacy_views_ensure_privacy($args)
 	$uid = $args[0];
 	$index = count($args) - 1;
 	$privacy_setting = $args[$index];
-	
+
+	// so it returns true if this user has a higher general access level
+	//  than requested.  Admin, returns true.  Normal user, if you want access 1
+	//  that's no problem, access 4 is a problem.  
 	return $privacy_setting <= privacy_get_access_level($args[0]);
 }
-?>
\ No newline at end of file
+?>
diff --git a/modules/vibio/profile/.profile_ext.module.swp b/modules/vibio/profile/.profile_ext.module.swp
deleted file mode 100644
index d398386..0000000
Binary files a/modules/vibio/profile/.profile_ext.module.swp and /dev/null differ
diff --git a/modules/vibio/profile/profile_ext.module b/modules/vibio/profile/profile_ext.module
index 506d1fb..56eed1a 100644
--- a/modules/vibio/profile/profile_ext.module
+++ b/modules/vibio/profile/profile_ext.module
@@ -312,7 +312,9 @@ function profile_ext_display_block($u)
   $attributes = '';
 
 	if ( !$u->picture ) { /* deal with no pic loaded */
-		$u->picture = "/themes/vibio/images/icons/default_user_large.png";
+				/* !!! this uses the hardcoded location of vibio */
+		//$u->picture = "themes/vibio/images/icons/default_user_large.png";
+		$u->picture = "sites/all/themes/vibio/images/icons/default_user_large.png";
 	}
 	//elsewhere: $pic = $u->picture ? file_create_url($u->picture) : "/themes/vibio/images/icons/default_user_large.png";
 	$pic = theme('imagecache', "little_profile_pic", $u->picture, $alt, $title, $attributes);
@@ -484,7 +486,8 @@ function profile_ext_preprocess_user_profile(&$vars)
 			//	user can't see much
 			if ( $user->uid < 1 ) {
 				$msg = "<h3>Sign in for a better view of " . check_plain($target_user->name) . "'s collections.</h3>";
-			} elseif ( $user->uid != $uid ) {
+			} elseif ( ( $user->uid != $uid ) && ( $access < 3 ) ) { 
+																					// $access 3 means you're connected
 				$msg = "<h3>Connecting lets you see more private items.</h3>";
 			}
 			$vars['sec_content'] =  
diff --git a/modules/vibio/same_username/sameusername.module b/modules/vibio/same_username/sameusername.module
index f008207..0202491 100644
--- a/modules/vibio/same_username/sameusername.module
+++ b/modules/vibio/same_username/sameusername.module
@@ -68,11 +68,13 @@ function sameusername_get_username($form, &$state)
 {
 	$vals = $state['values'];
 
-	/* stephen: spammers using same first and last name */
-	if ( $vals['fname'] == $vals['lname'] ) {
+	/* stephen: spammers using same first and last name  */
+	/* Keith tried with facebook and hit this error, so if it's blank, pass it,
+      hopefully some other security deals with blank names */
+	if ( $vals['fname'] && ($vals['fname'] == $vals['lname']) ) {
 		drupal_set_message("Your post matches one of our spam filters.  If you're a real person we apologize, please try again!");
 		drupal_goto(''); /* homepage */
-	}
+	} 
 
 	$full_name = trim("{$vals['fname']} {$vals['lname']}");
 	unset($state['values']['fname']);
diff --git a/modules/vibio/tweetassist b/modules/vibio/tweetassist
new file mode 120000
index 0000000..ae3cb1f
--- /dev/null
+++ b/modules/vibio/tweetassist
@@ -0,0 +1 @@
+tweet_assist
\ No newline at end of file
diff --git a/modules/vibio/user_relationships_integration/.uri.pages.inc.swp b/modules/vibio/user_relationships_integration/.uri.pages.inc.swp
deleted file mode 100644
index 4e214ac..0000000
Binary files a/modules/vibio/user_relationships_integration/.uri.pages.inc.swp and /dev/null differ
diff --git a/modules/vibio/user_relationships_integration/uri.module b/modules/vibio/user_relationships_integration/uri.module
index 45ef48b..fce81f7 100644
--- a/modules/vibio/user_relationships_integration/uri.module
+++ b/modules/vibio/user_relationships_integration/uri.module
@@ -1,17 +1,6 @@
 <?php
 function uri_menu()
 {
-	/* erase this, right? */
-	$menu = array(
-		"relationships/edit-elaboration/%"	=> array(
-			"title"				=> "XXX Edit Friend Details",
-			"page callback"		=> "uri_edit_elaboration",
-			"page arguments"	=> array(2),
-			"access arguments"	=> array("can have relationships"),
-			"file"				=> "uri.pages.inc",
-			"type"				=> MENU_CALLBACK,
-		),
-	);
 	
 	// user_relationships_ui.module has something similar, but we went everything to be ajax-y fancy pants, so we must provide our own callbacks
 	foreach (array('approve', 'disapprove', 'cancel') as $action)
@@ -69,8 +58,15 @@ function uri_menu_alter(&$menu)
 		"page callback"		=> "uri_user_friends",
 		"file"				=> "uri.pages.inc",
 		"file path"			=> drupal_get_path("module", "uri"),
-		"type"				=> MENU_SUGGESTED_ITEM,
+		"type"				=> MENU_NORMAL_ITEM,
 	);
+  $menu['contacts/connections'] = array(
+		"title" => "Contacts",
+    "type"        => MENU_DEFAULT_LOCAL_TASK,
+  );
+	// is this somehow overwriting network menu?  why alter?
+
+
 }
 
 function uri_menu_title()
@@ -78,25 +74,7 @@ function uri_menu_title()
 	global $user;
 	$friend_count = module_exists("network") ? count(_network_get_friends($user->uid, 1)) : 0;
 	
-	return t("Connections (!count)", array("!count" => $friend_count));
-}
-
-function EDIT_ELABORATIONS_NO_MORE_uri_preprocess_user_relationships(&$vars)
-{	
-	$link_options = array(
-		"attributes"	=> array(
-			"class"	=> "uri_edit_elaboartion",
-		),
-	);
-	
-	foreach ($vars['relationships'] as $rid => $rel)
-	{
-		$link = l(t("Edit"), "relationships/edit-elaboration/$rid", $link_options);
-		$vars['relationships'][$rid]->extra_for_display = "
-			<span class='uri_elaboration'>{$rel->extra_for_display}</span>
-			$link
-		";
-	}
+	return t("Contacts (!count)", array("!count" => $friend_count));
 }
 
 function uri_preprocess_page(&$vars)
@@ -104,7 +82,7 @@ function uri_preprocess_page(&$vars)
 	$uri_js = array(
 		"uri"	=> array(
 			"messages"	=> array(
-				"approve"	=> t("!target is now part of your circle of connections."),
+				"approve"	=> t("!target is now part of your circle of trust."),
 				"cancel"	=> t("You have cancelled the request to connect with !target"),
 				"disapprove"=> t("You have ignored !targets request to connect"),
 				"remove"	=> t("You are no longer connected with !target"),
diff --git a/modules/vibio/user_relationships_integration/uri.pages.inc b/modules/vibio/user_relationships_integration/uri.pages.inc
index 9e316db..d794daf 100644
--- a/modules/vibio/user_relationships_integration/uri.pages.inc
+++ b/modules/vibio/user_relationships_integration/uri.pages.inc
@@ -5,12 +5,20 @@ function uri_user_friends()
 
 	/* What participates in the below theming?
  	 * function vviews_user_relationships($op, &$rel)-> make, remove connection
+   * function hbi_user_relationships
+   * function network_user_relationships
 
-   */
+   * facebook/fb.module  function fb_preprocess_uri_user_friends(&$vars)
+   * function network_preprocess_uri_user_friends(&$vars)
+			both of these just add_css
 
+   * uri_user_friends => templates/uri/friends 
+   */
 
 
+	// seems to be about approving or rejecting friends? .module in this dir.
 	$pending = uri_profile_ext_dashboard_notifications($user->uid);
+	// this skips the pieces of this page. return theme("uri_user_friends", $pending['uri']['display']);
 	return theme("uri_user_friends", $pending['uri']['display'], theme('user_relationships', $user, null));
 }
 ?>
diff --git a/modules/vibio/vibio_item/collection/collection.inc b/modules/vibio/vibio_item/collection/collection.inc
index d6798b9..90968d8 100644
--- a/modules/vibio/vibio_item/collection/collection.inc
+++ b/modules/vibio/vibio_item/collection/collection.inc
@@ -1,346 +1,346 @@
-<?php
-function collection_get_collections($uid=false)
-{
-	static $user_collections = array();
-	
-	if (!$uid)
-	{
-		global $user;
-		$uid = $user->uid;
-	}
-	
-	if (!isset($user_collections[$uid]))
-	{
-		$sql = "SELECT `cid`
-				FROM {collection}
-				WHERE `uid`=%d
-				ORDER BY `title` ASC";
-		$res = db_query($sql, $uid);
-		
-		$collections = array();
-		while ($row = db_fetch_array($res))
-		{
-			$collections[$row['cid']] = collection_load($row['cid']);
-		}
-		
-		$user_collections[$uid] = $collections;
-	}
-	
-	return $user_collections[$uid];
-}
-
-function collection_insert($vals)
-{
-	global $user;
-	
-	$sql = "INSERT INTO {collection}
-			SET `uid`=%d, `title`='%s', `description`='%s', `created`=%d";
-	if (!db_query($sql, $user->uid, $vals['title'], $vals['description'], time()))
-	{
-		return false;
-	}
-	
-	$vals['cid'] = db_last_insert_id("collection", "cid");
-	$vals['uid'] = $user->uid;
-	
-	module_invoke_all("collections_insert", $vals);
-	return $vals['cid'];
-}
-
-function collection_delete($cid)
-{
-	$collection = collection_load($cid);
-
-	$sql = "SELECT `item_nid`
-			FROM {collection_items}
-			WHERE `cid`=%d";
-	$res = db_query($sql, $cid);
-	$num_items = db_affected_rows();
-
-	$sql = "DELETE FROM {collection_user_defaults}
-			WHERE `cid`=%d";
-	db_query($sql, $cid);
-
-	if ($num_items)
-	{
-		$new_cid = collection_get_user_default($collection['uid'], true);
-		$items = array();
-
-		while ($row = db_fetch_object($res))
-		{
-			$item_cids = collection_get_item_cid($row->item_nid);
-			if (count($item_cids) == 1) // if an item is only in more than one cid, don't transfer it
-			{
-				$items[] = $row->item_nid;
-			}
-		}
-
-		collection_transfer_items($items, $new_cid);
-	}
-
-	$sql = "DELETE FROM {collection}
-			WHERE `cid`=%d";
-	db_query($sql, $cid);
-
-	module_invoke_all("collection_delete", $collection['uid'], $new_cid, $cid);
-	drupal_set_message(t('The collection !title has been deleted', array("!title" => $collection['title'])));
-}
-
-function collection_transfer_items($items, $to_cid)
-{
-	$items = implode(",", $items);
-	$sql = "UPDATE {collection_items}
-			SET `cid`=%d
-			WHERE `item_nid` IN ($items)";
-	db_query($sql, $to_cid);
-}
-
-function collection_get_item_cid($nid)
-{
-	$sql = "SELECT `cid`
-			FROM {collection_items}
-			WHERE `item_nid`=%d";
-	$res = db_query($sql, $nid);
-	
-	$ret = array();
-	while ($row = db_fetch_array($res))
-	{
-		$ret[$row['cid']] = $row['cid'];
-	}
-	
-	return $ret;
-}
-
-function collection_options()
-{
-	global $user;
-	
-	$options = array();
-	foreach (collection_get_collections($user->uid) as $cid => $c)
-	{
-		$options[$cid] = $c['title'];
-	}
-	
-	return $options;
-}
-
-function collection_get_user_default($uid=false, $auto_create=false)
-{
-	if (!$uid)
-	{
-		global $user;
-		$uid = $user->uid;
-	}
-	
-	$sql = "SELECT `cid`
-			FROM {collection_user_defaults}
-			WHERE `uid`=%d";
-	$cid = db_result(db_query($sql, $uid));
-	
-	if ($cid || !$auto_create)
-	{
-		return $cid;
-	}
-	
-	// if there is no default, create one for the user...
-	$vals = array(
-		"title"			=> t("Unsorted"),
-		"description"	=> t("My unsorted things."),
-	);
-	
-	if (!$vals['cid'] = collection_insert($vals))
-	{
-		return false;
-	}
-	
-	$vals['uid'] = $uid;
-	collection_set_user_default($uid, $vals['cid']);
-	module_invoke_all("collection_save", $vals);
-	
-	return $vals['cid'];
-}
-
-function collection_set_user_default($uid, $cid)
-{
-	$sql = "REPLACE INTO {collection_user_defaults}
-			SET `uid`=%d, `cid`=%d";
-	return db_query($sql, $uid, $cid);
-}
-
-function collection_get_image($cid, $absolute=false, $access=false)
-{
-	if (!$access)
-		$access = PRIVACY_ONLYME;
-		
-	$sql = "SELECT n.`nid`
-			FROM {node} n JOIN {collection_items} ci JOIN {privacy_settings} p
-				ON n.`nid`=ci.`item_nid`
-					AND n.`nid`=p.`type_id`
-					AND n.`uid`=p.`uid`
-			WHERE ci.`cid`=%d
-				AND p.`type`='node'
-				AND p.`setting` <= %d
-			ORDER BY n.`changed` DESC
-			LIMIT 1";
-	if (!$nid = db_result(db_query($sql, $cid, $access)))
-	{
-		return collection_default_image();
-	}
-	
-	$image = _vibio_item_get_image($nid);
-	return $image == _vibio_item_default_image() ? collection_default_image() : $image;
-}
-
-function collection_default_image($absolute=false)
-{
-	$default_image = "themes/vibio/images/collections/box.png";
-	return $absolute ? url($default_image, array("absolute" => true)) : "/$default_image";
-}
-
-function collection_get_num_items($cid, $access=false)
-{
-	if (module_exists("privacy") && $access)
-	{
-		$collection = collection_load($cid);
-		
-		$sql = "SELECT COUNT(*)
-				FROM {collection_items} ci JOIN {privacy_settings} p
-					ON ci.`item_nid`=p.`type_id`
-				WHERE `cid`=%d
-					AND p.`type`='node'
-					AND p.`uid`=%d
-					AND p.`setting` <= %d";
-		return db_result(db_query($sql, $collection['cid'], $collection['uid'], $access));
-	}
-	
-	$sql = "SELECT COUNT(*)
-			FROM {collection_items}
-			WHERE `cid`=%d";
-	return db_result(db_query($sql, $cid));
-}
-
-function collection_get_categories($cid)
-{
-	if (!module_exists("taxonomy") || !module_exists("product"))
-	{
-		return array();
-	}
-	
-	$categories = array();
-	$sql = "SELECT pi.`product_nid`
-			FROM {collection_items} ci JOIN {product_items} pi
-				ON ci.`item_nid`=pi.`item_nid`
-			WHERE `cid`=%d";
-	$res = db_query($sql, $cid);
-	
-	while ($row = db_fetch_object($res))
-	{
-		$product = node_load($row->product_nid);
-		foreach (taxonomy_node_get_terms_by_vocabulary($product, variable_get("vibio_amazon_category_id", 1)) as $tid => $term)
-		{
-			$categories[$tid] = $term->name;
-		}
-	}
-	
-	return $categories;
-}
-
-function collection_get_sidebar($uid, $ignore_cid=0, $max_collections=4, $as_uid=false)
-{
-	if (!$as_uid)
-	{
-		global $user;
-		$as_uid = $user->uid;
-	}
-	
-	if (module_exists("privacy"))
-	{
-		$access = privacy_get_access_level($uid, $as_uid);
-		$sql = "SELECT c.`cid`, c.`title`, c.`description`, COUNT(*) AS num_items
-				FROM {collection} c JOIN {privacy_settings} p JOIN {collection_items} ci
-					ON c.`cid`=p.`type_id`
-						AND c.`uid`=p.`uid`
-						AND c.`cid`=ci.`cid`
-				WHERE p.`type`='collection'
-					AND p.`setting` <= %d
-					AND c.`uid`=%d
-					AND c.`cid` != %d
-				GROUP BY c.`cid`
-				ORDER BY RAND()
-				LIMIT %d";
-		$res = db_query($sql, $access, $uid, $ignore_cid, $max_collections);
-	}
-	else
-	{
-		$sql = "SELECT c.`cid`, c.`title`, c.`description`, COUNT(*) AS num_items
-				FROM {collection} c JOIN {collection_items} ci
-					ON c.`cid`=ci.`cid`
-				WHERE `uid`=%d
-					AND c.`cid` != %d
-				GROUP BY c.`cid`
-				ORDER BY RAND()
-				LIMIT %d";
-		$res = db_query($sql, $uid, $ignore_cid, $max_collections);
-	}
-	
-	$collections = array();
-	while ($c = db_fetch_object($res))
-	{
-		$c->items = collection_get_sidebar_items($c->cid, $uid, $as_uid);
-		$c->image = collection_get_image($c->cid);
-		$collections[] = $c;
-	}
-	
-	return $collections;
-}
-
-function collection_get_sidebar_items($cid, $owner=false, $as_uid=false, $num_items=3)
-{
-	if (!$as_uid)
-	{
-		global $user;
-		$as_uid = $user->uid;
-	}
-	
-	if (module_exists("privacy"))
-	{
-		if (!$owner)
-		{
-			$collection = collection_load($cid);
-			$owner = $collection['cid'];
-		}
-		
-		$access = privacy_get_access_level($owner, $as_uid);
-		$sql = "SELECT ci.`item_nid`, n.`title`
-				FROM {collection_items} ci JOIN {node} n JOIN {privacy_settings} p
-					ON ci.`item_nid`=n.`nid`
-						AND n.`nid`=p.`type_id`
-				WHERE ci.`cid`=%d
-					AND p.`type`='node'
-					AND p.`uid`=%d
-					AND p.`setting` <= %d
-				ORDER BY RAND()
-				LIMIT %d";
-		$res = db_query($sql, $cid, $owner, $access, $num_items);
-	}
-	else
-	{
-		$sql = "SELECT ci.`item_nid`, n.`title`
-				FROM {collection_items} ci JOIN {node} n
-					ON ci.`item_nid`=n.`nid`
-				WHERE ci.`cid`=%d
-				ORDER BY RAND()
-				LIMIT %d";
-		$res = db_fetch_object($sql, $cid, $num_items);
-	}
-	
-	$items = array();
-	while ($item = db_fetch_object($res))
-	{
-		$item->image = _vibio_item_get_image($item->item_nid);
-		$items[] = $item;
-	}
-	
-	return $items;
-}
-?>
+<?php
+function collection_get_collections($uid=false)
+{
+	static $user_collections = array();
+	
+	if (!$uid)
+	{
+		global $user;
+		$uid = $user->uid;
+	}
+	
+	if (!isset($user_collections[$uid]))
+	{
+		$sql = "SELECT `cid`
+				FROM {collection}
+				WHERE `uid`=%d
+				ORDER BY `title` ASC";
+		$res = db_query($sql, $uid);
+		
+		$collections = array();
+		while ($row = db_fetch_array($res))
+		{
+			$collections[$row['cid']] = collection_load($row['cid']);
+		}
+		
+		$user_collections[$uid] = $collections;
+	}
+	
+	return $user_collections[$uid];
+}
+
+function collection_insert($vals)
+{
+	global $user;
+	
+	$sql = "INSERT INTO {collection}
+			SET `uid`=%d, `title`='%s', `description`='%s', `created`=%d";
+	if (!db_query($sql, $user->uid, $vals['title'], $vals['description'], time()))
+	{
+		return false;
+	}
+	
+	$vals['cid'] = db_last_insert_id("collection", "cid");
+	$vals['uid'] = $user->uid;
+	
+	module_invoke_all("collections_insert", $vals);
+	return $vals['cid'];
+}
+
+function collection_delete($cid)
+{
+	$collection = collection_load($cid);
+
+	$sql = "SELECT `item_nid`
+			FROM {collection_items}
+			WHERE `cid`=%d";
+	$res = db_query($sql, $cid);
+	$num_items = db_affected_rows();
+
+	$sql = "DELETE FROM {collection_user_defaults}
+			WHERE `cid`=%d";
+	db_query($sql, $cid);
+
+	if ($num_items)
+	{
+		$new_cid = collection_get_user_default($collection['uid'], true);
+		$items = array();
+
+		while ($row = db_fetch_object($res))
+		{
+			$item_cids = collection_get_item_cid($row->item_nid);
+			if (count($item_cids) == 1) // if an item is only in more than one cid, don't transfer it
+			{
+				$items[] = $row->item_nid;
+			}
+		}
+
+		collection_transfer_items($items, $new_cid);
+	}
+
+	$sql = "DELETE FROM {collection}
+			WHERE `cid`=%d";
+	db_query($sql, $cid);
+
+	module_invoke_all("collection_delete", $collection['uid'], $new_cid, $cid);
+	drupal_set_message(t('The collection !title has been deleted', array("!title" => $collection['title'])));
+}
+
+function collection_transfer_items($items, $to_cid)
+{
+	$items = implode(",", $items);
+	$sql = "UPDATE {collection_items}
+			SET `cid`=%d
+			WHERE `item_nid` IN ($items)";
+	db_query($sql, $to_cid);
+}
+
+function collection_get_item_cid($nid)
+{
+	$sql = "SELECT `cid`
+			FROM {collection_items}
+			WHERE `item_nid`=%d";
+	$res = db_query($sql, $nid);
+	
+	$ret = array();
+	while ($row = db_fetch_array($res))
+	{
+		$ret[$row['cid']] = $row['cid'];
+	}
+	
+	return $ret;
+}
+
+function collection_options()
+{
+	global $user;
+	
+	$options = array();
+	foreach (collection_get_collections($user->uid) as $cid => $c)
+	{
+		$options[$cid] = $c['title'];
+	}
+	
+	return $options;
+}
+
+function collection_get_user_default($uid=false, $auto_create=false)
+{
+	if (!$uid)
+	{
+		global $user;
+		$uid = $user->uid;
+	}
+	
+	$sql = "SELECT `cid`
+			FROM {collection_user_defaults}
+			WHERE `uid`=%d";
+	$cid = db_result(db_query($sql, $uid));
+	
+	if ($cid || !$auto_create)
+	{
+		return $cid;
+	}
+	
+	// if there is no default, create one for the user...
+	$vals = array(
+		"title"			=> t("Unsorted"),
+		"description"	=> t("My unsorted things."),
+	);
+	
+	if (!$vals['cid'] = collection_insert($vals))
+	{
+		return false;
+	}
+	
+	$vals['uid'] = $uid;
+	collection_set_user_default($uid, $vals['cid']);
+	module_invoke_all("collection_save", $vals);
+	
+	return $vals['cid'];
+}
+
+function collection_set_user_default($uid, $cid)
+{
+	$sql = "REPLACE INTO {collection_user_defaults}
+			SET `uid`=%d, `cid`=%d";
+	return db_query($sql, $uid, $cid);
+}
+
+function collection_get_image($cid, $absolute=false, $access=false)
+{
+	if (!$access)
+		$access = PRIVACY_ONLYME;
+		
+	$sql = "SELECT n.`nid`
+			FROM {node} n JOIN {collection_items} ci JOIN {privacy_settings} p
+				ON n.`nid`=ci.`item_nid`
+					AND n.`nid`=p.`type_id`
+					AND n.`uid`=p.`uid`
+			WHERE ci.`cid`=%d
+				AND p.`type`='node'
+				AND p.`setting` <= %d
+			ORDER BY n.`changed` DESC
+			LIMIT 1";
+	if (!$nid = db_result(db_query($sql, $cid, $access)))
+	{
+		return collection_default_image();
+	}
+	
+	$image = _vibio_item_get_image($nid);
+	return $image == _vibio_item_default_image() ? collection_default_image() : $image;
+}
+
+function collection_default_image($absolute=false)
+{
+	$default_image = "themes/vibio/images/collections/box.png";
+	return $absolute ? url($default_image, array("absolute" => true)) : "/$default_image";
+}
+
+function collection_get_num_items($cid, $access=false)
+{
+	if (module_exists("privacy") && $access)
+	{
+		$collection = collection_load($cid);
+		
+		$sql = "SELECT COUNT(*)
+				FROM {collection_items} ci JOIN {privacy_settings} p
+					ON ci.`item_nid`=p.`type_id`
+				WHERE `cid`=%d
+					AND p.`type`='node'
+					AND p.`uid`=%d
+					AND p.`setting` <= %d";
+		return db_result(db_query($sql, $collection['cid'], $collection['uid'], $access));
+	}
+	
+	$sql = "SELECT COUNT(*)
+			FROM {collection_items}
+			WHERE `cid`=%d";
+	return db_result(db_query($sql, $cid));
+}
+
+function collection_get_categories($cid)
+{
+	if (!module_exists("taxonomy") || !module_exists("product"))
+	{
+		return array();
+	}
+	
+	$categories = array();
+	$sql = "SELECT pi.`product_nid`
+			FROM {collection_items} ci JOIN {product_items} pi
+				ON ci.`item_nid`=pi.`item_nid`
+			WHERE `cid`=%d";
+	$res = db_query($sql, $cid);
+	
+	while ($row = db_fetch_object($res))
+	{
+		$product = node_load($row->product_nid);
+		foreach (taxonomy_node_get_terms_by_vocabulary($product, variable_get("vibio_amazon_category_id", 1)) as $tid => $term)
+		{
+			$categories[$tid] = $term->name;
+		}
+	}
+	
+	return $categories;
+}
+
+function collection_get_sidebar($uid, $ignore_cid=0, $max_collections=4, $as_uid=false)
+{
+	if (!$as_uid)
+	{
+		global $user;
+		$as_uid = $user->uid;
+	}
+	
+	if (module_exists("privacy"))
+	{
+		$access = privacy_get_access_level($uid, $as_uid);
+		$sql = "SELECT c.`cid`, c.`title`, c.`description`, COUNT(*) AS num_items
+				FROM {collection} c JOIN {privacy_settings} p JOIN {collection_items} ci
+					ON c.`cid`=p.`type_id`
+						AND c.`uid`=p.`uid`
+						AND c.`cid`=ci.`cid`
+				WHERE p.`type`='collection'
+					AND p.`setting` <= %d
+					AND c.`uid`=%d
+					AND c.`cid` != %d
+				GROUP BY c.`cid`
+				ORDER BY RAND()
+				LIMIT %d";
+		$res = db_query($sql, $access, $uid, $ignore_cid, $max_collections);
+	}
+	else
+	{
+		$sql = "SELECT c.`cid`, c.`title`, c.`description`, COUNT(*) AS num_items
+				FROM {collection} c JOIN {collection_items} ci
+					ON c.`cid`=ci.`cid`
+				WHERE `uid`=%d
+					AND c.`cid` != %d
+				GROUP BY c.`cid`
+				ORDER BY RAND()
+				LIMIT %d";
+		$res = db_query($sql, $uid, $ignore_cid, $max_collections);
+	}
+	
+	$collections = array();
+	while ($c = db_fetch_object($res))
+	{
+		$c->items = collection_get_sidebar_items($c->cid, $uid, $as_uid);
+		$c->image = collection_get_image($c->cid);
+		$collections[] = $c;
+	}
+	
+	return $collections;
+}
+
+function collection_get_sidebar_items($cid, $owner=false, $as_uid=false, $num_items=3)
+{
+	if (!$as_uid)
+	{
+		global $user;
+		$as_uid = $user->uid;
+	}
+	
+	if (module_exists("privacy"))
+	{
+		if (!$owner)
+		{
+			$collection = collection_load($cid);
+			$owner = $collection['cid'];
+		}
+		
+		$access = privacy_get_access_level($owner, $as_uid);
+		$sql = "SELECT ci.`item_nid`, n.`title`
+				FROM {collection_items} ci JOIN {node} n JOIN {privacy_settings} p
+					ON ci.`item_nid`=n.`nid`
+						AND n.`nid`=p.`type_id`
+				WHERE ci.`cid`=%d
+					AND p.`type`='node'
+					AND p.`uid`=%d
+					AND p.`setting` <= %d
+				ORDER BY RAND()
+				LIMIT %d";
+		$res = db_query($sql, $cid, $owner, $access, $num_items);
+	}
+	else
+	{
+		$sql = "SELECT ci.`item_nid`, n.`title`
+				FROM {collection_items} ci JOIN {node} n
+					ON ci.`item_nid`=n.`nid`
+				WHERE ci.`cid`=%d
+				ORDER BY RAND()
+				LIMIT %d";
+		$res = db_fetch_object($sql, $cid, $num_items);
+	}
+	
+	$items = array();
+	while ($item = db_fetch_object($res))
+	{
+		$item->image = _vibio_item_get_image($item->item_nid);
+		$items[] = $item;
+	}
+	
+	return $items;
+}
+?>
diff --git a/modules/vibio/vibio_item/collection/collection.info b/modules/vibio/vibio_item/collection/collection.info
index d624d62..ca3e38e 100644
--- a/modules/vibio/vibio_item/collection/collection.info
+++ b/modules/vibio/vibio_item/collection/collection.info
@@ -1,6 +1,6 @@
-name="Collection"
-description="A collection is a set of Vibio Items in a user's inventory with similar characteristics"
-package="Vibio"
-core=6.x
-dependencies[] = vibio_item
-dependencies[] = views
\ No newline at end of file
+name="Collection"
+description="A collection is a set of Vibio Items in a user's inventory with similar characteristics"
+package="Vibio"
+core=6.x
+dependencies[] = vibio_item
+dependencies[] = views
diff --git a/modules/vibio/vibio_item/collection/collection.install b/modules/vibio/vibio_item/collection/collection.install
index 282195c..cf918b4 100644
--- a/modules/vibio/vibio_item/collection/collection.install
+++ b/modules/vibio/vibio_item/collection/collection.install
@@ -1,142 +1,142 @@
-<?php
-function collection_schema()
-{
-	return array(
-		"collection"	=> array(
-			"fields"	=> array(
-				"cid"			=> array(
-					"type"		=> "serial",
-					"unsigned"	=> true,
-					"not null"	=> true,
-				),
-				"uid"			=> array(
-					"type"		=> "int",
-					"unsigned"	=> true,
-					"not null"	=> true,
-					"default"	=> 0,
-				),
-				"title"			=> array(
-					"type" 		=> "varchar",
-					"length"	=> 255,
-					"not null"	=> true,
-					"default"	=> "",
-				),
-				"description"	=> array(
-					"type" 		=> "text",
-					"size" 		=> "normal",
-					"not null"	=> false,
-				),
-				"created"		=> array(
-					"type"		=> "int",
-					"unsigned"	=> true,
-					"not null"	=> true,
-					"default"	=> 0,
-				),
-				"updated"		=> array(
-					"type"		=> "int",
-					"unsigned"	=> true,
-					"not null"	=> true,
-					"default"	=> 0,
-				),
-			),
-			"primary key"	=> array("cid"),
-			"indexes"		=> array(
-				"uid"	=> array("uid"),
-			),
-		),
-		"collection_items"	=> array(
-			"fields"	=> array(
-				"cid"		=> array(
-					"type"		=> "int",
-					"unsigned"	=> true,
-					"not null"	=> true,
-					"default"	=> 0,
-				),
-				"item_nid"	=> array(
-					"type"		=> "int",
-					"unsigned"	=> true,
-					"not null"	=> true,
-					"default"	=> 0,
-				),
-			),
-			"indexes"		=> array(
-				"cid"		=> array("cid"),
-				"item_nid"	=> array("item_nid"),
-			),
-			"unique keys"	=> array(
-				"collection_item" => array("cid", "item_nid"),
-			),
-		),
-		"collection_user_defaults" => array(
-			"fields"	=> array(
-				"uid"	=> array(
-					"type"		=> "int",
-					"unsigned"	=> true,
-					"not null"	=> true,
-					"default"	=> 0,
-				),
-				"cid"	=> array(
-					"type"		=> "int",
-					"unsigned"	=> true,
-					"not null"	=> true,
-					"default"	=> 0,
-				),
-			),
-			"primary key" => array("uid"),
-		),
-	);
-}
-
-function collection_install()
-{
-	drupal_install_schema("collection");
-}
-
-function collection_update_1()
-{
-	$schema['collection_user_defaults'] = array(
-		"fields"	=> array(
-			"uid"	=> array(
-				"type"		=> "int",
-				"unsigned"	=> true,
-				"not null"	=> true,
-				"default"	=> 0,
-			),
-			"cid"	=> array(
-				"type"		=> "int",
-				"unsigned"	=> true,
-				"not null"	=> true,
-				"default"	=> 0,
-			),
-		),
-		"primary key" => array("uid"),
-	);
-	
-	$ret = array();
-	db_create_table($ret, "collection_user_defaults", $schema["collection_user_defaults"]);
-	
-	return $ret;
-}
-
-function collection_update_2()
-{
-	$ret = array();
-	db_drop_primary_key($ret, "collection_items");
-	db_add_index($ret, "collection_items", "item_nid", array("item_nid"));
-	
-	return $ret;
-}
-
-function collection_update_3()
-{
-	$ret = array();
-	db_add_unique_key($ret, "collection_items", "collection_item", array("cid", "item_nid"));
-	
-	return $ret;
-}
-
-function collection_uninstall()
-{
-	drupal_uninstall_schema("collection");
-}
-?>
\ No newline at end of file
+<?php
+function collection_schema()
+{
+	return array(
+		"collection"	=> array(
+			"fields"	=> array(
+				"cid"			=> array(
+					"type"		=> "serial",
+					"unsigned"	=> true,
+					"not null"	=> true,
+				),
+				"uid"			=> array(
+					"type"		=> "int",
+					"unsigned"	=> true,
+					"not null"	=> true,
+					"default"	=> 0,
+				),
+				"title"			=> array(
+					"type" 		=> "varchar",
+					"length"	=> 255,
+					"not null"	=> true,
+					"default"	=> "",
+				),
+				"description"	=> array(
+					"type" 		=> "text",
+					"size" 		=> "normal",
+					"not null"	=> false,
+				),
+				"created"		=> array(
+					"type"		=> "int",
+					"unsigned"	=> true,
+					"not null"	=> true,
+					"default"	=> 0,
+				),
+				"updated"		=> array(
+					"type"		=> "int",
+					"unsigned"	=> true,
+					"not null"	=> true,
+					"default"	=> 0,
+				),
+			),
+			"primary key"	=> array("cid"),
+			"indexes"		=> array(
+				"uid"	=> array("uid"),
+			),
+		),
+		"collection_items"	=> array(
+			"fields"	=> array(
+				"cid"		=> array(
+					"type"		=> "int",
+					"unsigned"	=> true,
+					"not null"	=> true,
+					"default"	=> 0,
+				),
+				"item_nid"	=> array(
+					"type"		=> "int",
+					"unsigned"	=> true,
+					"not null"	=> true,
+					"default"	=> 0,
+				),
+			),
+			"indexes"		=> array(
+				"cid"		=> array("cid"),
+				"item_nid"	=> array("item_nid"),
+			),
+			"unique keys"	=> array(
+				"collection_item" => array("cid", "item_nid"),
+			),
+		),
+		"collection_user_defaults" => array(
+			"fields"	=> array(
+				"uid"	=> array(
+					"type"		=> "int",
+					"unsigned"	=> true,
+					"not null"	=> true,
+					"default"	=> 0,
+				),
+				"cid"	=> array(
+					"type"		=> "int",
+					"unsigned"	=> true,
+					"not null"	=> true,
+					"default"	=> 0,
+				),
+			),
+			"primary key" => array("uid"),
+		),
+	);
+}
+
+function collection_install()
+{
+	drupal_install_schema("collection");
+}
+
+function collection_update_1()
+{
+	$schema['collection_user_defaults'] = array(
+		"fields"	=> array(
+			"uid"	=> array(
+				"type"		=> "int",
+				"unsigned"	=> true,
+				"not null"	=> true,
+				"default"	=> 0,
+			),
+			"cid"	=> array(
+				"type"		=> "int",
+				"unsigned"	=> true,
+				"not null"	=> true,
+				"default"	=> 0,
+			),
+		),
+		"primary key" => array("uid"),
+	);
+	
+	$ret = array();
+	db_create_table($ret, "collection_user_defaults", $schema["collection_user_defaults"]);
+	
+	return $ret;
+}
+
+function collection_update_2()
+{
+	$ret = array();
+	db_drop_primary_key($ret, "collection_items");
+	db_add_index($ret, "collection_items", "item_nid", array("item_nid"));
+	
+	return $ret;
+}
+
+function collection_update_3()
+{
+	$ret = array();
+	db_add_unique_key($ret, "collection_items", "collection_item", array("cid", "item_nid"));
+	
+	return $ret;
+}
+
+function collection_uninstall()
+{
+	drupal_uninstall_schema("collection");
+}
+?>
diff --git a/modules/vibio/vibio_item/collection/collection.module b/modules/vibio/vibio_item/collection/collection.module
index a64d6fb..7c88e78 100644
--- a/modules/vibio/vibio_item/collection/collection.module
+++ b/modules/vibio/vibio_item/collection/collection.module
@@ -1,562 +1,557 @@
-<?php
-define("COLLECTION_DESCRIPTION_MAX_LENGTH", 65535);
-define("COLLECTION_TITLE_MAX_LENGTH", 255);
-define("COLLECTION_ITEM_PREVIEW_MAX_TITLE_LENGTH", 16);
-
-function collection_perm()
-{
-	return array(
-		"collections user",
-		"collections viewer",
-	);
-}
-
-function collection_menu()
-{
-	return array(
-		"collections/manage"		=> array(
-			"title"				=> "Manage Your Collections",
-			"page callback"		=> "collection_manage",
-			"access arguments"	=> array("collections user"),
-			"file"				=> "collection.pages.inc",
-			"type"				=> MENU_SUGGESTED_ITEM,
-		),
-		"collections/manage/%collection"	=> array(
-			"title callback"	=> "collection_title",
-			"title arguments"	=> array(2),
-			"page callback"		=> "drupal_get_form",
-			"page arguments"	=> array("collection_edit", 2),
-			"access callback"	=> "collection_manage_collection_access",
-			"access arguments"	=> array(2),
-			"file"				=> "collection.pages.inc",
-			"type"				=> MENU_CALLBACK,
-		),
-		"collections/new"		=> array(
-			"title"				=> "New Collection",
-			"page callback"		=> "drupal_get_form",
-			"page arguments"	=> array("collection_edit"),
-			"access arguments"	=> array("collections user"),
-			"file"				=> "collection.pages.inc",
-			"type"				=> MENU_CALLBACK,
-		),
-		"collections/%collection"	=> array(
-			"title callback"	=> "collection_title",
-			"title arguments"	=> array(1),
-			"page callback"		=> "collection_view_collection",
-			"page arguments"	=> array(1),
-			"access callback"	=> "collection_access_collection",
-			"access arguments"	=> array(1),
-			"file"				=> "collection.pages.inc",
-			"type"				=> MENU_CALLBACK,
-		),
-		"collections/%/view-all"	=> array(
-			"title"				=> "All Items",
-			"page callback"		=> "collection_view_all_user_items",
-			"page arguments"	=> array(1),
-			"access arguments"	=> array("collections viewer"),
-			"file"				=> "collection.pages.inc",
-			"type"				=> MENU_CALLBACK,
-		),
-	);
-}
-
-function collection_block($op="list", $delta=0, $edit=array())
-{
-	switch ($op)
-	{
-		case "list":
-			return array(
-				"random_collection"	=> array(
-					"info"	=> t("Random Collection"),
-					"cache"	=> BLOCK_NO_CACHE,
-				),
-			);
-		case "view":
-			switch ($delta)
-			{
-				case "random_collection":
-					global $user;
-					module_load_include("inc", "collection", "collection.pages");
-					
-					return array(
-						"subject"	=> "",
-						"content"	=> collection_random_collection($user),
-					);
-			}
-	}
-}
-
-function collection_theme(&$existing)
-{
-	return array(
-		"collection_list_item" => array(
-			"arguments"	=> array("collection" => array(), "access" => false, "show_preview" => true),
-			"template"	=> "templates/collections/collection",
-			"path"		=> drupal_get_path("theme", "vibio"),
-		),
-		"collection_list_item_preview"	=> array(
-			"arguments"	=> array("item" => array()),
-			"template"	=> "templates/collections/collection-item-preview",
-			"path"		=> drupal_get_path("theme", "vibio"),
-		),
-		"collection_view_collection"	=> array(
-			"arguments"	=> array("collection_owner" => 1, "collection_display"	=> "", "collection_sidebar" => array()),
-			"template"	=> "templates/collections/collection-view",
-			"path"		=> drupal_get_path("theme", "vibio"),
-		),
-		"collection_sidebar_item"		=> array(
-			"arguments"	=> array("collection_item" => array()),
-			"template"	=> "templates/collections/sidebar-item",
-			"path"		=> drupal_get_path("theme", "vibio"),
-		),
-		"collection_sidebar_collection"	=> array(
-			"arguments"	=> array("collection" => array(), "item_html" => ""),
-			"template"	=> "templates/collections/sidebar-collection",
-			"path"		=> drupal_get_path("theme", "vibio"),
-		),
-		"collection_random_collection"	=> array(
-			"arguments"	=> array("collection" => false),
-			"template"	=> "templates/collections/random-collection",
-			"path"		=> drupal_get_path("theme", "vibio"),
-		),
-	);
-}
-
-function collection_preprocess_collection_view_collection(&$vars)
-{
-	global $user;
-	
-	$collection_html = "";
-	foreach ($vars['collection_sidebar'] as $c)
-	{
-		$item_html = "";
-		foreach($c->items as $item)
-		{
-			$item_html .= theme("collection_sidebar_item", $item);
-		}
-		
-		$collection_html .= theme("collection_sidebar_collection", $c, $item_html);
-	}
-	
-	$vars['collection_sidebar_output'] = $collection_html;
-	
-	if ($vars['collection_owner'] == $user->uid)
-	{
-		$add_text = t("Add Item");
-		$vars['collection_owner_name'] = t("Your");
-		$vars['add_item_link'] = "<a href='/search/vibio_item'>
-			<div class='button_left'></div>
-			<div class='button_mid'>
-				<span class='form-submit'>
-					$add_text
-				</span>
-			</div>
-			<div class='button_right'></div>
-			<div class='clear'></div></a>
-		";
-	}
-	else
-	{
-		$owner = user_load($vars['collection_owner']);
-		$vars['collection_owner_name'] = "{$owner->name}'s";
-	}
-}
-
-function collection_preprocess_collection_list_item(&$vars)
-{
-	if (empty($vars['collection']))
-	{
-		return;
-	}
-	
-	module_load_include("inc", "collection");
-	
-	$vars['collection']->is_owner = module_exists("privacy") ? $vars['access'] == PRIVACY_ONLYME : true;
-	$vars['collection']->image = collection_get_image($vars['collection']->cid, false, $vars['access']);
-	$vars['collection']->total_items = collection_get_num_items($vars['collection']->cid, $vars['access']);
-	
-	$share_html = "";
-	if ($vars['collection']->is_owner && module_exists("fb"))
-	{
-		$share_html .= theme("fb_share", $vars['collection']->cid, "collection");
-	}
-	if ($vars['collection']->is_owner && module_exists("tweetassist"))
-	{
-		$share_html .= theme("tweetassist_tweet", "collection", $vars['collection']->cid);
-	}
-	
-	$vars['collection']->share_html = $share_html;
-	
-	$categories = collection_get_categories($vars['collection']->cid);
-	if (!empty($categories))
-	{
-		$category_text = t("Tags: !categories", array("!categories" => implode(", ", $categories)));
-		$vars['collection']->collection_categories = "<span class='collection_categories'>$category_text</span>";
-	}
-}
-
-function collection_preprocess_collection_list_item_preview(&$vars)
-{
-	global $user;
-	
-	$vars['item']->image = _vibio_item_get_image($vars['item']->nid);
-	$vars['item']->for_sale = $vars['item']->node_data_field_posting_type_field_posting_type_value == VIBIO_ITEM_TYPE_SELL;
-	$vars['item']->node_title = strlen($vars['item']->node_title) > COLLECTION_ITEM_PREVIEW_MAX_TITLE_LENGTH ? substr($vars['item']->node_title, 0, COLLECTION_ITEM_PREVIEW_MAX_TITLE_LENGTH)."..." : $vars['item']->node_title;
-	
-	$show_share_links = $vars['item']->users_uid == $user->uid;
-	$share_html = "";
-	if ($show_share_links && module_exists("fb"))
-	{
-		$share_html .= theme("fb_share", $vars['item']->nid, "node", "icon");
-	}
-	if ($show_share_links && module_exists("tweetassist"))
-	{
-		$share_html .= theme("tweetassist_tweet", "node", $vars['item']->nid);
-	}
-	
-	$vars['share_links'] = $share_html ? $share_html : "";
-	
-	if (!$vars['item']->for_sale && $vars['item']->users_uid == $user->uid)
-	{
-		$options = array(
-			"attributes"	=> array(
-				"class"	=> "offer2buy_edit_post_type",
-			),
-		);
-		$vars['item']->offer2buy_price = l(t("Sell"), "offer2buy/ajax/edit-post-type/{$vars['item']->nid}", $options);
-	}
-	elseif ($vars['item']->for_sale && $vars['item']->offer2buy_price > 0)
-	{
-		$vars['item']->offer2buy_price =  "$".$vars['item']->offer2buy_price;
-	}
-	else
-	{
-		$vars['item']->offer2buy_price = t("Best Offer");
-	}
-}
-
-function collection_preprocess_page(&$vars)
-{
-	drupal_add_js("themes/vibio/js/collections.js");
-	drupal_add_css("themes/vibio/css/collections.css");
-}
-
-function collection_nodeapi(&$node, $op, $a3=null, $a4=null)
-{
-	if ($node->type != "vibio_item")
-	{
-		return;
-	}
-	
-	global $user;
-	module_load_include("inc", "collection");
-	
-	switch ($op)
-	{
-		case "insert":
-			$cids = isset($node->collection_info) ? $node->collection_info['cid'] : false;
-			if ($cids)
-			{
-				$cids = implode(",", $cids);
-				$sql = "SELECT `cid`, `title`
-						FROM {collection}
-						WHERE `cid` IN ($cids)";
-				$res = db_query($sql);
-				
-				$collections = array();
-				while ($row = db_fetch_object($res))
-				{
-					$collections[] = l($row->title, "collections/{$row->cid}");
-				}
-				
-				$t_args = array(
-					"!item" 		=> l($node->title, "node/{$node->nid}"),
-					"!collections"	=> implode(", ", $collections),
-				);
-				
-				$message = count($collections) > 1 ?
-					t("!item has been created and added to the following collections: !collections", $t_args) :
-					t("!item has been created and added to your !collections collection", $t_args);
-				
-				drupal_set_message($message);
-			}
-		case "update":
-			$cids = isset($node->collection_info) ? $node->collection_info['cid'] : collection_get_item_cid($node->nid);
-			unset($node->collection_info);
-			
-			$old_cids = $op == "update" ? collection_get_item_cid($node->nid) : array();
-			$delete_cids = array_diff($old_cids, $cids);
-			if (!empty($delete_cids))
-			{
-				$delete_cids = implode(",", $delete_cids);
-				$sql = "DELETE FROM {collection_items}
-						WHERE `item_nid`=%d
-							AND `cid` IN ($delete_cids)";
-				db_query($sql, $node->nid);
-			}
-			
-			$sql = "INSERT INTO {collection_items}
-					(`cid`, `item_nid`) VALUES";
-			$vals = array();
-			$args = array();
-			foreach (array_diff($cids, $old_cids) as $cid)
-			{
-				$vals[] = "(%d, %d)";
-				$args[] = $cid;
-				$args[] = $node->nid;
-			}
-			
-			if (!empty($vals))
-			{
-				$sql .= implode(",", $vals);
-				db_query($sql, $args);
-			}
-			
-			module_invoke_all("collection_update", $user->uid, array_unique(array_merge($cids, $old_cids)));
-			break;
-		case "delete":
-			$cid = collection_get_item_cid($node->nid);
-			$sql = "DELETE FROM {collection_items}
-					WHERE `item_nid`=%d";
-			db_query($sql, $node->nid);
-			module_invoke_all("collection_delete_item", $user->uid, $cid, $node->nid);
-			break;
-	}
-}
-
-function collection_views_api()
-{
-	return array(
-		"api"	=> 2,
-	);
-}
-
-function collection_form_product_node_form_alter(&$form, &$state)
-{
-	if (module_exists("product") && !product_get_autoadd(false))
-	{
-		return;
-	}
-	
-	if (!$form['#node']->nid) // only on new product nodes
-	{
-		collection_form_vibio_item_node_form_alter(&$form, &$state);
-	}
-}
-
-function collection_form_vibio_item_node_form_alter(&$form, &$state)
-{
-	module_load_include("inc", "collection");
-	
-	if ($form['#node']->nid) //existing node
-	{
-		$default = collection_get_item_cid($form['#node']->nid);
-	}
-	
-	$form['collection_info'] = array(
-		"#title"		=> t("Collection"),
-		"#description"	=> t("Select which collections to add this item to. Choose all that apply."),
-		"#type"			=> "fieldset",
-		"#collapsible"	=> true,
-		"#collapsed"	=> false,
-		"#tree"			=> true,
-		"cid"			=> array(
-			"#type"			=> "select",
-			"#required"		=> true,
-			"#title"		=> t("Collection"),
-			"#options"		=> collection_options(),
-			"#default_value"=> $default,
-			"#multiple"		=> true,
-		),
-		/*"new_collection"=> array(
-			"#type"			=> "textfield",
-			"#title"		=> t("New Collection"),
-			"#description"	=> t("Enter a name for this collection"),
-		),*/
-	);
-}
-
-function collection_product_inventory_quick_add($form_vals)
-{
-	global $user;
-	
-	module_load_include("inc", "collection");
-
-	if ($form_vals['collection_info']['cid'] || !($default = collection_get_user_default($user->uid, true)))
-	{
-		return array();
-	}
-	
-	return array(
-		"collection_info"	=> array(
-			"cid"	=> array($default => $default),
-		),
-	);
-}
-
-function collection_offer2buy_complete_actions($old_uid, $node)
-{
-	module_load_include("inc", "collection");
-	$old_cid = collection_get_item_cid($node->nid);
-	
-	if (!($new_cid = collection_get_user_default($node->uid)))
-	{
-		$new_cid = collection_get_user_default($node->uid, true); //this will handle clearing the views caches for us...
-	}
-	else
-	{
-		module_invoke_all("collection_update", $node->uid, array($new_cid));
-	}
-	
-	$sql = "DELETE FROM {collection_items}
-			WHERE `item_nid`=%d";
-	db_query($sql, $node->nid);
-	
-	$sql = "INSERT INTO {collection_items}
-			(`cid`, `item_nid`) VALUES
-			(%d, %d)";
-	db_query($sql, $new_cid, $node->nid);
-	
-	module_invoke_all("collection_update", $old_uid, $old_cid);
-}
-
-function collection_form_views_exposed_form_alter(&$form, &$state)
-{
-	if ($form['#id'] == "views-exposed-form-user-collection-default")
-	{
-		$form['collection_order_by'] = array(
-			"#type"		=> "select",
-			"#title"	=> t("Sort"),
-			"#weight"	=> 9,
-			"#options"	=> array(
-				"node_changed-desc"	=> t("Newest First"),
-				"node_changed-asc"	=> t("Oldest First"),
-			),
-		);
-		$form['order'] = array(
-			"#type" => "hidden",
-			"#value"=> isset($_GET['order']) ? $_GET['order'] : "node_changed",
-		);
-		$form['sort'] = array(
-			"#type" => "hidden",
-			"#value"=> isset($_GET['sort']) ? $_GET['sort'] : "node_changed",
-		);
-		
-		$form['submit']['#weight'] = 10;
-	}
-	elseif (in_array($form['#id'], array("views-exposed-form-user-collections-default", "views-exposed-form-user-inventory-default")))
-	{
-		$label = t("View");
-		$uid = $form['#parameters'][1]['view']->args[0];
-		$collection = t("Collections");
-		$all_items = t("All Items");
-		$collection_default = $form['#id'] == "views-exposed-form-user-collections-default" ? "selected='selected'" : "";
-		$items_default = $form['#id'] == "views-exposed-form-user-inventory-default" ? "selected='selected'" : "";
-
-		/*$form['#suffix'] = "
-			<div class='inventory_view_type'>
-				<span>$label</span>
-				<select class='inventory_view_type_select'>
-					<option value='/user/{$uid}/inventory' $collection_default>$collection</option>
-					<option value='/collections/{$uid}/view-all' $items_default>$all_items</option>
-				</select>
-			</div>
-			<div class='clear'></div>
-		";*/
-	}
-}
-
-function collection_profile_ext_public_info($uid)
-{
-	module_load_include("inc", "collection");
-	$collections = collection_get_collections($uid);
-	$access = privacy_get_access_level($uid);
-	
-	foreach ($collections as $cid => $c)
-	{
-		if ($c['privacy'] > $access)
-		{
-			unset($collections[$cid]);
-		}
-	}
-	
-	return array(array(
-		"weight"=> 0,
-		"title"	=> t("Collections"),
-		"data"	=> count($collections),
-	));
-}
-
-function collection_badge_user_login($uid) {
-	if (!($badge = badge_load_special("100_collections_6_months")) || badge_user_has_badge($badge->bid, $uid)) {
-		return false;
-	}
-	
-	$sql = "SELECT COUNT(*)
-			FROM {collection}
-			WHERE `uid`=%d";
-	$total_collections = db_result(db_query($sql, $uid));
-	
-	if ($total_collections >= 100) {
-		badge_give_badge($badge->bid, $uid);
-	}
-}
-
-// warning: stephen cut and pasted some code, and found $cid being passed
-//  here was an array.  Is this happening elsewhere?  It oddly works if
-//  you comment out the the is_numeric test... $cid = array(26=>26) behaves
-//  like $cid = 26
-function collection_load($cid)
-{
-	if (!is_numeric($cid))
-	{
-		return false;
-	}
-	
-	$sql = "SELECT c.*, u.name AS user_name
-			FROM {collection} c JOIN {users} u ON c.`uid`=u.`uid`
-			WHERE `cid`=%d";
-	$collection = db_fetch_array(db_query($sql, $cid));
-	$collection = array_merge($collection, module_invoke_all("collection_load", $collection, $as_uid)); // stephen notes: $as_uid, what is it, where from?
-//dsm(array($cid,$collection));
-	return $collection;
-}
-
-function collection_access_collection($collection)
-{
-	global $user;
-	
-	if ($user->uid == $collection['uid'])
-	{
-		return true;
-	}
-	elseif (isset($collection['privacy']) && module_exists("privacy"))
-	{
-		return privacy_get_access_level($collection['uid']) >= $collection['privacy'] && user_access("collections viewer");
-	}
-	else
-	{
-		return user_access("collections user");
-	}
-}
-
-function collection_manage_collection_access($collection)
-{
-	global $user;
-	
-	if (is_numeric($collection))
-	{
-		$sql = "SELECT `uid`
-				FROM {collection}
-				WHERE `cid`=%d";
-		$collection = db_fetch_array(db_query($sql, $collection));
-	}
-	
-	return $user->uid == $collection['uid'];
-}
-
-function collection_title($collection)
-{
-	return $collection['title'];
-}
-?>
+<?php
+define("COLLECTION_DESCRIPTION_MAX_LENGTH", 65535);
+define("COLLECTION_TITLE_MAX_LENGTH", 255);
+define("COLLECTION_ITEM_PREVIEW_MAX_TITLE_LENGTH", 16);
+
+function collection_perm()
+{
+	return array(
+		"collections user",
+		"collections viewer",
+	);
+}
+
+function collection_menu()
+{
+	return array(
+		"collections/manage"		=> array(
+			"title"				=> "Manage Your Collections",
+			"page callback"		=> "collection_manage",
+			"access arguments"	=> array("collections user"),
+			"file"				=> "collection.pages.inc",
+			"type"				=> MENU_SUGGESTED_ITEM,
+		),
+		"collections/manage/%collection"	=> array(
+			"title callback"	=> "collection_title",
+			"title arguments"	=> array(2),
+			"page callback"		=> "drupal_get_form",
+			"page arguments"	=> array("collection_edit", 2),
+			"access callback"	=> "collection_manage_collection_access",
+			"access arguments"	=> array(2),
+			"file"				=> "collection.pages.inc",
+			"type"				=> MENU_CALLBACK,
+		),
+		"collections/new"		=> array(
+			"title"				=> "New Collection",
+			"page callback"		=> "drupal_get_form",
+			"page arguments"	=> array("collection_edit"),
+			"access arguments"	=> array("collections user"),
+			"file"				=> "collection.pages.inc",
+			"type"				=> MENU_CALLBACK,
+		),
+		"collections/%collection"	=> array(
+			"title callback"	=> "collection_title",
+			"title arguments"	=> array(1),
+			"page callback"		=> "collection_view_collection",
+			"page arguments"	=> array(1),
+			"access callback"	=> "collection_access_collection",
+			"access arguments"	=> array(1),
+			"file"				=> "collection.pages.inc",
+			"type"				=> MENU_CALLBACK,
+		),
+		"collections/%/view-all"	=> array(
+			"title"				=> "All Items",
+			"page callback"		=> "collection_view_all_user_items",
+			"page arguments"	=> array(1),
+			"access arguments"	=> array("collections viewer"),
+			"file"				=> "collection.pages.inc",
+			"type"				=> MENU_CALLBACK,
+		),
+	);
+}
+
+function collection_block($op="list", $delta=0, $edit=array())
+{
+	switch ($op)
+	{
+		case "list":
+			return array(
+				"random_collection"	=> array(
+					"info"	=> t("Random Collection"),
+					"cache"	=> BLOCK_NO_CACHE,
+				),
+			);
+		case "view":
+			switch ($delta)
+			{
+				case "random_collection":
+					global $user;
+					module_load_include("inc", "collection", "collection.pages");
+
+					return array(
+						"subject"	=> "",
+						"content"	=> collection_random_collection($user),
+					);
+			}
+	}
+}
+
+function collection_theme(&$existing)
+{
+	return array(
+		"collection_list_item" => array(
+			"arguments"	=> array("collection" => array(), "access" => false, "show_preview" => true),
+			"template"	=> "templates/collections/collection",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"collection_list_item_preview"	=> array(
+			"arguments"	=> array("item" => array()),
+			"template"	=> "templates/collections/collection-item-preview",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"collection_view_collection"	=> array(
+			"arguments"	=> array("collection_owner" => 1, "collection_display"	=> "", "collection_sidebar" => array()),
+			"template"	=> "templates/collections/collection-view",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"collection_sidebar_item"		=> array(
+			"arguments"	=> array("collection_item" => array()),
+			"template"	=> "templates/collections/sidebar-item",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"collection_sidebar_collection"	=> array(
+			"arguments"	=> array("collection" => array(), "item_html" => ""),
+			"template"	=> "templates/collections/sidebar-collection",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"collection_random_collection"	=> array(
+			"arguments"	=> array("collection" => false),
+			"template"	=> "templates/collections/random-collection",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+	);
+}
+
+function collection_preprocess_collection_view_collection(&$vars)
+{
+	global $user;
+
+	$collection_html = "";
+	foreach ($vars['collection_sidebar'] as $c)
+	{
+		$item_html = "";
+		foreach($c->items as $item)
+		{
+			$item_html .= theme("collection_sidebar_item", $item);
+		}
+
+		$collection_html .= theme("collection_sidebar_collection", $c, $item_html);
+	}
+
+	$vars['collection_sidebar_output'] = $collection_html;
+
+	if ($vars['collection_owner'] == $user->uid)
+	{
+		$add_text = t("Add Item");
+		$vars['collection_owner_name'] = t("Your");
+		$vars['add_item_link'] = "<a href='/product/add'>
+			<div class='button_left'></div>
+			<div class='button_mid'>
+				<span class='form-submit'>
+					$add_text
+				</span>
+			</div>
+			<div class='button_right'></div>
+			<div class='clear'></div></a>
+		";
+	}
+	else
+	{
+		$owner = user_load($vars['collection_owner']);
+		$vars['collection_owner_name'] = "{$owner->name}'s";
+	}
+}
+
+function collection_preprocess_collection_list_item(&$vars)
+{
+	if(empty($vars['collection']))
+		return;
+
+	module_load_include("inc", "collection");
+
+	$vars['collection']->is_owner = module_exists("privacy") ? $vars['access'] == PRIVACY_ONLYME : true;
+	$vars['collection']->image = collection_get_image($vars['collection']->cid, false, $vars['access']);
+	$vars['collection']->total_items = collection_get_num_items($vars['collection']->cid, $vars['access']);
+
+	$share_html = "";
+/*
+	if($vars['collection']->is_owner ) {
+		if(module_exists("fb"))
+			$share_html .= 'x'.theme("fb_share", $vars['collection']->cid, "collection");
+		if(module_exists("tweetassist"))
+			$share_html .= theme("tweetassist_tweet", "collection", $vars['collection']->cid);
+	}
+
+ */
+	$vars['collection']->share_html = $share_html;
+
+	$categories = collection_get_categories($vars['collection']->cid);
+	if(!empty($categories)) {
+		$category_text = t("Tags: !categories", array("!categories" => implode(", ", $categories)));
+		$vars['collection']->collection_categories = "<span class='collection_categories'>$category_text</span>";
+	}
+}
+
+function collection_preprocess_collection_list_item_preview(&$vars)
+{
+	global $user;
+
+	$vars['item']->image = _vibio_item_get_image($vars['item']->nid);
+	$vars['item']->for_sale = $vars['item']->node_data_field_posting_type_field_posting_type_value == VIBIO_ITEM_TYPE_SELL;
+	$vars['item']->node_title = strlen($vars['item']->node_title) > COLLECTION_ITEM_PREVIEW_MAX_TITLE_LENGTH ? substr($vars['item']->node_title, 0, COLLECTION_ITEM_PREVIEW_MAX_TITLE_LENGTH)."..." : $vars['item']->node_title;
+
+/*
+	$share_html = "";
+	if ($vars['item']->users_uid == $user->uid) {
+		if(module_exists("fb"))
+			$share_html .= 'y'.theme("fb_share", $vars['item']->nid, "node", "icon");
+		if(module_exists("tweetassist"))
+			$share_html .= theme("tweetassist_tweet", "node", $vars['item']->nid);
+	}
+*/
+	$vars['share_links'] = $share_html;
+
+	if (!$vars['item']->for_sale && $vars['item']->users_uid == $user->uid)
+	{
+		$options = array(
+			"attributes"	=> array(
+				"class"	=> "offer2buy_edit_post_type",
+			),
+		);
+		$vars['item']->offer2buy_price = l(t("Sell"), "offer2buy/ajax/edit-post-type/{$vars['item']->nid}", $options);
+	}
+	elseif ($vars['item']->for_sale && $vars['item']->offer2buy_price > 0)
+	{
+		$vars['item']->offer2buy_price =  "$".$vars['item']->offer2buy_price;
+	}
+	else
+	{
+		$vars['item']->offer2buy_price = t("Best Offer");
+	}
+}
+
+function collection_preprocess_page(&$vars)
+{
+	drupal_add_js("themes/vibio/js/collections.js");
+	drupal_add_css("themes/vibio/css/collections.css");
+}
+
+function collection_nodeapi(&$node, $op, $a3=null, $a4=null)
+{
+	if ($node->type != "vibio_item")
+	{
+		return;
+	}
+
+	global $user;
+	module_load_include("inc", "collection");
+
+	switch ($op)
+	{
+		case "insert":
+			$cids = isset($node->collection_info) ? $node->collection_info['cid'] : false;
+			if ($cids)
+			{
+				$cids = implode(",", $cids);
+				$sql = "SELECT `cid`, `title`
+						FROM {collection}
+						WHERE `cid` IN ($cids)";
+				$res = db_query($sql);
+
+				$collections = array();
+				while ($row = db_fetch_object($res))
+				{
+					$collections[] = l($row->title, "collections/{$row->cid}");
+				}
+
+				$t_args = array(
+					"!item" 		=> l($node->title, "node/{$node->nid}"),
+					"!collections"	=> implode(", ", $collections),
+				);
+
+				$message = count($collections) > 1 ?
+					t("!item has been created and added to the following collections: !collections", $t_args) :
+					t("!item has been created and added to your !collections collection", $t_args);
+
+				drupal_set_message($message);
+			}
+		case "update":
+			$cids = isset($node->collection_info) ? $node->collection_info['cid'] : collection_get_item_cid($node->nid);
+			unset($node->collection_info);
+
+			$old_cids = $op == "update" ? collection_get_item_cid($node->nid) : array();
+			$delete_cids = array_diff($old_cids, $cids);
+			if (!empty($delete_cids))
+			{
+				$delete_cids = implode(",", $delete_cids);
+				$sql = "DELETE FROM {collection_items}
+						WHERE `item_nid`=%d
+							AND `cid` IN ($delete_cids)";
+				db_query($sql, $node->nid);
+			}
+
+			$sql = "INSERT INTO {collection_items}
+					(`cid`, `item_nid`) VALUES";
+			$vals = array();
+			$args = array();
+			foreach (array_diff($cids, $old_cids) as $cid)
+			{
+				$vals[] = "(%d, %d)";
+				$args[] = $cid;
+				$args[] = $node->nid;
+			}
+
+			if (!empty($vals))
+			{
+				$sql .= implode(",", $vals);
+				db_query($sql, $args);
+			}
+
+			module_invoke_all("collection_update", $user->uid, array_unique(array_merge($cids, $old_cids)));
+			break;
+		case "delete":
+			$cid = collection_get_item_cid($node->nid);
+			$sql = "DELETE FROM {collection_items}
+					WHERE `item_nid`=%d";
+			db_query($sql, $node->nid);
+			module_invoke_all("collection_delete_item", $user->uid, $cid, $node->nid);
+			break;
+	}
+}
+
+function collection_views_api()
+{
+	return array(
+		"api"	=> 2,
+	);
+}
+
+function collection_form_product_node_form_alter(&$form, &$state)
+{
+	if (module_exists("product") && !product_get_autoadd(false))
+	{
+		return;
+	}
+
+	if (!$form['#node']->nid) // only on new product nodes
+	{
+		collection_form_vibio_item_node_form_alter(&$form, &$state);
+	}
+}
+
+function collection_form_vibio_item_node_form_alter(&$form, &$state)
+{
+	module_load_include("inc", "collection");
+
+	if ($form['#node']->nid) //existing node
+	{
+		$default = collection_get_item_cid($form['#node']->nid);
+	}
+
+	$form['collection_info'] = array(
+		"#title"		=> t("Collection"),
+		"#description"	=> t("Select which collections to add this item to. Choose all that apply."),
+		"#type"			=> "fieldset",
+		"#collapsible"	=> true,
+		"#collapsed"	=> false,
+		"#tree"			=> true,
+		"cid"			=> array(
+			"#type"			=> "select",
+			"#required"		=> true,
+			"#title"		=> t("Collection"),
+			"#options"		=> collection_options(),
+			"#default_value"=> $default,
+			"#multiple"		=> true,
+		),
+		/*"new_collection"=> array(
+			"#type"			=> "textfield",
+			"#title"		=> t("New Collection"),
+			"#description"	=> t("Enter a name for this collection"),
+		),*/
+	);
+}
+
+function collection_product_inventory_quick_add($form_vals)
+{
+	global $user;
+
+	module_load_include("inc", "collection");
+
+	if ($form_vals['collection_info']['cid'] || !($default = collection_get_user_default($user->uid, true)))
+	{
+		return array();
+	}
+
+	return array(
+		"collection_info"	=> array(
+			"cid"	=> array($default => $default),
+		),
+	);
+}
+
+function collection_offer2buy_complete_actions($old_uid, $node)
+{
+	module_load_include("inc", "collection");
+	$old_cid = collection_get_item_cid($node->nid);
+
+	if (!($new_cid = collection_get_user_default($node->uid)))
+	{
+		$new_cid = collection_get_user_default($node->uid, true); //this will handle clearing the views caches for us...
+	}
+	else
+	{
+		module_invoke_all("collection_update", $node->uid, array($new_cid));
+	}
+
+	$sql = "DELETE FROM {collection_items}
+			WHERE `item_nid`=%d";
+	db_query($sql, $node->nid);
+
+	$sql = "INSERT INTO {collection_items}
+			(`cid`, `item_nid`) VALUES
+			(%d, %d)";
+	db_query($sql, $new_cid, $node->nid);
+
+	module_invoke_all("collection_update", $old_uid, $old_cid);
+}
+
+function collection_form_views_exposed_form_alter(&$form, &$state)
+{
+
+	if ($form['#id'] == "views-exposed-form-user-collection-default") {
+		$form['collection_order_by'] = array(
+			"#type"		=> "select",
+			"#title"	=> t("Sort"),
+			"#weight"	=> 9,
+			"#options"	=> array(
+				"node_changed-desc"	=> t("Newest First"),
+				"node_changed-asc"	=> t("Oldest First"),
+			),
+		);
+		$form['order'] = array(
+			"#type" => "hidden",
+			"#value"=> isset($_GET['order']) ? $_GET['order'] : "node_changed",
+		);
+		$form['sort'] = array(
+			"#type" => "hidden",
+			"#value"=> isset($_GET['sort']) ? $_GET['sort'] : "node_changed",
+		);
+
+		$form['submit']['#weight'] = 10;
+	}
+	elseif (in_array($form['#id'], array("views-exposed-form-user-collections-default", "views-exposed-form-user-inventory-default")))
+	{
+		$label = t("View");
+		$uid = $form['#parameters'][1]['view']->args[0];
+		$collection = t("Collections");
+		$all_items = t("All Items");
+		$collection_default = $form['#id'] == "views-exposed-form-user-collections-default" ? "selected='selected'" : "";
+		$items_default = $form['#id'] == "views-exposed-form-user-inventory-default" ? "selected='selected'" : "";
+
+		/* $form['#suffix'] = "
+			<div class='inventory_view_type'>
+				<span>$label</span>
+				<select class='inventory_view_type_select'>
+					<option value='/user/{$uid}/inventory' $collection_default>$collection</option>
+					<option value='/collections/{$uid}/view-all' $items_default>$all_items</option>
+				</select>
+			</div>
+			<div class='clear'></div>
+		";*/
+	}
+}
+
+function collection_profile_ext_public_info($uid)
+{
+	module_load_include("inc", "collection");
+	$collections = collection_get_collections($uid);
+	$access = privacy_get_access_level($uid);
+
+	foreach ($collections as $cid => $c)
+	{
+		if ($c['privacy'] > $access)
+		{
+			unset($collections[$cid]);
+		}
+	}
+
+	return array(array(
+		"weight"=> 0,
+		"title"	=> t("Collections"),
+		"data"	=> count($collections),
+	));
+}
+
+function collection_badge_user_login($uid) {
+	if (!($badge = badge_load_special("100_collections_6_months")) || badge_user_has_badge($badge->bid, $uid)) {
+		return false;
+	}
+
+	$sql = "SELECT COUNT(*)
+			FROM {collection}
+			WHERE `uid`=%d";
+	$total_collections = db_result(db_query($sql, $uid));
+
+	if ($total_collections >= 100) {
+		badge_give_badge($badge->bid, $uid);
+	}
+}
+
+// warning: stephen cut and pasted some code, and found $cid being passed
+//  here was an array.  Is this happening elsewhere?  It oddly works if
+//  you comment out the the is_numeric test... $cid = array(26=>26) behaves
+//  like $cid = 26
+function collection_load($cid)
+{
+	if (!is_numeric($cid))
+	{
+		return false;
+	}
+
+	$sql = "SELECT c.*, u.name AS user_name
+			FROM {collection} c JOIN {users} u ON c.`uid`=u.`uid`
+			WHERE `cid`=%d";
+	$collection = db_fetch_array(db_query($sql, $cid));
+	$collection = array_merge($collection, module_invoke_all("collection_load", $collection, $as_uid)); // stephen notes: $as_uid, what is it, where from?
+//dsm(array($cid,$collection));
+	return $collection;
+}
+
+function collection_access_collection($collection)
+{
+	global $user;
+
+	if ($user->uid == $collection['uid'])
+	{
+		return true;
+	}
+	elseif (isset($collection['privacy']) && module_exists("privacy"))
+	{
+		return privacy_get_access_level($collection['uid']) >= $collection['privacy'] && user_access("collections viewer");
+	}
+	else
+	{
+		return user_access("collections user");
+	}
+}
+
+function collection_manage_collection_access($collection)
+{
+	global $user;
+
+	if (is_numeric($collection))
+	{
+		$sql = "SELECT `uid`
+				FROM {collection}
+				WHERE `cid`=%d";
+		$collection = db_fetch_array(db_query($sql, $collection));
+	}
+
+	return $user->uid == $collection['uid'];
+}
+
+function collection_title($collection)
+{
+	return $collection['title'];
+}
+?>
diff --git a/modules/vibio/vibio_item/collection/collection.pages.inc b/modules/vibio/vibio_item/collection/collection.pages.inc
index 58a6cbd..98dd357 100644
--- a/modules/vibio/vibio_item/collection/collection.pages.inc
+++ b/modules/vibio/vibio_item/collection/collection.pages.inc
@@ -185,6 +185,7 @@ function collection_edit_submit($form, &$state)
 	drupal_goto("collections/manage");
 }
 
+// aka Showcase Item
 function collection_random_collection($u)
 {
 	if (module_exists("network") && ($friends = _network_get_friends($u->uid, 1)) && !empty($friends))
diff --git a/modules/vibio/vibio_item/offer_to_buy/backup b/modules/vibio/vibio_item/offer_to_buy/backup
new file mode 100644
index 0000000..c0b6f54
--- /dev/null
+++ b/modules/vibio/vibio_item/offer_to_buy/backup
@@ -0,0 +1,924 @@
+<?php
+define("OFFER2BUY_MAX_PRICE", 1000000);
+define("OFFER2BUY_MAX_COMMENT_LENGTH", 255);
+
+require_once("offer2buy.actions.php");
+
+function offer2buy_perm()
+{
+	return array(
+		"offer2buy offer",
+		"offer2buy admin",
+	);
+}
+
+function offer2buy_menu()
+{
+	return array(
+		"offer2buy"					=> array(
+			"title"				=> "Offer2Buy Dashboard",
+			"page callback"		=> "offer2buy_dashboard",
+			"access arguments"	=> array("offer2buy offer"),
+			"type"				=> MENU_NORMAL_ITEM,
+		),
+		"offer2buy/%"				=> array(
+			"page callback"		=> "offer2buy_dashboard",
+			"page arguments"	=> array(1),
+			"access arguments"	=> array("offer2buy admin"),
+			"file"				=> "offer2buy.actions.php",
+			"type"				=> MENU_CALLBACK,
+		),
+		"offer2buy/ajax/offer/%"	=> array(
+			"page callback"		=> "offer2buy_ajax_offer",
+			"page arguments"	=> array(3),
+			"file"				=> "offer2buy.ajax.php",
+			"access arguments"	=> array("offer2buy offer"),
+			"type"				=> MENU_CALLBACK,
+		),
+		"offer2buy/ajax/reject/%/%"	=> array(
+			"page callback"		=> "offer2buy_ajax_reject",
+			"page arguments"	=> array(3, 4),
+			"file"				=> "offer2buy.ajax.php",
+			"access arguments"	=> array("offer2buy offer"),
+			"type"				=> MENU_CALLBACK,
+		),
+		"offer2buy/ajax/edit-post-type/%"	=> array(
+			"page callback"		=> "offer2buy_ajax_edit_post_type",
+			"page arguments"	=> array(3),
+			"access callback"	=> "offer2buy_change_list_type_access",
+			"access arguments"	=> array(3),
+			"file"				=> "offer2buy.forms.php",
+		),
+		"admin/settings/offer2buy"	=> array(
+			"title"				=> "Offer2Buy",
+			"description"		=> t("Control offer2buy email messages"),
+			"page callback"		=> "drupal_get_form",
+			"page arguments"	=> array("offer2buy_admin"),
+			"access arguments"	=> array("offer2buy admin"),
+			"file"				=> "offer2buy.forms.php",
+			"type"				=> MENU_NORMAL_ITEM,
+		),
+	);
+}
+
+function offer2buy_menu_title($type, $uid=false, $return_actions=false, $normal_menu=true)
+{
+	if (!$uid)
+	{
+		global $user;
+		$uid = $user->uid;
+	}
+	
+	switch ($type)
+	{
+		case "offers":
+			$incoming = _offer2buy_get_user_incoming_offers($uid);
+			$outgoing = _offer2buy_get_user_outgoing_offers($uid);
+			$total = count($incoming) + count($outgoing);
+			$actions = array(
+				"incoming"	=> $incoming,
+				"outgoing"	=> $outgoing,
+			);
+			$title = t("Offers !num", array("!num" => $total ? "($total)" : ""));
+			break;
+		case "actions":
+			$required = _offer2buy_dashboard_get_required_actions($uid);
+			$pending = _offer2buy_dashboard_get_pending_actions($uid);
+			$total = count($required) + count($pending);
+			$actions = array(
+				"pending"	=> $pending,
+				"required"	=> $required,
+			);
+			$title = t("Actions !num", array("!num" => $total ? "($total)" : ""));
+			break;
+		case "required-actions":
+			$actions = _offer2buy_dashboard_get_required_actions($uid);
+			$title = t("Required Actions !num", array("!num" => count($actions) ? "(".count($actions).")" : ""));
+			break;
+		case "pending-actions":
+			$actions = _offer2buy_dashboard_get_pending_actions($uid);
+			$title = t("Pending Actions !num", array("!num" => count($actions) ? "(".count($actions).")" : ""));
+			break;
+		case "item-offers":
+			$actions = _offer2buy_get_user_incoming_offers($uid);
+			$title = t("Item Offers !num", array("!num" => count($actions) ? "(".count($actions).")" : ""));
+			break;
+		case "my-offers":
+			$actions = _offer2buy_get_user_outgoing_offers($uid);
+			$title = t("My Offers !num", array("!num" => count($actions) ? "(".count($actions).")" : ""));
+			break;
+	}
+	
+	if ($normal_menu)
+	{
+		$title = preg_replace('/^([^\(]*)\(([\d]+)\)/', '<span class="menu_with_count_text">\1</span><span class="menu_with_count_count">\2</span><div class="clear"></div>', $title);
+	}
+	
+	return $return_actions ? array("actions" => $actions, "title" => $title) : $title;
+}
+
+function offer2buy_views_api()
+{
+	return array(
+		"api"	=> 2,
+	);
+}
+
+function offer2buy_form_vibio_item_node_form_alter(&$form, &$state)
+{
+	$nid = $form['nid']['#value'];
+	$settings = offer2buy_get_settings($nid);
+	
+	$form['offer2buy'] = array(
+		"#type"				=> "fieldset", // personally don't like this design style but just opinion, leaving for now -- stephen
+		"#title"			=> t("Pricing Information (if for sale)"),
+		//"#description"		=> t('These options only affect your posting if this item is set to type "selling"'),
+		"#collapsible"		=> true,
+		"#collapsed"		=> false,
+		"#weight"			=> 0, // was: -8, // above the title desired, above 'for sale'?
+	);
+	
+	$form['offer2buy'] = array_merge($form['offer2buy'], _offer2buy_fields_form($nid, $settings));
+	
+	$form['#validate'][] = "_offer2buy_node_validate";
+	$form['#submit'][] = "_offer2buy_node_submit";
+}
+
+function _offer2buy_fields_form($nid, $settings)
+{
+	return array(
+		"o2b_price"				=> array(
+			"#type"			=> "textfield",
+			"#title"		=> t("Price"),
+			"#description"	=> t("The listing price for this item (in USD). Leave blank for best offer"),
+			"#default_value"=> $settings['price'],
+			"#size"			=> 8,
+		),
+		"o2b_is_negotiable"		=> array(
+			"#type"			=> "checkbox",
+			"#title"		=> t("Price is Negotiable"),
+			"#description"	=> t("This determines whether or not you want to allow other users to offer more or less for the item."),
+			"#default_value"=> $settings['is_negotiable'],
+		),
+		"o2b_allow_offer_views"	=> array(
+			"#type"			=> "checkbox",
+			"#title"		=> t("Allow Offer Views"),
+			"#description"	=> t("Should people viewing your item be able to see the offers on the item?"),
+			"#default_value"=> isset($settings['allow_offer_views']) ? $settings['allow_offer_views'] : true,
+		),
+		"o2b_nid"				=> array(
+			"#type"	=> "value",
+			"#value"=> $nid,
+		),
+	);
+}
+
+function _offer2buy_node_validate($form, &$state)
+{	
+	if (!_offer2buy_valid_price($state['values']['o2b_price']))
+	{
+		form_set_error("o2b_price", t("Invalid price definition."));
+	}
+}
+
+function _offer2buy_node_submit($form, &$state)
+{
+	return;
+}
+
+function offer2buy_nodeapi(&$node, $op, $a3=null, $a4=null)
+{
+	if ($node->type == "vibio_item")
+	{
+		switch ($op)
+		{
+			case "load":
+				global $user;
+				
+				$settings = offer2buy_get_settings($node->nid);
+				
+				if ($node->uid == $user->uid || $settings['allow_offer_views'])
+				{
+					$sql = "SELECT o.*, u.`name`
+							FROM {offer2buy_offers} o JOIN {users} u
+								ON o.`uid`=u.`uid`
+							WHERE o.`rejection_note` IS NULL
+								AND o.`nid`=%d
+							ORDER BY `offer` DESC, `timestamp` ASC";
+					$res = db_query($sql, $node->nid);
+					
+					$offers = array();
+					while ($row = db_fetch_array($res))
+					{
+						$offers[] = $row;
+					}
+				}
+				
+				return array(
+					"offer2buy"	=> array(
+						"type"		=> $node->field_posting_type[0]['value'],
+						"settings"	=> $settings,
+						"offers"	=> $offers,
+					),
+				);
+				
+				break;
+			case "update":
+			case "insert":
+				$on_sale = $node->field_posting_type[0]['value'] == VIBIO_ITEM_TYPE_SELL;
+				$current_settings = offer2buy_get_settings($node->nid);
+				$price = preg_replace('/([^\d\.]+)/', "", $node->o2b_price);
+				$price = !is_numeric($price) || empty($price) ? 0 : number_format($price, 2, ".", "");
+				
+				if ($on_sale)
+				{
+					if ($price == 0)
+					{
+						$price = 0;
+						$node->o2b_is_negotiable = 1;
+					}
+					
+					if (!$current_settings['is_on_sale'])
+					{
+						module_invoke_all("offer2buy_set_item_on_sale", $node->nid);
+						$sql = "REPLACE INTO {offer2buy}
+								SET `nid`=%d, `price`=%f, `is_negotiable`=%d, `allow_offer_views`=%d, `is_on_sale`=1";
+						db_query($sql, $node->nid, $price, $node->o2b_is_negotiable, $node->o2b_allow_offer_views);
+					}
+					else
+					{
+						$sql = "UPDATE {offer2buy}
+								SET `price`=%f, `is_negotiable`=%d, `allow_offer_views`=%d, `is_on_sale`=1
+								WHERE `nid`=%d";
+						db_query($sql, $price, $node->o2b_is_negotiable, $node->o2b_allow_offer_views, $node->nid);
+					}
+				}
+				elseif (!$current_settings)
+				{
+					$sql = "REPLACE INTO {offer2buy}
+							SET `nid`=%d, `price`=%f, `is_negotiable`=%d, `allow_offer_views`=%d, `is_on_sale`=0";
+					db_query($sql, $node->nid, $price, 1, 1);
+				}
+				else
+				{
+					$sql = "UPDATE {offer2buy}
+							SET `is_on_sale`=0
+							WHERE `nid`=%d";
+					db_query($sql, $node->nid);
+				}
+				
+				break;
+			case "delete":
+				$sql = "DELETE FROM {offer2buy_offers}
+						WHERE `nid`=%d";
+				db_query($sql, $node->nid);
+
+				$sql = "DELETE FROM  {offer2buy}
+						WHERE `nid`=%d";
+				db_query($sql, $node->nid);
+			default:
+				break;
+		}
+	}
+}
+
+function offer2buy_theme(&$existing, $type, $theme, $path)
+{
+	return array(
+		"offer2buy_init"		=> array(
+			"arguments"	=> array("nid" => false, "offer_type" => "new"),
+			"template"	=> "templates/offer2buy/init",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"offer2buy_list_all_offers"	=> array(
+			"arguments"	=> array("items" => array()),
+			"template"	=> "templates/offer2buy/all-offers",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"offer2buy_list_outgoing_offers" => array(
+			"arguments"	=> array("offers" => array()),
+			"template"	=> "templates/offer2buy/outgoing-offers",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"offer2buy_offer_list"	=> array(
+			"arguments"	=> array("offers" => array(), "is_owner" => false),
+			"template"	=> "templates/offer2buy/list",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"offer2buy_offer"		=> array(
+			"arguments"	=> array("offer" => array(), "is_owner" => false),
+			"template"	=> "templates/offer2buy/offer",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"offer2buy_actions_list"=> array(
+			"arguments"	=> array("list"	=> array(), "type" => "required"),
+			"template"	=> "templates/offer2buy/action-list",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"offer2buy_action_item"	=> array(
+			"arguments"	=> array("action"	=> array(), "type" => "required"),
+			"template"	=> "templates/offer2buy/action-item",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"offer2buy_existing_offers_popup" => array(
+			"arguments"	=> array("offer_list"	=> array()),
+			"template"	=> "templates/offer2buy/offer-popup",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+	);
+}
+
+function offer2buy_get_settings($nid=false)
+{
+	if (!$nid)
+	{
+		return false;
+	}
+	
+	$sql = "SELECT *
+			FROM {offer2buy}
+			WHERE `nid`=%d";
+	return db_fetch_array(db_query($sql, $nid));
+}
+
+// previous: sneakily calls the init tpl to spaghetti a straightforward owner tpl
+function offer2buy_preprocess_product_owner(&$vars) {
+	//	$vars['offer2buy'] = theme("offer2buy_init", $vars['item']['node']['nid'], "button");
+	//dpm($vars);
+	$nid = $vars['item']['node']['nid'];
+
+	$item = node_load($nid);   // seems like this should occur elsewhere, 
+		// like it was partly done upstream of here.  Trace later.
+	//dpm($item); 
+
+	// Teaser and links to item
+	$vars['teaser'] = $item->teaser; // in design this is ~30chars, but I think
+		// I like longer?
+
+	// Uh oh: no design for an item page ready yet, no ux.  Maybe it should
+	// be a popup?  Maybe expand in place?
+	$vars['shortlink'] = l("Item details", "node/" . $item->nid );
+	// weird url format: ?highlight=107 highlights that user (= that user's item)
+
+
+	// Price
+
+	$text = t("make offer");
+
+	// Need the nid of an offer for this node, by this logged in user,
+	//  if one exists.  Can do this with views, or simple mysql
+	global $user;
+	$result = db_query('SELECT nid FROM {node} WHERE type = "offers" AND uid = %d AND status = 1',  $user->uid);
+	$row = db_fetch_array($res);  // the point of this is there be just one
+//SELECT node.uid from , node where uid=%d AND course_nid=. $user->uid 
+	$offer_nid = $row[0]['nid'];
+	//!!! Some if this not used in v1.1 ... soon want to differentiate
+	// between new offers and editing offers.
+$owner_uid = $vars['item']['user']['uid'];
+	$owner = user_load( $owner_uid );
+	$vars['username'] = "Name: " . $owner->name; // also found in the item array
+	// alternate UX: add /collection to the link 
+	$vars['usernamelink'] = l($owner->name, "user/$owner->uid");
+
+	if ( 'edit' == 'get edit button' ) {
+	} else {
+		// Offer url includes current user id, for bookmarking -- 
+		//  you'll still be you after you click this link, but the
+		//  seller can use the same url this way.
+		$uid = $user->uid;
+
+		// Is it on sale?
+		// dpm($item->offer2buy[settings][is_on_sale]); i
+		//0 = not for sale, 1 = for sale
+		if ($item->offer2buy[settings][is_on_sale] == 1) {
+			$vars['offer2buy'] = l($text, "offer/$nid/$uid", array(attributes=>array('class'=> 'automodal'))); // action_button_link'));
+			// Price.
+			// Note that "insert" is complex... test.  Is price always a number?
+			if ( $item->offer2buy[settings][price] > 0 ) {
+				$vars['price'] = $item->offer2buy[settings][price];
+			}
+		// Next: is "negotiable" something to add here?
+
+		} else {
+			$nfs_text = t("Just showing my style: Not For Sale");
+			//$vars['offer2buy'] = "<div class='not_for_sale'>$nfs_text</div>";
+			$vars['offer2buy'] = "<div class='not_for_sale'><img
+			  src='/themes/vibio/images/item/not_for_sale.png'
+				alt='$nfs_text'
+				title='$nfs_text'	 /></div>";	
+		}
+	}
+
+}
+
+function offer2buy_preprocess_page(&$vars)
+{
+	drupal_add_css("themes/vibio/css/offer2buy.css");
+	drupal_add_js("themes/vibio/js/offer2buy_actions.js");
+	drupal_add_js("themes/vibio/js/offer2buy.js");
+}
+
+function offer2buy_get_offer($uid, $nid)
+{
+	$sql = "SELECT *
+			FROM {offer2buy_offers}
+			WHERE `uid`=%d
+				AND `nid`=%d";
+	return db_fetch_array(db_query($sql, $uid, $nid));
+}
+
+function offer2buy_offer_form(&$state, $nid, $referrer)
+{
+	global $user;
+	
+	$settings = offer2buy_get_settings($nid);
+	$current_offer = offer2buy_get_offer($user->uid, $nid);
+	
+	$form = array(
+		"uid"		=> array(
+			"#type"	=> "value",
+			"#value"=> $user->uid,
+		),
+		"nid"		=> array(
+			"#type"	=> "value",
+			"#value"=> $nid,
+		),
+		"destination"	=> array(
+			"#type"	=> "value",
+			"#value"=> empty($_GET['destination']) ? request_uri() : $_GET['destination'],
+		),
+		"offer"		=> array(
+			"#type"			=> "textfield",
+			"#title"		=> t("Offer"),
+			"#default_value"=> $current_offer ? $current_offer['offer'] : $settings['price'],
+		),
+		"comment"	=> array(
+			"#type"			=> "textarea",
+			"#title"		=> t("Comment"),
+			"#description"	=> t("A comment that the seller will see when reviewing offers for this item."),
+			"#default_value"=> $current_offer['comment'],
+		),
+		"submit"	=> array(
+			"#type"	=> "submit",
+			"#value"=> t("Offer"),
+		),
+	);
+	
+	if (!$settings['is_negotiable'])
+	{
+		$form['offer']['#attributes'] = array(
+			"readonly"	=> "readonly",
+		);
+	}
+	
+	if ($current_offer)
+	{
+		$form['#prefix'] = t("You already have a pending offer on this item. The details of that offer are shown below. Any edits will replace your original offer.");
+	}
+	
+	return $form;
+}
+
+function offer2buy_offer_form_validate($form, &$state)
+{
+	$vals = $state['values'];
+	$error = false;
+	
+	if (!_offer2buy_valid_price($vals['offer'], true))
+	{
+		form_set_error("offer", t("Invalid offer amount"));
+		$error = true;
+	}
+	elseif (strlen($vals['comment']) > OFFER2BUY_MAX_COMMENT_LENGTH)
+	{
+		form_set_error("comment", t("Comment cannot exceed !limit characters", array("!limit" => OFFER2BUY_MAX_COMMENT_LENGTH)));
+		$error = true;
+	}
+	
+	if ($error)
+	{
+		drupal_goto($vals['destination']);
+	}
+}
+
+function offer2buy_offer_form_submit($form, &$state)
+{
+	$vals = $state['values'];
+	$offer = number_format($vals['offer'], 2, ".", "");
+	
+	$sql = "REPLACE INTO {offer2buy_offers}
+			SET `nid`=%d, `uid`=%d, `offer`=%f, `timestamp`=%d, `comment`='%s'";
+	db_query($sql, $vals['nid'], $vals['uid'], $offer, time(), $vals['comment']);
+	
+	$node = node_load($vals['nid']);
+	$offerer = user_load($vals['uid']);
+	$item_owner = user_load($node->uid);
+	$offer = array(
+		"comment"	=> $vals['comment'],
+		"amount"	=> $offer,
+	);
+
+	/* stephen: heartbeat and this module invoke the following hook... */
+	module_invoke_all("offer2buy_make_offer", $node, $offerer, $item_owner, $offer);
+	
+	drupal_set_message(t("Your offer has been sent to !user", array("!user" => $item_owner->name)));
+	drupal_goto($vals['destination']);
+}
+
+/* When someone makes an offer, both they and the owner they made the offer to receive emails.
+	This responds to the offer2buy_make_offer hook, also in this module  */
+function offer2buy_offer2buy_make_offer($node, $offerer, $owner, $offer)
+{
+	global $language;
+	
+	$params = array(
+		"offerer"	=> $offerer,
+		"owner"		=> $owner,
+		"offer"		=> $offer,
+		"item"		=> $node,
+	);
+	
+	drupal_mail("offer2buy", "offer_make", $owner->mail, $language, $params);
+	drupal_mail("offer2buy", "offer_make_confirm", $offerer->mail, $language, $params);
+}
+
+function offer2buy_offerbuy_accept_offer($node, $offerer, $owner, $offer)
+{
+	global $user;
+	
+	_offer2buy_cancel_transaction($node->nid, $user->uid, false);
+	
+	$params = array(
+		"item"		=> $node,
+		"offerer"	=> $offerer,
+		"owner"		=> $owner,
+		"offer"		=> $offer,
+	);
+	
+	drupal_mail("offer2buy", "offer_accept", $offerer->mail, $language, $params);
+	drupal_mail("offer2buy", "offer_accept_confirm", $owner->mail, $language, $params);
+}
+
+function offer2buy_mail($key, &$message, $params)
+{
+	if ($key == "offer_make" && ($body = variable_get("offer2buy_offer_message", false)))
+	{
+		$message['subject'] = t("Offer on \"!title\" from !user", array("!title" => $params['item']->title, "!user" => $params['offerer']->name));
+		$message['body'] = _offer2buy_replace($body, $params);
+	}
+	elseif ($key == "offer_make_confirm" && ($body = variable_get("offer2buy_offer_confirmation", false)))
+	{
+		$message['subject'] = t("Confirmation for offer to !user for item \"!item\"", array("!user" => $params['owner']->name, "!item" => $params['item']->title));
+		$message['body'] = _offer2buy_replace($body, $params);
+	}
+	elseif ($key == "offer_accept" && ($body = variable_get("offer2buy_offer_accept", false)))
+	{
+		$message['subject'] = t("Offer accepted for \"!item\"!", array("!item" => $params['item']->title));
+		$message['body'] = _offer2buy_replace($body, $params);
+	}
+	elseif ($key == "offer_accept_confirm" && ($body = variable_get("offer2buy_offer_accept_confirm", false)))
+	{
+		$message['subject'] = t("Offer acceptance confirmation: \$!offer from !offerer", array("!offer" => $params['offer']['amount'], "!offerer" => $params['offerer']->name));
+		$message['body'] = _offer2buy_replace($body, $params);
+	}
+}
+
+function _offer2buy_valid_price($price, $force_required=false)
+{
+	if (!is_numeric($price) || empty($price))
+	{
+		if ($force_required)
+		{
+			return false;
+		}
+		
+		$price = 0;
+	}
+	
+	$price = number_format($price, 2, ".", "");
+	return $price >= 0 && $price <= OFFER2BUY_MAX_PRICE;
+}
+
+function _offer2buy_replace($message, $params)
+{
+	$link_options = array(
+		"absolute"	=> true,
+	);
+	
+	$private_msg_subject = "{$params['item']->title}";
+	
+	$replacements = array(
+		"!offerer_message_url"	=> url("messages/new/{$params['offerer']->uid}/$private_msg_subject", $link_options),
+		"!owner_message_url"	=> url("messages/new/{$params['owner']->uid}/$private_msg_subject", $link_options),
+		"!offerer"				=> l($params['offerer']->name, "user/{$params['offerer']->uid}", $link_options),
+		"!owner"				=> l($params['owner']->name, "user/{$params['owner']->uid}", $link_options),
+		"!item"					=> l($params['item']->title, "node/{$params['item']->nid}", $link_options),
+		"!comment"				=> filter_xss($params['offer']['comment']),
+		"!offer"				=> $params['offer']['amount'],
+	);
+	
+	foreach ($replacements as $search => $replace)
+	{
+		$message = str_replace($search, $replace, $message);
+	}
+	
+	return $message;
+}
+
+function offer2buy_forms($id, $args)
+{
+	if (strpos($id, "offer2buy_offer_accept_form_") !== false)
+	{
+		$forms[$id] = array(
+			"callback"	=> "offer2buy_offer_accept_form",
+		);
+	}
+	elseif (strpos($id, "offer2buy_action_complete_") !== false)
+	{
+		$forms[$id] = array(
+			"callback"	=> "offer2buy_action_complete_form",
+		);
+	}
+	elseif (strpos($id, "offer2buy_transaction_cancel_") !== false)
+	{
+		$forms[$id] = array(
+			"callback"	=> "offer2buy_transaction_cancel_form",
+		);
+	}
+	elseif (strpos($id, "offer2buy_reject_form_") !== false)
+	{
+		$forms[$id] = array(
+			"callback"	=> "offer2buy_offer_reject_form",
+		);
+	}
+
+	// stephen: was if ($forms) producing errors all the time, try...	
+	if (isset($forms))
+	{
+		return $forms;
+	}
+}
+
+function offer2buy_transaction_cancel_form(&$state, $nid)
+{
+	global $user;
+	
+	return array(
+		"nid"		=> array(
+			"#type"	=> "value",
+			"#value"=> $nid,
+		),
+		"canceller"	=> array(
+			"#type"	=> "value",
+			"#value"=> $user->uid,
+		),
+		"submit"	=> array(
+			"#type"	=> "submit",
+			"#value"=> t("Cancel"),
+		),
+		"#submit"	=> array(
+			"offer2buy_transaciton_cancel_form_submit",
+		),
+		"#attributes"	=> array(
+			"class"	=> "offer2buy_transaction_cancel_form",
+		),
+	);
+}
+
+function offer2buy_transaciton_cancel_form_submit($form, &$state)
+{
+	_offer2buy_cancel_transaction($state['values']['nid'], $state['values']['canceller']);
+}
+
+function offer2buy_offer_accept_form(&$state, $uid, $nid)
+{
+	if (offer2buy_offer_is_pending($uid, $nid))
+	{
+		return array(
+			"pending"	=> array(
+				"#value"	=> "<span class='offer2buy_pending_offer'>".t("(pending)")."</span>",
+			),
+		);
+	}
+	
+	return array(
+		"uid"		=> array(
+			"#type"	=> "value",
+			"#value"=> $uid,
+		),
+		"nid"		=> array(
+			"#type"	=> "value",
+			"#value"=> $nid,
+		),
+		"submit"	=> array(
+			"#type"			=> "submit",
+			"#value"		=> t("Accept Offer"),
+			"#attributes"	=> array(
+				"class"	=> "offer2buy_accept_init",
+			),
+		),
+		"reject"	=> array(
+			"#type"			=> "submit",
+			"#value"		=> t("Reject Offer or Negotiate"),
+			"#attributes"	=> array(
+				"class"	=> "reject_offer_{$uid}_{$nid} offer2buy_reject_init",
+			),
+		),
+		"#submit"	=> array(
+			"offer2buy_offer_accept_form_submit",
+		),
+		"#attributes"	=> array(
+			"class"	=> "offer2buy_offer_accept_form",
+		),
+	);
+}
+
+function offer2buy_offer_accept_form_submit($form, &$state)
+{
+	$op = $state['clicked_button']['#value'];
+	
+	if ($op == t("Reject Offer or Negotiate"))
+	{
+		return;
+	}
+	
+	$vals = $state['values'];
+	$node = node_load($vals['nid']);
+	$offerer = user_load($vals['uid']);
+	$owner = user_load($node->uid);
+	
+	$sql = "SELECT `offer` AS amount, `comment`
+			FROM {offer2buy_offers}
+			WHERE `uid`=%d
+				AND `nid`=%d";
+	$offer = db_fetch_array(db_query($sql, $offerer->uid, $node->nid));
+	
+	module_invoke_all("offerbuy_accept_offer", $node, $offerer, $owner, $offer);
+	_offer2buy_init_actions($node->nid, $offerer->uid, $owner->uid);
+	
+	if (module_exists("profile_ext"))
+	{
+		$message = t("You've accepted !buyer's offer on !item. Now you need to arrange payment with them. !message", array(
+			"!buyer"	=> l($offerer->name, "user/{$offerer->uid}"),
+			"!item"		=> l($node->title, "node/{$node->nid}"),
+			"!message"	=> l(t("Send !user a message", array("!user" => $offerer->name)), "messages/new/{$offerer->uid}"),
+		));
+		
+		drupal_set_message($message);
+		drupal_goto("my-dashboard/actions");
+	}
+}
+
+function offer2buy_offer_reject_form(&$state, $uid, $nid)
+{
+	$offer = offer2buy_get_offer($uid, $nid);
+	$offerer = user_load($uid);
+	$t_args = array(
+		"!amount" 	=> "\${$offer['offer']}",
+		"!user"		=> $offerer->name,
+	);
+	
+	return array(
+		"#prefix"		=> t("Send <em>!user</em> a reason for rejecting the offer of !amount, or suggest a new agreement.", $t_args),
+		"offerer"	=> array(
+			"#type"	=> "value",
+			"#value"=> $offerer,
+		),
+		"nid"			=> array(
+			"#type"	=> "value",
+			"#value"=> $nid,
+		),
+		"destination"	=> array(
+			"#type"	=> "value",
+			"#value"=> $_SERVER['HTTP_REFERER'],
+		),
+		"reason"		=> array(
+			"#type"			=> "textarea",
+			"#title"		=> t("Reason"),
+			"#description"	=> '', // too wordy? t("Why are you rejecting this offer?"),
+		),
+		"submit"		=> array(
+			"#type"	=> "submit",
+			"#value"=> t("Reject Offer or Negotiate"),
+		),
+		"cancel"		=> array(
+			"#type"	=> "submit",
+			"#value"=> t("Cancel"),
+		),
+		"#submit"		=> array(
+			"offer2buy_offer_reject_form_submit",
+		),
+		"#attributes"	=> array(
+			"class"	=> "offer2buy_offer_reject_form",
+		),
+	);
+}
+
+function offer2buy_offer_reject_form_submit($form, &$state)
+{
+	if ($state['clicked_button']['#value'] == t("Cancel"))
+	{
+		return;
+	}
+	
+	$vals = $state['values'];
+	
+	$sql = "UPDATE {offer2buy_offers}
+			SET `rejection_note`='%s'
+			WHERE `uid`=%d
+				AND `nid`=%d";
+	db_query($sql, substr($vals['reason'], 0, 255), $vals['offerer']->uid, $vals['nid']);
+	drupal_set_message(t("The offer from !user has been rejected", array("!user" => $vals['offerer']->name)));
+	drupal_goto($vals['destination']);
+}
+
+function offer2buy_change_list_type_access($nid)
+{
+	global $user;
+	
+	$sql = "SELECT `uid`
+			FROM {node}
+			WHERE `nid`=%d";
+	$uid = db_result(db_query($sql, $nid));		
+	
+	return $uid == $user->uid;
+}
+
+function offer2buy_profile_ext_dashboard($uid)
+{
+	drupal_add_css("themes/vibio/css/offer2buy.css");
+	
+	$offers = offer2buy_menu_title("offers", $uid, true, false);
+	$actions = offer2buy_menu_title("actions", $uid, true, false);
+	
+	return array(
+		$offers['title'] 	=> theme("offer2buy_list_all_offers", $offers['actions']['incoming']).theme("offer2buy_list_outgoing_offers", $offers['actions']['outgoing']),
+		$actions['title']	=> theme("offer2buy_actions_list", $actions['actions']['required'], "required").theme("offer2buy_actions_list", $actions['actions']['pending'], "pending"),
+	);
+}
+
+function offer2buy_profile_ext_menuitems()
+{
+	return array(
+		"item-offers"		=> "offer2buy_menu_title",
+		"my-offers"			=> "offer2buy_menu_title",
+		"required-actions"	=> "offer2buy_menu_title",
+		"pending-actions"	=> "offer2buy_menu_title",
+		"offers"			=> "offer2buy_menu_title",
+		"actions"			=> "offer2buy_menu_title",
+	);
+}
+
+function offer2buy_reports_daily_cron($last_run)
+{
+	$sql = "SELECT COUNT(*) total_transactions, SUM(`price`) amount_transacted
+			FROM {offer2buy_completed_transactions}
+			WHERE `timestamp` > %d";
+	$res = db_query($sql, $last_run);
+	
+	if ($row = db_fetch_object($res))
+	{
+		reports_log("total transactions", $row->total_transactions);
+		reports_log("amount transacted", $row->amount_transacted);
+	}
+	
+	if ($employee_role = variable_get("reports_employee_role", false))
+	{
+		$sql = "SELECT COUNT(*) total_transactions, SUM(`price`) amount_transacted
+				FROM {offer2buy_completed_transactions}
+				WHERE `timestamp` > %d
+					AND `buyer` NOT IN (
+						SELECT `uid`
+						FROM {users_roles}
+						WHERE `rid`=%d
+					)
+					AND `seller` NOT IN (
+						SELECT `uid`
+						FROM {users_roles}
+						WHERE `rid`=%d
+					)
+				";
+		$res = db_query($sql, $last_run, $employee_role, $employee_role);
+		
+		if ($row = db_fetch_object($res))
+		{
+			reports_log("total transactions noemployee", $row->total_transactions);
+			reports_log("amount transacted noemployee", $row->amount_transacted);
+		}
+	}
+}
+
+function offer2buy_imap_fetch_node_image_attach($image, $node)
+{
+	if (!isset($node->offer2buy))
+	{
+		return false;
+	}
+	
+	return array(
+		"o2b_is_negotiable"		=> $node->offer2buy['settings']['is_negotiable'],
+		"o2b_allow_offer_views"	=> $node->offer2buy['settings']['allow_offer_views'],
+		"o2b_price"				=> $node->offer2buy['settings']['price'],
+	);
+}
+?>
diff --git a/modules/vibio/vibio_item/offer_to_buy/offer2buy.module b/modules/vibio/vibio_item/offer_to_buy/offer2buy.module
index c0b6f54..567bc8a 100644
--- a/modules/vibio/vibio_item/offer_to_buy/offer2buy.module
+++ b/modules/vibio/vibio_item/offer_to_buy/offer2buy.module
@@ -391,7 +391,7 @@ $owner_uid = $vars['item']['user']['uid'];
 		// dpm($item->offer2buy[settings][is_on_sale]); i
 		//0 = not for sale, 1 = for sale
 		if ($item->offer2buy[settings][is_on_sale] == 1) {
-			$vars['offer2buy'] = l($text, "offer/$nid/$uid", array(attributes=>array('class'=> 'automodal'))); // action_button_link'));
+			$vars['offer2buy'] = l($text, "offer/$nid/$uid"); // action_button_link'));
 			// Price.
 			// Note that "insert" is complex... test.  Is price always a number?
 			if ( $item->offer2buy[settings][price] > 0 ) {
diff --git a/modules/vibio/vibio_item/product_catalog/backup b/modules/vibio/vibio_item/product_catalog/backup
new file mode 100644
index 0000000..1ecfb77
--- /dev/null
+++ b/modules/vibio/vibio_item/product_catalog/backup
@@ -0,0 +1,100 @@
+<?php
+function product_admin(&$state)
+{
+	/*
+	 The module implementations of this hook should return an array in the form:
+		module_name => display
+	 Products will look for a function using this module_name when searching for external products.
+	*/
+	$source_options = module_invoke_all("product_source");
+	
+	return system_settings_form(array(
+		"product_local_search"		=> array(
+			"#type"			=> "checkbox",
+			"#title"		=> t("Local Search Enabled"),
+			"#description"	=> t("Whether or not to try and grab information from the local product catalog."),
+			"#default_value"=> variable_get("product_local_search", false),
+		),
+		"product_append_external"	=> array(
+			"#type"			=> "checkbox",
+			"#title"		=> t("Append External Search Results"),
+			"#description"	=> t("Show external search results in addition to local search results when searching local products"),
+			"#default_value"=> variable_get("product_append_external", false),
+		),
+		"product_source"			=> array(
+			"#type"			=> "select",
+			"#title"		=> t("Source"),
+			"#description"	=> t("The source of external product information when local information is either not available, or searching locally is disabled."),
+			"#options"		=> $source_options,
+			"#default_value"=> variable_get("product_source", false),
+		),
+	));
+}
+
+function product_ajax_add_form($state, $product)
+{
+	global $user;
+	
+	$form = array(
+		"nid"	=> array(
+			"#type"	=> "hidden",
+			"#value"=> $product->nid,
+		),
+	);
+	
+	if (module_exists("collection"))
+	{
+		module_load_include("inc", "collection");
+		$default = collection_get_user_default($user->uid, true);
+		
+		$form['collections'] = array(
+			"#type"			=> "select",
+			"#title"		=> t("Collection(s)"),
+			"#multiple"		=> true,
+			"#options"		=> collection_options(),
+			"#default_value"=> $default,
+		);
+	}
+	
+	if (module_exists("offer2buy"))
+	{
+		$form['posting_type'] = array(
+			"#type"			=> "select",
+			"#title"		=> t("For Sale?"),
+			"#options"		=> array(
+				VIBIO_ITEM_TYPE_SELL	=> t("Yes"),
+				VIBIO_ITEM_TYPE_OWN		=> t("No"),
+			),
+		);
+		
+		$form['node_price'] = array(
+			"#type"		=> "textfield",
+			"#title"	=> t("Price"),
+			"#size"		=> 10,
+			"#prefix"	=> "<div class='inventory_add_price'>",
+			"#suffix"	=> "</div>",
+		);
+	}
+	
+	$form['body'] = array(
+		"#type"		=> "textarea",
+		"#title"	=> t("Description"),
+		"#rows"		=> 5,
+		"#cols"		=> 50,
+	);
+	
+	$form['privacy'] = array(
+		"#title"		=> t("Privacy Settings"),
+		"#type"			=> "select",
+		"#options"		=> _privacy_options(),
+		"#default_value"=> privacy_get($user->uid, "account_setting", "item_default"),
+	);
+	
+	$form['submit'] = array(
+		"#type"	=> "submit",
+		"#value"=> t("Add Item"),
+	);
+	
+	return $form;
+}
+?>
diff --git a/modules/vibio/vibio_item/product_catalog/product.forms.php b/modules/vibio/vibio_item/product_catalog/product.forms.php
index 1ecfb77..9d0d41f 100644
--- a/modules/vibio/vibio_item/product_catalog/product.forms.php
+++ b/modules/vibio/vibio_item/product_catalog/product.forms.php
@@ -36,6 +36,7 @@ function product_ajax_add_form($state, $product)
 	global $user;
 	
 	$form = array(
+		"#action" => url("product/ajax/inventory-add/save"),
 		"nid"	=> array(
 			"#type"	=> "hidden",
 			"#value"=> $product->nid,
diff --git a/modules/vibio/vibio_item/product_catalog/product.inc b/modules/vibio/vibio_item/product_catalog/product.inc
index e8165c7..b9a5cf1 100644
--- a/modules/vibio/vibio_item/product_catalog/product.inc
+++ b/modules/vibio/vibio_item/product_catalog/product.inc
@@ -1,221 +1,222 @@
-<?php
-define("PRODUCT_OWNER_CACHE_TTL", 300);
-define("PRODUCT_OWNER_DISPLAY_PER_PAGE", 40);
-
-
-/* _product_get_product_owners gets and array of owners by network and 
- *  vibio=not-network.  Seems to return it as data, not nodes (ouch)
- */
-function _product_get_product_owners($nid, $as_uid=false)
-{
-	if (!$as_uid)
-	{
-		global $user;
-		$as_uid = $user->uid;
-	}
-	
-	return array(
-		"network"	=> _product_get_owners($nid, $as_uid, "network"),
-		"vibio"		=> _product_get_owners($nid, $as_uid, "vibio"),
-	);
-}
-
-// I think this gets all the owners of an item, in network or not
-//  Defaults to in-network only (stephen: deprecate this)
-function _product_get_owners($nid, $as_uid, $type="network", $page=0)
-{
-	$depth = 3;
-	$offset = $page*PRODUCT_OWNER_DISPLAY_PER_PAGE;
-	
-	$cache_key = "product_owners:{$nid}:{$as_uid}:{$type}:{$page}";
-	if ($cache = cache_get($cache_key, "cache_content"))
-	{
-		return $cache->data;
-	}
-	
-	$network = array_keys(network_get($as_uid, false, $depth));
-	array_shift($network);
-	$network = implode(",", $network);
-	
-	if (!$network && $type == "network")
-	{
-		return array();
-	}
-	
-	switch ($type)
-	{
-		case "vibio":
-			$network_op = "NOT IN";
-			$privacy_check = $as_uid ? PRIVACY_AUTHENTICATED : PRIVACY_PUBLIC;
-			break;
-		case "network":
-		default:
-			$network_op = "IN";
-			$privacy_check = PRIVACY_CONNECTION;
-			break;
-	}
-
-	$network_check = $network ? " AND u.`uid` $network_op ($network)" : "";
-	
-
-	$sql = "SELECT n.`nid`, n.`title`, u.`uid`, u.`name`, u.`picture`
-			FROM {node} n JOIN {users} u JOIN {privacy_settings} p
-				ON n.`uid`=u.`uid` AND p.`uid`=n.`uid`
-			WHERE p.`type`='node'
-				AND p.`type_id`=n.`nid`
-				AND p.`setting` <= %d
-				AND u.`uid` != %d
-				$network_check
-				AND n.`nid` IN (
-					SELECT `item_nid`
-					FROM {product_items}
-					WHERE `product_nid`=%d
-				)
-			ORDER BY n.`changed` DESC
-         $highlight
-			LIMIT $offset, %d";
-	$count_sql = preg_replace(array('/SELECT.*?FROM /As', '/ORDER BY .*/', '/LIMIT .*/'), array('SELECT COUNT(*) FROM ', '', ''), $sql);
-	$total_results = db_result(db_query($count_sql, $privacy_check, $as_uid, $nid));
-	$res = db_query($sql, $privacy_check, $as_uid, $nid, PRODUCT_OWNER_DISPLAY_PER_PAGE);
-	
-	$results = array();
-	while ($row = db_fetch_array($res))
-	{
-		$results[] = array(
-			"node"	=> array(
-				"link"	=> l($row['title'], "node/{$row['nid']}"),
-				"nid"	=> $row['nid'],
-			),
-			"user"	=> array(
-				"picture"	=> theme("user_picture", (object) $row),
-				//v1.0 
-				//"link"		=> $as_uid && $type == "network" && module_exists("dos") ? theme("dos_display", dos_get($row['uid'], false, $depth)) : "<br />".l($row['name'], "user/{$row['uid']}"),
-				// changes: if user logged in, print friend-chain; if not, print nothing
-				//  instead of printing the owner's name again.
-				"link"		=> $as_uid && $type == "network" && ($GLOBALS['user']->uid > 0) && module_exists("dos") ? theme("dos_display", dos_get($row['uid'], false, $depth)) : "", 
-
-				"uid"     => $row['uid'],  // stephen adds, to highlight
-			),
-		);
-	}
-	
-	$data = array(
-		"count"		=> $total_results,
-		"page"		=> $page,
-		"results"	=> $results,
-	);
-	cache_set($cache_key, $data, "cache_content", time() + PRODUCT_OWNER_CACHE_TTL);
-	return $data;
-}
-
-function _product_nid_from_item($nid)
-{
-	$sql = "SELECT `product_nid`
-			FROM {product_items}
-			WHERE `item_nid`=%d";
-	return db_result(db_query($sql, $nid));
-}
-
-function _product_from_item($item_nid)
-{
-	$product_nid = _product_nid_from_item($item_nid);
-	return node_load($product_nid);
-}
-
-/* Does this get the product or item image, prefering one over the other? 
- * With imagecache, this would be real code?
- * Returns the URL of the image
- */ 
-function _product_get_image($nid, $is_product=false)
-{
-	static $product_images = array();
-	
-	if (isset($product_images[$nid]))
-	{
-		return $product_images[$nid];
-	}
-	
-	$search_nid = $is_product ? $nid : _product_nid_from_item($nid);
-	
-	if (!$is_product && isset($product_images[$search_nid])) //if it's an item and we already have the product image cached..
-	{
-		return $product_images[$search_nid];
-	}
-	
-	$product = node_load($search_nid);
-	
-	if (!empty($product->field_main_image[0]['filepath']) && file_exists($product->field_main_image[0]['filepath']))
-	{
-		$url = file_create_url($product->field_main_image[0]['filepath']);
-	}
-	else
-	{
-		$url = _product_default_image();
-	}
-	
-	$product_images[$search_nid] = $url;
-	
-	return $url;
-}
-
-function _product_default_image()
-{
-	return file_create_url("themes/vibio/images/icons/default_item.png");
-}
-
-function product_images($node, $get_main=false)
-{
-	if (is_numeric($node))
-	{
-		$node = node_load($node);
-	}
-	if (!$node)
-	{
-		return array();
-	}
-	
-	$images = array();
-	if ($get_main && !empty($node->field_main_image[0]['filepath']))
-	{
-		$images[] = file_create_url($node->field_main_image[0]['filepath']);
-	}
-	
-	if (!empty($node->field_images))
-	foreach ($node->field_images as $image)
-	{
-		if (file_exists($image['filepath']))
-		{
-			$images[] = file_create_url($image['filepath']);
-		}
-	}
-	
-	return $images;
-}
-
-function product_set_external_search($val=false, $set=false)
-{
-	static $is_external_search = false;
-	
-	if ($set)
-	{
-		$is_external_search = $val;
-	}
-	
-	return $is_external_search;
-}
-
-function product_set_external_search_page_offset($offset=-1)
-{
-	if (!isset($_SESSION['product']['search_page_offset']))
-	{
-		$_SESSION['product']['search_page_offset'] = 0;
-	}
-	
-	if ($offset != -1)
-	{
-		$_SESSION['product']['search_page_offset'] = $offset;
-	}
-	
-	return $_SESSION['product']['search_page_offset'];
-}
-?>
+<?php
+define("PRODUCT_OWNER_CACHE_TTL", 300);
+define("PRODUCT_OWNER_DISPLAY_PER_PAGE", 40);
+
+
+/* _product_get_product_owners gets and array of owners by network and 
+ *  vibio=not-network.  Seems to return it as data, not nodes (ouch)
+ */
+function _product_get_product_owners($nid, $as_uid=false)
+{
+	if (!$as_uid)
+	{
+		global $user;
+		$as_uid = $user->uid;
+	}
+	
+	return array(
+		"network"	=> _product_get_owners($nid, $as_uid, "network"),
+		"vibio"		=> _product_get_owners($nid, $as_uid, "vibio"),
+	);
+}
+
+// I think this gets all the owners of an item, in network or not
+//  Defaults to in-network only (stephen: deprecate this)
+function _product_get_owners($nid, $as_uid, $type="network", $page=0)
+{
+	$depth = 3;
+	$offset = $page*PRODUCT_OWNER_DISPLAY_PER_PAGE;
+	
+	$cache_key = "product_owners:{$nid}:{$as_uid}:{$type}:{$page}";
+	if ($cache = cache_get($cache_key, "cache_content"))
+	{
+		return $cache->data;
+	}
+	
+	$network = array_keys(network_get($as_uid, false, $depth));
+	array_shift($network);
+	$network = implode(",", $network);
+	
+	if (!$network && $type == "network")
+	{
+		return array();
+	}
+	
+	switch ($type)
+	{
+		case "vibio":
+			$network_op = "NOT IN";
+			$privacy_check = $as_uid ? PRIVACY_AUTHENTICATED : PRIVACY_PUBLIC;
+			break;
+		case "network":
+		default:
+			$network_op = "IN";
+			$privacy_check = PRIVACY_CONNECTION;
+			break;
+	}
+
+	$network_check = $network ? " AND u.`uid` $network_op ($network)" : "";
+	
+
+	$sql = "SELECT n.`nid`, n.`title`, u.`uid`, u.`name`, u.`picture`
+			FROM {node} n JOIN {users} u JOIN {privacy_settings} p
+				ON n.`uid`=u.`uid` AND p.`uid`=n.`uid`
+			WHERE p.`type`='node'
+				AND p.`type_id`=n.`nid`
+				AND p.`setting` <= %d
+				AND u.`uid` != %d
+				$network_check
+				AND n.`nid` IN (
+					SELECT `item_nid`
+					FROM {product_items}
+					WHERE `product_nid`=%d
+				)
+			ORDER BY n.`changed` DESC
+         $highlight
+			LIMIT $offset, %d";
+	$count_sql = preg_replace(array('/SELECT.*?FROM /As', '/ORDER BY .*/', '/LIMIT .*/'), array('SELECT COUNT(*) FROM ', '', ''), $sql);
+	$total_results = db_result(db_query($count_sql, $privacy_check, $as_uid, $nid));
+	$res = db_query($sql, $privacy_check, $as_uid, $nid, PRODUCT_OWNER_DISPLAY_PER_PAGE);
+	
+	$results = array();
+	while ($row = db_fetch_array($res))
+	{
+		$results[] = array(
+			"node"	=> array(
+				"link"	=> l($row['title'], "node/{$row['nid']}"),
+				"nid"	=> $row['nid'],
+			),
+			"user"	=> array(
+				"picture"	=> theme("user_picture", (object) $row),
+				//v1.0 
+				//"link"		=> $as_uid && $type == "network" && module_exists("dos") ? theme("dos_display", dos_get($row['uid'], false, $depth)) : "<br />".l($row['name'], "user/{$row['uid']}"),
+				// changes: if user logged in, print friend-chain; if not, print nothing
+				//  instead of printing the owner's name again.
+				"link"		=> $as_uid && $type == "network" && ($GLOBALS['user']->uid > 0) && module_exists("dos") ? theme("dos_display", dos_get($row['uid'], false, $depth)) : "", 
+
+				"uid"     => $row['uid'],  // stephen adds, to highlight
+			),
+		);
+	}
+	
+	$data = array(
+		"count"		=> $total_results,
+		"page"		=> $page,
+		"results"	=> $results,
+	);
+	cache_set($cache_key, $data, "cache_content", time() + PRODUCT_OWNER_CACHE_TTL);
+	return $data;
+}
+
+function _product_nid_from_item($nid)
+{
+	$sql = "SELECT `product_nid`
+			FROM {product_items}
+			WHERE `item_nid`=%d";
+	return db_result(db_query($sql, $nid));
+}
+
+function _product_from_item($item_nid)
+{
+	$product_nid = _product_nid_from_item($item_nid);
+	return node_load($product_nid);
+}
+
+/* Does this get the product or item image, prefering one over the other? 
+ * With imagecache, this would be real code?
+ * Returns the URL of the image
+ */ 
+function _product_get_image($nid, $is_product=false)
+{
+	static $product_images = array();
+
+	if ( isset($product_images[$nid]))
+		return $product_images[$nid];
+
+	$search_nid = $is_product ? $nid : _product_nid_from_item($nid);
+
+	if (!$is_product && isset($product_images[$search_nid])) //if it's an item and we already have the product image cached..
+		return $product_images[$search_nid];
+
+	$product = node_load($search_nid);
+// echo "<pre>"; var_dump($product); exit;
+	if (!empty($product->field_main_image[0]['filepath']) && file_exists($product->field_main_image[0]['filepath']))
+		$url = file_create_url($product->field_main_image[0]['filepath']);
+	else
+		$url = _product_default_image();
+
+	$product_images[$search_nid] = $url;
+	
+	return $url;
+}
+
+/* stephen: wish we didn't call file_create_url and get full http://...
+ *  paths on so much.   Eventually consider recoding whole site...
+ */
+function file_uncreate_url($url) {
+	$pieces = explode("com/", $url);
+	
+	return $pieces[1];
+}
+
+function _product_default_image()
+{
+	return file_create_url("themes/vibio/images/icons/default_item.png");
+}
+
+function product_images($node, $get_main=false)
+{
+	if (is_numeric($node))
+	{
+		$node = node_load($node);
+	}
+	if (!$node)
+	{
+		return array();
+	}
+	
+	$images = array();
+	if ($get_main && !empty($node->field_main_image[0]['filepath']))
+	{
+		$images[] = file_create_url($node->field_main_image[0]['filepath']);
+	}
+	
+	if (!empty($node->field_images))
+	foreach ($node->field_images as $image)
+	{
+		if (file_exists($image['filepath']))
+		{
+			$images[] = file_create_url($image['filepath']);
+		}
+	}
+	
+	return $images;
+}
+
+function product_set_external_search($val=false, $set=false)
+{
+	static $is_external_search = false;
+	
+	if ($set)
+	{
+		$is_external_search = $val;
+	}
+	
+	return $is_external_search;
+}
+
+function product_set_external_search_page_offset($offset=-1)
+{
+	if (!isset($_SESSION['product']['search_page_offset']))
+	{
+		$_SESSION['product']['search_page_offset'] = 0;
+	}
+	
+	if ($offset != -1)
+	{
+		$_SESSION['product']['search_page_offset'] = $offset;
+	}
+	
+	return $_SESSION['product']['search_page_offset'];
+}
+?>
diff --git a/modules/vibio/vibio_item/product_catalog/product.module b/modules/vibio/vibio_item/product_catalog/product.module
index fc968af..748ca50 100644
--- a/modules/vibio/vibio_item/product_catalog/product.module
+++ b/modules/vibio/vibio_item/product_catalog/product.module
@@ -46,6 +46,14 @@ function product_menu()
 			"file"				=> "product.pages.php",
 			"type"				=> MENU_CALLBACK,
 		),
+	
+		/* stephen thinks this should be removed.  It merely sets a message
+     * that looks kindof silly as a "message" instead of just part of the 
+     * page.  
+			 And sets to true, what is this: $_SESSION['product']['auto_add'] = $val;
+			 I see functions to set and clear that, but does it do anythign?	
+ 			 A little afraid to touch things...
+     */
 		"product/add"			=> array(
 			"title"				=> "Add New Product",
 			"page callback"		=> "product_add_new",
@@ -86,7 +94,6 @@ function product_external_search($args)
 	}
 	
 	module_load_include("inc", "product");
-	drupal_add_js("themes/vibio/js/product.js");
 	product_set_external_search(true, true);
 	
 	$func = "{$provider}_product_search";
@@ -106,6 +113,8 @@ function product_external_search_modify_search_query(&$sql)
 	$func($sql);
 }
 
+
+
 function product_nodeapi(&$node, $op, $a3=null, $a4=null)
 {
 	if ($node->type == "vibio_item")
@@ -134,17 +143,27 @@ function product_nodeapi(&$node, $op, $a3=null, $a4=null)
 				break;
 		}
 	}
-	
+
 	if ($node->type == "product")
 	{
 		switch ($op)
 		{
 			case "insert":
-				if (product_get_autoadd())
+				if (product_get_autoadd(false))    // false means leave autoadd on.
 				{
 					module_load_include("php", "product", "product.pages");
-					drupal_get_messages();
-					product_add_to_inventory($node, true);
+					drupal_get_messages(); // ooh, sneaky. Get the messages, 
+						// but don't print them, so they go away quietly. 
+						//  $clear_queue defaults to TRUE.  Would be nice if there
+						//  was a testing mode for admins. TODO
+
+					// PREVIOUSLY
+					// We add the product-node we are about to insert [but haven't yet]
+					//	as an item-node.  We drupal_execute($form_id... 
+					//  and executing the item's form fubars the product before we've saved it.
+					// See:  product_node_form_submit_wrapper
+
+					// Not much left here, can this all move to the _wrapper?
 				}
 				break;
 			case "update index":
@@ -187,11 +206,13 @@ function product_theme()
 			"template"	=> "templates/product/owner",
 			"path"		=> drupal_get_path("theme", "vibio"),
 		),
+		// Create the have link/button, that's all.
 		"product_inventory_add"	=> array(
 			"arguments"	=> array("nid"	=> false, "searchcrumb" => ""),
 			"template"	=> "templates/product/inventory-add",
 			"path"		=> drupal_get_path("theme", "vibio"),
 		),
+		// Create the want link/button, that's all.
 		"product_inventory_want"=> array(
 			"arguments"	=> array("nid"	=> false),
 			"template"	=> "templates/product/inventory-want",
@@ -208,13 +229,11 @@ function product_theme()
 function product_preprocess_product_amazon_display(&$vars)
 {
 	drupal_add_css("themes/vibio/css/product.css");
-	drupal_add_js("themes/vibio/js/product.js");
 }
 
 function product_preprocess_product_display(&$vars)
 {
 	drupal_add_css("themes/vibio/css/product.css");
-	drupal_add_js("themes/vibio/js/product.js");
 }
 
 function product_preprocess_node(&$vars)
@@ -247,8 +266,25 @@ function product_form_alter(&$form, &$state, $id)
 	{
 		_vibio_item_unset($form, "product");
 		_vibio_item_defaults($form, "product");
+
+		// Replace node_form_submit with our similar wrapper
+		$form['buttons']['submit']['#submit'] = array('product_node_form_submit_wrapper');
 	}
 }
+function product_node_form_submit_wrapper($form, &$state) {
+	// First call the normal form submit makes a node... all the usual suspects
+	//	like nodeapi and adding additional ['#submit']'s to the form (that I found)
+	//	change the node before you save it.  The v1.0 code at product_add_to_inventory
+	//  breaks the node saving process for the product while it saves the item.
+  node_form_submit($form, $state);
+
+	if (product_get_autoadd(true)) {  // last step for autoadd'ing item to product,																					// true will clear it.
+  	$product = node_load($state['nid']); // set in node_form_submit, the
+		product_add_to_inventory($product, true);
+	}
+}
+
+
 
 function product_reports_daily_cron($last_run)
 {
@@ -322,6 +358,7 @@ function product_user_owns_product($product_id, $uid=false)
 /* warning: this uses search text for functional if
  * The point of this is something to do with searches with no results. 
  * Experiment when time
+ * !!! I think I wrote some code for blank searches to. -Stephen
  */
 function product_preprocess_box(&$vars)
 {
@@ -340,7 +377,7 @@ function product_preprocess_box(&$vars)
 	}
 }
 
-/* how does this dance with theme vibio_preprocess_search_results ? */
+/* first this goes to template.php's vibio_preprocess_search_results ? */
 function product_preprocess_search_results(&$vars)
 {
 	if ($vars['type'] == "vibio_item")
@@ -350,10 +387,10 @@ function product_preprocess_search_results(&$vars)
 		
 		module_load_include("inc", "product");
 		drupal_add_css("themes/vibio/css/product.css");
-		drupal_add_js("themes/vibio/js/product.js");
 		
 		$is_external = product_set_external_search();
-//PRODUCT_SEARCH_RESULTS_PER_PAGE does this do anything?
+//PRODUCT_SEARCH_RESULTS_PER_PAGE does this do anything?  Is the idea that if you have a full page of results in $vars['results'] 
+// which is either local, or local+Amazone but not eBay, or ???, then we don't need to do this next search?
 		
 		if (!$is_external && variable_get("product_append_external", false) && (count($vars['results']) < PRODUCT_SEARCH_RESULTS_PER_PAGE || $_GET['page'] == $pager_total[0] - 1))
 		{
@@ -363,9 +400,18 @@ function product_preprocess_search_results(&$vars)
 			$vars['other_results'] = "";
 			if (!empty($external_results))
 			{	
+				// Stephen: we need finer control on external results, add this
+				//  the pager system is out of sorts
+				$vars['unthemed_other_results'] = $external_results;
+				
 				foreach ($external_results as $result)
 				{
-					$vars['other_results'] .= theme("search_result", $result, "vibio_item"); /* stephen: what is this? */
+					$vars['other_results'] .= theme("search_result", $result, "vibio_item"); /* stephen: what is this?  Ebay, or Ebay and Amazon?  OMG:
+    *  I think other_results is basically less interesting results,
+    *  so Amazon results can be regularly results if no other results are
+    *  found, and 'other_results' if local results were found.   
+    *  Not sure about this, check later.
+    */
 				}
 				
 				$vars['pager'] = theme("pager");
@@ -373,7 +419,7 @@ function product_preprocess_search_results(&$vars)
 			
 			if ($_GET['page'] > product_set_external_search_page_offset())
 			{
-				$vars['search_results'] = "";
+				$vars['search_results'] = "";    /* has this been tested */
 			}
 		}
 		/*elseif (variable_get("product_append_external", false))
@@ -383,6 +429,7 @@ function product_preprocess_search_results(&$vars)
 	}
 }
 
+/* two functions dealing with have-want, one for search, one for view */
 function product_preprocess_search_result(&$vars)
 {
 	if ($vars['type'] == "vibio_item")
@@ -392,6 +439,14 @@ function product_preprocess_search_result(&$vars)
 		$vars['search_links'] .= $item_nid ? "" : theme("product_inventory_want", $vars['result']['node']->nid); 
 	}
 }
+function product_have_want($nid)
+{
+  $vars = array();  // not a preprocess function despite similiarities
+	$item_nid = product_user_owns_product($nid);
+	$search_links .= $item_nid ? l(t("You Own This!"), "node/{$item_nid}") : theme("product_inventory_add", $nid); // theme just creates the button.
+	$search_links .= $item_nid ? "" : theme("product_inventory_want", $nid); 
+	return $search_links;
+}
 
 function product_vibio_item_images($item_nid)
 {
diff --git a/modules/vibio/vibio_item/product_catalog/product.module--hold b/modules/vibio/vibio_item/product_catalog/product.module--hold
new file mode 100644
index 0000000..f031d4a
--- /dev/null
+++ b/modules/vibio/vibio_item/product_catalog/product.module--hold
@@ -0,0 +1,524 @@
+<?php
+define("PRODUCT_SEARCH_RESULTS_PER_PAGE", 40);
+define("PRODUCT_DETAIL_SNIPPET_LENGTH", 256);
+// PRODUCT_SEARCH_RESULTS_PER_PAGE does this do anything?  
+// Seems to be it's all done in search.module, hard-coded
+function product_perm()
+{
+	return array(
+		"product admin",
+	);
+}
+
+function product_views_api()
+{
+	return array(
+		"api"	=> 2,
+	);
+}
+
+function product_menu()
+{
+	return array(
+		"admin/settings/product-catalog"	=> array(
+			"title"				=> "Product Catalog",
+			"description"		=> "Change settings related to the product catalog",
+			"page callback"		=> "drupal_get_form",
+			"page arguments"	=> array("product_admin"),
+			"access arguments"	=> array("product admin"),
+			"file"				=> "product.forms.php",
+		),
+		"product/%node/add-to-inventory"	=> array(
+			"title callback"	=> "_product_inventory_add_title",
+			"title arguments"	=> array(1),
+			"page callback"		=> "product_add_to_inventory",
+			"page arguments"	=> array(1),
+			"access arguments"	=> array("create vibio_item content"),
+			"file"				=> "product.pages.php",
+			"type"				=> MENU_CALLBACK,
+		),
+		"product/%node/add-to-inventory/quick"	=> array(
+			"title callback"	=> "_product_inventory_add_title",
+			"title arguments"	=> array(1),
+			"page callback"		=> "product_add_to_inventory",
+			"page arguments"	=> array(1, true),
+			"access arguments"	=> array("create vibio_item content"),
+			"file"				=> "product.pages.php",
+			"type"				=> MENU_CALLBACK,
+		),
+	
+		/* 1) sets a message
+     * that looks kindof silly as a "message" instead of just part of the 
+     * page.  
+			 2) And sets to true:  $_SESSION['product']['auto_add'] = $val;
+			 I see functions to set and clear that... think it's used to differentiate
+			 adding a product by hand (maybe auto_add means if I enter a product
+			 by hand, auto_add an item of that product to my collection).
+     */
+		"product/add"			=> array(
+			"title"				=> "Add New Product",
+			"page callback"		=> "product_add_new",
+			"access arguments"	=> array("create product content"),
+			"file"				=> "product.pages.php",
+			"type"				=> MENU_CALLBACK,
+		),
+		"product/get-owners"				=> array(
+			"page callback"		=> "_product_get_owners_page",
+			"access arguments"	=> array("access content"),
+			"file"				=> "product.pages.php",
+			"type"				=> MENU_CALLBACK,
+		),
+		"product/ajax/inventory-add" => array(
+			"page callback"		=> "product_ajax_add",
+			"access arguments"	=> array("create vibio_item content"),
+			"file"				=> "product.pages.php",
+			"type"				=> MENU_CALLBACK,
+		),
+		"product/ajax/inventory-add/save" => array(
+			"page callback"		=> "product_ajax_add_complete",
+			"access arguments"	=> array("create vibio_item content"),
+			"file"				=> "product.pages.php",
+			"type"				=> MENU_CALLBACK,
+		),
+	);
+}
+
+function product_external_search($args)
+{	
+	if (!($provider = variable_get("product_source", false)) || !function_exists("{$provider}_product_search"))
+	{
+		return false;
+	}
+	if (!is_array($keys))
+	{
+		$args = array("keywords"	=> $args);
+	}
+	
+	module_load_include("inc", "product");
+	product_set_external_search(true, true);
+	
+	$func = "{$provider}_product_search";
+	$args['keywords'] = _product_remove_options($args['keywords']);
+// example $func = vibio_amazon_product_search
+	return $func($args);
+}
+
+function product_external_search_modify_search_query(&$sql)
+{
+	if (!($provider = variable_get("product_source", false)) || !function_exists("{$provider}_product_search_modify_search_query"))
+	{
+		return false;
+	}
+	
+	$func = "{$provider}_product_search_modify_search_query";
+	$func($sql);
+}
+
+
+
+function product_nodeapi(&$node, $op, $a3=null, $a4=null)
+{
+	if ($node->type == "vibio_item")
+	{
+		switch ($op)
+		{
+			case "insert":
+				if (isset($node->product_product_nid))
+				{
+					$sql = "REPLACE INTO {product_items}
+							SET `product_nid`=%d, `item_nid`=%d";
+					db_query($sql, $node->product_product_nid, $node->nid);
+				}
+				break;
+			case "delete":
+				$sql = "DELETE FROM {product_items}
+						WHERE `item_nid`=%d";
+				db_query($sql, $node->nid);
+				break;
+			case "view":
+				$sql = "SELECT `product_nid`
+						FROM {product_items}
+						WHERE `item_nid`=%d";
+				$node->product_nid = db_result(db_query($sql, $node->nid));
+			default:
+				break;
+		}
+	}
+
+	if ($node->type == "product")
+	{
+		switch ($op)
+		{
+			case "insert":
+				if (product_get_autoadd(false))    // uh oh.  This doesn't just
+						// get it, it clears it.  So if I run this second, I don't have
+					  // the node->nid, if I run it first, the other doesn't run!!
+						// add in 'false'.  Note that reloads could do who knows what
+						// to this session variable... click back, create a slightly
+						// modified product and save it, and probably won't auto_add ???
+				
+	// NOPE.  I set #submit in either order, and this runs second.  The save
+	//  just insists on being the last thing to run.  And *then* we need to act.
+				{
+					module_load_include("php", "product", "product.pages");
+					drupal_get_messages(); // ooh, sneaky. Get the messages, 
+						// but don't print them, so they go away quietly. 
+						//  $clear_queue defaults to TRUE.  Would be nice if there
+						//  was a testing mode for admins. TODO
+
+					// We add the product-node we are about to insert [but haven't yet]
+					//	as an item-node.  We drupal_execute($form_id... 
+					//  We may do may a drupal_goto.
+					//  This doesn't fubarify the product-add we're right in the middle
+					//  of?  drupal_execute($form_id can't be called in the middle
+					//  of nodeapi::insert ??? ... because filefield might also be
+					//  using nodeapi insert to find and save the image, maybe?
+
+					// Two solutions:
+					//  1) Use a later hook for this
+					//    X hook_insert() gets called before hook_nodeapi(),
+					//      which is near the end... 
+					//	Overwrite:  
+					//		- node_form_submit($form, &$form_state)
+					//  2) In product_add_to_inventory, don't use forms to create item
+					
+					//old: product_add_to_inventory($node, true);
+					// new, memorize node and call later
+/*				}
+				break;
+		 case "presave":
+
+*/
+					// presave is too early. 
+					global $new_product_node;
+					$new_product_node = $node;
+					print "1) now set " .$new_product_node->nid;
+/*print "<pre>";
+print_r (debug_backtrace());
+//die();*/
+				}
+				
+				break;
+			case "update index":
+				return theme("product_display", $node);
+			case 'search result':
+				module_load_include("inc", "product");
+				
+				return array(
+					"image"	=> _product_get_image($node->nid, true),
+				);
+		}
+	}
+}
+
+function product_theme()
+{
+	return array(
+		"product_add_product_link"	=> array(
+			"arguments"	=> array(),
+			"template"	=> "templates/product/add-product-link",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"product_amazon_display"	=> array(
+			"arguments"	=> array("node"	=> false, "page" => false),
+			"template"	=> "templates/product/amazon-display",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"product_display"	=> array(
+			"arguments"	=> array("node"	=> false, "page" => false),
+			"template"	=> "templates/product/display",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"product_owners"	=> array(
+			"arguments"	=> array("type"	=> "network", "data" => array()),
+			"template"	=> "templates/product/owners",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"product_owner"		=> array(
+			"arguments"	=> array("item"	=> array()),
+			"template"	=> "templates/product/owner",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		// Create the have link/button, that's all.
+		"product_inventory_add"	=> array(
+			"arguments"	=> array("nid"	=> false, "searchcrumb" => ""),
+			"template"	=> "templates/product/inventory-add",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		// Create the want link/button, that's all.
+		"product_inventory_want"=> array(
+			"arguments"	=> array("nid"	=> false),
+			"template"	=> "templates/product/inventory-want",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+		"product_inventory_manage_link"	=> array(
+			"arguments"	=> array("product"	=> false, "searchcrumb" => ""),
+			"template"	=> "templates/product/inventory-manage-link",
+			"path"		=> drupal_get_path("theme", "vibio"),
+		),
+	);
+}
+
+function product_preprocess_product_amazon_display(&$vars)
+{
+	drupal_add_css("themes/vibio/css/product.css");
+}
+
+function product_preprocess_product_display(&$vars)
+{
+	drupal_add_css("themes/vibio/css/product.css");
+}
+
+function product_preprocess_node(&$vars)
+{
+	if (in_array($vars['node']->type, array("product", "vibio_item")))
+	{
+		module_load_include("inc", "product");
+	}
+}
+
+function product_form_vibio_item_node_form_alter(&$form, &$state)
+{
+	$product = node_load($form['#node']->product_nid);
+	
+	if (!$product)
+	{
+		return;
+	}
+	
+	$form['title']['#default_value'] = $product->title;
+	$form['product_product_nid'] = array(
+		"#type"	=> "value",
+		"#value"=> $form['#node']->product_nid,
+	);
+}
+
+function product_form_alter(&$form, &$state, $id)
+{
+	if ($id == "product_node_form")
+	{
+		_vibio_item_unset($form, "product");
+		_vibio_item_defaults($form, "product");
+
+
+
+		// in either order, $form['#submit'] seem to happen before 
+		//	nodeapi when the node is saved and we have an nid.
+
+
+		//$form['#submit'][] = '_add_item_to_my_new_product_form_submit';
+				//$form['#submit'] = array( _add_item_to_my_new_product_form_submit, _privacy_form_submit, menu_node_form_submit );
+//print_r($form['#submit']);
+		//$form['buttons']['submit']['#submit'][] ='_add_item_to_my_new_product_form_submit';
+	//$form['buttons']['submit']['#submit'] = array('product_node_form_submit');
+	dsm($form['buttons']['submit']['#submit']);
+
+	}
+}
+function product_node_form_submit($form, &$state) {
+	node_form_submit($form, $state);
+	$product = node_load($state['nid']); // set in node_form_submit, the 
+		// product node just saved
+	_add_item_to_my_new_product_form_submit($product);
+}
+
+function _add_item_to_my_new_product_form_submit($product) {
+  // Doing this in nodeapi blew things up. AAA
+  //Neither of these knows the nid: ($form, $state);
+	print "2) add my item to $new_product_node";
+	if (product_get_autoadd(false) ) {   // end of autoadd
+		print "Yes, add to inventory\n<p>";
+  	product_add_to_inventory($new_product_node, true);
+	}
+}
+
+
+function product_reports_daily_cron($last_run)
+{
+	$sql = "SELECT td.`name` category, COUNT(*) items_created
+			FROM {term_data} td JOIN {term_node} tn JOIN {product_items} pi JOIN {node} n
+				ON td.`tid`=tn.`tid`
+				AND pi.`product_nid`=tn.`nid`
+				AND pi.`item_nid`=n.`nid`
+			WHERE n.`type`='vibio_item'
+				AND n.`created` >= %d
+			GROUP BY td.`name`
+			ORDER BY COUNT(*) DESC";
+	$res = db_query($sql, $last_run);
+	
+	while ($row = db_fetch_object($res))
+	{
+		reports_log("items", $row->items_created, $row->category);
+	}
+	
+	if ($employee_role = variable_get("reports_employee_role", false))
+	{
+		$sql = "SELECT td.`name` category, COUNT(*) items_created
+				FROM {term_data} td JOIN {term_node} tn JOIN {product_items} pi JOIN {node} n
+					ON td.`tid`=tn.`tid`
+					AND pi.`product_nid`=tn.`nid`
+					AND pi.`item_nid`=n.`nid`
+				WHERE n.`type`='vibio_item'
+					AND n.`created` >= %d
+					AND n.`uid` NOT IN (
+						SELECT `uid`
+						FROM {users_roles}
+						WHERE `rid`=%d
+					)
+				GROUP BY td.`name`
+				ORDER BY COUNT(*) DESC";
+		$res = db_query($sql, $last_run, $employee_role);
+		
+		while ($row = db_fetch_object($res))
+		{
+			reports_log("items noemployee", $row->items_created, $row->category);
+		}
+	}
+}
+
+function _product_remove_options($keys)
+{
+	return preg_replace('/(^| )([a-z0-9_]+):(.*)( |$)/i', '', $keys);
+}
+
+function _product_inventory_add_title($product)
+{
+	return t("Add \"!product\" to your inventory", array("!product" => $product->title));
+}
+
+function product_user_owns_product($product_id, $uid=false)
+{
+	if (!$uid)
+	{
+		global $user;
+		$uid = $user->uid;
+	}
+	
+	$sql = "SELECT n.`nid`
+			FROM {node} n JOIN {product_items} pi
+				ON n.`nid`=pi.`item_nid`
+			WHERE n.`uid`=%d
+				AND pi.`product_nid`=%d";
+	return db_result(db_query($sql, $uid, $product_id));
+}
+
+/* warning: this uses search text for functional if
+ * The point of this is something to do with searches with no results. 
+ * Experiment when time
+ * !!! I think I wrote some code for blank searches to. -Stephen
+ */
+function product_preprocess_box(&$vars)
+{
+	if ($vars['title'] == t("Your search yielded no results") /* ouch */ && arg(0) == "search" && arg(1) == "vibio_item")
+	{
+		if (!$_GET['external_product_search'])
+		{
+			module_load_include("inc", "product");
+			product_set_external_search_page_offset(0);
+			drupal_goto(substr(urldecode(request_uri()), 1), "external_product_search=1");
+		}
+		else
+		{
+			$vars['content'] .= theme("product_add_product_link");
+		}
+	}
+}
+
+/* first this goes to template.php's vibio_preprocess_search_results ? */
+function product_preprocess_search_results(&$vars)
+{
+	if ($vars['type'] == "vibio_item")
+	{
+		global $pager_page_array, $pager_total;
+
+		
+		module_load_include("inc", "product");
+		drupal_add_css("themes/vibio/css/product.css");
+		
+		$is_external = product_set_external_search();
+//PRODUCT_SEARCH_RESULTS_PER_PAGE does this do anything?  Is the idea that if you have a full page of results in $vars['results'] 
+// which is either local, or local+Amazone but not eBay, or ???, then we don't need to do this next search?
+		
+		if (!$is_external && variable_get("product_append_external", false) && (count($vars['results']) < PRODUCT_SEARCH_RESULTS_PER_PAGE || $_GET['page'] == $pager_total[0] - 1))
+		{
+			product_set_external_search_page_offset($pager_total[0] - 1);
+			$external_results = product_external_search(_vibio_item_search_keys());
+			
+			$vars['other_results'] = "";
+			if (!empty($external_results))
+			{	
+				// Stephen: we need finer control on external results, add this
+				//  the pager system is out of sorts
+				$vars['unthemed_other_results'] = $external_results;
+				
+				foreach ($external_results as $result)
+				{
+					$vars['other_results'] .= theme("search_result", $result, "vibio_item"); /* stephen: what is this?  Ebay, or Ebay and Amazon?  OMG:
+    *  I think other_results is basically less interesting results,
+    *  so Amazon results can be regularly results if no other results are
+    *  found, and 'other_results' if local results were found.   
+    *  Not sure about this, check later.
+    */
+				}
+				
+				$vars['pager'] = theme("pager");
+			}
+			
+			if ($_GET['page'] > product_set_external_search_page_offset())
+			{
+				$vars['search_results'] = "";    /* has this been tested */
+			}
+		}
+		/*elseif (variable_get("product_append_external", false))
+		{
+			
+		}*/
+	}
+}
+
+/* two functions dealing with have-want, one for search, one for view */
+function product_preprocess_search_result(&$vars)
+{
+	if ($vars['type'] == "vibio_item")
+	{
+		$item_nid = product_user_owns_product($vars['result']['node']->nid);
+		$vars['search_links'] .= $item_nid ? l(t("You Own This!"), "node/{$item_nid}") : theme("product_inventory_add", $vars['result']['node']->nid);
+		$vars['search_links'] .= $item_nid ? "" : theme("product_inventory_want", $vars['result']['node']->nid); 
+	}
+}
+function product_have_want($nid)
+{
+  $vars = array();  // not a preprocess function despite similiarities
+	$item_nid = product_user_owns_product($nid);
+	$search_links .= $item_nid ? l(t("You Own This!"), "node/{$item_nid}") : theme("product_inventory_add", $nid); // theme just creates the button.
+	$search_links .= $item_nid ? "" : theme("product_inventory_want", $nid); 
+	return $search_links;
+}
+
+function product_vibio_item_images($item_nid)
+{
+	module_load_include("inc", "product");
+	
+	if (!($nid = _product_nid_from_item($item_nid)))
+	{
+		return array();
+	}
+	
+	return product_images($nid);
+}
+
+function product_set_autoadd($val=true)
+{
+	$_SESSION['product']['auto_add'] = $val;
+}
+
+function product_get_autoadd($clear=true)
+{
+	$val = $_SESSION['product']['auto_add'];
+
+	if ($clear)
+		unset($_SESSION['product']['auto_add']);
+
+	return $val;
+}
+?>
diff --git a/modules/vibio/vibio_item/product_catalog/product.pages.php b/modules/vibio/vibio_item/product_catalog/product.pages.php
index 4895fae..19adb9d 100644
--- a/modules/vibio/vibio_item/product_catalog/product.pages.php
+++ b/modules/vibio/vibio_item/product_catalog/product.pages.php
@@ -1,240 +1,167 @@
 <?php
-function product_ajax_add()
-{
-	if (!($product = node_load($_POST['nid'])))
-	{
-		exit(t("Invalid product"));
-	}
-	elseif (product_user_owns_product($product->nid))
-	{
-		exit(t("You already own this item!"));
-	}
-	
-	module_load_include("php", "product", "product.forms");
-	module_load_include("inc", "product");
-	$image = _product_get_image($product->nid, true);
-	
-	$out = "
-		<table class='inventory_add_pinfo'><tr>
-			<td class='inventory_add_image'>
+function product_ajax_add() {
+if(!($product=node_load($_POST['nid']))) {
+exit(t("Invalid product"));
+} elseif(product_user_owns_product($product->nid)) {
+exit(t("You already own this item!"));
+}
+module_load_include("php","product","product.forms");
+module_load_include("inc","product");
+$image=_product_get_image($product->nid,true);
+$out="  <div id='inventory_top'><span class='bold-text'>So you own this item and want to add it to your Collections?</span><br />
+Vibio is for people who possess a unique sense of style so<br />
+make it good!</div>
+		<table width='100%' class='inventory_add_pinfo'><tr class='inventory_border_top'><td>&nbsp;</td></tr>
+		<tr>
+			<td></td><td class='inventory_add_image'>
 				<img src='$image' />
 			</td>
-			<td>
+			<td class='inventory_title'>
 				{$product->title}
 			</td>
-		</tr></table>
+		</tr><tr class='inventory_border_bottom'><td>&nbsp;</td></tr></table>
 	";
-	$out .= drupal_get_form("product_ajax_add_form", $product);
-	
-	exit($out);
+$out.=drupal_get_form("product_ajax_add_form",$product);
+exit($out);
 }
-
-function product_ajax_add_complete()
-{
-	global $user;
-	$p = $_POST;
-	
-	if (product_user_owns_product($p['nid'], $user->uid))
-	{
-		exit(t("You already own this product"));
-	}
-	elseif (!($product = node_load($p['nid'])))
-	{
-		exit(t("Invalid product"));
-	}
-	
-	module_load_include("inc", "node", "node.pages");
-	
-	$form_id = "vibio_item_node_form";
-	$node = new stdClass;
-	$node->uid = $user->uid;
-	$node->name = $user->name;
-	$node->type = "vibio_item";
-	$node->product_nid = $product->nid;
-	
-	$state['values'] = array(
-		"title"				=> $product->title,
-		"body"				=> $p['body'],
-		"name"				=> $user->name,
-		"op"				=> t("Save"),
-		"field_posting_type"=> array(array(
-			"value"	=> $p['posting_type'],
-		)),
-		"privacy_setting"	=> $p['privacy'],
-	);
-	
-	if (module_exists("offer2buy") && $p['posting_type'] == VIBIO_ITEM_TYPE_SELL)
-	{
-		$state['values']['o2b_price'] = $p['node_price'];
-		$state['values']['o2b_is_negotiable'] = false;
-		$state['values']['o2b_allow_offer_views'] = true;
-	}
-	
-	if (module_exists("collection"))
-	{
-		$cids = array();
-		foreach ($p['collections'] as $cid)
-		{
-			$cids[$cid] = $cid;
-		}
-		if (empty($cids))
-		{
-			module_load_include("inc", "collection");
-			$default = collection_get_user_default($user->uid, true);
-			$cids[$default] = $default;
-		}
-		
-		$state['values']['collection_info']['cid'] = $cids;
-	}
-	
-	node_object_prepare($node);
-	drupal_execute($form_id, $state, $node);
-	$messages = drupal_get_messages();
-	
-	$item_nid = $state['nid'];
-	$t_args = array(
-		"!title"		=> l($product->title, "node/{$item_nid}"),
-		"!view_link"	=> l(t("view the item"), "node/{$item_nid}"),
-		"!close_link"	=> l(t("close this window"), "", array("attributes" => array("class" => "vibio_dialog_close_link"))),
-		
-	);
-	
-	if ($item_nid)
-	{
-		if (!$cids)
-		{
-			exit(t("\"!title\" has been added to your inventory! You can !view_link or !close_link", $t_args));
-		}
-		
-		$collection_names = array();
-		foreach ($cids as $cid)
-		{
-			$collection = collection_load($cid);
-			$collection_names[] = l($collection['title'], "collections/{$collection['cid']}");
-		}
-		
-		if (count($cids) > 1)
-		{
-			$key = count($cids) - 1;
-			$collection_names[$key] = "and {$collection_names[$key]}";
-			$t_args['!collection'] = implode(", ", $collection_names);
-			exit(t('"!title" has been added to your !collection collections. You can !view_link or !close_link', $t_args));
-		}
-		
-		$t_args['!collection'] = implode(", ", $collection_names);
-		exit(t('"!title" has been added to your !collection collection. You can !view_link or !close_link', $t_args));
-	}
-	
-	exit(t("There was an error adding the item to your inventory. Please try again later. !close_link", $t_args));
+function product_ajax_add_complete() {
+global $user;
+$p=$_POST;
+if(product_user_owns_product($p['nid'],$user->uid)) {
+exit(t("You already own this product"));
+} elseif(!($product=node_load($p['nid']))) {
+exit(t("Invalid product"));
+}
+module_load_include("inc","node","node.pages");
+$form_id="vibio_item_node_form";
+$node=new stdClass;
+$node->uid=$user->uid;
+$node->name=$user->name;
+$node->type="vibio_item";
+$node->product_nid=$product->nid;
+$state['values']=array("title"=>$product->title,"body"=>$p['body'],"name"=>$user->name,"op"=>t("Save"),"field_posting_type"=> array( array("value"=>$p['posting_type'],)),"privacy_setting"=>$p['privacy'],);
+if(module_exists("offer2buy")&&$p['posting_type']==VIBIO_ITEM_TYPE_SELL) {
+$state['values']['o2b_price']=$p['node_price'];
+$state['values']['o2b_is_negotiable']=false;
+$state['values']['o2b_allow_offer_views']=true;
+}
+if(module_exists("collection")) {
+$cids=array();
+foreach($p['collections'] as $cid) {
+$cids[$cid]=$cid;
+}
+if(empty($cids)) {
+module_load_include("inc","collection");
+$default=collection_get_user_default($user->uid,true);
+$cids[$default]=$default;
+}
+$state['values']['collection_info']['cid']=$cids;
+}
+node_object_prepare($node);
+drupal_execute($form_id,$state,$node);
+$messages=drupal_get_messages();
+$item_nid=$state['nid'];
+$t_args=array("!title"=>l($product->title,"node/{$item_nid}"),"!view_link"=>l(t("View the item"),"node/{$item_nid}"),"!close_link"=>l(t("close this window"),"",array("attributes"=> array("class"=>"vibio_dialog_close_link"))),  // being mostly, not completely,deprecated
+);
+if($item_nid) {
+if(!$cids) {
+//exit(t("\"!title\" has been added to your inventory! You can !view_link or !close_link", $t_args));
+exit(t("\"!title\" has been added to your inventory! !view_link",$t_args));
+}
+$collection_names=array();
+foreach($cids as $cid) {
+$collection=collection_load($cid);
+$collection_names[]=l($collection['title'],"collections/{$collection['cid']}");
+}
+if(count($cids)>1) {
+$key=count($cids)-1;
+$collection_names[$key]="and {$collection_names[$key]}";
+$t_args['!collection']=implode(", ",$collection_names);
+exit(t('"!title" has been added to your !collection collections. !view_link',$t_args));
+}
+$t_args['!collection']=implode(", ",$collection_names);
+exit(t('"!title" has been added to your !collection collection. !view_link',$t_args));
+}
+exit(t("There was an error adding the item to your inventory. Please try again later. !close_link",$t_args));
 }
 
-function product_add_to_inventory($product, $quick_add=false)
-{
+function product_add_to_inventory($product,$quick_add=false) {
 	global $user;
-	
-	if ($item_id = product_user_owns_product($product->nid, $user->uid))
-	{
+	if($item_id=product_user_owns_product($product->nid,$user->uid)) {
 		drupal_set_message(t("You already own this item!"));
 		drupal_goto("node/{$item_id}");
 	}
-	
-	module_load_include("inc", "node", "node.pages");
-	
-	$form_id = "vibio_item_node_form";
-	$node = new stdClass;
-	$node->uid = $user->uid;
-	$node->name = $user->name;
-	$node->type = "vibio_item";
-	$node->product_nid = $product->nid;
-	
+	module_load_include("inc","node","node.pages");
+	$form_id="vibio_item_node_form";
+	$node=new stdClass;
+	$node->uid=$user->uid;
+	$node->name=$user->name;
+	$node->type="vibio_item";
+	$node->product_nid=$product->nid;
 	node_object_prepare($node);
-	
-	if ($quick_add)
-	{
-		$state['values'] = array(
-			"title"	=> $product->title,
-			"name"	=> $user->name,
-			"op"	=> t("Save"),
-			"field_posting_type"	=> array(
-				array(
-					"value"	=> VIBIO_ITEM_TYPE_OWN,
-				),
-			),
-		);
-		
-		if ($product->collection_info && module_exists("collection"))
-		{
-			$state['values']['collection_info']['cid'] = $product->collection_info['cid'];
+	if($quick_add) {
+		$state['values']=array("title"=>$product->title,"name"=>$user->name,"op"=>t("Save"),"field_posting_type"=> array( array("value"=>VIBIO_ITEM_TYPE_OWN,),),);
+		if($product->collection_info&&module_exists("collection")) {
+			$state['values']['collection_info']['cid']=$product->collection_info['cid'];
 		}
-		
-		if ($product->privacy_setting && module_exists("privacy"))
-		{
-			$state['values']['privacy_setting'] = $product->privacy_setting;
+		if($product->privacy_setting&&module_exists("privacy")) {
+			$state['values']['privacy_setting']=$product->privacy_setting;
 		}
-		
-		$state['values'] = array_merge_recursive($state['values'], module_invoke_all("product_inventory_quick_add", $state['values']));
-		drupal_execute($form_id, $state, $node);
-		
-		if ($nid = $state['nid'])
-		{
-			drupal_goto("node/$nid");
-		}
-		else
-		{
-			drupal_set_message(t("There was an error with quick add. Please fill out the form to add !product to your inventory", array("!product" => $product->title)), "error");
+		$state['values']=array_merge_recursive($state['values'],module_invoke_all("product_inventory_quick_add",$state['values']));
+		//dsm($form_id,$state,$node);
+
+		drupal_execute($form_id,$state,$node);   
+			// in v1.0, this outraced and ruined
+			// file uploading
+
+		if($nid=$state['nid']) {
+		drupal_goto("node/$nid");
+		} else {
+		drupal_set_message(t("There was an error with quick add. Please fill out the form to add !product to your inventory",array("!product"=>$product->title)),"error");
 		}
 	}
-	
-	$output = theme("node", $product);
-	$output .= drupal_get_form($form_id, $node);
-	
+	$output=theme("node",$product);
+	$output.=drupal_get_form($form_id,$node);
 	return $output;
 }
 
+
 /* Stephen wonders: what happens here?  It looks like a totally normal
  *  node add page, except it has a message set to act as a kind of help.
- *  Should all this be ripped out?  
+ *  Should all this be ripped out?
+ *
+ *  How important is product_set_autoadd()
+ *  ... That determines whether this is a search, or a person adding their
+ *       own product in which case they'll have an item of that product type.
+ *       It is important.
  */
-function product_add_new()
-{
-	global $user;
-	
-	product_set_autoadd();
-	module_load_include("inc", "node", "node.pages");
-	
-	$form_id = "product_node_form";
-	$node = new stdClass;
-	$node->uid = $user->uid;
-	$node->name = $user->name;
-	$node->type = "product";
-	
-	node_object_prepare($node);
-
-	// v2: less weird, move help into form, not message 	
-	drupal_set_message(t("Heres where you get to write down stuff about your product. Please share descriptive things, like the size, fabric content or whatever you think will tell us exactly what youve got."), "notice");
-	return drupal_get_form($form_id, $node);
+function product_add_new() {
+global $user;
+product_set_autoadd();
+module_load_include("inc","node","node.pages");
+$form_id="product_node_form";
+$node=new stdClass;
+$node->uid=$user->uid;
+$node->name=$user->name;
+$node->type="product";
+node_object_prepare($node);   // no nid yet
+// v2: make less weird, move help into form, not message
+drupal_set_message(t("Heres where you get to write down stuff about your product. Please share descriptive things, like the size, fabric content or whatever you think will tell us exactly what youve got."),"notice");
+return drupal_get_form($form_id,$node);
 }
-
-function _product_get_owners_page()
-{
-	global $user;
-	$p = $_POST;
-	
-	if (!isset($p['product']) || !isset($p['type']))
-	{
-		return;
-	}
-
-	// This looks very similar to node-product.tpl	
-	module_load_include("inc", "product");
-	$data = _product_get_owners($p['product'], $user->uid, $p['type'], $p['page']);
-	$output = theme("product_owners", $p['type'], $data);
-	
-	if ($p['ajax'])
-	{
-		exit($output);
-	}
-	
-	return $output;
+function _product_get_owners_page() {
+global $user;
+$p=$_POST;
+if(!isset($p['product'])||!isset($p['type'])) {
+return;
+}
+// This looks very similar to node-product.tpl
+module_load_include("inc","product");
+$data=_product_get_owners($p['product'],$user->uid,$p['type'],$p['page']);
+$output=theme("product_owners",$p['type'],$data);
+if($p['ajax']) {
+exit($output);
+}
+return $output;
 }
 ?>
diff --git a/modules/vibio/vibio_item/vibio_item.inc.php b/modules/vibio/vibio_item/vibio_item.inc.php
index bccd8f4..707be7a 100644
--- a/modules/vibio/vibio_item/vibio_item.inc.php
+++ b/modules/vibio/vibio_item/vibio_item.inc.php
@@ -296,6 +296,8 @@ function _vibio_item_user_options()
 	);
 }
 
+
+/* for example, called for the Showcase Item */
 function _vibio_item_get_image($nid)
 {
 	if (!($node = node_load($nid)))
@@ -330,7 +332,7 @@ function vibio_item_get_image($nid, $imagecachecode, $alt = null, $title = null,
 		// then I undo that here sloppy fast works fine.
 	$pattern = "/sites/";
 	$p = preg_split ( $pattern, $url, 2 );
-	$path = $pattern . $p[1];
+	$path ="sites/"  . $p[1];
 
 	return theme('imagecache', $imagecachecode, $path, $alt, $title, $attrbutes);
 
diff --git a/modules/vibio/vibio_views/vviews.module b/modules/vibio/vibio_views/vviews.module
index 9b948f4..65e1e45 100644
--- a/modules/vibio/vibio_views/vviews.module
+++ b/modules/vibio/vibio_views/vviews.module
@@ -2,7 +2,7 @@
 function vviews_views_api()
 {
 	return array(
-		"api"	=> 2,
+		"api"	=> 3, // stephen: was 2, not sure what this all does
 	);
 }
 
diff --git a/sites/all/libraries/OpenInviter/LICENSE.txt b/sites/all/libraries/OpenInviter/LICENSE.txt
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/POLICY.txt b/sites/all/libraries/OpenInviter/POLICY.txt
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/autoupdate.php b/sites/all/libraries/OpenInviter/autoupdate.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/abv.conf b/sites/all/libraries/OpenInviter/conf/abv.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/aol.conf b/sites/all/libraries/OpenInviter/conf/aol.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/apropo.conf b/sites/all/libraries/OpenInviter/conf/apropo.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/atlas.conf b/sites/all/libraries/OpenInviter/conf/atlas.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/aussiemail.conf b/sites/all/libraries/OpenInviter/conf/aussiemail.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/azet.conf b/sites/all/libraries/OpenInviter/conf/azet.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/badoo.conf b/sites/all/libraries/OpenInviter/conf/badoo.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/bebo.conf b/sites/all/libraries/OpenInviter/conf/bebo.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/bigstring.conf b/sites/all/libraries/OpenInviter/conf/bigstring.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/bookcrossing.conf b/sites/all/libraries/OpenInviter/conf/bookcrossing.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/bordermail.conf b/sites/all/libraries/OpenInviter/conf/bordermail.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/brazencareerist.conf b/sites/all/libraries/OpenInviter/conf/brazencareerist.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/canoe.conf b/sites/all/libraries/OpenInviter/conf/canoe.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/care2.conf b/sites/all/libraries/OpenInviter/conf/care2.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/clevergo.conf b/sites/all/libraries/OpenInviter/conf/clevergo.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/cyworld.conf b/sites/all/libraries/OpenInviter/conf/cyworld.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/doramail.conf b/sites/all/libraries/OpenInviter/conf/doramail.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/eons.conf b/sites/all/libraries/OpenInviter/conf/eons.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/evite.conf b/sites/all/libraries/OpenInviter/conf/evite.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/facebook.conf b/sites/all/libraries/OpenInviter/conf/facebook.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/faces.conf b/sites/all/libraries/OpenInviter/conf/faces.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/famiva.conf b/sites/all/libraries/OpenInviter/conf/famiva.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/fastmail.conf b/sites/all/libraries/OpenInviter/conf/fastmail.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/fdcareer.conf b/sites/all/libraries/OpenInviter/conf/fdcareer.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/flickr.conf b/sites/all/libraries/OpenInviter/conf/flickr.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/flingr.conf b/sites/all/libraries/OpenInviter/conf/flingr.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/flixster.conf b/sites/all/libraries/OpenInviter/conf/flixster.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/fm5.conf b/sites/all/libraries/OpenInviter/conf/fm5.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/freemail.conf b/sites/all/libraries/OpenInviter/conf/freemail.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/friendfeed.conf b/sites/all/libraries/OpenInviter/conf/friendfeed.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/friendster.conf b/sites/all/libraries/OpenInviter/conf/friendster.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/gawab.conf b/sites/all/libraries/OpenInviter/conf/gawab.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/gmail.conf b/sites/all/libraries/OpenInviter/conf/gmail.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/gmx_net.conf b/sites/all/libraries/OpenInviter/conf/gmx_net.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/graffiti.conf b/sites/all/libraries/OpenInviter/conf/graffiti.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/hi5.conf b/sites/all/libraries/OpenInviter/conf/hi5.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/hotmail.conf b/sites/all/libraries/OpenInviter/conf/hotmail.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/hushmail.conf b/sites/all/libraries/OpenInviter/conf/hushmail.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/hyves.conf b/sites/all/libraries/OpenInviter/conf/hyves.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/inbox.conf b/sites/all/libraries/OpenInviter/conf/inbox.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/india.conf b/sites/all/libraries/OpenInviter/conf/india.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/indiatimes.conf b/sites/all/libraries/OpenInviter/conf/indiatimes.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/inet.conf b/sites/all/libraries/OpenInviter/conf/inet.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/interia.conf b/sites/all/libraries/OpenInviter/conf/interia.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/katamail.conf b/sites/all/libraries/OpenInviter/conf/katamail.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/kids.conf b/sites/all/libraries/OpenInviter/conf/kids.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/kincafe.conf b/sites/all/libraries/OpenInviter/conf/kincafe.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/konnects.conf b/sites/all/libraries/OpenInviter/conf/konnects.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/koolro.conf b/sites/all/libraries/OpenInviter/conf/koolro.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/lastfm.conf b/sites/all/libraries/OpenInviter/conf/lastfm.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/libero.conf b/sites/all/libraries/OpenInviter/conf/libero.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/linkedin.conf b/sites/all/libraries/OpenInviter/conf/linkedin.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/livejournal.conf b/sites/all/libraries/OpenInviter/conf/livejournal.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/lovento.conf b/sites/all/libraries/OpenInviter/conf/lovento.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/lycos.conf b/sites/all/libraries/OpenInviter/conf/lycos.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/mail2world.conf b/sites/all/libraries/OpenInviter/conf/mail2world.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/mail_com.conf b/sites/all/libraries/OpenInviter/conf/mail_com.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/mail_in.conf b/sites/all/libraries/OpenInviter/conf/mail_in.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/mail_ru.conf b/sites/all/libraries/OpenInviter/conf/mail_ru.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/meinvz.conf b/sites/all/libraries/OpenInviter/conf/meinvz.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/meta.conf b/sites/all/libraries/OpenInviter/conf/meta.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/mevio.conf b/sites/all/libraries/OpenInviter/conf/mevio.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/motortopia.conf b/sites/all/libraries/OpenInviter/conf/motortopia.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/multiply.conf b/sites/all/libraries/OpenInviter/conf/multiply.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/mycatspace.conf b/sites/all/libraries/OpenInviter/conf/mycatspace.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/mydogspace.conf b/sites/all/libraries/OpenInviter/conf/mydogspace.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/mynet.conf b/sites/all/libraries/OpenInviter/conf/mynet.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/myspace.conf b/sites/all/libraries/OpenInviter/conf/myspace.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/netaddress.conf b/sites/all/libraries/OpenInviter/conf/netaddress.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/netlog.conf b/sites/all/libraries/OpenInviter/conf/netlog.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/ning.conf b/sites/all/libraries/OpenInviter/conf/ning.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/nz11.conf b/sites/all/libraries/OpenInviter/conf/nz11.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/o2.conf b/sites/all/libraries/OpenInviter/conf/o2.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/operamail.conf b/sites/all/libraries/OpenInviter/conf/operamail.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/orkut.conf b/sites/all/libraries/OpenInviter/conf/orkut.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/perfspot.conf b/sites/all/libraries/OpenInviter/conf/perfspot.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/plaxo.conf b/sites/all/libraries/OpenInviter/conf/plaxo.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/plazes.conf b/sites/all/libraries/OpenInviter/conf/plazes.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/plurk.conf b/sites/all/libraries/OpenInviter/conf/plurk.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/pochta.conf b/sites/all/libraries/OpenInviter/conf/pochta.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/popstarmail.conf b/sites/all/libraries/OpenInviter/conf/popstarmail.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/rambler.conf b/sites/all/libraries/OpenInviter/conf/rambler.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/rediff.conf b/sites/all/libraries/OpenInviter/conf/rediff.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/sapo.conf b/sites/all/libraries/OpenInviter/conf/sapo.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/skyrock.conf b/sites/all/libraries/OpenInviter/conf/skyrock.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/tagged.conf b/sites/all/libraries/OpenInviter/conf/tagged.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/techemail.conf b/sites/all/libraries/OpenInviter/conf/techemail.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/terra.conf b/sites/all/libraries/OpenInviter/conf/terra.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/twitter.conf b/sites/all/libraries/OpenInviter/conf/twitter.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/uk2.conf b/sites/all/libraries/OpenInviter/conf/uk2.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/vimeo.conf b/sites/all/libraries/OpenInviter/conf/vimeo.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/virgilio.conf b/sites/all/libraries/OpenInviter/conf/virgilio.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/vkontakte.conf b/sites/all/libraries/OpenInviter/conf/vkontakte.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/walla.conf b/sites/all/libraries/OpenInviter/conf/walla.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/web_de.conf b/sites/all/libraries/OpenInviter/conf/web_de.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/wpl.conf b/sites/all/libraries/OpenInviter/conf/wpl.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/xanga.conf b/sites/all/libraries/OpenInviter/conf/xanga.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/xing.conf b/sites/all/libraries/OpenInviter/conf/xing.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/xuqa.conf b/sites/all/libraries/OpenInviter/conf/xuqa.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/yahoo.conf b/sites/all/libraries/OpenInviter/conf/yahoo.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/yandex.conf b/sites/all/libraries/OpenInviter/conf/yandex.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/youtube.conf b/sites/all/libraries/OpenInviter/conf/youtube.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/conf/zapak.conf b/sites/all/libraries/OpenInviter/conf/zapak.conf
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/config.php b/sites/all/libraries/OpenInviter/config.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/default.php b/sites/all/libraries/OpenInviter/default.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/example.php b/sites/all/libraries/OpenInviter/example.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/index.htm b/sites/all/libraries/OpenInviter/index.htm
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/index.html b/sites/all/libraries/OpenInviter/index.html
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/index.php b/sites/all/libraries/OpenInviter/index.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/install.txt b/sites/all/libraries/OpenInviter/install.txt
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/more_examples/css/jquery.fancybox-1.3.4.css b/sites/all/libraries/OpenInviter/more_examples/css/jquery.fancybox-1.3.4.css
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/more_examples/css/style.css b/sites/all/libraries/OpenInviter/more_examples/css/style.css
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/more_examples/css/uniform.default.css b/sites/all/libraries/OpenInviter/more_examples/css/uniform.default.css
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/more_examples/example_autodetect.php b/sites/all/libraries/OpenInviter/more_examples/example_autodetect.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/more_examples/example_list.php b/sites/all/libraries/OpenInviter/more_examples/example_list.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/more_examples/get_contacts.php b/sites/all/libraries/OpenInviter/more_examples/get_contacts.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/more_examples/js/jquery.easing-1.3.pack.js b/sites/all/libraries/OpenInviter/more_examples/js/jquery.easing-1.3.pack.js
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/more_examples/js/jquery.fancybox-1.3.4.pack.js b/sites/all/libraries/OpenInviter/more_examples/js/jquery.fancybox-1.3.4.pack.js
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/more_examples/js/jquery.mousewheel-3.0.4.pack.js b/sites/all/libraries/OpenInviter/more_examples/js/jquery.mousewheel-3.0.4.pack.js
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/more_examples/js/jquery.uniform.min.js b/sites/all/libraries/OpenInviter/more_examples/js/jquery.uniform.min.js
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/notifier.php b/sites/all/libraries/OpenInviter/notifier.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/openinviter.php b/sites/all/libraries/OpenInviter/openinviter.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/_base.php b/sites/all/libraries/OpenInviter/plugins/_base.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/_hosted.plg.php b/sites/all/libraries/OpenInviter/plugins/_hosted.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/abv.plg.php b/sites/all/libraries/OpenInviter/plugins/abv.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/aol.plg.php b/sites/all/libraries/OpenInviter/plugins/aol.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/apropo.plg.php b/sites/all/libraries/OpenInviter/plugins/apropo.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/atlas.plg.php b/sites/all/libraries/OpenInviter/plugins/atlas.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/aussiemail.plg.php b/sites/all/libraries/OpenInviter/plugins/aussiemail.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/azet.plg.php b/sites/all/libraries/OpenInviter/plugins/azet.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/badoo.plg.php b/sites/all/libraries/OpenInviter/plugins/badoo.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/bebo.plg.php b/sites/all/libraries/OpenInviter/plugins/bebo.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/bigstring.plg.php b/sites/all/libraries/OpenInviter/plugins/bigstring.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/bookcrossing.plg.php b/sites/all/libraries/OpenInviter/plugins/bookcrossing.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/bordermail.plg.php b/sites/all/libraries/OpenInviter/plugins/bordermail.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/brazencareerist.plg.php b/sites/all/libraries/OpenInviter/plugins/brazencareerist.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/canoe.plg.php b/sites/all/libraries/OpenInviter/plugins/canoe.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/care2.plg.php b/sites/all/libraries/OpenInviter/plugins/care2.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/clevergo.plg.php b/sites/all/libraries/OpenInviter/plugins/clevergo.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/cyworld.plg.php b/sites/all/libraries/OpenInviter/plugins/cyworld.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/doramail.plg.php b/sites/all/libraries/OpenInviter/plugins/doramail.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/eons.plg.php b/sites/all/libraries/OpenInviter/plugins/eons.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/evite.plg.php b/sites/all/libraries/OpenInviter/plugins/evite.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/facebook.plg.php b/sites/all/libraries/OpenInviter/plugins/facebook.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/faces.plg.php b/sites/all/libraries/OpenInviter/plugins/faces.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/famiva.plg.php b/sites/all/libraries/OpenInviter/plugins/famiva.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/fastmail.plg.php b/sites/all/libraries/OpenInviter/plugins/fastmail.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/fdcareer.plg.php b/sites/all/libraries/OpenInviter/plugins/fdcareer.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/flickr.plg.php b/sites/all/libraries/OpenInviter/plugins/flickr.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/flingr.plg.php b/sites/all/libraries/OpenInviter/plugins/flingr.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/flixster.plg.php b/sites/all/libraries/OpenInviter/plugins/flixster.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/fm5.plg.php b/sites/all/libraries/OpenInviter/plugins/fm5.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/freemail.plg.php b/sites/all/libraries/OpenInviter/plugins/freemail.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/friendfeed.plg.php b/sites/all/libraries/OpenInviter/plugins/friendfeed.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/friendster.plg.php b/sites/all/libraries/OpenInviter/plugins/friendster.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/gawab.plg.php b/sites/all/libraries/OpenInviter/plugins/gawab.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/gmail.plg.php b/sites/all/libraries/OpenInviter/plugins/gmail.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/gmx_net.plg.php b/sites/all/libraries/OpenInviter/plugins/gmx_net.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/graffiti.plg.php b/sites/all/libraries/OpenInviter/plugins/graffiti.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/hi5.plg.php b/sites/all/libraries/OpenInviter/plugins/hi5.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/hotmail.plg.php b/sites/all/libraries/OpenInviter/plugins/hotmail.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/hushmail.plg.php b/sites/all/libraries/OpenInviter/plugins/hushmail.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/hyves.plg.php b/sites/all/libraries/OpenInviter/plugins/hyves.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/inbox.plg.php b/sites/all/libraries/OpenInviter/plugins/inbox.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/india.plg.php b/sites/all/libraries/OpenInviter/plugins/india.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/indiatimes.plg.php b/sites/all/libraries/OpenInviter/plugins/indiatimes.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/inet.plg.php b/sites/all/libraries/OpenInviter/plugins/inet.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/interia.plg.php b/sites/all/libraries/OpenInviter/plugins/interia.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/katamail.plg.php b/sites/all/libraries/OpenInviter/plugins/katamail.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/kids.plg.php b/sites/all/libraries/OpenInviter/plugins/kids.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/kincafe.plg.php b/sites/all/libraries/OpenInviter/plugins/kincafe.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/konnects.plg.php b/sites/all/libraries/OpenInviter/plugins/konnects.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/koolro.plg.php b/sites/all/libraries/OpenInviter/plugins/koolro.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/lastfm.plg.php b/sites/all/libraries/OpenInviter/plugins/lastfm.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/libero.plg.php b/sites/all/libraries/OpenInviter/plugins/libero.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/linkedin.plg.php b/sites/all/libraries/OpenInviter/plugins/linkedin.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/livejournal.plg.php b/sites/all/libraries/OpenInviter/plugins/livejournal.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/lovento.plg.php b/sites/all/libraries/OpenInviter/plugins/lovento.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/lycos.plg.php b/sites/all/libraries/OpenInviter/plugins/lycos.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/mail2world.plg.php b/sites/all/libraries/OpenInviter/plugins/mail2world.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/mail_com.plg.php b/sites/all/libraries/OpenInviter/plugins/mail_com.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/mail_in.plg.php b/sites/all/libraries/OpenInviter/plugins/mail_in.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/mail_ru.plg.php b/sites/all/libraries/OpenInviter/plugins/mail_ru.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/meinvz.plg.php b/sites/all/libraries/OpenInviter/plugins/meinvz.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/meta.plg.php b/sites/all/libraries/OpenInviter/plugins/meta.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/mevio.plg.php b/sites/all/libraries/OpenInviter/plugins/mevio.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/motortopia.plg.php b/sites/all/libraries/OpenInviter/plugins/motortopia.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/msn.plg.php b/sites/all/libraries/OpenInviter/plugins/msn.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/multiply.plg.php b/sites/all/libraries/OpenInviter/plugins/multiply.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/mycatspace.plg.php b/sites/all/libraries/OpenInviter/plugins/mycatspace.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/mydogspace.plg.php b/sites/all/libraries/OpenInviter/plugins/mydogspace.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/mynet.plg.php b/sites/all/libraries/OpenInviter/plugins/mynet.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/myspace.plg.php b/sites/all/libraries/OpenInviter/plugins/myspace.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/netaddress.plg.php b/sites/all/libraries/OpenInviter/plugins/netaddress.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/netlog.plg.php b/sites/all/libraries/OpenInviter/plugins/netlog.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/ning.plg.php b/sites/all/libraries/OpenInviter/plugins/ning.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/nz11.plg.php b/sites/all/libraries/OpenInviter/plugins/nz11.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/o2.plg.php b/sites/all/libraries/OpenInviter/plugins/o2.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/operamail.plg.php b/sites/all/libraries/OpenInviter/plugins/operamail.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/orkut.plg.php b/sites/all/libraries/OpenInviter/plugins/orkut.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/perfspot.plg.php b/sites/all/libraries/OpenInviter/plugins/perfspot.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/plaxo.plg.php b/sites/all/libraries/OpenInviter/plugins/plaxo.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/plazes.plg.php b/sites/all/libraries/OpenInviter/plugins/plazes.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/plurk.plg.php b/sites/all/libraries/OpenInviter/plugins/plurk.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/pochta.plg.php b/sites/all/libraries/OpenInviter/plugins/pochta.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/popstarmail.plg.php b/sites/all/libraries/OpenInviter/plugins/popstarmail.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/rambler.plg.php b/sites/all/libraries/OpenInviter/plugins/rambler.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/rediff.plg.php b/sites/all/libraries/OpenInviter/plugins/rediff.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/sapo.plg.php b/sites/all/libraries/OpenInviter/plugins/sapo.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/skyrock.plg.php b/sites/all/libraries/OpenInviter/plugins/skyrock.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/tagged.plg.php b/sites/all/libraries/OpenInviter/plugins/tagged.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/techemail.plg.php b/sites/all/libraries/OpenInviter/plugins/techemail.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/terra.plg.php b/sites/all/libraries/OpenInviter/plugins/terra.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/twitter.plg.php b/sites/all/libraries/OpenInviter/plugins/twitter.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/uk2.plg.php b/sites/all/libraries/OpenInviter/plugins/uk2.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/vimeo.plg.php b/sites/all/libraries/OpenInviter/plugins/vimeo.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/virgilio.plg.php b/sites/all/libraries/OpenInviter/plugins/virgilio.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/vkontakte.plg.php b/sites/all/libraries/OpenInviter/plugins/vkontakte.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/walla.plg.php b/sites/all/libraries/OpenInviter/plugins/walla.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/web_de.plg.php b/sites/all/libraries/OpenInviter/plugins/web_de.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/wpl.plg.php b/sites/all/libraries/OpenInviter/plugins/wpl.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/xanga.plg.php b/sites/all/libraries/OpenInviter/plugins/xanga.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/xing.plg.php b/sites/all/libraries/OpenInviter/plugins/xing.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/xuqa.plg.php b/sites/all/libraries/OpenInviter/plugins/xuqa.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/yahoo.plg.php b/sites/all/libraries/OpenInviter/plugins/yahoo.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/yandex.plg.php b/sites/all/libraries/OpenInviter/plugins/yandex.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/youtube.plg.php b/sites/all/libraries/OpenInviter/plugins/youtube.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/plugins/zapak.plg.php b/sites/all/libraries/OpenInviter/plugins/zapak.plg.php
old mode 100755
new mode 100644
diff --git a/sites/all/libraries/OpenInviter/stats.php b/sites/all/libraries/OpenInviter/stats.php
old mode 100755
new mode 100644
diff --git a/sites/all/modules/.views_fluidgrid/.orig-views_fluidgrid.module b/sites/all/modules/.views_fluidgrid/.orig-views_fluidgrid.module
new file mode 100644
index 0000000..066b50a
--- /dev/null
+++ b/sites/all/modules/.views_fluidgrid/.orig-views_fluidgrid.module
@@ -0,0 +1,80 @@
+<?php // $Id: views_fluidgrid.module,v 1.1.2.4 2010/03/16 07:16:01 doublethink Exp $
+
+/**
+ * @file
+ * Provide a fluid grid display style for Views.
+ */
+
+/**
+ * Implementation of hook_views_api().
+ */
+function views_fluidgrid_views_api() {
+  return array('api' => 2);
+}
+
+/**
+ * Template function for views_fluidgrid
+ *
+ * @param array $vars
+ *  Array of template variables.
+ */
+function template_preprocess_views_view_fluidgrid(&$vars) {
+  $view = $vars['view'];
+  $options = $view->style_plugin->options;
+  
+  drupal_add_js(drupal_get_path('module', 'views_fluidgrid') .'/js/jquery.masonry.min.js');
+  drupal_add_css(drupal_get_path('module', 'views_fluidgrid') .'/views_fluidgrid.css');
+
+  $vars['views_fluidgrid_id'] = 'views_fluidgrid_'. $view->name .'_'. $view->current_display;
+  $vars['views_fluidgrid_item_class'] = 'views-fluidgrid-item';
+
+  $view_settings['single_mode'] = check_plain($options['single_mode']);
+  $view_settings['column_width'] = check_plain($options['column_width']);
+  $view_settings['resizeable'] = check_plain($options['resizeable']);
+  $view_settings['callback'] = $options['callback'];
+  
+  $settings = $view_settings;
+  
+  /* This looks like shit! but I had to this to make this compatable with Views Display Tabs
+   * Adding the script inline with each view helps in loading each view's settings seperatly when called via AJAX
+   * If you have another way to do this, please let me know.
+   */
+  $vars['script'] .= "\n<script type=\"text/javascript\">
+    <!--//--><![CDATA[//><!--
+    Drupal.behaviors.viewsFluidGrid = function(context) {
+      viewsFluidGrid = {}; viewsFluidGrid.".$vars['views_fluidgrid_id']." = {};
+      if (!$('#".$vars['views_fluidgrid_id']."').hasClass('views-fluidgrid-processed')) {
+        viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings = ". drupal_to_js($settings) .";
+        $('#".$vars['views_fluidgrid_id']."').masonry({
+          singleMode: viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings.single_mode,
+          columnWidth: viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings.column_width,
+          itemSelector: '.views-fluidgrid-item:visible',
+          resizeable: viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings.resizeable,
+          appendedContent: $('#".$vars['views_fluidgrid_id']."'),
+          saveOptions: false
+          },  function() { eval(viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings.callback); }
+        ); $('#".$vars['views_fluidgrid_id']."').addClass('views-fluidgrid-processed');
+      }
+	  }; //--><!]]>
+    </script>";
+}
+
+/**
+ * Only returns true the first time it's called for an id
+ *
+ * @param $id
+ *  A uniqe view id.
+ *
+ * @return bool
+ *  TRUE for the first time called for a given $id
+ *  FALSE for each time after that
+ */
+function theme_views_fluidgrid_display_item($id) {
+  static $display = array();
+
+  if (!isset($display[$id])) $display[$id] = FALSE;
+  $output = $display[$id];
+  if ($display[$id] == FALSE) $display[$id] = TRUE;
+
+  return $output;
+}
\ No newline at end of file
diff --git a/sites/all/modules/.views_fluidgrid/LICENSE.txt b/sites/all/modules/.views_fluidgrid/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/.views_fluidgrid/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/.views_fluidgrid/js/jquery.infinitescroll.min.js b/sites/all/modules/.views_fluidgrid/js/jquery.infinitescroll.min.js
new file mode 100644
index 0000000..27c3455
--- /dev/null
+++ b/sites/all/modules/.views_fluidgrid/js/jquery.infinitescroll.min.js
@@ -0,0 +1,47 @@
+/*
+	--------------------------------
+	Infinite Scroll
+	--------------------------------
+	+ https://github.com/paulirish/infinitescroll
+	+ version 2.0b2.110713
+	+ Copyright 2011 Paul Irish & Luke Shumard
+	+ Licensed under the MIT license
+
+	+ Documentation: http://infinite-scroll.com/
+
+*/
+
+(function(window,$,undefined){$.infinitescroll=function infscr(options,callback,element){this.element=$(element);this._create(options,callback);};$.infinitescroll.defaults={loading:{finished:undefined,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"http://www.infinite-scroll.com/loading.gif",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:'fast',start:undefined},state:{isDuringAjax:false,isInvalidPage:false,isDestroyed:false,isDone:false,isPaused:false,currPage:1},callback:undefined,debug:false,behavior:undefined,binder:$(window),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:false,pathParse:undefined,dataType:'html',appendCallback:true,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:undefined,path:undefined};$.infinitescroll.prototype={_binding:function infscr_binding(binding){var instance=this,opts=instance.options;if(!!opts.behavior&&this['_binding_'+opts.behavior]!==undefined){this['_binding_'+opts.behavior].call(this);return;}
+if(binding!=='bind'&&binding!=='unbind'){this._debug('Binding value  '+binding+' not valid')
+return false;}
+if(binding=='unbind'){(this.options.binder).unbind('smartscroll.infscr.'+instance.options.infid);}else{(this.options.binder)[binding]('smartscroll.infscr.'+instance.options.infid,function(){instance.scroll();});};this._debug('Binding',binding);},_create:function infscr_create(options,callback){if(!this._validate(options)){return false;}
+var opts=this.options=$.extend(true,{},$.infinitescroll.defaults,options),relurl=/(.*?\/\/).*?(\/.*)/,path=$(opts.nextSelector).attr('href');opts.contentSelector=opts.contentSelector||this.element;opts.loading.selector=opts.loading.selector||opts.contentSelector;if(!path){this._debug('Navigation selector not found');return;}
+opts.path=this._determinepath(path);opts.loading.msg=$('<div id="infscr-loading"><img alt="Loading..." src="'+opts.loading.img+'" /><div>'+opts.loading.msgText+'</div></div>');(new Image()).src=opts.loading.img;opts.pixelsFromNavToBottom=$(document).height()-$(opts.navSelector).offset().top;opts.loading.start=opts.loading.start||function(){$(opts.navSelector).hide();opts.loading.msg.appendTo(opts.loading.selector).show(opts.loading.speed,function(){beginAjax(opts);});};opts.loading.finished=opts.loading.finished||function(){opts.loading.msg.fadeOut('normal');};opts.callback=function(instance,data){if(!!opts.behavior&&instance['_callback_'+opts.behavior]!==undefined){instance['_callback_'+opts.behavior].call($(opts.contentSelector)[0],data);}
+if(callback){callback.call($(opts.contentSelector)[0],data);}};this._setup();},_debug:function infscr_debug(){if(this.options.debug){return window.console&&console.log.call(console,arguments);}},_determinepath:function infscr_determinepath(path){var opts=this.options;if(!!opts.behavior&&this['_determinepath_'+opts.behavior]!==undefined){this['_determinepath_'+opts.behavior].call(this,path);return;}
+if(!!opts.pathParse){this._debug('pathParse manual');return opts.pathParse;}else if(path.match(/^(.*?)\b2\b(.*?$)/)){path=path.match(/^(.*?)\b2\b(.*?$)/).slice(1);}else if(path.match(/^(.*?)2(.*?$)/)){if(path.match(/^(.*?page=)2(\/.*|$)/)){path=path.match(/^(.*?page=)2(\/.*|$)/).slice(1);return path;}
+path=path.match(/^(.*?)2(.*?$)/).slice(1);}else{if(path.match(/^(.*?page=)1(\/.*|$)/)){path=path.match(/^(.*?page=)1(\/.*|$)/).slice(1);return path;}else{this._debug('Sorry, we couldn\'t parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.');opts.state.isInvalidPage=true;}}
+this._debug('determinePath',path);return path;},_error:function infscr_error(xhr){var opts=this.options;if(!!opts.behavior&&this['_error_'+opts.behavior]!==undefined){this['_error_'+opts.behavior].call(this,xhr);return;}
+if(xhr!=='destroy'&&xhr!=='end'){xhr='unknown';}
+this._debug('Error',xhr);if(xhr=='end'){this._showdonemsg();}
+opts.state.isDone=true;opts.state.currPage=1;opts.state.isPaused=false;this._binding('unbind');},_loadcallback:function infscr_loadcallback(box,data){var opts=this.options,callback=this.options.callback,result=(opts.state.isDone)?'done':(!opts.appendCallback)?'no-append':'append',frag;if(!!opts.behavior&&this['_loadcallback_'+opts.behavior]!==undefined){this['_loadcallback_'+opts.behavior].call(this,box,data);return;}
+switch(result){case'done':this._showdonemsg();return false;break;case'no-append':if(opts.dataType=='html'){data='<div>'+data+'</div>';data=$(data).find(opts.itemSelector);};break;case'append':var children=box.children();if(children.length==0){return this._error('end');}
+frag=document.createDocumentFragment();while(box[0].firstChild){frag.appendChild(box[0].firstChild);}
+this._debug('contentSelector',$(opts.contentSelector)[0])
+$(opts.contentSelector)[0].appendChild(frag);data=children.get();break;}
+opts.loading.finished.call($(opts.contentSelector)[0],opts)
+if(opts.animate){var scrollTo=$(window).scrollTop()+$('#infscr-loading').height()+opts.extraScrollPx+'px';$('html,body').animate({scrollTop:scrollTo},800,function(){opts.state.isDuringAjax=false;});}
+if(!opts.animate)opts.state.isDuringAjax=false;callback(this,data);},_nearbottom:function infscr_nearbottom(){var opts=this.options,pixelsFromWindowBottomToBottom=0+$(document).height()-(opts.binder.scrollTop())-$(window).height();if(!!opts.behavior&&this['_nearbottom_'+opts.behavior]!==undefined){this['_nearbottom_'+opts.behavior].call(this);return;}
+this._debug('math:',pixelsFromWindowBottomToBottom,opts.pixelsFromNavToBottom);return(pixelsFromWindowBottomToBottom-opts.bufferPx<opts.pixelsFromNavToBottom);},_pausing:function infscr_pausing(pause){var opts=this.options;if(!!opts.behavior&&this['_pausing_'+opts.behavior]!==undefined){this['_pausing_'+opts.behavior].call(this,pause);return;}
+if(pause!=='pause'&&pause!=='resume'&&pause!==null){this._debug('Invalid argument. Toggling pause value instead');};pause=(pause&&(pause=='pause'||pause=='resume'))?pause:'toggle';switch(pause){case'pause':opts.state.isPaused=true;break;case'resume':opts.state.isPaused=false;break;case'toggle':opts.state.isPaused=!opts.state.isPaused;break;}
+this._debug('Paused',opts.state.isPaused);return false;},_setup:function infscr_setup(){var opts=this.options;if(!!opts.behavior&&this['_setup_'+opts.behavior]!==undefined){this['_setup_'+opts.behavior].call(this);return;}
+this._binding('bind');return false;},_showdonemsg:function infscr_showdonemsg(){var opts=this.options;if(!!opts.behavior&&this['_showdonemsg_'+opts.behavior]!==undefined){this['_showdonemsg_'+opts.behavior].call(this);return;}
+opts.loading.msg.find('img').hide().parent().find('div').html(opts.loading.finishedMsg).animate({opacity:1},2000,function(){$(this).parent().fadeOut('normal');});opts.errorCallback.call($(opts.contentSelector)[0],'done');},_validate:function infscr_validate(opts){for(var key in opts){if(key.indexOf&&key.indexOf('Selector')>-1&&$(opts[key]).length===0){this._debug('Your '+key+' found no elements.');return false;}
+return true;}},bind:function infscr_bind(){this._binding('bind');},destroy:function infscr_destroy(){this.options.state.isDestroyed=true;return this._error('destroy');},pause:function infscr_pause(){this._pausing('pause');},resume:function infscr_resume(){this._pausing('resume');},retrieve:function infscr_retrieve(pageNum){var instance=this,opts=instance.options,path=opts.path,box,frag,desturl,method,condition,pageNum=pageNum||null,getPage=(!!pageNum)?pageNum:opts.state.currPage;beginAjax=function infscr_ajax(opts){opts.state.currPage++;instance._debug('heading into ajax',path);box=$(opts.contentSelector).is('table')?$('<tbody/>'):$('<div/>');desturl=path.join(opts.state.currPage);method=(opts.dataType=='html'||opts.dataType=='json')?opts.dataType:'html+callback';if(opts.appendCallback&&opts.dataType=='html')method+='+callback'
+switch(method){case'html+callback':instance._debug('Using HTML via .load() method');box.load(desturl+' '+opts.itemSelector,null,function infscr_ajax_callback(responseText){instance._loadcallback(box,responseText);});break;case'html':case'json':instance._debug('Using '+(method.toUpperCase())+' via $.ajax() method');$.ajax({url:desturl,dataType:opts.dataType,complete:function infscr_ajax_callback(jqXHR,textStatus){condition=(typeof(jqXHR.isResolved)!=='undefined')?(jqXHR.isResolved()):(textStatus==="success"||textStatus==="notmodified");(condition)?instance._loadcallback(box,jqXHR.responseText):instance._error('end');}});break;}};if(!!opts.behavior&&this['retrieve_'+opts.behavior]!==undefined){this['retrieve_'+opts.behavior].call(this,pageNum);return;}
+if(opts.state.isDestroyed){this._debug('Instance is destroyed');return false;};opts.state.isDuringAjax=true;opts.loading.start.call($(opts.contentSelector)[0],opts);},scroll:function infscr_scroll(){var opts=this.options,state=opts.state;if(!!opts.behavior&&this['scroll_'+opts.behavior]!==undefined){this['scroll_'+opts.behavior].call(this);return;}
+if(state.isDuringAjax||state.isInvalidPage||state.isDone||state.isDestroyed||state.isPaused)return;if(!this._nearbottom())return;this.retrieve();},toggle:function infscr_toggle(){this._pausing();},unbind:function infscr_unbind(){this._binding('unbind');},update:function infscr_options(key){if($.isPlainObject(key)){this.options=$.extend(true,this.options,key);}}}
+$.fn.infinitescroll=function infscr_init(options,callback){var thisCall=typeof options;switch(thisCall){case'string':var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=$.data(this,'infinitescroll');if(!instance){return false;}
+if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return false;}
+instance[options].apply(instance,args);});break;case'object':this.each(function(){var instance=$.data(this,'infinitescroll');if(instance){instance.update(options);}else{$.data(this,'infinitescroll',new $.infinitescroll(options,callback,this));}});break;}
+return this;};var event=$.event,scrollTimeout;event.special.smartscroll={setup:function(){$(this).bind("scroll",event.special.smartscroll.handler);},teardown:function(){$(this).unbind("scroll",event.special.smartscroll.handler);},handler:function(event,execAsap){var context=this,args=arguments;event.type="smartscroll";if(scrollTimeout){clearTimeout(scrollTimeout);}
+scrollTimeout=setTimeout(function(){$.event.handle.apply(context,args);},execAsap==="execAsap"?0:100);}};$.fn.smartscroll=function(fn){return fn?this.bind("smartscroll",fn):this.trigger("smartscroll",["execAsap"]);};})(window,jQuery);
\ No newline at end of file
diff --git a/sites/all/modules/.views_fluidgrid/js/jquery.masonry.min.js b/sites/all/modules/.views_fluidgrid/js/jquery.masonry.min.js
new file mode 100644
index 0000000..cc903d0
--- /dev/null
+++ b/sites/all/modules/.views_fluidgrid/js/jquery.masonry.min.js
@@ -0,0 +1,6 @@
+/*************************************************
+**  jQuery Masonry version 1.0.1
+**  copyright David DeSandro, licensed GPL & MIT
+**  http://desandro.com/resources/jquery-masonry
+**************************************************/
+;(function($){$.fn.masonry=function(options,callback){function placeBrick($brick,setCount,setY,setSpan,props){var shortCol=0;for(i=0;i<setCount;i++){if(setY[i]<setY[shortCol])shortCol=i}$brick.css({top:setY[shortCol],left:props.colW*shortCol+props.posLeft});for(i=0;i<setSpan;i++){props.colY[shortCol+i]=setY[shortCol]+$brick.outerHeight(true)}}function masonrySetup($wall,opts,props){props.$bricks=opts.itemSelector==undefined?opts.$brickParent.children():opts.$brickParent.find(opts.itemSelector);if(opts.columnWidth==undefined){props.colW=props.masoned?$wall.data('masonry').colW:props.$bricks.outerWidth(true)}else{props.colW=opts.columnWidth}props.colCount=Math.floor($wall.width()/props.colW);props.colCount=Math.max(props.colCount,1)}function masonryArrange($wall,opts,props){if(!props.masoned)$wall.css('position','relative');if(!props.masoned||opts.appendedContent!=undefined){props.$bricks.css('position','absolute')}var cursor=$('<div />');$wall.prepend(cursor);props.posTop=Math.round(cursor.position().top);props.posLeft=Math.round(cursor.position().left);cursor.remove();if(props.masoned&&opts.appendedContent!=undefined){props.colY=$wall.data('masonry').colY;for(i=$wall.data('masonry').colCount;i<props.colCount;i++){props.colY[i]=props.posTop}}else{props.colY=[];for(i=0;i<props.colCount;i++){props.colY[i]=props.posTop}}if(opts.singleMode){props.$bricks.each(function(){var $brick=$(this);placeBrick($brick,props.colCount,props.colY,1,props)})}else{props.$bricks.each(function(){var $brick=$(this);var colSpan=Math.ceil($brick.outerWidth(true)/props.colW);colSpan=Math.min(colSpan,props.colCount);if(colSpan==1){placeBrick($brick,props.colCount,props.colY,1,props)}else{var groupCount=props.colCount+1-colSpan;var groupY=[0];for(i=0;i<groupCount;i++){groupY[i]=0;for(j=0;j<colSpan;j++){groupY[i]=Math.max(groupY[i],props.colY[i+j])}}placeBrick($brick,groupCount,groupY,colSpan,props)}})}props.wallH=0;for(i=0;i<props.colCount;i++){props.wallH=Math.max(props.wallH,props.colY[i])}$wall.height(props.wallH-props.posTop);callback.call(props.$bricks);$wall.data('masonry',props)}function masonryResize($wall,opts,props){var prevColCount=$wall.data('masonry').colCount;masonrySetup($wall,opts,props);if(props.colCount!=prevColCount)masonryArrange($wall,opts,props)}return this.each(function(){var $wall=$(this);var props=$.extend({},$.masonry);props.masoned=$wall.data('masonry')!=undefined;var previousOptions=props.masoned?$wall.data('masonry').options:{};var opts=$.extend({},props.defaults,previousOptions,options);props.options=opts.saveOptions?opts:previousOptions;callback=callback||function(){};if(props.masoned&&opts.appendedContent!=undefined){opts.$brickParent=opts.appendedContent}else{opts.$brickParent=$wall}if(opts.$brickParent.children().length>0){masonrySetup($wall,opts,props);masonryArrange($wall,opts,props);var resizeOn=previousOptions.resizeable;if(!resizeOn&&opts.resizeable){$(window).bind('resize.masonry',function(){masonryResize($wall,opts,props)})}if(resizeOn&&!opts.resizeable)$(window).unbind('resize.masonry')}else{return this}})};$.masonry={defaults:{singleMode:false,columnWidth:undefined,itemSelector:undefined,appendedContent:undefined,saveOptions:true,resizeable:true},colW:undefined,colCount:undefined,colY:undefined,wallH:undefined,masoned:undefined,posTop:0,posLeft:0,options:undefined,$bricks:undefined,$brickParent:undefined}})(jQuery);
diff --git a/sites/all/modules/.views_fluidgrid/views-view-fluidgrid.tpl.php b/sites/all/modules/.views_fluidgrid/views-view-fluidgrid.tpl.php
new file mode 100644
index 0000000..631617e
--- /dev/null
+++ b/sites/all/modules/.views_fluidgrid/views-view-fluidgrid.tpl.php
@@ -0,0 +1,11 @@
+<?php // $Id: views-view-fluidgrid.tpl.php,v 1.1.2.2 2010/03/16 07:16:01 doublethink Exp $ ?>
+<?php print $script ?>
+<div id="<?php print $views_fluidgrid_id ?>" class="views-fluidgrid-wrapper clear-block">
+    <?php foreach ($rows as $row): ?>
+      <div class="<?php print $views_fluidgrid_item_class ?>">
+        <div class="views-fluidgrid-item-inner">
+          <?php print $row ?>
+        </div>
+      </div>
+    <?php endforeach; ?>
+</div>
\ No newline at end of file
diff --git a/sites/all/modules/.views_fluidgrid/views_fluidgrid.css b/sites/all/modules/.views_fluidgrid/views_fluidgrid.css
new file mode 100644
index 0000000..56a4f12
--- /dev/null
+++ b/sites/all/modules/.views_fluidgrid/views_fluidgrid.css
@@ -0,0 +1,6 @@
+/* $Id: views_fluidgrid.css,v 1.1 2010/03/02 09:24:50 doublethink Exp $ */
+
+div.views-fluidgrid-wrapper,
+div.views-fluidgrid-item-inner {
+	position:relative;
+}
\ No newline at end of file
diff --git a/sites/all/modules/.views_fluidgrid/views_fluidgrid.info b/sites/all/modules/.views_fluidgrid/views_fluidgrid.info
new file mode 100644
index 0000000..d609178
--- /dev/null
+++ b/sites/all/modules/.views_fluidgrid/views_fluidgrid.info
@@ -0,0 +1,13 @@
+; $Id: views_fluidgrid.info,v 1.1 2010/03/02 09:24:50 doublethink Exp $
+name = Views Fluid Grid - jQuery Masonry
+description = Provides a fluid grid layout based on <a href="http://desandro.com/resources/jquery-masonry">jQuery Masonry</a>
+package = Views
+core = 6.x
+dependencies[] = views
+
+; Information added by drupal.org packaging script on 2010-03-16
+version = "6.x-1.3"
+core = "6.x"
+project = "views_fluidgrid"
+datestamp = "1268724108"
+
diff --git a/sites/all/modules/.views_fluidgrid/views_fluidgrid.install b/sites/all/modules/.views_fluidgrid/views_fluidgrid.install
new file mode 100644
index 0000000..e590559
--- /dev/null
+++ b/sites/all/modules/.views_fluidgrid/views_fluidgrid.install
@@ -0,0 +1,15 @@
+<?php // $Id: views_fluidgrid.install,v 1.1.2.1 2010/03/04 08:53:46 doublethink Exp $
+
+/**
+ * Implementaton of hook_install
+ */
+function views_fluidgrid_install() {
+  db_query("UPDATE {system} SET weight = 400 WHERE name = 'views_fluidgrid'");
+}
+
+/**
+ * Implementaton of hook_uninstall
+ */
+function views_fluidgrid_uninstall() {
+  db_query("DELETE FROM {system} WHERE name = 'views_fluidgrid'");
+}
\ No newline at end of file
diff --git a/sites/all/modules/.views_fluidgrid/views_fluidgrid.module b/sites/all/modules/.views_fluidgrid/views_fluidgrid.module
new file mode 100644
index 0000000..d5f82e6
--- /dev/null
+++ b/sites/all/modules/.views_fluidgrid/views_fluidgrid.module
@@ -0,0 +1,110 @@
+
+
+<?php // $Id$
+
+
+
+/**
+ * @file
+ * Provide a fluid grid display style for Views.
+ */
+
+/**
+ * Implementation of hook_views_api().
+ */
+function views_fluidgrid_views_api() {
+  return array('api' => 2);
+}
+
+/**
+ * Template function for views_fluidgrid
+ *
+ * @param array $vars
+ *  Array of template variables.
+ */
+function template_preprocess_views_view_fluidgrid(&$vars) {
+  $view = $vars['view'];
+  $options = $view->style_plugin->options;
+
+  drupal_add_js(drupal_get_path('module', 'views_fluidgrid') .'/js/jquery.masonry.min.js');
+  drupal_add_js(drupal_get_path('module', 'views_fluidgrid') .'/js/jquery.infinitescroll.min.js');
+  drupal_add_css(drupal_get_path('module', 'views_fluidgrid') .'/views_fluidgrid.css');
+
+  $vars['views_fluidgrid_id'] = 'views_fluidgrid_'. $view->name .'_'. $view->current_display;
+  $vars['views_fluidgrid_item_class'] = 'views-fluidgrid-item';
+
+  $view_settings['single_mode'] = check_plain($options['single_mode']);
+  $view_settings['column_width'] = check_plain($options['column_width']);
+  $view_settings['resizeable'] = check_plain($options['resizeable']);
+  $view_settings['callback'] = $options['callback'];
+  
+  $settings = $view_settings;
+  
+  /* This looks like shit! but I had to this to make this compatable with Views Display Tabs
+   * Adding the script inline with each view helps in loading each view's settings seperatly when called via AJAX
+   * If you have another way to do this, please let me know.
+   */
+   
+   
+ $vars['script'] .= "\n<script type=\"text/javascript\">
+    <!--//--><![CDATA[//><!--
+    Drupal.behaviors.viewsFluidGrid = function(context) {
+      viewsFluidGrid = {}; viewsFluidGrid.".$vars['views_fluidgrid_id']." = {};
+      if (!$('#".$vars['views_fluidgrid_id']."').hasClass('views-fluidgrid-processed')) {
+        viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings = ". drupal_to_js($settings) .";
+             $(document).ready(function() {    
+        $('#".$vars['views_fluidgrid_id']."').masonry({         
+          singleMode: viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings.single_mode,          
+          columnWidth: viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings.column_width,          
+          itemSelector: '.views-fluidgrid-item:visible',         
+          resizeable: viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings.resizeable,
+          saveOptions: false
+      },  
+      Drupal.behaviors.viewsFluidGrid = function() { eval(viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings.callback); }
+          
+        ).infinitescroll({
+                   navSelector  : 'ul.pager', 
+                   nextSelector : 'ul.pager a', 
+                   itemSelector : '.views-fluidgrid-item',
+                   debug: true,  
+                   loadingText  : 'Loading more posts...',   
+                   animate  : false,  
+                   bufferPx: 1000,  
+                   extraScrollPx: 0, 
+                    currPage: 0,                                         
+                   errorCallback: function() { $('#infscr-loading').animate({opacity: .8},2000).fadeOut('normal'); }
+        }, 
+                  
+        function( newElements ) {Drupal.attachBehaviors(); 
+            $('#".$vars['views_fluidgrid_id']."').masonry({  singleMode: viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings.single_mode,   bufferPx: 1000, appendedContent: $(newElements) })
+          })
+        $('#".$vars['views_fluidgrid_id']."').addClass('views-fluidgrid-processed');       
+   }) } }
+	  //--><!]]>
+    </script>";
+}
+
+
+/**
+ * Only returns true the first time it's called for an id
+ *
+ * @param $id
+ *  A uniqe view id.
+ *
+ * @return bool
+ *  TRUE for the first time called for a given $id
+ *  FALSE for each time after that
+ */
+function theme_views_fluidgrid_display_item($id) {
+  static $display = array();
+
+  if (!isset($display[$id])) $display[$id] = FALSE;
+  $output = $display[$id];
+  if ($display[$id] == FALSE) $display[$id] = TRUE;
+
+  return $output;
+}
+
+
+
+
diff --git a/sites/all/modules/.views_fluidgrid/views_fluidgrid.views.inc b/sites/all/modules/.views_fluidgrid/views_fluidgrid.views.inc
new file mode 100644
index 0000000..b5b4d25
--- /dev/null
+++ b/sites/all/modules/.views_fluidgrid/views_fluidgrid.views.inc
@@ -0,0 +1,26 @@
+<?php // $Id: views_fluidgrid.views.inc,v 1.1 2010/03/02 09:24:50 doublethink Exp $
+
+/**
+ * @file
+ * Provide a fluid grid display style for Views. This file is autoloaded by views.
+ */
+
+/**
+  * Implementation of hook_views_plugin().
+  */
+function views_fluidgrid_views_plugins() {
+  return array(
+    'style' => array(
+      'views_fluidgrid' => array(
+        'title' => t('Views Fluid Grid - jQuery Masonry'),
+        'theme' => 'views_view_fluidgrid',
+        'help' => t('Provide a fluid grid display style for Views.'),
+        'handler' => 'views_fluidgrid_style_plugin',
+        'uses row plugin' => TRUE,
+        'uses options' => TRUE,
+        'type' => 'normal',
+      ),
+    ),
+  );
+}
+
diff --git a/sites/all/modules/.views_fluidgrid/views_fluidgrid_style_plugin.inc b/sites/all/modules/.views_fluidgrid/views_fluidgrid_style_plugin.inc
new file mode 100644
index 0000000..92b63e7
--- /dev/null
+++ b/sites/all/modules/.views_fluidgrid/views_fluidgrid_style_plugin.inc
@@ -0,0 +1,54 @@
+<?php // $Id: views_fluidgrid_style_plugin.inc,v 1.1.2.2 2010/03/04 12:45:38 doublethink Exp $
+
+/**
+  * Implementation of views_plugin_style().
+  */
+class views_fluidgrid_style_plugin extends views_plugin_style {
+
+  /**
+   * Set default options
+   */
+  function option_definition() {
+    $options = parent::option_definition();
+
+    $options['single_mode'] = array('default' => 'false');
+    $options['column_width'] = array('default' => '');
+    $options['resizeable'] = array('default' => 'true');
+    $options['callback'] = array('default' => '');
+
+    return $options;
+  }
+
+  /**
+   * Render the given style.
+   */
+  function options_form(&$form, &$form_state) {
+    parent::options_form($form, $form_state);
+    $form['single_mode'] = array(
+      '#type' => 'radios',
+      '#title' => t('Single mode'),
+      '#options' => array('true' => t('True'), 'false' => t('False')),
+      '#default_value' => $this->options['single_mode'],
+      '#description' => t('Disables measuring the width of each floated element. Set to true if floated elements have the same width.'),
+    );
+    $form['column_width'] = array(
+      '#type' => 'textfield',
+      '#title' => t('Column width'),
+      '#default_value' => $this->options['column_width'],
+      '#description' => t('Width in pixels of 1 column of your grid. default: outer width of the first floated element.'),
+    );
+    $form['resizeable'] = array(
+      '#type' => 'radios',
+      '#title' => t('Resizable'),
+      '#options' => array('true' => t('True'), 'false' => t('False')),
+      '#default_value' => $this->options['resizeable'],
+      '#description' => t('Binds a Masonry call to window resizes.'),
+    );
+    $form['callback'] = array(
+      '#type' => 'textarea',
+      '#title' => t('Custom action on each item'),
+      '#default_value' => $this->options['callback'],
+      '#description' => t('<i>$(this)</i> will refer to the applicable elements Masonry just rearranged.'),
+    );
+  }
+}
\ No newline at end of file
diff --git a/sites/all/modules/addthis-6.x-3.0-beta2.tar.gz b/sites/all/modules/addthis-6.x-3.0-beta2.tar.gz
new file mode 100644
index 0000000..a0ca6a8
Binary files /dev/null and b/sites/all/modules/addthis-6.x-3.0-beta2.tar.gz differ
diff --git a/sites/all/modules/addthis/LICENSE.txt b/sites/all/modules/addthis/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/addthis/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/addthis/addthis.admin.css b/sites/all/modules/addthis/addthis.admin.css
new file mode 100755
index 0000000..a9e4ba1
--- /dev/null
+++ b/sites/all/modules/addthis/addthis.admin.css
@@ -0,0 +1,5 @@
+
+.addthis_service_icon {
+  display: inline-block;
+  padding-left: 20px;
+}
\ No newline at end of file
diff --git a/sites/all/modules/addthis/addthis.admin.inc b/sites/all/modules/addthis/addthis.admin.inc
new file mode 100644
index 0000000..2216ad2
--- /dev/null
+++ b/sites/all/modules/addthis/addthis.admin.inc
@@ -0,0 +1,399 @@
+<?php
+
+/**
+ * @file
+ * Configuration settings for AddThis.
+ */
+
+/**
+ * Return a form object for default AddThis settings.
+ */
+function addthis_config_form(&$form_state) {
+  // Load the external AddThis CSS file for displaying service icons.
+  // TODO: Optionally cache the CSS file and icons sprite locally
+  drupal_set_html_head('<link rel="stylesheet" href="http://cache.addthiscdn.com/icons/v1/sprites/services.css" type="text/css" />');
+  drupal_add_css(drupal_get_path('module', 'addthis') .'/addthis.admin.css');
+
+  // Drupal visibility settings for AddThis.
+  $form['addthis_visibility'] = array(
+    '#type' => 'fieldset',
+    '#title' => t('AddThis visibility settings'),
+    '#collapsible' => TRUE,
+    '#description' => t('AddThis can also be displayed as a block, which you can configure on the <a href="!url">block administration page.</a>', array('!url' => url('admin/build/block'))),
+  );
+  $form['addthis_visibility']['addthis_node_types'] = array(
+    '#type' => 'checkboxes',
+    '#title' => t('Enable AddThis for these node types'),
+    '#description' => t('Select the node types on which to display an AddThis button. You must also set at least one of the visibility options below.'),
+    '#options' => node_get_types('names'),
+    '#default_value' => variable_get('addthis_node_types', array()),
+  );
+  $form['addthis_visibility']['addthis_display_in_links'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Display in full nodes'),
+    '#default_value' => variable_get('addthis_display_in_links', '0'),
+    '#description' => t('Display the widget in the links section of a node when viewing the full node.'),
+  );
+  $form['addthis_visibility']['addthis_display_in_teasers'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Display in node teasers'),
+    '#default_value' => variable_get('addthis_display_in_teasers', '0'),
+    '#description' => t('Display the widget in the links section of a node when viewing it as a teaser.'),
+  );
+
+  // Select widget type.
+  $form['addthis_widget_select'] = array(
+    '#type' => 'fieldset',
+    '#collapsible' => TRUE,
+    '#title' => t('Widget type'),
+  );
+  $form['addthis_widget_select']['addthis_widget_type'] = array(
+    '#type' => 'radios',
+    '#title' => t('AddThis widget type'),
+    '#description' => t('See !url for a demonstration of the widget types.', array('!url' => l('http://www.addthis.com/web-button-select', 'http://www.addthis.com/web-button-select'))),
+    '#options' => array(
+      'addthis_button' => t('Button'),
+      'addthis_toolbox' => t('Toolbox'),
+    ),
+    '#default_value' => variable_get('addthis_widget_type', 'addthis_button'),
+  );
+  
+  // Settings for the addthis_config javascript object.
+  // See http://addthis.com/help/menu-api#configuration-ui for details.
+  $addthis_config = variable_get('addthis_config', array('ui_use_css' => TRUE, 'data_use_cookies' => TRUE,));
+  $form['addthis_config'] = array(
+    '#type'  => 'fieldset',
+    '#collapsible' => TRUE,
+    '#title' => t('AddThis global configuration settings'),
+    '#tree'  => TRUE,
+  );
+
+  $form['addthis_config']['services_help'] = array(
+    '#type' => 'fieldset',
+    '#title' => t('List of basic service codes'),
+    '#collapsible' => TRUE,
+    '#collapsed' => TRUE,
+  );
+  $form['addthis_config']['services_help']['services_list'] = array(
+    '#type' => 'markup',
+    '#value' => _addthis_services_list(),
+  );
+
+  $form['addthis_config']['services_toolbox'] = array(
+    '#type' => 'textarea',
+    '#title' => t('Toolbox services'),
+    '#description' => t('A comma-separated list of service codes that determines which services will be shown in the toolbox.<br />In addition to the basic service codes, the toolbox also takes these special or custom codes:') . '<div><strong>' . implode(', ', array_keys(addthis_get_custom_services())) . '</strong></div>',
+    '#rows' => 2,
+    '#default_value' => $addthis_config['services_toolbox'],
+    '#wysiwyg' => FALSE,
+  );
+  $form['addthis_config']['services_compact'] = array(
+    '#type' => 'textarea',
+    '#title' => t('Compact menu services'),
+    '#description' => t('The compact menu is the shorter list of services that appear when you hover over a button widget or an expandable toolbox item. Enter service codes as a comma-separated list. Leave this blank to use a default list of service codes.'),
+    '#rows' => 2,
+    '#default_value' => $addthis_config['services_compact'],
+    '#wysiwyg' => FALSE,
+  );
+  $form['addthis_config']['services_expanded'] = array(
+    '#type' => 'textarea',
+    '#title' => t('Expanded services'),
+    '#description' => t('A comma-separated list of service codes that determines which services will be shown in the expanded menu, if enabled. Leave blank to make all services available.'),
+    '#rows' => 2,
+    '#default_value' => $addthis_config['services_expanded'],
+    '#wysiwyg' => FALSE,
+  );
+  $form['addthis_config']['header_display'] = array(
+    '#type' => 'markup',
+    '#value' => '<h3>' . t('Display Settings') . '</h3>',
+  );
+  $form['addthis_config']['addthis_toolbox_classes'] = array(
+    '#type' => 'textfield',
+    '#title' => t('Custom classes for Toolbox container'),
+    '#description' => t('Some AddThis Toolbox features require a class to be added to the Toolbox, which you can set here. For example, to use the large icon set, enter <strong>addthis_32x32_style</strong> here.'),
+    '#default_value' => variable_get('addthis_toolbox_classes', ''),
+    '#tree' => FALSE,
+  );
+  $form['addthis_config']['ui_cobrand'] = array(
+    '#type' => 'textfield',
+    '#title' => t('Branding'),
+    '#description' => t('Custom text displayed in the top-right of the AddThis menu. This should probably be less than 15 characters to fit.'),
+    '#default_value' => $addthis_config['ui_cobrand'],
+  );
+  $form['addthis_config']['ui_header_color'] = array(
+    '#type' => (module_exists('colorpicker') ? 'colorpicker_' : '') . 'textfield',
+    '#title' => t('Header color'),
+    '#description' => t('The color to use for the text in the header of the expanded menu, in hex.'),
+    '#default_value' => ($addthis_config['ui_header_color'] ? $addthis_config['ui_header_color'] : '#000000'),
+  );
+  $form['addthis_config']['ui_header_background'] = array(
+    '#type' => (module_exists('colorpicker') ? 'colorpicker_' : '') . 'textfield',
+    '#title' => t('Header background'),
+    '#description' => t('The color to use as a background in the header of the expanded menu, in hex.'),
+    '#default_value' => ($addthis_config['ui_header_background'] ? $addthis_config['ui_header_background'] : '#FFFFFF'),
+  );
+  $form['addthis_config']['header_behavior'] = array(
+    '#type' => 'markup',
+    '#value' => '<h3>' . t('Behavior Settings') . '</h3>',
+  );
+  $form['addthis_config']['ui_click'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Disable opening AddThis on mouse hover'),
+    '#description' => t('If checked, the AddThis compact menu will only open if the AddThis button is clicked.  Otherwise, the compact menu will open when the mouse hovers over it.'),
+    '#return_value' => TRUE,
+    '#default_value' => $addthis_config['ui_click'],
+  );
+  $form['addthis_config']['ui_delay'] = array(
+    '#type' => 'textfield',
+    '#title' => t('Hover delay'),
+    '#size' => 5,
+    '#element_validate' => array('_addthis_validate_ui_delay'),
+    '#description' => t('Delay, in milliseconds, before the compact menu appears when hovering over a button. Capped at 500 ms.'),
+    '#default_value' => $addthis_config['ui_delay'],
+  );
+  $form['addthis_config']['ui_use_addressbook'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Allow AddThis to import contacts for email sharing'),
+    '#description' => t('If checked, the user will be able import their contacts from popular webmail services when using email sharing.'),
+    '#return_value' => TRUE,
+    '#default_value' => $addthis_config['ui_use_addressbook'],
+  );
+  $form['addthis_config']['header_tracking'] = array(
+    '#type' => 'markup',
+    '#value' => '<h3>' . t('Tracking Settings') . '</h3>',
+  );
+  $form['addthis_config']['pubid'] = array(
+    '#type' => 'textfield',
+    '#title' => t('AddThis Profile ID'),
+    '#description' => t('To obtain a Profile ID, register for an account at !url. This is only necessary if you enable tracking.', array('!url' => l('AddThis.com', 'http://addthis.com'))),
+    '#default_value' => $addthis_config['pubid'],
+  );
+  $form['addthis_config']['data_track_clickback'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Allow AddThis to track incoming traffic from shares'),
+    '#description' => t('If checked, AddThis will collect data on how many people come back to your content via links shared with AddThis.'),
+    '#return_value' => TRUE,
+    '#default_value' => $addthis_config['data_track_clickback'],
+  );
+  $form['addthis_config']['data_ga_tracker'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Integrate share data with Google Analytics'),
+    '#description' => t('If checked, AddThis will send click data to your Google Analytics profile. You must have a Google Analytics tracking script installed on your site.'),
+    '#return_value' => 'pageTracker',
+    '#default_value' => $addthis_config['data_ga_tracker'],
+  );
+  $form['addthis_config']['header_advanced'] = array(
+    '#type' => 'markup',
+    '#value' => '<h3>' . t('Advanced Settings') . '</h3>',
+  );
+  $form['addthis_config']['ui_use_css'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Use default style provided by AddThis'),
+    '#description' => t('Disable this if you prefer to apply entirely custom CSS to the widget from within your theme.'),
+    '#return_value' => TRUE,
+    '#default_value' => $addthis_config['ui_use_css'],
+  );
+  $form['addthis_config']['addthis_cache_js'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Cache JavaScript file locally'),
+    '#description' => t('If checked, the JavaScript file will be retrieved from AddThis and cached locally. The file will be regenerated daily to receive updates to the code. Not compatible with private file systems.'),
+    '#return_value' => TRUE,
+    '#default_value' => variable_get('addthis_cache_js', 0),
+    '#tree' => FALSE,
+  );
+  $form['addthis_config']['data_use_cookies'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Allow AddThis to use cookies'),
+    '#description' => t('Disabling this option may help resolve issues with Varnish caching.'),
+    '#return_value' => TRUE,
+    '#default_value' => $addthis_config['data_use_cookies'],
+  );
+
+  /**
+   * Setting 'ui_508_compliant' doesn't seem to do anything. An API bug?
+   *
+  $form['addthis_config']['ui_508_compliant'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Section 508 compliance mode'),
+    '#description' => t('If checked, clicking the AddThis button will open a new window to a page supporting sharing without JavaScript.'),
+    '#return_value' => TRUE,
+    '#default_value' => $addthis_config['ui_508_compliant'],
+  );
+  // */
+  return system_settings_form($form);
+}
+
+/**
+ * Returns an array of AddThis service codes and names.
+ */
+function _addthis_services_list() {
+  // json_decode() didn't exist before PHP 5.2.
+  if (!function_exists('json_decode')) {
+    return _addthis_services_retrieval_error();
+  }
+
+  // Retrieve the services table from the cache. If the cache is not set, get
+  // the list of services from AddThis and cache the results.
+  // See http://www.addthis.com/help/services-api
+  if (!$services_cache = cache_get('addthis:services')) {
+    // Generate the service codes output and cache it.
+    $location = "http://cache.addthiscdn.com/services/v1/sharing.en.json";
+    $result = drupal_http_request($location);
+    if ($result->code == 200) {
+      $data = json_decode($result->data, TRUE);
+      $rows = array();
+      foreach ($data['data'] AS $service) {
+        $rows[] = array(
+          0 => check_plain($service['code']),
+          1 => '<span class="addthis_service_icon icon_' . check_plain($service['code']) . '"></span> ' . check_plain($service['name'])
+        );
+      }
+      $services = l(t('Refresh this list.'), 'admin/settings/addthis/flush-services', array('query' => drupal_get_destination()));
+      $header = array(t('Service code'), t('Service'));
+      $services .= theme('table', $header, $rows);
+      cache_set('addthis:services', $services);
+    }
+    else {
+      // Couldn't retrieve the services list.
+      $services = _addthis_services_retrieval_error();
+    }
+  }
+  else {
+    // Use the cached services output.
+    $services = $services_cache->data;
+  }
+  
+  return $services;
+}
+
+function _addthis_services_retrieval_error() {
+    $services_page = 'http://www.addthis.com/services/all';
+    $output = '<p>' . t('The services list could not be retrieved. You may view the full list of service codes on the AddThis website.') . '</p>';
+    $output .= '<div>' . l($services_page, $services_page) . '</div>';
+    return $output;
+}
+
+/**
+ * Flush the services cache.
+ */
+function addthis_flush_services() {
+  cache_clear_all('addthis:services', 'cache');
+  if (_addthis_services_list()) {
+    drupal_set_message(t('The list of AddThis services has been refreshed.'));
+  }
+  drupal_goto();
+}
+
+/**
+ * Form builder function for the Templates administration form.
+ */
+function addthis_templates_form(&$form_state) {
+  $form = array();
+  $form['description'] = array(
+    '#type' => 'markup',
+    '#value' => t('<p><strong>AddThis templates</strong> allow you to define the default text to be posted when a user shares your content to a third-party service.</p>') .
+                t('For more information, visit !url.</p><p>Only service code "twitter" is currently supported by the AddThis API.</p>', array('!url' => l('http://www.addthis.com/help/client-api#configuration-sharing-templates', 'http://www.addthis.com/help/client-api#configuration-sharing-templates'))),
+  );
+  $form['addthis_templates_twitter'] = array(
+    '#type' => 'textfield',
+    '#title' => 'Twitter (twitter)',
+    '#default_value' => variable_get('addthis_templates_twitter', '{{title}} {{url}} via @AddThis'),
+  );
+  return system_settings_form($form);
+}
+
+/**
+ * Form builder function for the Service Customization form.
+ */
+function addthis_customize_form(&$form_state) {
+  $form = array();
+  $form['description'] = array(
+    '#type' => 'markup',
+    '#value' => t('<p>Use this form to define customized Toolbox items. You may override existing services codes or define new service codes.</p>') .
+                t('<p>For more information, visit !url.</p>', array('!url' => l('http://www.addthis.com/help/client-api#rendering-decoration', 'http://www.addthis.com/help/client-api#rendering-decoration'))),
+  );
+  $definitions = variable_get('addthis_service_customizations', array());
+  $form['addthis_service_customizations'] = array(
+    '#tree' => TRUE,
+  );
+  foreach ($definitions AS $def) {
+    $form['addthis_service_customizations'][] = _addthis_customize_form_row($def);
+  }
+  
+  // Add a form row for entering a new definition.
+  $form['addthis_service_customizations'][] = _addthis_customize_form_row();
+
+  return system_settings_form($form);
+}
+
+/**
+ * Helper function for addthis_customize_form.
+ *
+ * Create the form elements for a service customization.
+ *
+ * @param array $def
+ *   An array defining a service customization.
+ *
+ * @return array
+ *   The branch of the form for this definition.
+ */
+function _addthis_customize_form_row($def = array()) {
+  $branch = array(
+    '#type' => 'fieldset',
+    '#title' => (empty($def['code'])) ? t('Add a service customization') : check_plain($def['code']),
+    '#collapsible' => TRUE,
+    '#collapsed' => TRUE,
+  );
+  $branch['code'] = array(
+    '#type' => 'textfield',
+    '#title' => t('Service code'),
+    '#description' => t('The service code to override or a new code you are defining.'),
+    '#default_value' => $def['code'],
+  );
+  $branch['class'] = array(
+    '#type' => 'textfield',
+    '#title' => t('HTML classes'),
+    '#description' => t('Enter HTML classes to be used on this toolbox item. Example: <strong>addthis_button_tweet</strong> <br />You <strong>must</strong> provide this even if you are overriding an already existing code.'),
+    '#default_value' => $def['class'],
+  );
+  $branch['attributes'] = array(
+    '#type' => 'textfield',
+    '#title' => t('HTML attributes'),
+    '#description' => t('Custom attributes to insert into the toolbox item element. Example: <strong>tw:via="mytwittername"</strong>'),
+    '#default_value' => $def['attributes'],
+    '#maxlength' => 1024,
+  );
+  $branch['title'] = array(
+    '#type' => 'textfield',
+    '#title' => t('Title'),
+    '#description' => t('Text or markup to be rendered inside the item element. Most of the time, this should be left blank.'),
+    '#default_value' => $def['title'],
+  );
+
+  return $branch;
+}
+
+/**
+ * Validation function for addthis_customize_form().
+ *
+ * Do not save definitions if they do not specify a code.
+ */
+function addthis_customize_form_validate($form, &$form_state) {
+  foreach ($form_state['values']['addthis_service_customizations'] AS $delta => $def) {
+    if (empty($def['code'])) {
+      unset($form_state['values']['addthis_service_customizations'][$delta]);
+    }
+  }
+}
+
+
+
+/**
+ * Checks whether ui_delay stays is a number between 0 and 500.
+ */
+function _addthis_validate_ui_delay($element, &$form_state) {
+  $value = $element['#value'];
+  if ($value && (!is_numeric($value) || $value < 0 || $value > 500)) {
+    form_error($element, t('%name must be a number between 0 and 500.', array('%name' => $element['#title'])));
+  }
+}
diff --git a/sites/all/modules/addthis/addthis.info b/sites/all/modules/addthis/addthis.info
new file mode 100644
index 0000000..9bf7ac0
--- /dev/null
+++ b/sites/all/modules/addthis/addthis.info
@@ -0,0 +1,11 @@
+name = AddThis
+description = A bookmarking and sharing widget from AddThis.com.
+core = 6.x
+
+
+; Information added by drupal.org packaging script on 2011-07-25
+version = "6.x-3.0-beta2"
+core = "6.x"
+project = "addthis"
+datestamp = "1311577014"
+
diff --git a/sites/all/modules/addthis/addthis.install b/sites/all/modules/addthis/addthis.install
new file mode 100644
index 0000000..91b03f9
--- /dev/null
+++ b/sites/all/modules/addthis/addthis.install
@@ -0,0 +1,145 @@
+<?php
+
+/**
+ * @file
+ * AddThis module installation/update hooks.
+ */
+
+/**
+ * Implements hook_install().
+ * 
+ */
+function addthis_install() {
+  // Module needs to load after Google Analytics (weight = 0) so we can execute
+  // scripts after the tracker object is loaded.
+  db_query('UPDATE {system} SET weight=1 WHERE type="module" AND name="addthis"');
+}
+
+/**
+ * Implements hook_uninstall().
+ */
+function addthis_uninstall() {
+  // Remove cached JavaScript file and cache directory.
+  addthis_clear_js();
+  $directory = file_directory_path() .'/addthis';
+  @rmdir($directory);
+  
+  // Remove database artifacts left by the module.
+  db_query('DELETE FROM {blocks} WHERE module = "addthis"');
+  cache_clear_all('addthis:', 'cache', TRUE);
+  
+  // Remove module variables.
+  $result = db_query("SELECT name FROM {variable} WHERE name LIKE 'addthis_%'");
+  while ($var_name = db_result($result)) {
+    variable_del($var_name);
+  }
+}
+
+/**
+ * Convert 2.x configuration settings to 3.x equivalents.
+ */
+function addthis_update_6300() {
+  $ret = array();
+  variable_set('addthis_widget_type', 'addthis_button');
+
+  // Convert widget settings.
+  $addthis_config = array();
+  $addthis_config['services_compact'] = variable_get('addthis_options', '');
+  $addthis_config['ui_cobrand'] = variable_get('addthis_brand', '');
+  $ui_header_color = trim(variable_get('addthis_logo_color', ''));
+  if (!empty($ui_header_color)) {
+    $addthis_config['ui_header_color'] = '#' . $ui_header_color;
+  }
+  $ui_header_background = trim(variable_get('addthis_logo_background', ''));
+  if (!empty($ui_header_background)) {
+    $addthis_config['ui_header_background'] = '#' . $ui_header_background;
+  }
+  $addthis_config['ui_hover'] = variable_get('addthis_dropdown_disabled', 0);
+  $addthis_config['ui_offset_left'] = variable_get('addthis_offset_left', '');
+  $addthis_config['ui_offset_top'] = variable_get('addthis_offset_top', '');
+  $addthis_config['ui_use_css'] = TRUE;
+  $addthis_config['data_use_cookies'] = TRUE;
+  $addthis_config['username'] = variable_get('addthis_username', '');
+  variable_set('addthis_config', $addthis_config);
+
+  // Convert node type visibility settings.
+  $types = array_keys(node_get_types());
+  $addthis_node_types = array();
+  foreach ($types as $type) {
+    $addthis_node_types[$type] = (variable_get('addthis_nodetype_' . $type, 0)) ? $type : 0;
+    variable_del('addthis_nodetype_' . $type);
+  }
+  variable_set('addthis_node_types', $addthis_node_types);
+  
+  // Remove remaining obsolete 6.x-2.x variables.
+  $remove = array(
+    'addthis_brand',
+    'addthis_disable_flash',
+    'addthis_dropdown_disabled',
+    'addthis_image',
+    'addthis_image_attributes_alt',
+    'addthis_image_attributes_class',
+    'addthis_image_height',
+    'addthis_image_secure',
+    'addthis_image_width',
+    'addthis_logo',
+    'addthis_logo_background',
+    'addthis_logo_color',
+    'addthis_offset_left',
+    'addthis_offset_top',
+    'addthis_options',
+    'addthis_username',
+    'addthis_widget_version',
+  );
+  foreach ($remove as $variable) {
+    variable_del($variable);
+  }
+  
+  // Disable unsupported modules from the original 6.x-3.x-dev releases.
+  module_disable(array('at_cck_field', 'at_content_type', 'at_export', 'at_taxonomy', 'at_visibility'));
+  drupal_uninstall_module('at_cck_field');
+  drupal_uninstall_module('at_content_type');
+  drupal_uninstall_module('at_export');
+  drupal_uninstall_module('at_taxonomy');
+  drupal_uninstall_module('at_visibility');
+  if (db_table_exists('at_visibility_nodelist')) {
+    db_drop_table($ret, 'at_visibility_nodelist');
+  }
+  
+  // Module weight must be greater than Google Analytics, which is 0.
+  $ret[] = update_sql("UPDATE {system} SET weight=1 WHERE type='module' AND name='addthis'");
+  
+  return $ret;
+}
+
+/**
+ * Convert obsolete "icon_32x32" variable to use "addthis_toolbox_classes".
+ * Move cache_js setting out of addthis_config.
+ * Also force a menu rebuild to expose new administration pages.
+ */
+function addthis_update_6301() {
+  $ret = array();
+  $config = variable_get('addthis_config', array('ui_use_css' => TRUE, 'data_use_cookies' => TRUE,));
+  if ($config['icon_32x32']) {
+    variable_set('addthis_toolbox_classes', 'addthis_32x32_style');
+  }
+  if ($config['cache_js']) {
+    variable_set('addthis_cache_js', 1);
+  }
+  menu_rebuild();
+  return $ret;
+}
+
+/**
+ * Convert "username" values to "pubid" values.
+ */
+function addthis_update_6302() {
+  $ret = array();
+  $config = variable_get('addthis_config', array('ui_use_css' => TRUE, 'data_use_cookies' => TRUE,));
+  if ($config['username']) {
+    $config['pubid'] = $config['username'];
+    unset($config['username']);
+    variable_set('addthis_config', $config);
+  }
+  return $ret;
+}
diff --git a/sites/all/modules/addthis/addthis.module b/sites/all/modules/addthis/addthis.module
new file mode 100644
index 0000000..313a904
--- /dev/null
+++ b/sites/all/modules/addthis/addthis.module
@@ -0,0 +1,444 @@
+<?php
+
+/**
+ * @file
+ * Provides integration with the AddThis.com bookmarking & sharing service.
+ */
+
+/**
+ * Implementation of hook_menu().
+ */
+function addthis_menu() {
+  $items = array();
+  $items['admin/settings/addthis'] = array(
+    'title' => 'AddThis',
+    'description' => 'Configuration settings for AddThis integration.',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('addthis_config_form'),
+    'access arguments' => array('administer addthis'),
+    'file' => 'addthis.admin.inc',
+  );
+  $items['admin/settings/addthis/config'] = array(
+    'title' => 'Configure',
+    'type' => MENU_DEFAULT_LOCAL_TASK,
+    'weight' => 0,
+  );
+  $items['admin/settings/addthis/templates'] = array(
+    'title' => 'Templates',
+    'description' => 'Settings for custom sharing templates offered by the AddThis API.',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('addthis_templates_form'),
+    'access arguments' => array('administer addthis'),
+    'file' => 'addthis.admin.inc',
+    'type' => MENU_LOCAL_TASK,
+    'weight' => 1,
+  );
+  $items['admin/settings/addthis/custom'] = array(
+    'title' => 'Customize services',
+    'description' => 'Add HTML classes and attributes to individual Toolbox items.',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('addthis_customize_form'),
+    'access arguments' => array('administer addthis'),
+    'file' => 'addthis.admin.inc',
+    'type' => MENU_LOCAL_TASK,
+    'weight' => 2,
+  );
+  $items['admin/settings/addthis/flush-services'] = array(
+    'type' => MENU_CALLBACK,
+    'page callback' => 'addthis_flush_services',
+    'access arguments' => array('administer site configuration'),
+    'file' => 'addthis.admin.inc',    
+  );
+  return $items;
+}
+
+/**
+ * Implementation of hook_perm().
+ */
+function addthis_perm() {
+  return array('administer addthis');
+}
+
+/**
+ * Implementation of hook_link().
+ */
+function addthis_link($type, $node = NULL, $teaser = FALSE) {
+  // Check whether AddThis is set to display on this node.
+  if ($type != 'node') {
+    return array(); 
+  }
+  if ($teaser && variable_get('addthis_display_in_teasers', '0') == FALSE) {
+    return array();
+  }
+  if (!$teaser && variable_get('addthis_display_in_links', '0') == FALSE) {
+    return array();
+  }
+  $addthis_node_types = variable_get('addthis_node_types', array());
+  if (empty($addthis_node_types[$node->type])) {
+    return array();
+  }
+  
+  $addthis_widget_type = variable_get('addthis_widget_type', 'addthis_button');
+  $links = array();
+  $links['addthis'] = array(
+    'title' => theme($addthis_widget_type, NULL, array(
+      'url' => url('node/' . $node->nid, array('absolute' => TRUE)),
+      'title' => $node->title,
+    )),
+    'html' => TRUE,
+  );
+
+  return $links;
+}
+
+/**
+ * Implementation of hook_block().
+ */
+function addthis_block($op = 'list', $delta = 0) {
+  switch ($op) {
+    case 'list':
+      $blocks[0]['info'] = t('AddThis widget');
+      $blocks[0]['cache'] = BLOCK_NO_CACHE;
+      return $blocks;
+    case 'view':
+      $addthis_widget_type = variable_get('addthis_widget_type', 'addthis_button');
+      $block['subject'] = t('AddThis');
+      $block['content'] = theme($addthis_widget_type);
+      return $block;      
+  }
+}
+
+/**
+ * Implementation of hook_theme().
+ */
+function addthis_theme() {
+  return array(
+    'addthis_button' => array(
+      'arguments' => array(
+        'html' => NULL,
+        'config' => array(),
+      ),
+    ),
+    'addthis_toolbox' => array(
+      'arguments' => array(
+        'services' => NULL,
+        'config' => array(),
+      ),
+    ),
+    'addthis_toolbox_item' => array(
+      'arguments' => array(
+        'service' => NULL,
+      ),
+    ),
+  );
+}
+
+/**
+ * Theme function to render an AddThis button.
+ *
+ * @param $html
+ *   HTML code to be placed inside the <a> element that will become the AddThis
+ *   button. If blank, AddThis will use its own default button image.
+ * @param array $config
+ *   An optional array of configuration options to apply to this instance of
+ *   the button. A list of key/value possibilities can be found at
+ *   http://addthis.com/help/menu-api. Options from both addthis_config and
+ *   addthis_share may be used.
+ */
+function theme_addthis_button($html = NULL, $config = array()) {
+  addthis_add_default_js();
+  // Build the button attributes, including those provided in $config.
+  $attributes = array('class' => 'addthis_button');
+  if (!empty($config) && is_array($config)) {
+    foreach ($config AS $key => $value) {
+      $attributes['addthis:' . check_plain($key)] = check_plain($value);
+    }
+  }
+  $output = l(filter_xss_admin($html), NULL, array('html' => TRUE, 'attributes' => $attributes));
+  return $output;
+}
+
+/**
+ * Theme function to render an AddThis toolbox.
+ *
+ * @param $services
+ *   A comma-separated string of AddThis service codes to be rendered in the
+ *    toolbox. If blank, the short list from the admin settings will be used.
+ * @param array $config
+ *   An optional array of configuration options inherited by each item in the
+ *   toolbox. A list of key/value possibilities can be found at
+ *   http://addthis.com/help/menu-api
+ * @param $more
+ *   If the pseudo-service "more" is included, this is the text or HTML used
+ *   to represent the expanded menu in the toolbox. Defaults to "Share".
+ */
+function theme_addthis_toolbox($services = NULL, $config = array()) {
+  $default_config = variable_get('addthis_config', array());
+
+  // If no services are passed to the function, use the configured defaults.
+  if (empty($services)) {
+    $services = explode(',', $default_config['services_toolbox']);
+  }
+  else {
+    $services = explode(',', $services);
+  }
+  foreach ($services AS $service) {
+    $output .= theme('addthis_toolbox_item', trim(strtolower($service)));
+  }
+
+  // If a $config is specified, process it into $attributes.
+  if (!empty($config) && is_array($config)) {
+    foreach ($config AS $key => $value) {
+      $attributes .= sprintf("addthis:%s='%s' ", check_plain($key), check_plain($value));
+    }
+  }
+  
+  $toolbox_classes = check_plain(variable_get('addthis_toolbox_classes', ''));
+  return "<div class='addthis_toolbox addthis_default_style $toolbox_classes' $attributes>" . $output . "</div>";
+}
+
+/**
+ * Theme function to render an individual toolbox item. This is often, but not
+ * necessarily, in the context of an AddThis toolbox.
+ *
+ * @param service
+ *   A custom service code or a basic AddThis service code.
+ *   Full list at http://addthis.com/services/all
+ */
+function theme_addthis_toolbox_item($service) {
+  addthis_add_default_js();
+  static $services;
+  if (!isset($services)) {
+    $services = addthis_get_custom_services();
+  }
+
+  // Look for the service in the custom services list.
+  if (isset($services[$service])) {
+    if (isset($services[$service]['output'])) {
+      return $services[$service]['output'];
+    }
+    else {
+      $class = 'addthis_toolbox_item ' . check_plain($services[$service]['class']);
+      $attributes = filter_xss($services[$service]['attributes']);
+      $title = filter_xss_admin($services[$service]['title']);
+      return "<a class='$class' $attributes>$title</a>"; 
+    }
+  }
+  
+  // No custom service found; use the default output.
+  $output = "<a class='addthis_toolbox_item addthis_button_" . check_plain($service) . "'></a>";
+  return $output;
+}
+
+/**
+ * Implements hook_addthis_toolbox_services().
+ */
+function addthis_addthis_toolbox_services() {
+  $services = array(
+    'separator' => array(
+      'output' => '<span class="addthis_separator">|</span>',
+    ),
+    'share' => array(
+      'class' => 'addthis_button_expanded',
+      'title' => t('Share'),
+    ),
+    'more' => array(
+      'class' => 'addthis_button_expanded',
+    ),
+    'share_compact' => array(
+      'class' => 'addthis_button_compact',
+      'title' => t('Share'),
+    ),
+    'compact' => array(
+      'class' => 'addthis_button_compact',
+    ),
+    'counter' => array(
+      'class' => 'addthis_counter',
+    ),
+    'counter_pill' => array(
+      'class' => 'addthis_counter addthis_pill_style',
+    ),
+    'facebook_like' => array(
+      'class' => 'addthis_button_facebook_like',
+    ),
+    'facebook_like_counter' => array(
+      'class' => 'addthis_button_facebook_like',
+      'attributes' => 'fb:like:layout="button_count">',
+    ),
+    'tweet' => array(
+      'class' => 'addthis_button_tweet',
+    ),
+  );
+  return $services;
+}
+
+/**
+ * Get custom service definitions.
+ *
+ * @return array
+ *   An array of service definitions keyed by service code.
+ */
+function addthis_get_custom_services() {
+  // Get service definitions from modules.
+  $services = module_invoke_all('addthis_toolbox_services');
+  drupal_alter('addthis_toolbox_services', $services);
+
+  // Get service definitions from the Service Customizations form.
+  $definitions = variable_get('addthis_service_customizations', array());
+  foreach ($definitions AS $def) {
+    $services[trim(check_plain($def['code']))] = $def;
+  }
+
+  return $services;
+}
+
+/**
+ * Load the addthis_widget.js and the configured AddThis defaults.
+ */
+function addthis_add_default_js() {
+  // Check if we've done this already.
+  static $addthis_counter = 0;
+  if ($addthis_counter++ > 0) {
+    return $addthis_counter;
+  }
+  
+  // Get the base configuration settings array.
+  $config = variable_get('addthis_config', array('ui_use_css' => TRUE, 'data_use_cookies' => TRUE,));
+  
+  // If no pubid is given, use an anonymous pubid provided by AddThis.
+  // The "email" service code doesn't work if this is not set to something.
+  if (empty($config['pubid'])) {
+    $config['pubid'] = 'xa-4e2cfd1147868c4e';
+  }
+
+  // Determine the current language context and add it to $settings.
+  global $language;
+  $config['ui_language'] = $language->language;
+  
+  // AddThis seems to be fairly strict about variable typing.
+  $config['ui_use_css'] = (bool) $config['ui_use_css'];
+  $config['data_use_cookies'] = (bool) $config['data_use_cookies'];
+  
+  // Not sure if this is still necessary.
+  $config['data_use_flash'] = $config['data_use_cookies'];
+
+  // Get any configured share templates.
+  $share = array();
+  $share['templates']['twitter'] = variable_get('addthis_templates_twitter', '');
+  
+  // Add the settings array to the page and process it for the AddThis script.
+  $settings = array(
+    'addthis' => array(
+      'config_default' => $config,
+      'share_default' => $share,      
+    ),
+  );  
+  _addthis_check_plain($settings);
+  drupal_add_js($settings, 'setting');
+  drupal_add_js('addthis_config = Drupal.settings.addthis.config_default; addthis_share = Drupal.settings.addthis.share_default;', 'inline');
+
+  // If javascript caching is enabled and the private file system is not being
+  // used, go ahead and load the cached file.
+  if (variable_get('addthis_cache_js', 0) && variable_get('file_downloads', 1) == 1 && $source = addthis_cache_js('http://s7.addthis.com/js/250/addthis_widget.js')) {
+    // We need the async fragment in the src argument, so we can't use
+    // drupal_add_js() so far as I know.
+    drupal_set_html_head("<script type='text/javascript' src='" . base_path() . $source . "#async=1'></script>");
+  }
+  else {
+    // Load the external javascript in the head.
+    drupal_set_html_head("<script type='text/javascript' src='//s7.addthis.com/js/250/addthis_widget.js#async=1'></script>");
+  }
+  
+  return $addthis_counter;
+}
+
+/**
+ * Implements hook_footer().
+ * 
+ * Google Analytics integration needs custom JavaScript that has to run after
+ * the GA tracking object has been initialized.
+ */
+function addthis_footer($main = 0) {
+  // Get the base configuration settings array.
+  $config = variable_get('addthis_config', array());
+  
+  if (!empty($config['data_ga_tracker'])) {
+    // Assume "pageTracker" is the name of the GA tracking object.
+    // TODO: Make this configurable in the UI.
+    $ga_tracker_name = variable_get('addthis_ga_tracker_name', 'pageTracker');
+    drupal_add_js('if (typeof ' . $ga_tracker_name . ' != "undefined") {addthis_config.data_ga_tracker = ' . $ga_tracker_name . ';}', 'inline', 'footer');    
+  }
+  
+  // Make sure we initialize addthis at the end of the page.
+  drupal_add_js('if (typeof addthis != "undefined") {addthis.init();}', 'inline', 'footer');
+}
+
+/**
+ * Download and cache the AddThis JS file locally and return its path.
+ * 
+ * @param $location
+ *   The full URL to the external JavaScript file.
+ * @return mixed
+ *   The path to the local JavaScript file on success, boolean FALSE on failure.
+ */
+function addthis_cache_js($location) {
+  // If the previous cached file is more than a day old, delete it.
+  if (time() - variable_get('addthis_last_cache', 0) >= 86400) {
+    addthis_clear_js();
+  }
+  
+  // Check for a cached version. Get one if it doesn't exist.
+  $directory = file_directory_path() .'/addthis';
+  $file_destination = $directory .'/'. basename($location);
+  if (!file_exists($file_destination)) {
+    $result = drupal_http_request($location);
+    // Make sure we got the file and that the files directory is writable.
+    if ($result->code == 200 && file_check_directory($directory, FILE_CREATE_DIRECTORY)) {
+      variable_set('addthis_last_cache', time());
+      return file_save_data($result->data, $directory .'/'. basename($location), FILE_EXISTS_REPLACE);
+    }
+    else {
+      return FALSE;
+    }
+  }
+  else {
+    return $file_destination;
+  }
+}
+
+/**
+ * Delete the cached JavaScript file.
+ */
+function addthis_clear_js() {
+  // Delete the cached AddThis JS file every day so it gets regenerated again.
+  if (file_delete(file_directory_path() .'/addthis/addthis_widget.js')) {
+    // Clear aggregated JS files.
+    if (variable_get('preprocess_js', 0)) {
+      drupal_clear_js_cache();
+    }
+  }
+}
+
+/**
+ * Helper function to recursively run an entire array through check_plain().
+ */
+function _addthis_check_plain(&$item) {
+  if (is_array($item)) {
+    foreach($item AS $key => $value) {
+      _addthis_check_plain($value);
+    }
+  }
+  else {
+    $item = check_plain($item);
+  }
+}
+
+/**
+ * Implementation of hook_views_api().
+ */
+function addthis_views_api() {
+  return array(
+    'api' => 2,
+    'path' => drupal_get_path('module', 'addthis'),
+  );
+}
diff --git a/sites/all/modules/addthis/addthis.views.inc b/sites/all/modules/addthis/addthis.views.inc
new file mode 100644
index 0000000..e98bfdd
--- /dev/null
+++ b/sites/all/modules/addthis/addthis.views.inc
@@ -0,0 +1,49 @@
+<?php
+
+/**
+ * @file
+ * Provide views data and handlers for addthis.module
+ */
+
+/**
+ * Implementation of hook_views_data().
+ */
+function addthis_views_data() {
+  // We're registering the 'custom_teasers' table.
+  $data['node']['addthis_button'] = array(
+    'title' => t('AddThis button'),
+    'help' => t('An AddThis button, associated with this node.'),
+    'field' => array(
+      'handler' => 'addthis_handler_field_button',
+    ),
+  );
+  $data['node']['addthis_toolbox'] = array(
+    'title' => t('AddThis toolbox'),
+    'help' => t('An AddThis toolbox, associated with this node.'),
+    'field' => array(
+      'handler' => 'addthis_handler_field_toolbox',
+    ),
+  );
+  return $data;
+}
+
+/**
+ * Implementation of hook_views_handlers().
+ */
+function addthis_views_handlers() {
+  return array(
+    'info' => array(
+      'path' => drupal_get_path('module', 'addthis'),
+    ),
+    'handlers' => array(
+      'addthis_handler_field_button' => array(
+        'parent' => 'views_handler_field',
+        'file' => 'addthis_handler_field.inc',
+      ),
+      'addthis_handler_field_toolbox' => array(
+        'parent' => 'views_handler_field',
+        'file' => 'addthis_handler_field.inc',
+      ),
+    ),
+  );
+}
\ No newline at end of file
diff --git a/sites/all/modules/addthis/addthis_handler_field.inc b/sites/all/modules/addthis/addthis_handler_field.inc
new file mode 100755
index 0000000..cf44f40
--- /dev/null
+++ b/sites/all/modules/addthis/addthis_handler_field.inc
@@ -0,0 +1,98 @@
+<?php
+
+/**
+ * @file
+ * A handler to provide an AddThis button for a particular node.
+ *
+ * @ingroup views_field_handlers
+ */
+class addthis_handler_field_button extends views_handler_field {
+  function construct() {
+    parent::construct();
+    $this->additional_fields['nid'] = 'nid';
+    $this->additional_fields['title'] = 'title';
+  }
+
+  function query() {
+    $this->ensure_my_table();
+    $this->add_additional_fields();
+  }
+
+  function option_definition() {
+    $options = parent::option_definition();
+
+    return $options;
+  }
+
+  function options_form(&$form, &$form_state) {
+    parent::options_form($form, $form_state);
+
+    // Alter options form defaults.
+    unset($form['alter']);
+    unset($form['empty']);
+    unset($form['empty_zero']);
+    unset($form['hide_empty']);
+  }
+
+  function render($values) {
+    $nid = $values->{$this->aliases['nid']};
+    $title = $values->{$this->aliases['title']};
+    return theme('addthis_button', NULL, array(
+      'url' => url('node/' . $nid, array('absolute' => TRUE)),
+      'title' => check_plain($title),
+    ));
+  }
+}
+
+/**
+ * A handler to provide an AddThis toolbox for a particular node.
+ *
+ * @ingroup views_field_handlers
+ */
+class addthis_handler_field_toolbox extends views_handler_field {
+  function construct() {
+    parent::construct();
+    $this->additional_fields['nid'] = 'nid';
+    $this->additional_fields['title'] = 'title';
+  }
+
+  function query() {
+    $this->ensure_my_table();
+    $this->add_additional_fields();
+  }
+
+  function option_definition() {
+    $options = parent::option_definition();
+
+    return $options;
+  }
+
+  function options_form(&$form, &$form_state) {
+    parent::options_form($form, $form_state);
+
+    // Allow for custom toolbox services.
+    $form['services'] = array(
+      '#type' => 'textarea',
+      '#rows' => 3,
+      '#title' => t('Toolbox services'),
+      '#description' => t('A comma-separated list of AddThis service codes to use in the Toolbox field. Leave blank to use your configured defaults.'),
+      '#default_value' => $this->options['services'],
+    );
+    
+    // Alter options form defaults.
+    unset($form['alter']);
+    unset($form['empty']);
+    unset($form['empty_zero']);
+    unset($form['hide_empty']);
+  }
+
+  function render($values) {
+    $nid = $values->{$this->aliases['nid']};
+    $title = $values->{$this->aliases['title']};
+    $services = (!empty($this->options['services'])) ? $this->options['services'] : NULL;
+    return theme('addthis_toolbox', $services, array(
+      'url' => url('node/' . $nid, array('absolute' => TRUE)),
+      'title' => check_plain($title),
+    ));
+  }
+}
diff --git a/sites/all/modules/addthis/example.php b/sites/all/modules/addthis/example.php
new file mode 100644
index 0000000..053f2f0
--- /dev/null
+++ b/sites/all/modules/addthis/example.php
@@ -0,0 +1,38 @@
+<?php
+function vibio_addthis_button($variables) {
+  $build_mode = $variables['build_mode'];
+  $https = isset($_SERVER['HTTPS']) && $_SERVER['HTTPS'] == 'on';
+  if (variable_get('addthis_dropdown_disabled', '0')) {
+    return ( sprintf('
+      <a href="http://www.addthis.com/bookmark.php"
+        onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);">
+      <img src="%s" width="%d" height="%d" %s /></a>
+      ',
+      $https ? addslashes(variable_get('addthis_image_secure', 'https://secure.addthis.com/button1-share.gif')) : addslashes(variable_get('addthis_image', 'http://s9.addthis.com/button1-share.gif')),
+      addslashes(variable_get('addthis_image_width', '125')),
+      addslashes(variable_get('addthis_image_height', '16')),
+      addslashes(variable_get('addthis_image_attributes', 'alt=""'))
+    ));
+  }
+  else {//customized code to display big add this buttons via text decoration
+    $options=explode(',',variable_get('addthis_options','expanded'));
+    foreach($options as &$service){
+        $service = trim($service);
+        $service = '<a class="addthis_button_' . $service . '"><img src="/'. path_to_theme() . '/images/addthis/' . $service . '.png" alt="' . $service . '"/></a>';
+  }
+  return (sprintf('
+      <!-- AddThis Button BEGIN -->
+      <div class="addthis_toolbox">
+      <h3 class="title">Share this!</h3>
+      <div class="custom_images">
+      %s
+      </div>
+      </div>
+      <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js?pub=%s"></script>
+      <!-- AddThis Button END -->',
+      implode("\n",$options),
+      variable_get('addthis_username', '')
+      ));
+   } // end custom code
+}
+?>
diff --git a/sites/all/modules/admin_menu/CHANGELOG.txt b/sites/all/modules/admin_menu/CHANGELOG.txt
new file mode 100644
index 0000000..76779c7
--- /dev/null
+++ b/sites/all/modules/admin_menu/CHANGELOG.txt
@@ -0,0 +1,242 @@
+
+Admin Menu x.x-x.x, xxxx-xx-xx
+------------------------------
+
+
+Admin Menu 6.x-1.x, xxxx-xx-xx
+------------------------------
+
+Admin Menu 6.x-1.8, 2011-06-16
+------------------------------
+#1190466 by pwolanin: fix for Call to undefined function admin_menu_exit() breaks some drush commands.
+
+Admin Menu 6.x-1.7, 2011-06-15
+------------------------------
+#1189672 by pwolanin: fix for 'flush all caches' open to csrf.
+#1189532 by pwolanin: fix rebuild logic to avoid an extra menu rebuild.
+
+Admin Menu 6.x-1.6, 2010-09-03
+------------------------------
+#567618 by indytechcook, neclimdul: Fixed tests.
+#860390 by Kevin Rogers: Fixed .info file parsing error on uncertain platform.
+#645526 by TravisCarden, hutch: Fixed stale local tasks markup after moving them.
+#615058 by Dave Reid: Fixed compatibility with PHP 5.3.
+#540762 by Deslack: Added Malay translation.
+#362454 by sun: Fixed Drupal.settings.admin_menu is undefined error.
+
+
+Admin Menu 6.x-1.5, 2009-07-02
+------------------------------
+#479922 by sun: Fixed fieldsets not collapsed on admin/build/modules/list*.
+#236657 by sun: Updated for corrected arguments of system_clear_cache_submit().
+#471504 by wulff: Updated Danish translation.
+
+
+Admin Menu 6.x-1.4, 2009-05-15
+------------------------------
+by Dave Reid: Updated for getInfo() for tests.
+#433016 by ultimateboy: Fixed Devel switch user links added to wrong parent.
+#349169 by sun: Fixed Devel switch user links contain multiple path prefixes.
+#384100 by kepol, sun: Fixed content-type items displayed in wrong place.
+#373339 by sun: Fixed double-escaped 'Edit <content-type>' link titles.
+by sun: Fixed admin menu tests (and updated to 6.x for SimpleTest 2.x).
+#359158 by nitrospectide, sun: Fixed Devel Themer breaks admin menu.
+#365335 by sun: Fixed not all variables removed after uninstall.
+
+
+Admin Menu 6.x-1.3, 2009-01-24
+------------------------------
+#362454 by sun: Fixed Drupal.settings.admin_menu is undefined JS error in some
+  browsers.
+
+
+Admin Menu 6.x-1.2, 2009-01-20
+------------------------------
+#358697 by sun: Added docs about admin_menu_suppress() to README.txt.
+#342684 by darumaki, sun: Added notice about Opera configuration to README.txt.
+#350932 by sun: Fixed "Run updates" link repeated per language/site.
+#342298 by gustz: Updated Spanish translation.
+#346106 by sun: Fixed XHTML-Strict validation for admin menu icon.
+#287448 by sun: Fixed unnecessary menu rebuild for users without permission to
+  use admin menu.
+#342002 by AltaVida: Fixed improper test for node/add paths.
+#272920 by keith.smith: Changed all text strings throughout the module.
+#322731 by sun: Fixed improper use of t() in module install file.
+#282030 by sun: Fixed "Run updates" item visible for unprivileged users.
+#322877 by sun: Added tweak to move page tabs into administration menu.
+#287468 by sun: Fixed module paths directly below "admin" get the wrong parent.
+#310423 by sun: Added optional position: fixed configuration setting.
+#292657 by smk-ka: Improved rendering performance.
+#234149 by yhager, sun: Fixed RTL support for IE.
+#323726 by danez1972: Added Spanish translation.
+#325057 by sun: Updated README.txt.
+#234149 by yhager, levavie, sun: Added RTL support.
+#325057 by sun: Added links to flush specific caches.
+#324334 by AltaVida: Fixed usernames with spaces not in Devel user switch links.
+#319382 by betz: Added Dutch translation.
+
+
+Admin Menu 6.x-1.1, 2008-09-12
+------------------------------
+#295476 by pwolanin, use <front> for icon path to fix front-page path-change
+  bug and pathauto conflict, add wipe button to admin form.
+#301370 by sun: Disabled module fieldset collapsing behavior by default.
+#288672 by sun: Fixed JS hover behavior not working in IE.
+#290803 by sun: Fixed missing devel_themer in devel modules; added some others.
+#286636 by sun: Fixed menus do not drop down in IE6.
+#249537 by pwolanin, sun: Added admin_menu_suppress() to allow other modules to
+  disable the display of admin_menu on certain pages (f.e. popups).
+#268211 by sun: Fixed invalid issue queue links for custom modules and
+  sub-modules of projects.
+#261461 by sun: Added FAQ entry for displaying other menus like admin_menu.
+#264067 by sun: Added FAQ entry for huge amount of anonymous users displayed.
+#280002 by pwolanin: Clean up .test setUp function.
+#242377 by sun: Fixed sub-level menu items exceed total document height.
+
+
+Admin Menu 6.x-1.0, 2008-06-26
+------------------------------
+#266308 by sun: Fixed jQuery 1.0.x incompatible selector for collapsing modules.
+#268373 by sun: Added hook_update to cleanup for alpha/beta testers.
+#268373 by sun: Added menu callback to disable/enable developer modules.
+#132524 by pwolanin: Fixed admin_menu links are re-inserted each time menu links
+  are rebuilt.
+by smk-ka: Performance: Use 'defer' attribute for JavaScript to delay execution.
+#266099 by sun: Fixed description of "Apply margin-top" configuration setting.
+#266308 by sun: Usability: Added Utility module features to collapse module
+  fieldsets on Modules page.
+#251341 by sun: Added docs about display drupal links permission.
+
+
+Admin Menu 6.x-1.0-BETA, 2008-06-08
+-----------------------------------
+#132524 by sun: Fixed support for sub-content-types below node/add.
+#132524 by pwolanin: Added support for localizable menu links.
+#132524 by pwolanin, sun: Fixed menu links adjustments.
+#132524 by pwolanin: Added simpletest.
+#132524 by pwolanin: Major rewrite to better use Drupal 6 menu system.
+#132524 by sun: Moved gettext translation files into translations.
+#132524 by sun: Committing pre-alpha code for D6 due to public demand.
+
+
+Admin Menu 5.x-2.x, xxxx-xx-xx
+------------------------------
+#246221 by sun: Fixed user counter displays different values than Who's online
+  block.
+#239022 by mikl: Added Danish translation.
+#234444 by smk-ka: Fixed admin_menu icon does not respect theme settings.
+#198240 by sun: Fixed admin_menu displayed in print output.
+
+
+Admin Menu 5.x-2.4, 2008-02-24
+------------------------------
+#214740 by sun: Regression: Fixed directly applied marginTop not supported by IE.
+#214725 by sun: Fixed wrong CSS id in admin_menu.js (missed in 5.x-2.3).
+
+
+Admin Menu 5.x-2.3, 2008-02-24
+------------------------------
+#214725 by sun: Fixed CSS id and classes should not contain underscores.
+#209390 by sun: Added note about interaction with user role permissions.
+#214740 by jjeff, sun: Added module settings to configure margin-top CSS.
+#200737 by sun: Changed admin_menu (fav)icon to use theme setting, if defined.
+#203116 by smk-ka: Improved performance of non-cached admin_menu by storing
+  already processed URLs in the cache.
+#224605 by sun: 'Add <content_type>' items do not appear without 'administer
+  nodes' permission.
+#210615 by robertgarrigos: Fixed Mozilla Mac: Collapsible fieldsets display
+  error.
+
+
+Admin Menu 5.x-2.2, 2007-01-08
+------------------------------
+#204884 by jjeff: Usability: Override theme font family declaration.
+#204935 by jjeff: Added mouseout delay for hovered menus (yay!).
+#193941 by downgang: Fixed margin in IE6 using Garland theme.
+#197306 by sun: Fixed 'Run updates' leads to wrong url with clean URLs disabled.
+Moved images into sub-folder.
+by smk-ka: Fixed icon title for user counter not displayed & coding style.
+Fixed user count not displayed without 'administer users' permission.
+
+
+Admin Menu 5.x-2.1, 2007-12-02
+------------------------------
+Fixed adding menu items with negative weight not always working.
+Fixed admin_menu_copy_items() is overwriting already existing items.
+Fixed display menu item ids in devel settings does not work.
+
+
+Admin Menu 5.x-2.0, 2007-12-02
+------------------------------
+Added devel_admin_menu() for fast access to clear-cache, variable editor and
+  switch_user.
+Added username to logout button.
+Added hook_admin_menu() to allow other modules to alter admin_menu.
+#194189 by sun: Added counter for current anonymous/authenticated users.
+Added Drupal.org project issue queue links for all enabled contrib modules.
+#189701 by sun: Changed admin_menu icon to be a menu.
+#193925 by sun: Removed obsolete menu slicing code.
+#193669 by smk-ka: Moved admin_menu builder functions into include file.
+
+
+Admin Menu 5.x-1.2, 2007-11-18
+------------------------------
+#176969 by smk-ka: Fixed performance issues with path(auto) module by
+  introducing a menu cache for admin_menu.
+#179648 by sun: Inject admin_menu into theme.
+  Fixes several CSS bugs in various themes and also activation of admin_menu
+  immediately after installation.
+#191213 by Standard: Fixed block info shouldn't contain the word "block".
+#187816 by sun: Fixed "Add" not translatable.
+#186218 by sun: Fixed admin menu icon too big in Safari.
+#182563 by sun: Fixed wrong datatype for array_search in _admin_menu_get_children().
+#183496 by sun: Fixed invalid argument supplied for foreach in admin_menu_copy_items().
+
+
+Admin Menu 5.x-1.1, 2007-10-10
+------------------------------
+#178876 by sun: Fixed 3rd-level submenus expand without hover over.
+#153455 by sun: Fixed add product node sub-elements are empty.
+Fixed path_to_theme() call breaking blocks page.
+#177582 by sun: Fixed bluebreeze theme compatibility.
+
+
+Admin Menu 5.x-1.0, 2007-09-06
+------------------------------
+#156952 by sun: Fixed admin menu inaccessible due to margins.
+#149229 by sun: Fixed admin menu not expanding in IE7.
+#172545 by sun: Use opacity instead of -moz-opacity.
+#132867 Fixed z-index too low.
+- Fixed admin menu block selectors to override any other theme styles.
+#155589 by sun: Added permission to access administration menu.
+- Fixed a PHP warning when there are no content types defined in the system, as
+  node/add then has no child menu items.
+#155312 by sun: Fixed menu item tooltip clashes.
+Added support for custom stylesheets per theme.
+Removed 4.7.x compatibility.
+
+
+Admin Menu 4.7-1.3, 2007-03-30
+------------------------------
+#126601 Fixed Users can see inaccessible items.
+#121027 Fixed Page not found entries for menu-collapsed.png.
+
+
+Admin Menu 4.7-1.2, 2007-03-04
+------------------------------
+- Fixed menu item adjustments
+- Fixed IE / Safari support
+- Fixed base_path for IE support
+- Added create content options to content management menu
+
+
+Admin Menu 4.7-1.1, 2007-01-24
+------------------------------
+First stable release, compatible to Drupal 4.7.x and 5.x.
+
+
+Admin Menu 4.7-1.0, 2007-01-16
+------------------------------
+Initial release of admin_menu module. Already supporting Drupal 5.0.
+
+
diff --git a/sites/all/modules/admin_menu/LICENSE.txt b/sites/all/modules/admin_menu/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/admin_menu/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/admin_menu/README.txt b/sites/all/modules/admin_menu/README.txt
new file mode 100644
index 0000000..c2fb5c4
--- /dev/null
+++ b/sites/all/modules/admin_menu/README.txt
@@ -0,0 +1,181 @@
+
+-- SUMMARY --
+
+The Drupal administration menu module displays the entire administrative
+menu tree (and most local tasks) in a drop-down menu, providing administrators
+one- or two-click access to most pages. Other modules may also add menu
+links to administration menu using hook_admin_menu().
+
+For a full description of the module, visit the project page:
+  http://drupal.org/project/admin_menu
+
+To submit bug reports and feature suggestions, or to track changes:
+  http://drupal.org/project/issues/admin_menu
+
+
+-- REQUIREMENTS --
+
+None.
+
+
+-- INSTALLATION --
+
+* Install as usual, see http://drupal.org/node/70151 for further information.
+
+
+-- CONFIGURATION --
+
+* Configure user permissions in Administer >> User management >> Permissions >>
+  admin_menu module:
+
+  - access administration menu
+
+    Users in roles with the "access administration menu" permission will see
+    the administration menu at the top of each page.
+
+  - display drupal links
+
+    Users in roles with the "display drupal links" permission will receive
+    links to Drupal.org issue queues for all enabled contributed modules. The
+    issue queue links appear under the administration menu icon.)
+
+  Note that the menu items displayed in the administration Menu depend on the
+  actual permissions of the viewing user. For example, the "User management"
+  menu item is not displayed to a user who is not a member of a role with the
+  "administer permissions" and "administer users" permissions.
+
+* Customize the menu settings in Administer >> Site configuration >>
+  Administration menu.
+
+* To prevent administrative menu items from appearing twice, you may hide the
+  "Navigation" menu block, or move the "Administer" menu items into a separate
+  menu.
+
+
+-- CUSTOMIZATION --
+
+* To override the default administration menu icon, you may:
+
+  1) Disable it via CSS in your theme:
+
+     body #admin-menu-icon { display: none; }
+
+  2) Alter the image by overriding the theme function:
+
+     Copy the entire theme_admin_menu_icon() function into your template.php,
+     rename it to phptemplate_admin_menu_icon() or THEMENAME_admin_menu_icon(),
+     and customize the output according to your needs.
+
+  Remember that the output of the administration menu is cached. To see changes
+  from your theme override function, you must clear your site cache (via
+  the "Flush all caches" link on the menu).
+
+* To override the font size, add the following line to your theme's stylesheet:
+
+  body #admin-menu { font-size: 10px; }
+
+
+-- TROUBLESHOOTING --
+
+* If the menu does not display, check the following:
+
+  - Are the "access administration menu" and "access administration pages"
+    permissions enabled for the appropriate roles?
+
+  - Does your theme output the $closure variable?
+
+* If the menu is rendered behind a Flash movie object, add this property to your
+  Flash object(s):
+
+  <param name="wmode" value="transparent" />
+
+  See http://drupal.org/node/195386 for further information.
+
+
+-- FAQ --
+
+Q: When the administration menu module is enabled, blank space is added to the
+   bottom of my theme. Why?
+
+A: This is caused by a long list of links to module issue queues at Drupal.org.
+   Use Administer >> User management >> Permissions to disable the "display
+   drupal links" permission for all appropriate roles. Note that since UID 1
+   automatically receives all permissions, the list of issue queue links cannot
+   be disabled for UID 1.
+
+
+Q: After upgrading to 6.x-1.x, the menu disappeared. Why?
+
+A: You may need to regenerate your menu. Visit
+   http://example.com/admin/build/modules to regenerate your menu (substitute
+   your site name for example.com).
+
+
+Q: Can I configure the administration menu module to display another menu (like
+   the Navigation menu, for instance)?
+
+A: No. As the name implies, administration menu module is for administrative
+   menu links only. However, you can copy and paste the contents of
+   admin_menu.css into your theme's stylesheet and replace #admin-menu with any
+   other menu block id (#block-menu-1, for example).
+
+
+Q: Sometimes, the user counter displays a lot of anonymous users, but no spike
+   of users or requests appear in Google Analytics or other tracking tools.
+
+A: If your site was concurrently spidered by search-engine robots, it may have
+   a significant number of anonymous users for a short time. Most web tracking
+   tools like Google Analytics automatically filter out these requests.
+
+
+Q: I enabled "Aggregate and compress CSS files", but admin_menu.css is still
+   there. Is this normal?
+
+A: Yes, this is the intended behavior. the administration menu module only loads
+   its stylesheet as needed (i.e., on page requests by logged-on, administrative
+   users).
+
+
+Q: Why are sub-menus not visible in Opera?
+
+A: In the Opera browser preferences under "web pages" there is an option to fit
+   to width. By disabling this option, sub-menus in the administration menu
+   should appear.
+
+
+Q: How can the administration menu be hidden on certain pages?
+
+A: You can suppress it by simply calling the following function in PHP:
+
+     module_invoke('admin_menu', 'suppress');
+
+   However, this needs to happen as early as possible in the page request, so
+   placing it in the theming layer (resp. a page template file) is too late.
+   Ideally, the function is called in hook_init() in a custom module.  If you do
+   not have a custom module, placing it into some conditional code at the top of
+   template.php may work out, too.
+
+
+-- CONTACT --
+
+Current maintainers:
+* Daniel F. Kudwien (sun) - http://drupal.org/user/54136
+* Peter Wolanin (pwolanin) - http://drupal.org/user/49851
+* Stefan M. Kudwien (smk-ka) - http://drupal.org/user/48898
+* Dave Reid (Dave Reid) - http://drupal.org/user/53892
+
+Major rewrite for Drupal 6 by Peter Wolanin (pwolanin).
+
+This project has been sponsored by:
+* UNLEASHED MIND
+  Specialized in consulting and planning of Drupal powered sites, UNLEASHED
+  MIND offers installation, development, theming, customization, and hosting
+  to get you started. Visit http://www.unleashedmind.com for more information.
+
+* Lullabot
+  Friendly Drupal experts providing professional consulting & education
+  services. Visit http://www.lullabot.com for more information.
+
+* Acquia
+  Commercially Supported Drupal. Visit http://acquia.com for more information.
+
diff --git a/sites/all/modules/admin_menu/admin_menu-rtl.css b/sites/all/modules/admin_menu/admin_menu-rtl.css
new file mode 100644
index 0000000..faa4f3a
--- /dev/null
+++ b/sites/all/modules/admin_menu/admin_menu-rtl.css
@@ -0,0 +1,25 @@
+
+#admin-menu { text-align: right; direction: rtl; }
+#admin-menu li.admin-menu-action { float: left; }
+#admin-menu li.admin-menu-action a { border-right: 1px solid #323232; border-left: none; }
+
+/* all lists */
+#admin-menu ul a { border-left: 1px solid #323232; border-right: 0; padding: 4px 8px; text-align: right; }
+
+/* all list items */
+/* width needed or else Opera goes nuts */
+#admin-menu li { float: right; position: relative; }
+#admin-menu li li { position: static; }
+#admin-menu li ul { right: 0; }
+
+/* third-and-above-level lists */
+#admin-menu li li.expandable ul { margin: -20px 160px 0 0; }
+
+#admin-menu li.admin-menu-action:hover ul {
+  left: 0 !important;
+  right: auto;
+}
+
+/* second-and-more-level hovering */
+#admin-menu li li.expandable { background: #45454a url(images/arrow-rtl.png) no-repeat 5px 7px; }
+
diff --git a/sites/all/modules/admin_menu/admin_menu.css b/sites/all/modules/admin_menu/admin_menu.css
new file mode 100644
index 0000000..c90fb7d
--- /dev/null
+++ b/sites/all/modules/admin_menu/admin_menu.css
@@ -0,0 +1,102 @@
+/**
+ * Administration Menu.
+ *
+ * Implementation of Sons of Suckerfish Dropdowns.
+ * @see www.htmldog.com/articles/suckerfish
+ **/
+#admin-menu { position: absolute; top: 0px; left: 0px; font-size: 9px; font-family: "lucida grande", tahoma, verdana, arial, sans-serif; background: url(images/bkg.png) bottom left repeat-x #101010; width: 100%; text-align: left; }
+#admin-menu li.admin-menu-icon a { padding: 1px 8px 4px; }
+#admin-menu li.admin-menu-icon ul a { padding: 4px 8px; }
+#admin-menu li.admin-menu-icon img { vertical-align: bottom; }
+#admin-menu li.admin-menu-users img { margin-top: 1px; }
+#admin-menu li.admin-menu-action { float: right; }
+#admin-menu li.admin-menu-action a { border-left: 1px solid #323232; border-right: none; }
+body.admin-menu { margin-top: 20px !important; }
+
+/* all lists */
+#admin-menu, #admin-menu ul { padding: 0; margin: 0; list-style: none; line-height: 1.4em; z-index: 999; }
+#admin-menu ul { position: static; }
+#admin-menu ul a { display: block; border-right: 1px solid #323232; border-bottom: none; padding: 4px 8px; font-weight: normal; color: #eee; text-decoration: none; text-align: left; }
+#admin-menu ul li.admin-menu-tab a { border-right: 1px solid #52565e; }
+#admin-menu li li a { border-right: none; border-top: 1px solid #323232; }
+
+/* all list items */
+/* width needed or else Opera goes nuts */
+#admin-menu li { float: left; height: 100%; margin: 0 !important; padding: 0; list-style-image: none; list-style-type: none; background-image: none; }
+#admin-menu li.admin-menu-tab { padding-bottom: 1px; background: url(images/bkg_tab.png) repeat-x left bottom; }
+#admin-menu li li { width: 160px; background: #202020; filter:Alpha(opacity=88); opacity: 0.88; }
+
+/* second-level lists */
+/* Note: Use left instead of display to hide publicly visible menus because display: none isn't read by screen readers */
+#admin-menu li ul { position: absolute; background: none; margin: 0; width: 160px; left: -999em; display: none; line-height: 1.2em; }
+
+/* third-and-above-level lists */
+#admin-menu li li.expandable ul { margin: -20px 0 0 160px; }
+
+#admin-menu li:hover ul ul,
+#admin-menu li:hover ul ul ul,
+#admin-menu li:hover ul ul ul ul,
+#admin-menu li:hover ul ul ul ul ul,
+#admin-menu li.iehover ul ul,
+#admin-menu li.iehover ul ul ul,
+#admin-menu li.iehover ul ul ul ul,
+#admin-menu li.iehover ul ul ul ul ul {
+  left: -999em;
+  display: none;
+}
+
+/* lists nested under hovered list items */
+#admin-menu li:hover ul,
+#admin-menu li li:hover ul,
+#admin-menu li li li:hover ul,
+#admin-menu li li li li:hover ul,
+#admin-menu li li li li li:hover ul,
+#admin-menu li.iehover ul,
+#admin-menu li li.iehover ul,
+#admin-menu li li li.iehover ul,
+#admin-menu li li li li.iehover ul,
+#admin-menu li li li li li.iehover ul {
+  left: auto;
+  display: block;
+}
+#admin-menu li.admin-menu-action:hover ul {
+  right: 0;
+}
+
+/* second-and-more-level hovering */
+#admin-menu li li.expandable { background: #45454a url(images/arrow.png) no-repeat 145px 7px; }
+#admin-menu li li:hover,
+#admin-menu li li.iehover {
+  background-color: #111;
+}
+#admin-menu li li:hover a,
+#admin-menu li li:hover li:hover a,
+#admin-menu li li:hover li:hover li:hover a {
+  color: #fff;
+}
+#admin-menu li li.expandable:hover a,
+#admin-menu li li.expandable:hover li.expandable:hover a {
+  border-color: #666666; color: #eee;
+}
+#admin-menu li li.expandable:hover li a,
+#admin-menu li li.expandable:hover li.expandable:hover li a {
+  border-color: #323232;
+}
+#admin-menu li li:hover li a,
+#admin-menu li li.iehover li a,
+#admin-menu li li.iehover li.iehover li a {
+  color: #eee;
+}
+#admin-menu li li.iehover a,
+#admin-menu li li.iehover li.iehover a,
+#admin-menu li li.iehover li.iehover li.iehover a {
+  color: #fff; width: 90%; /* IE */
+}
+
+/* #210615: Mozilla on Mac fix */
+html.js fieldset.collapsible div.fieldset-wrapper { overflow: visible; }
+
+@media print {
+  #admin-menu { display: none; }
+  body.admin-menu { margin-top: 0 !important; }
+}
diff --git a/sites/all/modules/admin_menu/admin_menu.drush.inc b/sites/all/modules/admin_menu/admin_menu.drush.inc
new file mode 100644
index 0000000..a8469a9
--- /dev/null
+++ b/sites/all/modules/admin_menu/admin_menu.drush.inc
@@ -0,0 +1,14 @@
+<?php
+
+/**
+ * Implments hook_drush_exit()
+ *
+ * This is necessary because drush skips the normal hook_exit() where
+ * we build the links.
+ */
+function admin_menu_drush_exit() {
+  if (function_exists('admin_menu_exit')) {
+    admin_menu_exit();
+  }
+}
+
diff --git a/sites/all/modules/admin_menu/admin_menu.inc b/sites/all/modules/admin_menu/admin_menu.inc
new file mode 100644
index 0000000..7b8c128
--- /dev/null
+++ b/sites/all/modules/admin_menu/admin_menu.inc
@@ -0,0 +1,566 @@
+<?php
+
+/**
+ * The key function that builds the menu links whenever there is a menu rebuild.
+ */
+function _admin_menu_rebuild_links() {
+  $menu = NULL;
+  // Since it's possible this core function might change, check
+  // that it exists. We do this instead of calling menu_router_build()
+  // since that may trigger another menu rebuild that is not protected
+  // by the lock API.
+  if (function_exists('_menu_router_cache')) {
+    // Get the newly rebuilt menu.
+    $menu = _menu_router_cache();
+  }
+  else {
+    $menu = menu_router_build();
+  }
+  if (!$menu) {
+    // Something went wrong. Don't risk triggering another menu rebuild.
+    return;
+  }
+  // Add normal and suggested items as links.
+  $menu_links = array();
+  foreach ($menu as $path => $item) {
+    // Exclude menu callbacks, include items below admin/* and node/add/*.
+    if ($item['type'] != MENU_CALLBACK && (($item['_parts'][0] == 'admin' && count($item['_parts']) > 1) || (strpos($path, 'node/add') === 0))) {
+      // TODO: handle local tasks with wildcards
+      if (!strpos($path, '%')) {
+        $item = admin_menu_link_build($item);
+        $menu_links[$path] = $item;
+        $sort[$path] = $item['_number_parts'];
+      }
+    }
+  }
+  $deleted = admin_menu_adjust_items($menu_links, $sort);
+  if ($menu_links) {
+    // Make sure no child comes before its parent.
+    array_multisort($sort, SORT_NUMERIC, $menu_links);
+
+    foreach ($menu_links as $item) {
+      admin_menu_link_save($item);
+    }
+  }
+  // Allow modules to add more links. If you want to alter links saved by
+  // admin_menu, use hook_menu_link_alter() and look for
+  // $item['module'] == 'admin_menu'
+  $links = array();
+  foreach (module_implements('admin_menu') as $module) {
+    $function = $module . '_admin_menu';
+    $links = array_merge_recursive($links, $function($deleted));
+  }
+  foreach ($links as $item) {
+    admin_menu_link_save($item);
+  }
+}
+
+/**
+ * Prepare a menu link from basic information formatted for a router item.
+ */
+function admin_menu_link_build($item) {
+  $item['module'] = 'admin_menu';
+  $item['menu_name'] = 'admin_menu';
+  $item += array(
+    'link_title' => $item['title'],
+    'link_path' => $item['path'],
+    'hidden' => 0,
+    'options' => array(),
+  );
+  $item['options']['alter'] = TRUE;
+  // DAM does not output item descriptions to prevent mouseover clashes and
+  // increase page loading performance.  However, the following code shows how
+  // link attributes can be added (for ajaxified DAM functionality later).
+  /*
+  if (!empty($item['description'])) {
+    $item['options']['attributes']['title'] = $item['description'];
+  }
+  */
+  if (!empty($item['query'])) {
+    $item['options']['query'] = $item['query'];
+  }
+  return $item;
+}
+
+/**
+ * Convenience function that looks up the plid if $item['parent_path'] is set.
+ */
+function admin_menu_link_save($item) {
+  $item = admin_menu_link_build($item);
+
+  // Check whether we are able to update an existing item.
+  $existing_item = db_fetch_array(db_query("SELECT mlid, plid, has_children FROM {menu_links} WHERE link_path = '%s' AND menu_name = '%s'", $item['link_path'], 'admin_menu'));
+  if ($existing_item) {
+    $item['mlid'] = $existing_item['mlid'];
+    $item['plid'] = $existing_item['plid'];
+    $item['has_children'] = $existing_item['has_children'];
+  }
+
+  // Look up the parent path for both new and existing links, since the parent
+  // may change.
+  if (isset($item['parent_path'])) {
+    if ($item['parent_path'] == '<root>') {
+      // <root> means that we want the link at the top level.
+      $item['plid'] = 0;
+    }
+    else {
+      $plid = db_result(db_query("SELECT mlid from {menu_links} WHERE link_path = '%s' AND menu_name = '%s'", $item['parent_path'], 'admin_menu'));
+      if ($plid) {
+        $item['plid'] = $plid;
+      }
+    }
+  }
+
+  menu_link_save($item);
+}
+
+/**
+ * Implementation of hook_admin_menu().
+ *
+ * @param &$deleted
+ *   Array of links under admin/* that were removed by admin_menu_adjust_items().
+ *   If one of these links is added back, it should be removed from the array.
+ */
+function admin_menu_admin_menu(&$deleted) {
+  $links = array();
+  $icon_path = '<front>';
+
+  // Add link to manually run cron.
+  $links[] = array(
+    'title' => 'Run cron',
+    'path' => 'admin/reports/status/run-cron',
+    'weight' => 50,
+    'parent_path' => $icon_path,
+  );
+  // Add link to run update.php.
+  $links[] = array(
+    'title' => 'Run updates',
+    'path' => 'update.php',
+    'weight' => 50,
+    'parent_path' => $icon_path,
+    'options' => array('external' => TRUE),
+  );
+
+  // Move 'By module' item into Site configuration.
+  if (isset($deleted['admin/by-module'])) {
+    $deleted['admin/by-module']['parent_path'] = 'admin/settings';
+    $deleted['admin/by-module']['weight'] = -10;
+    $links[] = $deleted['admin/by-module'];
+    unset($deleted['admin/by-module']);
+  }
+
+  // Add link to drupal.org.
+  $links[] = array(
+    'title' => 'Drupal.org',
+    'path' => 'http://drupal.org',
+    'weight' => 100,
+    'parent_path' => $icon_path,
+  );
+  // Add links to project issue queues.
+  $links[] = array(
+    'title' => 'Drupal issue queue',
+    'path' => 'http://drupal.org/project/issues/drupal',
+    'weight' => -10,
+    'parent_path' => 'http://drupal.org',
+  );
+  $projects = array();
+  foreach (module_list(FALSE, FALSE, TRUE) as $module) {
+    $info = drupal_parse_info_file(drupal_get_path('module', $module) .'/'. $module .'.info');
+    if (!isset($info['project']) || (isset($info['project']) && ($info['project'] == 'drupal' || isset($projects[$info['project']])))) {
+      continue;
+    }
+    $projects[$info['project']] = 1;
+    $url = 'http://drupal.org/project/issues/'. $info['project'];
+    // Filtering project versions via query string is not yet supported.
+    // @see http://drupal.org/node/97569
+    // $url .= !empty($info['version']) ? '/'. $info['version'] : '';
+    $links[] = array(
+      'title' => check_plain($info['name']) . ' issue queue',
+      'path' => $url,
+      'parent_path' => 'http://drupal.org',
+    );
+  }
+
+  // Add 'Create <content-type>' items to Content management menu.
+  if (isset($deleted['node/add'])) {
+    $deleted['node/add']['parent_path'] = 'admin/content';
+    $deleted['node/add']['weight'] = 0;
+    $links[] = $deleted['node/add'];
+    unset($deleted['node/add']);
+  }
+  foreach($deleted as $path => $item) {
+    if (strpos($path, 'node/add') !== FALSE) {
+      $links[] = $deleted[$path];
+      unset($deleted[$path]);
+    }
+  }
+  // Make sure longer paths are after shorter ones
+  ksort($deleted);
+  foreach (node_get_types('types', NULL, TRUE) as $type) {
+    $type_url_str = str_replace('_', '-', $type->type);
+    $type_path = 'admin/content/node-type/' . $type_url_str;
+    $links[$type_path] = array(
+      'title' => 'Edit !content-type',
+      'path' => $type_path,
+      'parent_path' => 'admin/content/types',
+      'options' => array('t' => array('!content-type' => $type->name)),
+    );
+    unset($deleted[$type_path . '/edit']);
+    // CCK and other modules adding to node types handled here.
+    foreach($deleted as $path => $item) {
+      // Precise test needed to account for multiple content-types having the
+      // same prefix in their name.
+      if ($path === $type_path || strpos($path, $type_path . '/') === 0) {
+        // Logically, parent path can never go shorter than $type_path.
+        $i = $item['_number_parts'] - 1;
+        do {
+          $parent_path = implode('/', array_slice($item['_parts'], 0, $i));
+          --$i;
+        } while (!isset($links[$parent_path]) && $i);
+        $item['parent_path'] = $parent_path;
+        $links[$path] = $item;
+        unset($deleted[$path]);
+      }
+    }
+  }
+
+  // Add clear-cache.
+  $links[] = array(
+    'title' => 'Flush all caches',
+    'path' => 'admin_menu/flush-cache',
+    'query' => 'destination',
+    'weight' => 20,
+    'parent_path' => $icon_path,
+  );
+  $caches = array(
+    'admin_menu' => 'Administration menu',
+    'cache' => 'Cache tables',
+    'menu' => 'Menu',
+    'requisites' => 'Page requisites',
+    'theme' => 'Theme registry',
+  );
+  foreach ($caches as $name => $title) {
+    $links[] = array(
+      'title' => $title,
+      'path' => 'admin_menu/flush-cache/' . $name,
+      'query' => 'destination',
+      'parent_path' => 'admin_menu/flush-cache',
+    );
+  }
+
+  // Add devel module links
+  if (module_exists('devel')) {
+    // Add variable editor.
+    $links[] = array(
+      'title' => 'Variable editor',
+      'path' => 'devel/variable',
+      'weight' => 20,
+      'parent_path' => $icon_path,
+    );
+    // Add switch_user items.
+    if ($devel_user_links = module_invoke('devel', 'switch_user_list')) {
+      foreach ($devel_user_links as $link) {
+        if (is_array($link)) {
+          $links[] = array(
+            'title' => $link['title'],
+            'description' => $link['attributes']['title'],
+            'path' => $link['href'],
+            'options' => array(
+              'query' => $link['query'],
+              'html' => !empty($link['html']),
+            ),
+            'parent_path' => 'logout',
+          );
+        }
+        // @todo Remove when Devel 6.x-1.16 has been released.
+        elseif (preg_match('!href="' . base_path() . '([^\?]+)\?([^"]+)" title="([^"]+)">((<em>)?[^<]+(</em>)?)!', $link, $match)) {
+          $links[] = array(
+            'title' => $match[4],
+            'description' => $match[3],
+            'path' => urldecode($match[1]),
+            'weight' => 20,
+            'query' => 'destination',
+            'parent_path' => 'logout',
+            'options' => array('html' => TRUE),
+          );
+        }
+      }
+    }
+  }
+  // Add developer modules toggle link.
+  $saved_state = variable_get('admin_menu_devel_modules_enabled', NULL);
+  $links[] = array(
+    'title' => isset($saved_state) ? t('Enable developer modules') : t('Disable developer modules'),
+    'path' => 'admin_menu/toggle-modules',
+    'weight' => 88,
+    'parent_path' => $icon_path,
+    'options' => array('query' => 'destination'),
+  );
+
+  return $links;
+}
+
+/**
+ * Add some hard-coded features for better user experience.
+ *
+ * @param array $menu_links
+ *   An array containing the complete administration menu structure, passed by
+ *   reference.
+ * @param array $sort
+ *   An array containing the # parts of each link - must be updated if a link
+ *   is added.
+ * @return
+ *   An array of links that were removed from $menu_links.
+ */
+function admin_menu_adjust_items(&$menu_links, &$sort) {
+  global $user;
+  $links = array();
+  $deleted = array();
+
+  // Change or remove items, or add new top-level items.
+  $deleted['admin/by-module'] = $menu_links['admin/by-module'];
+  unset($menu_links['admin/by-module'], $sort['admin/by-module']);
+  $deleted['admin/by-task'] = $menu_links['admin/by-task'];
+  unset($menu_links['admin/by-task'], $sort['admin/by-task']);
+
+  // Remove certain links to re-position them in admin_menu_admin_menu().
+  foreach ($menu_links as $path => $link) {
+    // Remove links below
+    // - admin/content/node-type/*
+    // - node/add*
+    if (strpos($path, 'admin/content/node-type/') !== FALSE || strpos($path, 'node/add') !== FALSE) {
+      $deleted[$path] = $link;
+      unset($menu_links[$path], $sort[$path]);
+    }
+  }
+  // Add the icon containing special links.
+  $links[] = array(
+    'title' => theme('admin_menu_icon'),
+    'path' => '<front>',
+    'weight' => -100,
+    'parent_path' => '<root>',
+    'options' => array('extra class' => 'admin-menu-icon', 'html' => TRUE),
+  );
+  // Add link to show current authenticated/anonymous users - we will add the
+  // data dynamically in the _alter hook.
+  $links[] = array(
+    'title' => 'icon_users',
+    'path' => 'user',
+    'weight' => -90,
+    'parent_path' => '<root>',
+    'options' => array('extra class' => 'admin-menu-action admin-menu-icon admin-menu-users', 'html' => TRUE),
+  );
+  $links[] = array(
+    'title' => 'Log out @username',
+    'path' => 'logout',
+    'weight' => -100,
+    'parent_path' => '<root>',
+    // Note: @username is dynamically replaced by default, we just invoke
+    // replacement by setting the 't' key here.
+    'options' => array('extra class' => 'admin-menu-action admin-menu-logout', 't' => array()),
+  );
+  foreach ($links as $item) {
+    $path = $item['path'];
+    $item = admin_menu_link_build($item);
+    $menu_links[$path] = $item;
+    $sort[$path] = 1;
+  }
+
+  return $deleted;
+}
+
+/**
+ * Form builder function for module settings.
+ */
+function admin_menu_theme_settings() {
+  $form['admin_menu_margin_top'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Adjust top margin'),
+    '#default_value' => variable_get('admin_menu_margin_top', 1),
+    '#description' => t('If enabled, the site output is shifted down approximately 20 pixels from the top of the viewport to display the administration menu. If disabled, some absolute- or fixed-positioned page elements may be covered by the administration menu.'),
+  );
+  $form['admin_menu_position_fixed'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Keep menu at top of page'),
+    '#default_value' => variable_get('admin_menu_position_fixed', 0),
+    '#description' => t('If enabled, the administration menu is always displayed at the top of the browser viewport (even after the page is scrolled). <strong>Note: In some browsers, this setting results in a malformed page, an invisible cursor, non-selectable elements in forms, or other issues. Disable this option if these issues occur.</strong>'),
+  );
+  $form['tweaks'] = array(
+    '#type' => 'fieldset',
+    '#title' => t('Advanced settings'),
+  );
+  $form['tweaks']['admin_menu_tweak_modules'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Collapse fieldsets on modules page'),
+    '#default_value' => variable_get('admin_menu_tweak_modules', 0),
+    '#description' => t('If enabled, fieldsets on the <a href="!modules-url">modules</a> page are automatically collapsed when loading the page.', array('!modules-url' => url('admin/build/modules'))),
+  );
+  if (module_exists('util')) {
+    $form['tweaks']['admin_menu_tweak_modules']['#description'] .= '<br /><strong>'. t('If the Utility module was installed for this purpose, it can be safely disabled and uninstalled.') .'</strong>';
+  }
+  $form['tweaks']['admin_menu_tweak_tabs'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Move local tasks into menu'),
+    '#default_value' => variable_get('admin_menu_tweak_tabs', 0),
+    '#description' => t('If enabled, the tabs on the current page are moved into the administration menu. This feature is only available in themes that use the CSS classes <code>tabs primary</code> and <code>tabs secondary</code> for tabs.'),
+  );
+  $form = system_settings_form($form);
+  $form['wipe description'] = array(
+    '#type' => 'item',
+    '#value' => t('If the administration menu displays duplicate menu items, you may need to rebuild your menu items using the <em>Wipe and rebuild</em> button.'),
+  );
+  $form['wipe'] = array(
+    '#type' => 'submit',
+    '#value' => t('Wipe and rebuild'),
+    '#submit' => array('admin_menu_wipe'),
+  );
+
+  return $form;
+}
+
+/**
+ * Wipe the menu so it can be rebuilt from scratch.
+ */
+function admin_menu_wipe() {
+  db_query("DELETE FROM {menu_links} WHERE menu_name = 'admin_menu'");
+  menu_cache_clear('admin_menu');
+  menu_rebuild();
+}
+
+/**
+ * Helper function for admin_menu_form_devel_admin_settings_alter().
+ *
+ * Extends Devel module with Administration Menu developer settings.
+ */
+function _admin_menu_devel_settings_form_alter(&$form, $form_state) {
+  // Shift system_settings_form buttons.
+  $weight = isset($form['buttons']['#weight']) ? $form['buttons']['#weight'] : 0;
+  $form['buttons']['#weight'] = $weight + 1;
+
+  $form['admin_menu'] = array(
+    '#type' => 'fieldset',
+    '#title' => t('Administration menu settings'),
+    '#collapsible' => TRUE,
+    '#collapsed' => TRUE,
+  );
+  $display_options = array('mid', 'weight', 'pid');
+  $display_options = array(0 => t('None'), 'mlid' => t('Menu link ID'), 'weight' => t('Weight'), 'plid' => t('Parent link ID'));
+  $form['admin_menu']['admin_menu_display'] = array(
+    '#type' => 'radios',
+    '#title' => t('Display additional data for each menu item'),
+    '#default_value' => variable_get('admin_menu_display', 0),
+    '#options' => $display_options,
+    '#description' => t('Display the selected items next to each menu item link.'),
+  );
+  $form['admin_menu']['admin_menu_show_all'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Display all menu items'),
+    '#default_value' => variable_get('admin_menu_show_all', 0),
+    '#description' => t('If enabled, all menu items are displayed regardless of your site permissions. <em>Note: Do not enable on a production site.</em>'),
+  );
+}
+
+/**
+ * Menu callback to enable/disable developer modules.
+ *
+ * This saves up to 150ms on each uncached page request. Not much, but
+ * on larger Drupal sites this is actually a 10% performance increase.
+ */
+function admin_menu_toggle_modules() {
+  // URL token prtects this against CSRF attacks.
+  if(!isset($_GET['token']) || ($_GET['token'] !== drupal_get_token($_GET['q']))) {
+    return MENU_ACCESS_DENIED;
+  }
+  $rebuild = FALSE;
+  $saved_state = variable_get('admin_menu_devel_modules_enabled', NULL);
+  if (isset($saved_state)) {
+    // Re-enable modules that were enabled before.
+    module_enable($saved_state);
+    variable_del('admin_menu_devel_modules_enabled');
+    drupal_set_message(t('Enabled these modules: !module-list.', array('!module-list' => implode(', ', $saved_state))));
+    $rebuild = TRUE;
+  }
+  else {
+    // Allow site admins to override this variable via settings.php.
+    $devel_modules = variable_get('admin_menu_devel_modules', array('cache_disable', 'coder', 'content_copy', 'debug', 'delete_all', 'demo', 'devel', 'devel_node_access', 'devel_themer', 'macro', 'form_controller', 'imagecache_ui', 'journal', 'trace', 'upgrade_status', 'user_display_ui', 'util', 'views_ui', 'views_theme_wizard'));
+    // Store currently enabled modules in a variable.
+    $devel_modules = array_intersect(module_list(FALSE, FALSE), $devel_modules);
+    if (!empty($devel_modules)) {
+      variable_set('admin_menu_devel_modules_enabled', $devel_modules);
+      // Disable developer modules.
+      module_disable($devel_modules);
+      drupal_set_message(t('Disabled these modules: !module-list.', array('!module-list' => implode(', ', $devel_modules))));
+      $rebuild = TRUE;
+    }
+    else {
+      drupal_set_message(t('No developer modules are enabled.'));
+    }
+  }
+  if ($rebuild) {
+    // Make sure everything is rebuilt, basically a combination of the calls
+    // from system_modules() and system_modules_submit().
+    drupal_rebuild_theme_registry();
+    menu_rebuild();
+    cache_clear_all('schema', 'cache');
+    cache_clear_all();
+    drupal_clear_css_cache();
+    drupal_clear_js_cache();
+    // Synchronize to catch any actions that were added or removed.
+    actions_synchronize();
+  }
+  drupal_goto('');
+}
+
+/**
+ * Flush all caches or a specific one.
+ *
+ * @param $name
+ *   (optional) Name of cache to flush.
+ */
+function admin_menu_flush_cache($name = NULL) {
+  // URL token protects this against CSRF attacks.
+  if(!isset($_GET['token']) || ($_GET['token'] !== drupal_get_token($_GET['q']))) {
+    return MENU_ACCESS_DENIED;
+  }
+  switch ($name) {
+    case 'admin_menu':
+      admin_menu_wipe();
+      break;
+
+    case 'cache':
+      // Don't clear cache_form - in-progress form submissions may break.
+      // Ordered so clearing the page cache will always be the last action.
+      $core = array('cache', 'cache_block', 'cache_filter', 'cache_page');
+      $cache_tables = array_merge(module_invoke_all('flush_caches'), $core);
+      foreach ($cache_tables as $table) {
+        cache_clear_all('*', $table, TRUE);
+      }
+      break;
+
+    case 'menu':
+      menu_rebuild();
+      break;
+
+    case 'requisites':
+      // Change query-strings on css/js files to enforce reload for all users.
+      _drupal_flush_css_js();
+
+      drupal_clear_css_cache();
+      drupal_clear_js_cache();
+      break;
+
+    case 'theme':
+      module_invoke('system', 'theme_data');
+      drupal_rebuild_theme_registry();
+      break;
+
+    default:
+      // Flush all caches; no need to re-implement this.
+      module_load_include('inc', 'system', 'system.admin');
+      $form = $form_state = array();
+      system_clear_cache_submit($form, $form_state);
+      break;
+  }
+  drupal_goto();
+}
+
diff --git a/sites/all/modules/admin_menu/admin_menu.info b/sites/all/modules/admin_menu/admin_menu.info
new file mode 100644
index 0000000..e64c03a
--- /dev/null
+++ b/sites/all/modules/admin_menu/admin_menu.info
@@ -0,0 +1,11 @@
+name = Administration menu
+description = "Provides a dropdown menu to most administrative tasks and other common destinations (to users with the proper permissions)."
+package = Administration
+core = 6.x
+
+; Information added by drupal.org packaging script on 2011-06-16
+version = "6.x-1.8"
+core = "6.x"
+project = "admin_menu"
+datestamp = "1308238014"
+
diff --git a/sites/all/modules/admin_menu/admin_menu.install b/sites/all/modules/admin_menu/admin_menu.install
new file mode 100644
index 0000000..f24cef4
--- /dev/null
+++ b/sites/all/modules/admin_menu/admin_menu.install
@@ -0,0 +1,45 @@
+<?php
+
+/**
+ * Implementation of hook_uninstall().
+ */
+function admin_menu_uninstall() {
+  // Delete menu links.
+  db_query("DELETE FROM {menu_links} WHERE module = 'admin_menu'");
+  menu_cache_clear_all();
+  // Delete variables.
+  variable_del('admin_menu_devel_modules_enabled');
+  variable_del('admin_menu_margin_top');
+  variable_del('admin_menu_position_fixed');
+  variable_del('admin_menu_rebuild_links');
+  variable_del('admin_menu_tweak_modules');
+  variable_del('admin_menu_tweak_tabs');
+}
+
+/**
+ * Ensure that admin_menu is rebuilt after upgrading to D6.
+ */
+function admin_menu_update_6000() {
+  $ret = array();
+  // Delete menu links.
+  db_query("DELETE FROM {menu_links} WHERE module = 'admin_menu'");
+  variable_set('admin_menu_rebuild_links', TRUE);
+  // Drop the {admin_menu} table in admin_menu_update_6000() on sites that used
+  // one of the later patches in #132524.
+  if (db_table_exists('admin_menu')) {
+    $ret[] = update_sql("DROP TABLE {admin_menu}");
+  }
+  return $ret;
+}
+
+/**
+ * Wipe and rebuild so we can switch the icon path to <front>.
+ */
+function admin_menu_update_6001() {
+  $ret = array();
+  module_load_include('inc', 'admin_menu');
+  admin_menu_wipe();
+  $ret[] = array('success' => TRUE, 'query' => 'Administration menu links deleted for clean rebuild.');
+  return $ret;
+}
+
diff --git a/sites/all/modules/admin_menu/admin_menu.js b/sites/all/modules/admin_menu/admin_menu.js
new file mode 100644
index 0000000..4feec32
--- /dev/null
+++ b/sites/all/modules/admin_menu/admin_menu.js
@@ -0,0 +1,52 @@
+
+$(document).ready(function() {
+  if (!$('#admin-menu').length) {
+    return;
+  }
+
+  // Apply margin-top if enabled; directly applying marginTop doesn't work in IE.
+  if (Drupal && Drupal.settings && Drupal.settings.admin_menu) {
+    if (Drupal.settings.admin_menu.margin_top) {
+      $('body').addClass('admin-menu');
+    }
+    if (Drupal.settings.admin_menu.position_fixed) {
+      $('#admin-menu').css('position', 'fixed');
+    }
+    // Move page tabs into administration menu.
+    if (Drupal.settings.admin_menu.tweak_tabs) {
+      $('ul.tabs.primary li').each(function() {
+        $(this).addClass('admin-menu-tab').appendTo('#admin-menu > ul');
+      });
+      $('ul.tabs.secondary').appendTo('#admin-menu > ul > li.admin-menu-tab.active').removeClass('secondary');
+    }
+    // Collapse fieldsets on Modules page. For why multiple selectors see #111719.
+    if (Drupal.settings.admin_menu.tweak_modules) {
+      $('#system-modules fieldset:not(.collapsed), #system-modules-1 fieldset:not(.collapsed)').addClass('collapsed');
+    }
+  }
+
+  // Hover emulation for IE 6.
+  if ($.browser.msie && parseInt(jQuery.browser.version) == 6) {
+    $('#admin-menu li').hover(function() {
+      $(this).addClass('iehover');
+    }, function() {
+      $(this).removeClass('iehover');
+    });
+  }
+
+  // Delayed mouseout.
+  $('#admin-menu li').hover(function() {
+    // Stop the timer.
+    clearTimeout(this.sfTimer);
+    // Display child lists.
+    $('> ul', this).css({left: 'auto', display: 'block'})
+      // Immediately hide nephew lists.
+      .parent().siblings('li').children('ul').css({left: '-999em', display: 'none'});
+  }, function() {
+    // Start the timer.
+    var uls = $('> ul', this);
+    this.sfTimer = setTimeout(function() {
+      uls.css({left: '-999em', display: 'none'});
+    }, 400);
+  });
+});
diff --git a/sites/all/modules/admin_menu/admin_menu.module b/sites/all/modules/admin_menu/admin_menu.module
new file mode 100644
index 0000000..d1ab299
--- /dev/null
+++ b/sites/all/modules/admin_menu/admin_menu.module
@@ -0,0 +1,330 @@
+<?php
+
+/**
+ * @file
+ * Renders a menu tree for administrative purposes as a dropdown menu at the top
+ * of the window.
+ */
+
+/**
+ * Implementation of hook_help().
+ */
+function admin_menu_help($path, $arg) {
+  switch ($path) {
+    case 'admin/settings/admin_menu':
+      return t('The administration menu module provides a dropdown menu arranged for one- or two-click access to most administrative tasks and other common destinations (to users with the proper permissions). Use the settings below to customize the appearance of the menu.');
+
+    case 'admin/help#admin_menu':
+      $output = '';
+      $output .= '<p>' . t('The administration menu module provides a dropdown menu arranged for one- or two-click access to most administrative tasks and other common destinations (to users with the proper permissions). Administration menu also displays the number of anonymous and authenticated users, and allows modules to add their own custom menu items. Integration with the menu varies from module to module; the contributed module <a href="@drupal">Devel</a>, for instance, makes strong use of the administration menu module to provide quick access to development tools.', array('@drupal' => 'http://drupal.org/project/devel')) . '</p>';
+      $output .= '<p>' . t('The administration menu <a href="@settings">settings page</a> allows you to modify some elements of the menu\'s behavior and appearance. Since the appearance of the menu is dependent on your site theme, substantial customizations require modifications to your site\'s theme and CSS files. See the advanced module README.txt file for more information on theme and CSS customizations.', array('@settings' => url('admin/settings/admin_menu'))) . '</p>';
+      $output .= '<p>' . t('The menu items displayed in the administration menu depend upon the actual permissions of the viewer. First, the administration menu is only displayed to users in roles with the <em>Access administration menu</em> (admin_menu module) permission. Second, a user must be a member of a role with the <em>Access administration pages</em> (system module) permission to view administrative links. And, third, only currently permitted links are displayed; for example, if a user is not a member of a role with the permissions <em>Administer permissions</em> (user module) and <em>Administer users</em> (user module), the <em>User management</em> menu item is not displayed.') . '</p>';
+      return $output;
+  }
+}
+
+/**
+ * Implementation of hook_perm().
+ */
+function admin_menu_perm() {
+  return array('access administration menu', 'display drupal links');
+}
+
+/**
+ * Implementation of hook_theme().
+ */
+function admin_menu_theme() {
+  return array(
+    'admin_menu_icon' => array(
+      'arguments' => array(),
+    ),
+  );
+}
+
+/**
+ * Implementation of hook_menu().
+ */
+function admin_menu_menu() {
+  $items = array();
+  $items['admin/settings/admin_menu'] = array(
+    'title' => 'Administration menu',
+    'description' => 'Adjust administration menu settings.',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('admin_menu_theme_settings'),
+    'access arguments' => array('administer site configuration'),
+    'file' => 'admin_menu.inc',
+  );
+  $items['admin_menu/toggle-modules'] = array(
+    'page callback' => 'admin_menu_toggle_modules',
+    'access arguments' => array('administer site configuration'),
+    'type' => MENU_CALLBACK,
+    'file' => 'admin_menu.inc',
+  );
+  $items['admin_menu/flush-cache'] = array(
+    'page callback' => 'admin_menu_flush_cache',
+    'access arguments' => array('administer site configuration'),
+    'type' => MENU_CALLBACK,
+    'file' => 'admin_menu.inc',
+  );
+  return $items;
+}
+
+/**
+ * Implementation of hook_init().
+ *
+ * We can't move this into admin_menu_footer(), because PHP-only based themes
+ * like chameleon load and output scripts and stylesheets in front of
+ * theme_closure(), so we ensure Admin menu's styles and scripts are loaded on
+ * all pages via hook_init().
+ */
+function admin_menu_init() {
+  if (user_access('access administration menu')) {
+    $path = drupal_get_path('module', 'admin_menu');
+    drupal_add_css($path .'/admin_menu.css', 'module', 'all', FALSE);
+    // Performance: Defer execution.
+    drupal_add_js($path .'/admin_menu.js', 'module', 'header', TRUE);
+
+    if ($setting = variable_get('admin_menu_margin_top', 1)) {
+      drupal_add_js(array('admin_menu' => array('margin_top' => $setting)), 'setting');
+    }
+    if ($setting = variable_get('admin_menu_position_fixed', 0)) {
+      drupal_add_js(array('admin_menu' => array('position_fixed' => $setting)), 'setting');
+    }
+    if ($setting = variable_get('admin_menu_tweak_tabs', 0)) {
+      drupal_add_js(array('admin_menu' => array('tweak_tabs' => $setting)), 'setting');
+    }
+    if ($_GET['q'] == 'admin/build/modules' || strpos($_GET['q'], 'admin/build/modules/list') === 0) {
+      drupal_add_js(array('admin_menu' => array('tweak_modules' => variable_get('admin_menu_tweak_modules', 0))), 'setting');
+    }
+  }
+}
+
+/**
+ * Suppress display of administration menu.
+ *
+ * This function should be called from within another module's page callback
+ * (preferably using module_invoke()) when the menu should not be displayed.
+ * This is useful for modules that implement popup pages or other special
+ * pages where the menu would be distracting or break the layout.
+ *
+ * @param $set
+ *   Defaults to TRUE.  If called before hook_footer, the menu will not be
+ *   displayed.  Calling with FALSE returns the suppression state.
+ */
+function admin_menu_suppress($set = TRUE) {
+  static $suppress = FALSE;
+  if (!empty($set)) {
+    $suppress = TRUE;
+  }
+  return $suppress;
+}
+
+/**
+ * Implementation of hook_footer().
+ *
+ * Admin menu was previously output via hook_block(), but suffered from
+ * theme-specific stylesheets that may be applied to layout blocks. We now
+ * output Admin menu in the footer to circumvent this.
+ */
+function admin_menu_footer($main = 0) {
+  if (!user_access('access administration menu') || admin_menu_suppress(FALSE)) {
+    return;
+  }
+
+  $content  = '<div id="admin-menu">';
+  $content .= admin_menu_tree_output(menu_tree_all_data('admin_menu'));
+  $content .= '</div>';
+  return $content;
+}
+
+/**
+ * Implementation of hook_exit().
+ */
+function admin_menu_exit() {
+  // Check for the flag indicating that we need to rebuild.
+  if (admin_menu_rebuild_links()) {
+    module_load_include('inc', 'admin_menu');
+    _admin_menu_rebuild_links();
+  }
+}
+
+/**
+ * Returns a rendered menu tree.
+ *
+ * @param $tree
+ *   A data structure representing the tree as returned from menu_tree_data.
+ *
+ * @return string
+ *   The complete, rendered administration menu.
+ */
+function admin_menu_tree_output($tree) {
+  $output = '';
+
+  foreach ($tree as $data) {
+    $extra_class = isset($data['link']['localized_options']['extra class']) ? $data['link']['localized_options']['extra class'] : NULL;
+    $link = admin_menu_item_link($data['link']);
+
+    if ($data['below']) {
+      $output .= theme_admin_menu_item($link, $data['link']['has_children'], admin_menu_tree_output($data['below']), $data['link']['in_active_trail'], $extra_class);
+    }
+    else {
+      $output .= theme_admin_menu_item($link, $data['link']['has_children'], '', $data['link']['in_active_trail'], $extra_class);
+    }
+  }
+  return $output ? "\n<ul>". $output .'</ul>' : '';
+}
+
+/**
+ * High-performance implementation of theme_menu_item_link().
+ *
+ * This saves us a theme() call and does only the absolute minimum to get
+ * the admin menu links rendered.
+ */
+function admin_menu_item_link($link) {
+  // Omit alias lookups.
+  $link['localized_options']['alias'] = TRUE;
+  return '<a href="'. check_url(url($link['href'], $link['localized_options'])) .'">'. (!empty($link['localized_options']['html']) ? $link['title'] : check_plain($link['title'])) .'</a>';
+}
+
+/**
+ * Generate the HTML output for a single menu item and submenu.
+ *
+ * @param string $link
+ *   A rendered menu item link.
+ * @param bool $has_children
+ *   Whether this item has children.
+ * @param string $menu
+ *   A string containing any rendered children of this item.
+ * @param bool $in_active_trail
+ *   Whether this item is in the active menu trail.
+ * @param string $extra_class
+ *   An additional CSS class to set for this item.
+ *
+ * @see theme_menu_item()
+ * @ingroup themeable
+ */
+function theme_admin_menu_item($link, $has_children, $menu = '', $in_active_trail = FALSE, $extra_class = NULL) {
+  $class = ($menu || $has_children ? 'expandable' : '');
+  if (!empty($extra_class)) {
+    $class .= ' '. $extra_class;
+  }
+  if ($in_active_trail) {
+    $class .= ' active-trail';
+  }
+  return '<li'. (!empty($class) ? ' class="'. $class .'"' : '') .'>'. $link . $menu .'</li>';
+}
+
+/**
+ * Implementation of hook_form_[form_id]_alter().
+ *
+ * Extends Devel module with Administration Menu developer settings.
+ */
+function admin_menu_form_devel_admin_settings_alter(&$form, $form_state) {
+  module_load_include('inc', 'admin_menu');
+  _admin_menu_devel_settings_form_alter($form, $form_state);
+}
+
+/**
+ * Implementation of hook_enable().
+ */
+function admin_menu_enable() {
+  admin_menu_rebuild_links(TRUE);
+}
+
+/**
+ * Implementation of hook_menu_alter().
+ */
+function admin_menu_menu_alter() {
+  admin_menu_rebuild_links(TRUE);
+}
+
+function admin_menu_rebuild_links($new_value = NULL) {
+  static $rebuild = FALSE;
+
+  if (isset($new_value)) {
+    $rebuild = $new_value;
+  }
+  return $rebuild;
+}
+
+/**
+ * Implementation of hook_translated_menu_link_alter().
+ *
+ * Here is where we make changes to links that need dynamic information such
+ * as the current page path or the number of users.
+ */
+function admin_menu_translated_menu_link_alter(&$item, $map) {
+  global $user, $base_url;
+  static $access_all;
+
+  if (!isset($access_all)) {
+    // We only ever do this for development
+    $access_all = variable_get('admin_menu_show_all', 0) && module_exists('devel');
+  }
+  if ($item['menu_name'] != 'admin_menu') {
+    return;
+  }
+  if ($access_all && !$item['access']) {
+    $item['access'] = TRUE;
+    // Prepare for http://drupal.org/node/266596
+    if (!isset($item['localized_options'])) {
+      _menu_item_localize($item, $map, TRUE);
+    }
+  }
+  // We defined 'Run updates' as external link; apply proper base path now.
+  if ($item['link_path'] == 'update.php') {
+    $item['title'] = $item['link_title'];
+    $item['access'] = ($user->uid == 1 || !empty($GLOBALS['update_free_access']));
+    $item['href'] = base_path() . $item['href'];
+    _menu_item_localize($item, $map, TRUE);
+    return;
+  }
+  // Don't waste cycles altering items that are not visible
+  if (!$item['access']) {
+    return;
+  }
+  if ($item['link_path'] == 'http://drupal.org' && !user_access('display drupal links')) {
+    $item['access'] = FALSE;
+    return;
+  }
+  // Fix destination query strings
+  if (isset($item['localized_options']['query'])) {
+    if ($item['localized_options']['query'] == 'destination') {
+      // URL token protects the link against CSRF attacks.
+      $item['localized_options']['query'] = drupal_get_destination() . '&token=' . drupal_get_token($item['link_path']);
+    }
+  }
+
+  if ($extra = variable_get('admin_menu_display', 0)) {
+    $item['title'] .= ' '. $extra[0] .': '. $item[$extra];
+  }
+  // Handle items that need dynamic localization/replacement.
+  if (isset($item['options']['t'])) {
+    $item['title'] = t($item['title'], $item['options']['t'] + array('@username' => $user->name));
+  }
+  if ($item['title'] == 'icon_users') {
+    // Add count of active anonymous/authenticated users.
+    // @see user_block(), user.module
+    $interval = time() - variable_get('user_block_seconds_online', 900);
+    $count_anon = sess_count($interval);
+    $count_auth = db_result(db_query("SELECT COUNT(DISTINCT uid) FROM {sessions} WHERE uid > 0 AND timestamp >= %d", $interval));
+    $icon_users = '<img src="'. base_path() . drupal_get_path('module', 'admin_menu') .'/images/icon_users.png" width="16" height="15" alt="@title" title="@title" />';
+
+    $title = array('@title' => t('Current anonymous / authenticated users'));
+    $icon_users = strtr($icon_users, $title);
+    $item['title'] = t('@count-anon / @count-auth !icon', array('@count-anon' => $count_anon, '@count-auth' => $count_auth, '!icon' => $icon_users));
+    if (user_access('administer users')) {
+      $item['href'] = 'admin/user/user';
+    }
+  }
+}
+
+/**
+ * Render an icon to display in the Administration Menu.
+ *
+ * @ingroup themeable
+ */
+function theme_admin_menu_icon() {
+  return '<img class="admin-menu-icon" src="'. (theme_get_setting('toggle_favicon') ? theme_get_setting('favicon') : base_path() .'misc/favicon.ico') .'" width="16" height="16" alt="'. t('Home') .'" />';
+}
+
diff --git a/sites/all/modules/admin_menu/images/arrow-rtl.png b/sites/all/modules/admin_menu/images/arrow-rtl.png
new file mode 100644
index 0000000..dccaad7
Binary files /dev/null and b/sites/all/modules/admin_menu/images/arrow-rtl.png differ
diff --git a/sites/all/modules/admin_menu/images/arrow.png b/sites/all/modules/admin_menu/images/arrow.png
new file mode 100644
index 0000000..3c3166f
Binary files /dev/null and b/sites/all/modules/admin_menu/images/arrow.png differ
diff --git a/sites/all/modules/admin_menu/images/bkg.png b/sites/all/modules/admin_menu/images/bkg.png
new file mode 100644
index 0000000..9de137b
Binary files /dev/null and b/sites/all/modules/admin_menu/images/bkg.png differ
diff --git a/sites/all/modules/admin_menu/images/bkg_tab.png b/sites/all/modules/admin_menu/images/bkg_tab.png
new file mode 100644
index 0000000..6ee3de0
Binary files /dev/null and b/sites/all/modules/admin_menu/images/bkg_tab.png differ
diff --git a/sites/all/modules/admin_menu/images/icon_users.png b/sites/all/modules/admin_menu/images/icon_users.png
new file mode 100644
index 0000000..a2b2a99
Binary files /dev/null and b/sites/all/modules/admin_menu/images/icon_users.png differ
diff --git a/sites/all/modules/admin_menu/tests/admin_menu.test b/sites/all/modules/admin_menu/tests/admin_menu.test
new file mode 100644
index 0000000..e780c06
--- /dev/null
+++ b/sites/all/modules/admin_menu/tests/admin_menu.test
@@ -0,0 +1,156 @@
+<?php
+
+/**
+ * @file
+ * Administration menu functionality tests.
+ *
+ * Note: When using $this->assertPattern(), be sure to use the 's' modifier for
+ * the PCRE pattern, since admin menu's output spans over multiple lines.
+ */
+
+
+/**
+ * Test menu links depending on user permissions.
+ */
+class AdminMenuPermissionsTestCase extends DrupalWebTestCase {
+  public static function getInfo() {
+    return array(
+      'name' => t('Menu link permissions'),
+      'description' => t('Verify that menu is displayed according to user permissions.'),
+      'group' => t('Administration menu'),
+    );
+  }
+
+  function setUp() {
+    parent::setUp('admin_menu');
+    admin_menu_exit();
+  }
+
+  /**
+   * Test that the links are added to the page (no JS testing).
+   */
+  function testPermissions() {
+    // Anonymous users should not see the menu.
+    $this->assertNoRaw('<div id="admin-menu"', t('Admin menu not displayed to anonymous.'));
+
+    // Create a new user who can access administration menu, but without the
+    // permission 'display drupal links'.
+    $admin_user = $this->drupalCreateUser(array('administer site configuration', 'access administration pages', 'administer nodes', 'access administration menu'));
+    $this->drupalLogin($admin_user);
+
+    // Check that the user can see the admin links, but not the drupal links.
+    $this->assertRaw('<div id="admin-menu"', t('Administration menu is displayed.'));
+    $this->drupalGet('node');
+    $this->assertPattern('@<div id="admin-menu".*admin/content/node@s', t('Administer content link found.'));
+    $this->assertNoPattern('@<div id="admin-menu".*http://drupal.org@s', t('Drupal links not found.'));
+    $this->assertNoPattern('@<div id="admin-menu".*admin/build/contact@s', t('Contact module link not found.'));
+
+    // Create a new user with the permission 'display drupal links'.
+    $admin_user2 = $this->drupalCreateUser(array('administer site configuration', 'access administration pages', 'administer nodes', 'access administration menu', 'display drupal links'));
+    $this->drupalLogin($admin_user2);
+    $this->drupalGet('node');
+    $this->assertPattern('@<div id="admin-menu".*http://drupal.org@s', t('Drupal links found.'));
+    $this->assertNoPattern('@<div id="admin-menu".*admin/build/contact@s', t('Contact module link not found.'));
+  }
+}
+
+/**
+ * Test menu links depending on installed modules.
+ */
+class AdminMenuModulesTestCase extends DrupalWebTestCase {
+  public static function getInfo() {
+    return array(
+      'name' => t('Module menu links'),
+      'description' => t('Verify that menu contains links according to enabled modules.'),
+      'group' => t('Administration menu'),
+    );
+  }
+
+  function setUp() {
+    parent::setUp('admin_menu', 'contact');
+    admin_menu_exit();
+  }
+
+  /**
+   * Test that the links are added to the page (no JS testing).
+   */
+  function testContactModuleLinks() {
+    // Create a new user without 'administer site-wide contact form' permission.
+    $admin_user = $this->drupalCreateUser(array('access administration pages', 'access administration menu'));
+    $this->drupalLogin($admin_user);
+
+    // Verify that proper links are displayed.
+    $this->assertRaw('<div id="admin-menu"', t('Administration menu is displayed.'));
+    $this->drupalGet('node');
+    $this->assertNoPattern('@<div id="admin-menu".*admin/build/contact@s', t('Contact module link not found.'));
+
+    // Create a new user with 'administer site-wide contact form' permission.
+    $admin_user = $this->drupalCreateUser(array('access administration pages', 'access administration menu', 'administer site-wide contact form'));
+    $this->drupalLogin($admin_user);
+
+    // Verify that proper links are displayed.
+    $this->drupalGet('node');
+    $this->assertPattern('@<div id="admin-menu".*admin/build/contact@s', t('Contact module link found.'));
+  }
+}
+
+/**
+ * Test contained links in administration menu.
+ */
+class AdminMenuLinksTestCase extends DrupalWebTestCase {
+  public static function getInfo() {
+    return array(
+      'name' => t('Menu links'),
+      'description' => t('Verify that menu contains proper links.'),
+      'group' => t('Administration menu'),
+    );
+  }
+
+  function setUp() {
+    parent::setUp('admin_menu');
+    admin_menu_exit();
+    // Create and log in a full-blown administrative user.
+    $permissions = module_invoke_all('perm');
+    $admin_user = $this->drupalCreateUser($permissions);
+    $this->admin_user = $this->drupalLogin($admin_user);
+  }
+
+  /**
+   * Test link contents.
+   */
+  function testLinkContents() {
+    // Create a content-type with special characters.
+    $info = array(
+      'type' => 'special',
+      'name' => 'Cool & Special',
+      'module' => 'node',
+      'description' => '',
+    );
+    $info = (object)_node_type_set_defaults($info);
+    node_type_save($info);
+    $this->drupalPost('admin/settings/performance', array(), t('Clear cached data'));
+
+    // Fetch a page.
+    $this->drupalGet('node');
+    $this->assertRaw('<div id="admin-menu"', t('Administration menu is displayed.'));
+
+    // Verify that proper links are displayed.
+    // We are explicitly NOT using t() here, since the purpose is to test our
+    // custom link titles and 't' option.
+    $links = array(
+      url('admin/content/node-type/page') => strtr('Edit !content-type', array('!content-type' => t('Page'))),
+      url('admin/content/node-type/special') => strtr('Edit !content-type', array('!content-type' => t('Cool & Special'))),
+    );
+    foreach ($links as $url => $title) {
+      $this->assertFieldByXPath('//div[@id="admin-menu"]//a[@href="' . $url . '"]', $title, t('!link-title content-type link found.', array('!link-title' => $title)));
+    }
+    $links = array(
+      url('node/add/page') => t('Page'),
+      url('node/add/special') => t('Cool & Special'),
+    );
+    foreach ($links as $url => $title) {
+      $this->assertFieldByXPath('//div[@id="admin-menu"]//a[@href="' . $url . '"]', $title, t('Create content &raquo; !link-title link found.', array('!link-title' => $title)));
+    }
+  }
+}
+
diff --git a/sites/all/modules/contact_importer/openinviter_engine/openinviter_engine.install b/sites/all/modules/contact_importer/openinviter_engine/openinviter_engine.install
old mode 100755
new mode 100644
diff --git a/sites/all/modules/contact_importer/openinviter_engine/openinviter_engine.module b/sites/all/modules/contact_importer/openinviter_engine/openinviter_engine.module
old mode 100755
new mode 100644
diff --git a/sites/all/modules/db_maintenance/INSTALL.txt b/sites/all/modules/db_maintenance/INSTALL.txt
new file mode 100644
index 0000000..0492623
--- /dev/null
+++ b/sites/all/modules/db_maintenance/INSTALL.txt
@@ -0,0 +1,9 @@
+Database Maintenance Module
+
+Installation Instructions:
+
+1. Copy the db_maintenance folder to your modules directory.
+
+2. Enable db_maintenance module at: Administer > Site building > Modules
+
+3. Select tables to be optimized during cron runs at: Administer > Site configuration > DB maintenance
\ No newline at end of file
diff --git a/sites/all/modules/db_maintenance/LICENSE.txt b/sites/all/modules/db_maintenance/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/db_maintenance/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/db_maintenance/README.txt b/sites/all/modules/db_maintenance/README.txt
new file mode 100644
index 0000000..e35d9d7
--- /dev/null
+++ b/sites/all/modules/db_maintenance/README.txt
@@ -0,0 +1,34 @@
+Database Maintenance Module
+
+Author:
+David Kent Norman
+http://deekayen.net/
+
+DESCRIPTION
+-----------
+Runs an optimization query on selected tables for your database.
+This should probably NOT be used to optimize every table in your
+Drupal installation.
+
+Per PostgreSQL documentation's recommendation, this module does
+not use the VACUUM FULL operation that locks the tables; this
+module can operate in parallel with normal reading and writing
+of PostgreSQL tables.
+
+MySQL's OPTIMIZE query uses table locks.
+http://drupal.org/node/91621 is an example
+where the table locking during the OPTIMIZE procedure could
+interfere with basic functionality of your site when using MySQL.
+
+Keep it down to tables where there is lot of data movement like
+accesslog, cache, sessions, and watchdog. It's probably better to
+make a separate, more infrequent cron as part of your regular
+server management if you want to optimize your node tables.
+
+INSTALLATION
+------------
+See INSTALL.txt in this directory.
+
+TODO
+----
+Some sort of backup dump saver/emailer/ftp/etc.
\ No newline at end of file
diff --git a/sites/all/modules/db_maintenance/db_maintenance.info b/sites/all/modules/db_maintenance/db_maintenance.info
new file mode 100644
index 0000000..5a22834
--- /dev/null
+++ b/sites/all/modules/db_maintenance/db_maintenance.info
@@ -0,0 +1,10 @@
+; $Id: db_maintenance.info,v 1.5 2007/11/29 20:41:18 deekayen Exp $
+name = DB Maintenance
+description = "Executes an OPTIMIZE TABLE query on MyISAM, InnoDB, or BerkeleyDB database tables in a MySQL database."
+core = 6.x
+; Information added by drupal.org packaging script on 2011-01-03
+version = "6.x-1.3"
+core = "6.x"
+project = "db_maintenance"
+datestamp = "1294066267"
+
diff --git a/sites/all/modules/db_maintenance/db_maintenance.install b/sites/all/modules/db_maintenance/db_maintenance.install
new file mode 100644
index 0000000..340a2d8
--- /dev/null
+++ b/sites/all/modules/db_maintenance/db_maintenance.install
@@ -0,0 +1,27 @@
+<?php
+// $Id: db_maintenance.install,v 1.2 2010/12/15 04:26:53 deekayen Exp $
+
+/**
+ * @file
+ * Installation file for DB Maintenance (http://drupal.org/project/db_maintenance).
+ */
+
+/**
+ * Implementation of hook_uninstall().
+ */
+function db_maintenance_uninstall() {
+
+  // Delete individual configuration options.
+  variable_del('db_maintenance_cron_last');
+  variable_del('db_maintenance_cron_frequency');
+  variable_del('db_maintenance_log');
+
+  // Delete the list of tables for each DB.
+  $result = db_query("
+    SELECT name FROM {variable}
+    WHERE name LIKE 'db_maintenance_table_list_%'
+  ");
+  while ($row = db_fetch_object($result)) {
+    variable_del($row->name);
+  }
+}
diff --git a/sites/all/modules/db_maintenance/db_maintenance.module b/sites/all/modules/db_maintenance/db_maintenance.module
new file mode 100644
index 0000000..66fa30b
--- /dev/null
+++ b/sites/all/modules/db_maintenance/db_maintenance.module
@@ -0,0 +1,252 @@
+<?php
+// $Id: db_maintenance.module,v 1.11.2.3 2009/12/23 19:42:22 cyu Exp $
+
+/**
+ * @file
+ * Optimizes database tables during cron runs.
+ *
+ * @author David Kent Norman
+ * @link http://deekayen.net/
+ *
+ * @todo
+ * - some sort of backup dump saver/emailer/ftp/etc
+ */
+
+/**
+ * Implementation of hook_help().
+ *
+ * @param $section string
+ * @return string
+ */
+function db_maintenance_help($path, $arg) {
+  switch ($path) {
+    case 'admin/help#db_maintenance':
+      return t('<p>DB maintenance performs an optimization query on selected tables.</p>
+        <p>For MyISAM tables,
+        OPTIMIZE TABLE repairs a table if it has deleted or split rows, sorts table indexes,
+        and updates table statistics. For BDB and InnoDB, OPTIMIZE rebuilds the table. Note, MySQL
+        locks tables during the time OPTIMIZE TABLE is running. OPTIMIZE works best on tables with
+        large deletions (e.g. cache or watchdog), however MySQL will reuse old record positions,
+        therefore in most setups, OPTIMIZE TABLE is unnecessary unless you just like defragmenting.</p>
+        <p>The Overhead column in phpMyAdmin\'s database view is the most common way to determine the
+        need of an OPTIMIZE TABLE query. It essentially shows the amount of disk space you would
+        recover by running an optimize/defragmentation query.</p>
+        <p>For PostgreSQL tables, VACUUM reclaims storage occupied by deleted tuples.
+        In normal PostgreSQL operation, tuples that are deleted or obsoleted by an update are not
+        physically removed from their table; they remain present until a VACUUM is done. Therefore
+        it\'s necessary to do VACUUM periodically, especially on frequently-updated tables.</p>');
+    case 'admin/settings/db_maintenance':
+      return t('Executes an optimization query on database tables during cron runs.');
+  }
+}
+
+/**
+ * Implementation of hook_menu().
+ *
+ * @return array
+ */
+function db_maintenance_menu() {
+  $items = array();
+
+  $items['admin/settings/db_maintenance'] = array(
+    'title' => 'DB maintenance',
+    'description' => 'Executes a cron-based query to optimize database tables.',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('db_maintenance_admin_settings'),
+    'access callback' => 'user_access',
+    'access arguments' => array('administer site configuration'),
+    'type' => MENU_NORMAL_ITEM
+  );
+
+  $items['db_maintenance/optimize'] = array(
+    'page callback' => 'db_maintenance_optimize_tables_page',
+    'access callback' => 'user_access',
+    'access arguments' => array('administer site configuration'),
+    'type' => MENU_CALLBACK
+  );
+
+  return $items;
+}
+
+/**
+ * Callback page for manually optimizing tables.
+ *
+ */
+function db_maintenance_optimize_tables_page() {
+  db_maintenance_optimize_tables();
+  drupal_set_message(t('Database tables optimized'));
+  drupal_goto('admin/settings/db_maintenance');
+}
+
+/**
+ * Get a list of all the tables in a database.
+ *
+ * @param string $db The name of the database connection to query for tables.
+ * @return array representing the tables in the specified database.
+ */
+function _db_maintenance_list_tables($db) {
+  $table_names = array();
+  // Set the database to query.
+  $previous = db_set_active($db);
+  if (_db_maintenance_determine_software() == 'mysql') {
+    $result = db_query('SHOW TABLES');
+  }
+  elseif (_db_maintenance_determine_software() == 'pgsql') {
+    $result = db_query("SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' ORDER BY table_name");
+  }
+  // Return to the previously set database.
+  db_set_active($previous);
+  while ($table_name = db_fetch_array($result)) {
+    $table_name = current($table_name);
+    $table_names[$table_name] = $table_name;
+  }
+  return $table_names;
+}
+
+/**
+ * Implementation of hook_cron().
+ *
+ */
+function db_maintenance_cron() {
+  $last_run = variable_get('db_maintenance_cron_last', 0);
+  $interval = time() - variable_get('db_maintenance_cron_frequency', 86400);
+  // Only run cron if enough time has elapsed.
+  if ($interval > $last_run) {
+    db_maintenance_optimize_tables();
+  }
+}
+
+/**
+ * Perform the maintenance.
+ *
+ */
+function db_maintenance_optimize_tables() {
+  global $db_url;
+  global $db_prefix;
+  $is_prefixed = strlen($db_prefix) > 0;
+
+  // Set the databases array if not already set in $db_url.
+  if (is_array(($db_url))) {
+    $databases = $db_url;
+  }
+  else {
+    $databases['default'] = $db_url;
+  }
+  // Loop through each database optimizing any selected tables.
+  foreach ($databases as $db => $connection) {
+    $config_tables = variable_get('db_maintenance_table_list_'. $db, NULL);
+    // Only proceed if tables are selected for this database.
+    if (is_array($config_tables) && sizeof($config_tables) > 0) {
+      $db_name = $db == 'default' ? 'Drupal' : $db;
+      while (list(, $table_name) = each($config_tables)) {
+        // Set the database to query.
+        $previous = db_set_active($db);
+        $table_check_name = $is_prefixed ? str_replace($db_prefix, '', $table_name) : $table_name;
+        if (db_table_exists($table_check_name)) {
+          if (_db_maintenance_determine_software() == 'mysql') {
+            db_query('OPTIMIZE TABLE %s', $table_name);
+          }
+          elseif (_db_maintenance_determine_software() == 'pgsql') {
+            db_query('VACUUM ANALYZE %s', $table_name);
+          }
+        }
+        else {
+          watchdog('db_maintenance', '@table table in @db database was configured to be optimized but does not exist.', array('@db' => $db_name, '@table' => $table_name), WATCHDOG_NOTICE);
+        }
+        // Return to the previously set database.
+        db_set_active($previous);
+        watchdog('db_maintenance', 'Optimized @table table in @db database.', array('@db' => $db_name, '@table' => $table_name), WATCHDOG_DEBUG);
+      }
+      if (variable_get('db_maintenance_log', 0)) {
+        $tables = implode(', ', $config_tables);
+        watchdog('db_maintenance', 'Optimized tables in @db database: @tables', array('@db' => $db_name, '@tables' => $tables), WATCHDOG_INFO);
+      }
+    }
+  }
+  variable_set('db_maintenance_cron_last', time());
+}
+
+/**
+ * Administration settings
+ *
+ * options: log each optimization
+ *          multi-select list of tables to optimize
+ *
+ * @return array
+ */
+function db_maintenance_admin_settings() {
+  global $db_url;
+
+  $form = array();
+  $form['db_maintenance_log'] = array(
+    '#type'          => 'checkbox',
+    '#title'         => 'Log OPTIMIZE queries',
+    '#default_value' => variable_get('db_maintenance_log', 0),
+    '#description'   => t('If enabled, a watchdog entry will be made each time tables are optimized, containing information which tables were involved.')
+  );
+  $options = array(
+    0 => t('Run during every cron'),
+    3600 => t('Hourly'),
+    7200 => t('Bi-Hourly'),
+    86400 => t('Daily'),
+    172800 => t('Bi-Daily'),
+    604800 => t('Weekly'),
+    1209600 => t('Bi-Weekly'),
+    2592000 => t('Monthly'),
+    5184000 => t('Bi-Monthly')
+  );
+  $form['db_maintenance_cron_frequency'] = array(
+    '#type'          => 'select',
+    '#title'         => t('Optimize tables'),
+    '#options'       => $options,
+    '#default_value' => variable_get('db_maintenance_cron_frequency', 86400),
+    '#description'   => t('Select how often database tables should be optimized.') .' '. l(t('Optimize now.'), 'db_maintenance/optimize'),
+  );
+  // Set the databases array if not already set in $db_url.
+  if (is_array($db_url)) {
+    $databases = $db_url;
+  }
+  else {
+    $databases['default'] = $db_url;
+  }
+  $options = array();
+  // Loop through each database and list the possible tables to optimize.
+  foreach ($databases as $db => $connection) {
+    $options = _db_maintenance_list_tables($db);
+
+    $form['db_maintenance_table_list_'. $db] = array(
+      '#type'          => 'select',
+      '#title'         => t('Tables in the !db database', array('!db' => $db == 'default' ? 'Drupal' : $db)),
+      '#options'       => $options,
+      '#default_value' => variable_get('db_maintenance_table_list_'. $db, ''),
+      '#description'   => t('Selected tables will be optimized during cron runs.'),
+      '#multiple'      => TRUE,
+      '#attributes'    => array('size' => count($options)),
+    );
+  }
+
+  return system_settings_form($form);
+}
+
+/**
+ * Determine which database software is in use
+ */
+function _db_maintenance_determine_software() {
+  global $db_url;
+  static $db_type;
+
+  if (!empty($db_type)) {
+    return $db_type;
+  }
+  elseif (strpos($db_url, 'mysql://') === 0 || strpos($db_url, 'mysqli://') === 0) {
+    $db_type = 'mysql';
+    return $db_type;
+  }
+  elseif (strpos($db_url, 'pgsql://') === 0) {
+    $db_type = 'pgsql';
+    return $db_type;
+  }
+  else {
+    return FALSE;
+  }
+}
diff --git a/sites/all/modules/db_maintenance/translations/hu.po b/sites/all/modules/db_maintenance/translations/hu.po
new file mode 100644
index 0000000..59005fd
--- /dev/null
+++ b/sites/all/modules/db_maintenance/translations/hu.po
@@ -0,0 +1,141 @@
+# Hungarian translation of DB Maintenance (6.x-1.2)
+# Copyright (c) 2010 by the Hungarian translation team
+#
+msgid ""
+msgstr ""
+"Project-Id-Version: DB Maintenance (6.x-1.2)\n"
+"POT-Creation-Date: 2010-06-09 12:15+0000\n"
+"PO-Revision-Date: 2010-06-09 12:15+0000\n"
+"Language-Team: Hungarian\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=utf-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"Plural-Forms: nplurals=2; plural=(n!=1);\n"
+
+msgid "DB maintenance"
+msgstr "Adatbzis karbantartsa"
+msgid "Optimize tables"
+msgstr "Tblk optimalizlsa"
+msgid "Database tables optimized"
+msgstr "Az adatbzis tblinak optimalizlsa megtrtnt."
+msgid ""
+"If enabled, a watchdog entry will be made each time tables are "
+"optimized, containing information which tables were involved."
+msgstr ""
+"Ha ez engedlyezett, akkor az optimalizlt tblkrl egy "
+"esemnynapl bejegyzs keletkezik, mely tartalmazza az rintett "
+"tblkat."
+msgid "Hourly"
+msgstr "rnknt"
+msgid "Daily"
+msgstr "Naponta"
+msgid "Weekly"
+msgstr "Hetente"
+msgid "Monthly"
+msgstr "Havonta"
+msgid "Select how often database tables should be optimized."
+msgstr "A tblk optimalizlsi gyakorisgnak kivlasztsa."
+msgid "Optimize now."
+msgstr "Optimalizls most."
+msgid "Tables in the !db database"
+msgstr "!db database tbli"
+msgid "Selected tables will be optimized during cron runs."
+msgstr ""
+"A kivlasztott tblk optimalizlva lesznek az idztett "
+"feladatok sorn."
+msgid "db_maintenance"
+msgstr "db_maintenance"
+msgid "DB Maintenance"
+msgstr "DB Maintenance"
+msgid ""
+"<p>DB maintenance performs an optimization query on selected "
+"tables.</p>\n"
+"        <p>For MyISAM tables,\n"
+"        OPTIMIZE TABLE repairs a table if it has deleted or split "
+"rows, sorts table indexes,\n"
+"        and updates table statistics. For BDB and InnoDB, OPTIMIZE "
+"rebuilds the table. Note, MySQL\n"
+"        locks tables during the time OPTIMIZE TABLE is running. "
+"OPTIMIZE works best on tables with\n"
+"        large deletions (e.g. cache or watchdog), however MySQL will "
+"reuse old record positions,\n"
+"        therefore in most setups, OPTIMIZE TABLE is unnecessary unless "
+"you just like defragmenting.</p>\n"
+"        <p>The Overhead column in phpMyAdmin's database view is the "
+"most common way to determine the\n"
+"        need of an OPTIMIZE TABLE query. It essentially shows the "
+"amount of disk space you would\n"
+"        recover by running an optimize/defragmentation query.</p>\n"
+"        <p>For PostgreSQL tables, VACUUM reclaims storage occupied by "
+"deleted tuples.\n"
+"        In normal PostgreSQL operation, tuples that are deleted or "
+"obsoleted by an update are not\n"
+"        physically removed from their table; they remain present until "
+"a VACUUM is done. Therefore\n"
+"        it's necessary to do VACUUM periodically, especially on "
+"frequently-updated tables.</p>"
+msgstr ""
+"<p>Az adatbzis karbantart egy optimalizl utastst futtat a "
+"kivlasztott tblkon..</p>\n"
+"        <p>A MyISAM tblkat az\n"
+"        OPTIMIZE TABLE helyrelltja, ha vannak benne trlt vagy "
+"tredezett sorok, jrarendezi a tbla indexeit,\n"
+"        s frissti a tbla statisztikjt. A BDB s InnoDB "
+"tblkon az OPTIMIZE jrapti a tblt. Megjegyzend, hogy a "
+"MySQL\n"
+"        zrolja a tblkat arra az idre, amg az OPTIMIZE TABLE "
+"fut. Az OPTIMIZE a legjobban azokon a tblkon mkdik,\n"
+"        melyek sok trlt rekorddal rendelkeznek (pldul a cache "
+"vagy a watchdog), azonban a MySQL jra a rgi rekordpozicikat "
+"fogja hasznlni,\n"
+"        ezrt a legtbb belltsban az OPTIMIZE TABLE csak mint "
+"tredezettsgmentest szksges.</p>\n"
+"        <p>Az OPTIMIZE TABLE futtatsnak szksgessgt a "
+"legtbbszr a phpMyAdmin adatbzisnzetnek fellrs "
+"oszlopa\n"
+"        mutatja meg. Ez lnyegben megmutatja azt a visszanyerhet "
+"lemezterletet, melyet\n"
+"        egy optimalizlssal, vagy tredezettsgmentestssel "
+"vissza lehet nyerni.</p>\n"
+"        <p>A PostgreSQL tblkon a VACUUM visszanyeri a trlt "
+"sorok miatt elveszett terletet.\n"
+"        A norml PostgreSQL mveletek sorn a trlt, vagy "
+"fellrs miatt rvnyt vesztett sorok nem trldnek\n"
+"        fizikailag a tblbl, hanem jelen maradnak mindaddg, "
+"amg egy VACUUM le nem fut. Ezrt\n"
+"        szksges idkznknt a VACUUM utastst "
+"vgrehajtani, klnsen a gyakran frisstett tblkon.</p>"
+msgid "Executes an optimization query on database tables during cron runs."
+msgstr ""
+"Optimalizl utastst futtat az adatbzis tblkon az "
+"idztett feladatok sorn."
+msgid "Run during every cron"
+msgstr "Futtats minden idztett feladat sorn"
+msgid "Bi-Hourly"
+msgstr "Ktrnknt"
+msgid "Bi-Daily"
+msgstr "Ktnaponta"
+msgid "Bi-Weekly"
+msgstr "Kthetente"
+msgid "Bi-Monthly"
+msgstr "Kthavonta"
+msgid ""
+"@table table in @db database was configured to be optimized but does "
+"not exist."
+msgstr ""
+"@db adatbzis @table tblja be van lltva az "
+"optimalizlshoz, de nem ltezik."
+msgid "Optimized @table table in @db database."
+msgstr "@table tbla @db adatbzisban optimalizlva lett."
+msgid "Optimized tables in @db database: @tables"
+msgstr "@db adatbzisban optimalizlt tblk: @tables"
+msgid "Executes a cron-based query to optimize database tables."
+msgstr ""
+"Idztett feladatonknt utastst futtat az adatbzis "
+"tblinak optimalizlshoz."
+msgid ""
+"Executes an OPTIMIZE TABLE query on MyISAM, InnoDB, or BerkeleyDB "
+"database tables in a MySQL database."
+msgstr ""
+"Egy OPTIMIZE TABLE utastst futtat a MyISAM, InnoDB, vagy "
+"BerkeleyDB tpus adatbzis tblkra egy MySQL adatbzisban."
diff --git a/sites/all/modules/devel/krumo/INSTALL b/sites/all/modules/devel/krumo/INSTALL
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/LICENSE b/sites/all/modules/devel/krumo/LICENSE
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/README b/sites/all/modules/devel/krumo/README
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/TODO b/sites/all/modules/devel/krumo/TODO
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/VERSION b/sites/all/modules/devel/krumo/VERSION
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/class.krumo.php b/sites/all/modules/devel/krumo/class.krumo.php
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/Krumo/_class_krumo_php.html b/sites/all/modules/devel/krumo/docs/Krumo/_class_krumo_php.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/Krumo/krumo.html b/sites/all/modules/devel/krumo/docs/Krumo/krumo.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/blank.html b/sites/all/modules/devel/krumo/docs/blank.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/classtrees_Krumo.html b/sites/all/modules/devel/krumo/docs/classtrees_Krumo.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/elementindex.html b/sites/all/modules/devel/krumo/docs/elementindex.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/elementindex_Krumo.html b/sites/all/modules/devel/krumo/docs/elementindex_Krumo.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/errors.html b/sites/all/modules/devel/krumo/docs/errors.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/index.html b/sites/all/modules/devel/krumo/docs/index.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/li_Krumo.html b/sites/all/modules/devel/krumo/docs/li_Krumo.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/media/banner.css b/sites/all/modules/devel/krumo/docs/media/banner.css
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/media/lib/classTree.js b/sites/all/modules/devel/krumo/docs/media/lib/classTree.js
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/media/stylesheet.css b/sites/all/modules/devel/krumo/docs/media/stylesheet.css
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/packages.html b/sites/all/modules/devel/krumo/docs/packages.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/ric_INSTALL.html b/sites/all/modules/devel/krumo/docs/ric_INSTALL.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/ric_LICENSE.html b/sites/all/modules/devel/krumo/docs/ric_LICENSE.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/ric_README.html b/sites/all/modules/devel/krumo/docs/ric_README.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/ric_TODO.html b/sites/all/modules/devel/krumo/docs/ric_TODO.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/docs/ric_VERSION.html b/sites/all/modules/devel/krumo/docs/ric_VERSION.html
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/krumo.ini b/sites/all/modules/devel/krumo/krumo.ini
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/krumo.js b/sites/all/modules/devel/krumo/krumo.js
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/skins/blue/skin.css b/sites/all/modules/devel/krumo/skins/blue/skin.css
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/skins/default/skin.css b/sites/all/modules/devel/krumo/skins/default/skin.css
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/skins/green/skin.css b/sites/all/modules/devel/krumo/skins/green/skin.css
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/skins/orange/skin.css b/sites/all/modules/devel/krumo/skins/orange/skin.css
old mode 100755
new mode 100644
diff --git a/sites/all/modules/devel/krumo/skins/white/skin.css b/sites/all/modules/devel/krumo/skins/white/skin.css
old mode 100755
new mode 100644
diff --git a/sites/all/modules/features/API.txt b/sites/all/modules/features/API.txt
new file mode 100644
index 0000000..dbf5e9c
--- /dev/null
+++ b/sites/all/modules/features/API.txt
@@ -0,0 +1,189 @@
+
+Features 1.x API for Drupal 6.x
+-------------------------------
+This file contains documentation for two audiences: site builders interested in
+creating and managing features and module developers interested in integrating
+with the features module.
+
+
+Terminology
+-----------
+- A **feature module** is a Drupal module that contains the `feature` key in its
+`.info` file. This array describes the components that should be managed by
+Features within the module.
+
+- A **component** is a configuration object that can be exported. Examples: a
+view, content type or CCK field instance.
+
+- A **machine name** is a string identifier for a specific type of component and
+should be unique within a single Drupal site. It should not be a numerically
+generated serial id.
+
+- An **exportable** component is one that can be used solely from a default hook
+in code and without an instance in the database. For example, a view that lives
+in code does not need an entry in the database in order to be used.
+
+- A **faux-exportable** component is one that must exist in the database in
+order to be used. Any exports of this component are used to create or
+synchronize entries in the database that share the same machine name.
+
+
+### Component states
+
+Features provides some infrastructure to determine the state of components on
+the site. To determine the state of a component Features keeps track of three
+things using an md5 hash of
+
+- current code for the component. This is the configuration as actually
+represented in code by a given feature.
+
+- the most recent prior code state that differs from the current code state. For
+example, if an `svn update` changes the configuration of a view, this stores the
+code state *prior* to the update.
+
+- The "normal" component state. This is the configuration represented by the
+component as stored in the database or the default component (with any changes
+introduced by `drupal_alter()`) if no database override exists.
+
+Using these three values, Features determines a component to be in one of the
+following five states:
+
+- **Default** (`FEATURES_DEFAULT`) The object has no database entry or the
+database entry matches the state of the component in code. This should be the
+default state of components after installing a feature. Updating the component
+can be done by altering the code definition directly.
+
+- **Overridden** (`FEATURES_OVERRIDDEN`) The code remains constant but the
+database object does not match the state of the component in code. Changes must
+be reverted before the component can be updated from code.
+
+- **Needs review** (`FEATURES_NEEDS_REVIEW`) The previous code state, database
+state, and current code state all differ. This occurs most commonly when a user
+changes one of her components and then pulls updates to her codebase. Since
+there is no way to tell whether the code state or the database state is more
+recent/valid, user input is necessary to resolve this state.
+
+- **Rebuildable** (`FEATURES_REBUILDABLE`) This state only applies to
+**faux-exportables** and indicates that the database component must and can be
+safely updated from the code definition. The database entry does not match the
+current code state but does match the previous code state. Features assumes that
+in this scenario the user has made no substantive changes and the component can
+be updated automatically.
+
+- **Rebuilding** (`FEATURES_REBUILDING`) This state is rarely seen and only
+applies to **faux-exportables.** This state is shown when a
+`FEATURES_REBUILDABLE` component is *currently* being synced to the database.
+Usually this operation is very fast and short lived. However, if the operation
+is interrupted (e.g. the server goes down) this state will be seen until the
+rebuild locking semaphore is cleared.
+
+
+How a feature is generated
+--------------------------
+At a high level Features writes the code in a feature module using the following
+steps:
+
+1. An `.info` file describing the components that should be included in a
+Feature is generated. It is either read from an existing feature or generated
+through the Features UI.
+
+2. Features converts the info file into an `$export` array which contains a list
+of elements to be exported. Each component type is given a chance to add to the
+export list as well as request that *other* components be given a second chance
+to add to the `$export` array.
+
+3. If any additional components have been queued up in the `$pipe` we repeat
+step 2 for each of the queued component types.
+
+4. Once a full `$export` array is populated each component renders items from
+the `$export` array to PHP code as a exportable defaults hook.
+
+5. Finally, Features writes the code into files and delivers it as a
+downloadable package (UI) or writes it directly to a module directory (drush).
+
+This workflow makes a variety of things possible:
+
+### Add components to a feature
+
+Add the components to the `features` array in the feature's `.info` file and run
+`drush features-update`. The same operation can be performed using the
+*Recreate* page in the Features UI.
+
+### Remove components from a feature
+
+Remove the corresponding component lines from the feature's `.info` file and run
+`drush features-update`. The same operation can be performed using the
+*Recreate* page in the Features UI.
+
+### Rename a component
+
+Rename a component by changing its name in the feature's `.info` file and the
+key and name property of the exported object in the appropriate `.inc` file in
+the feature. Note that any references in other configuration objects to the
+previous name should also be updated.
+
+
+Integrating your module with the Features API
+---------------------------------------------
+This section is for developers interested in adding Features-based management
+for the configuration objects in their modules. From the perspective of
+Features, there are a few different ways that modules store their configuration:
+
+- In the `variable` table using `variable_set()`. If a module is using variables
+for storing configuration, these variable settings can be exported with Features
+by using the [Strongarm][1] module.
+
+  **Features integration:** Install the Strongarm module.
+
+- Using a custom table with a serial ID for identifying configuration objects.
+If this is the case, you will need to change your schema to use a string
+identifier / machine name for each object.
+
+  **Features integration:** Fix your schema first, then see below.
+
+- Using a custom table with a machine name identifier and custom exportables
+handling (e.g. you have your own defaults hook handling and export generation).
+If this is the case, you will need to implement many of the features hooks
+yourself.
+
+  **Features integration:** `hook_features_api()`, `hook_features_export()`,
+`hook_features_export_render()`, `hook_features_export_options()`,
+`hook_features_revert()`.
+
+- Using a custom table with CTools Export API integration. If this is the case,
+Features will automatically have integration with your module. You can implement
+any of the Features hooks in order to override the default CTools exportables
+integration behavior.
+
+  **Features integration:** Automatically provided. You may implement any of the
+Features hooks where you need further customization for your configuration
+object.
+
+If it isn't clear by now, we highly recommend using the [CTools][2] Export API
+for adding exportables to your module. Stella has written a [fantastic HOWTO][3]
+on using the CTools Export API that can get you started.
+
+
+An overview of Features hooks
+-----------------------------
+Extensive documentation of the hooks provided by Features is available in
+`features.api.php`. This section provides a short overview of each hook and its
+role.
+
+- `hook_features_api()` defines one or more component types that are available
+to Features for export and a variety of settings for each type.
+- `hook_features_export()` processes a list of components, detecting any
+dependencies or further components
+- `hook_features_export_options()` provides an array of components that can be
+exported for a given type.
+- `hook_features_export_render()` renders a set of components to code as a
+defaults hook.
+- `hook_features_revert()` reverts components of a feature back to their default
+state.
+- `hook_features_rebuild()` updates faux-exportable components back to their
+default state. Only applies to faux-exportables.
+
+
+[1]: http://drupal.org/project/strongarm
+[2]: http://drupal.org/project/ctools
+[3]: http://civicactions.com/blog/2009/jul/24/using_chaos_tools_module_create_exportables
diff --git a/sites/all/modules/features/CHANGELOG.txt b/sites/all/modules/features/CHANGELOG.txt
new file mode 100644
index 0000000..ab369be
--- /dev/null
+++ b/sites/all/modules/features/CHANGELOG.txt
@@ -0,0 +1,392 @@
+
+features DRUPAL-6--1-0
+----------------------
+- No changes from RC3.
+
+features DRUPAL-6--1-0-RC3
+--------------------------
+- Ensure feature module name is properly handled in AHAH callback.
+- #577852: Do not allow module to add itself as dependency.
+
+features DRUPAL-6--1-0-RC2
+--------------------------
+- #888066 by ptrl: Views message typo.
+- #884624: Better support for custom CTools export callbacks.
+
+features DRUPAL-6--1-0-RC1
+--------------------------
+- #878604 by Coornail: Fix for PHP notice.
+- Add < and > to the list of characters that must be DOM encoded for AHAH safe
+  handling.
+- #878068: escape component identifiers.
+- #880456: Fix for PHP notice.
+- #880186 by yhahn, loosening the iron grip on vocabulary machine names.
+- #881010: Properly refer to menu links when doing a ordered build.
+
+features DRUPAL-6--1-0-BETA12
+-----------------------------
+- #873570: DOM-safe encode #default_value and ecsape '.' character.
+- #872052: Expose CCK field instances in UI for export.
+- Use README.txt for hook_help() page.
+- #872482: Proper failure for features_get_features().
+- #875156: Ensure roles are rebuilt before permissions.
+- #875416: Less confusing export of translatables.
+- #877178: Allow feature human-readable name/description to be changed on recreate.
+- #722952: Only write 'project' key if version or update status URL are provided.
+- #876206 by auzigog: Document hook_[component_defaults]_alter() functions.
+
+features DRUPAL-6--1-0-BETA11
+-----------------------------
+- #865454: Fix for complex menu links component handling.
+- Context: simpler check for API version
+- Blank out .features.inc when appropriate when updating existing features.
+- Fix for haphazard drush features-revert.
+- Adjust features_get_component_map() to allow for easy retrieval of a specific
+  component key.
+
+features DRUPAL-6--1-0-BETA10
+-----------------------------
+- #864742: Ensure CTools plugins.inc is included before calling API functions.
+- #864482 by hadsie: Fix for PHP notice.
+- Fix Views dependency detection.
+
+features DRUPAL-6--1-0-BETA9
+----------------------------
+This release introduces several important API and component changes.
+
+### Include file writing
+
+- CTools and Views components are now written to supported API include files,
+  e.g. `[myfeature].views_default.inc` and `[myfeatures].[ctools api].inc`.
+- Features-supported faux-exportable components are written to distinct include
+  files, e.g. `[myfeature].features.[component].inc`.
+- Only API hooks and hooks for APIs that do not handle file inclusion should be
+  written to `[myfeatures].features.inc` which is loaded by default through the
+  feature module file. These include `hook_views_api`, `hook_ctools_api`,
+  `hook_node_info`, etc.
+- All features using the old include formats are still supported but many
+  components will be marked as 'Overridden' until the feature is updated.
+- `[myfeature].defaults.inc`, `[myfeature].features.node.inc` and
+  `[myfeature].features.views.inc` are deprecated and can be safely removed
+  after the feature has been updated.
+
+### Component API changes
+
+- An exportable taxonomy vocabulary component has been introduced which uses
+  the `module` column of the vocabulary table as storage for machine names.
+- The menu component has been deprecated in favor of more advanced `menu_links`
+  and `menu_custom` components. Features using the old `menu` component can be
+  migrated to the new components through a feature update.
+- The old user permission component has been deprecated in favor of the
+  `user_permission` and `user_role` components. Features will no longer
+  automatically create roles that do not exist -- they must be exported
+  properly using the `user_role` component. Features using the old `user`
+  component can be migrated to the new components through a feature update.
+
+- FIx for features implementers using FEATURES_DEFAULTS_CUSTOM.
+- #504706 by dmitrig01: Recreate: include any additional files from the original
+  feature
+- #728004 by gordon, dmitrig01: Allow abitrary modules to alter the pipeline.
+- #752144 by dmitrig01: Refactor Features Status Page for Performance
+- #841844 by dmitrig01: Implement environment-agnostic message logging.
+- #577674 by dmitrig01: Display reasons for Incompatible Feature.
+- #838726: Fix possible creation of circular dependencies by cross-feature
+  fields.
+- #829778 by Josh Waihi: Add features-diff command.
+- Fix for reckless iteration.
+- Make features component options DOM safe for AHAH handling.
+- #717152 by dmitrig01: Ensure dependent features cannot be disabled.
+- Strip tags when displaying log messages in CLI.
+- #823278 by Grayside: Display warning when feature .module does not include
+  .feature.inc.
+- #649604: Split out dependencies as a component, proper, and ensure that
+  feature dependencies are met.
+- #742940: Improve granularity and compatibility of Features export includes.
+- #741498: Fix for bad function signature.
+- Suppress PHP 5.3 errors/warnings when generating tar output.
+- #813960 by nyl auster: Make it possible to revert defaulted features with
+  --force
+- Massive update to README.txt.
+- #843956 by q0rban: Drush commands use deprecated callback names
+- #829778 by q0rban: Offer to download and install diff if it is not available.
+- #843106 by dmitrig01: Check hook_requirements.
+- Updating API.txt
+- #843106 by dagmar: Fix for hook_requirements() checking.
+- Adding a note about custom code to README.txt
+- #789556 by alex_b, yhahn, bcmiller0 and jmiccolis, Support taxonomy
+  vocabularies.
+- Adding hook help.
+- #853738 by fgm: Fix for reckless check against ['default_file']
+- #852704 by q0rban: Check if Taxonomy exists before piping.
+- #633804 by catch, dereine, yhahn, JohnAlbin: Improve menu support
+- Ensure feature component options are escaped.
+- #792790 by Dustin Currie: Fix label for components editing.
+- Cleanup display of components on create/reexport.
+- Fix for PHP notice.
+- Fix for export and allow drush fu to affect modules in "non-standard"
+  directories.
+- Fix PHP notice when description is not set.
+- Fix for PHP notice.
+- Reduce excessive cache clearing.
+- Refactor features_get_default() and introduce features_get_default_map() to
+  simplify implementers' code.
+- Update to features_test module.
+- Remove misleading log messages.
+- #830774 by scottrigby: Fix for reckless iteration.
+- #751538 by DeFr: Clear caches after batch revert of Views rather than
+  individually.
+- #678930 by tim.plunkett: Fix Features package tab sorting.
+- Die tabs.
+- Remove confusing debug output for revert.
+- Don't run the bulk of feature generation/export logic unless we're sure the
+  feature can be written.
+- Check that specified object is loaded before attempting export.
+- #693024 by ceardach, hefox, nedjo: Add alter hooks for faux exportables.
+- Only write Views API hook if views are actually exported.
+- Fix for bad params.
+- Removing excessive taxonomy pipe from node component.
+- Preserve selected values even if form fails to validate.
+- #849646: CTools: fix for integration with page manager list callback.
+- #553866: Split user component into user_roles, user_permissions.
+- #650292: Limit export options to normal and current feature's components.
+- Fixing user permission test.
+- Remove special handling for menu component.
+- #649298 by q0rban, KarenS, yhahn: Allow node component type revert to disable
+  extra CCK fields.
+- Cleaning up function signatures.
+
+features DRUPAL-6--1-0-BETA8
+----------------------------
+- #814414: Fix context integration to properly integrate with CTools.
+- #810958 by q0rban: Add censored expletives to my daily workflow.
+
+features DRUPAL-6--1-0-BETA7
+----------------------------
+- #778250: Fix for php 5.3 issue with CTools.
+- Added static cache to ensure features_include() runs only once.
+- #522794 by Skorpjon, kenorb: Fixes for tar archive creation.
+- #686240 by David Stosik: Ensure field settings are properly captured accross
+  instances.
+- Add the drush features-update-all command and switch to using
+  drush_invoke_backend() to ensure processes have a better memory footprint.
+- Standardize CTools API identifier to fully support non-exportables CTools
+  APIs.
+- Ensure dependencies added by CTools do not create circular dependencies.
+- #798104 by Steven Merrill: Add drush features-revert-all command.
+- #673234 by joshk: Use elseif instead of else if to comply with coding
+  standards.
+- Support additional CTools plugin APIs that are non-exportable based.
+- #722460 by scor: Use 'drupal dependencies' flag in hook_drush_command() to
+  ensure features is enabled.
+- #727110 by adixon: Respect drush --root option.
+- #726700: Context 3.x dependency & component detection.
+- #709608: CTools: don't re-export objects that already exist in code. Depends
+  on #709754.
+- Disable features before installing on submit.
+- #725132 by q0rban: Fix for fieldgroup duplicate entries.
+
+features DRUPAL-6--1-0-BETA6
+----------------------------
+- #640438: Ensure new features are not created in existing local namespaces.
+- #706950: Fieldgroup component test.
+- #696554 by Amitaibu: Add --force option to features-revert command.
+- #702418 by Haza: Ensure roles are not localized on export when originating
+  from filter formats.
+- #480978 by q0rban: Add fieldgroup support.
+- #680332 by christianchristensen: Ensure each perm has only one instance of
+  each role.
+- #693944: Use strongarm to export CCK extra field weights.
+- #678930: Sort package links.
+- #670788 by jasonitti, andrewfn, irakli: Fix for regex syntax error in PHP
+  <= 5.2.2
+- Use human readable names for dependencies.
+- CTools: Show human readable names for components.
+- #691894: Use human readable names on component display.
+- #682730: Ensure object exists before attempting to render export code.
+- #682730: Using API owner with schema owner as module fallback.
+- #696396 by irakli: sort ctools exportables alphabetically.
+- #694890: Ensure rebuild menu reflects node types
+- Check that a feature has dependencies before trying to maximize them.
+- by mig5, Amitaibu: Update drush commands to use dashes.
+- Init component states array for each feature.
+- Removing features_menu_links() hack in favor of implementers using a
+  preprocess_page() function directly.
+- by Zoltn Balogh: Updated Hungarian translation.
+- #675306: Prevent feaures_detect_overrides() from running unless user is
+  properly permissioned.
+
+features DRUPAL-6--1-0-BETA5
+----------------------------
+- Basic component functional API tests.
+- A variety of static cache clears added -- discovered through tests.
+- #649410: Ensure cleanup doesn't disable Features module.
+- #654334: Allow feature builders to override module key of hook_node_info().
+- #622346: Make use of drush_log for assertions.
+- #656172: Delete features menu on uninstall.
+- #577852: Don't allow feature module to add itself as a dependency.
+- #660798 by e2thex: Use key from ctools_export_load_object.
+- CTools: Only export objects that can be loaded.
+- CTools: Implement hook_features_api() using component's module namespace
+  rather than the component namespace.
+- Only load includes on behalf of modules not implementing hook_features_api.
+- #532256 by flobruit and jmiccolis, more robust support for ctools
+  exportables, like panels.
+- Adding component revert for ctools.features.ctools.inc
+- #641658 by brad bulger: Fix for reckless ->delete() View method call.
+- #649832 by DamienMcKenna: Fix message on Views revert.
+- #653644, #532646 by careernerd, q0rban: Revert/update multiple features at
+  once.
+
+features DRUPAL-6--1-0-BETA4
+----------------------------
+Note: You MUST run update.php for Features to begin automatically rebuilding
+feature components when safe to do so.
+
+This release of Features contains a lot of new features and many changes to the
+internals for rebuildable components. There are no major API changes but as
+always please test thoroughly in a staging environment before rolling out beta4
+to production sites.
+
+- #616222: Moving conflict detection API functions into module proper.
+- #520220: Allow modules to be ignored when cleaning up dependencies.
+- #597330 by fago, fixed display of rule names in feature building ui.
+- #616222 by q0rban: API function for installing maximum dependencies of
+  modules/features.
+- #606992 by dmitrig01: Human readable names for feature components.
+- #612824: Proper handling of rebuildables & component reverting. Reported by
+  greggles, Roger Saner.
+- #616030 by q0rban: Simplify access check against features administration pages.
+- #597836: Remove form_alter() which hides features from admin/build/modules.
+- 3 stage state signature handling.
+- #597422 by Roger Lpez: Consistify user permission, role sorting.
+- #522794 by Steven Merrill: Clear output buffer before transfering tgz file.
+- #604138 by Josh Waihi: Check for array before beginning reckless iteration.
+- by Istvan Palocz (pp): Hungarian translation
+- #521394: Initial implementation of features packages.
+- #520220: Provide form for disabling orphaned feature dependencies.
+- #520310: Adds implementation of 'administer features' and 'manage features'
+  permissions.
+- #402132: Adding validation checks to features create form.
+- Improved UI.
+- Cleanup rebuild/revert stack for CCK, filter formats, user permissions.
+- Simpler revert logic and sanitization of imagecache export presets.
+- #581514 by q0rban: Set a destination for feature revert links.
+- #401948 by derhasi: Export help and min_word_count values for node types.
+- #583120: Check for menu_custom table before querying.
+- #586634 by Pasqualle, prevent empty t() calls in exports.
+- #588808 by Pasqualle, php notice fix.
+- Sorting permissions on export to maintain array consistency.
+
+features DRUPAL-6--1-0-BETA3
+----------------------------
+This release of Features contains several key changes - if you are using
+Features in production you should be cautious of upgrading without testing.
+
+Previous releases of features contained an error in integration with the
+node module - the module key of hook_node_info() should now be features
+rather than node. Features will do this update for you automatically if
+you use drush features update or update your feature through the UI.
+You will still need to run features_update_6100() from update.php to
+update the node type entries in your database. For more information
+about this issue see http://drupal.org/node/521606.
+
+- Using correct API identifier for CTools integration.
+- Allowing modules that implement hook_system_info_alter() to modify the
+  features info cache as well.
+- #532256 by flobruit: Use proper ctools API functions for schema retrieval and
+  object export.
+- #551490 by fago, Allow renaming of components.
+- Fixing bad FormAPI key ['#redirect']
+- #521606 by mig5, q0rban: Correct hook_node_info() 'module' attribute to remove
+  feature node types when feature is disabled.
+- Fix for node type export check which should now include 'features' as an
+  acceptable module for node type exports.
+
+features DRUPAL-6--1-0-BETA2
+----------------------------
+- #560478 by jose reyero and myself, support translated role names.
+- #557112 by moshe weitzman: Suppress unnecessary menu_rebuild()'s.
+
+features DRUPAL-6--1-0-BETA1
+----------------------------
+This release of Features makes an API change to hook_features_api().
+Please see API.txt for the details.
+
+- Improving cache clear flow after feature is enabled.
+- #511872 by TUc: Fix typo in hook comment.
+- Fix for long feature name/descriptions breaking float in feature form.
+- #522820 by fago: Allow multiple components per module.
+- #520376: Adding static cache to override access check to prevent recursion.
+- #524124 by fago: Only include features includes for modules when they are
+  enabled.
+- #524160 by fago: Allow one default hook to contain multiple components.
+- by dmitrig01: Add a static cache to features_get_info()
+- #532256 ctools integration by alex_b and yhann.
+- #543190 by jmiccolis: Refactor hook_features_api() for greater extensibility
+  and multi-inc file export.
+- #527646 by Amitaibu: Add user_features_export_options().
+- #545276 by q0rban: Check for field existence before updating CCK fields when
+  reverting.
+- #543152 by q0rban: Fix for views export detection error.
+- Refactoring override detection code and export/build process.
+- Correctly excluded added dependencies from feature component array in info
+  file.
+- Adding configurable duplicate handling and allowing CTools API components to
+  be duplicated across features.
+- Ensure that dependencies are unique.
+
+features DRUPAL-6--1-0-ALPHA5
+-----------------------------
+- Implementing project status url and version keys in info files.
+- Removed context dependency.
+- Implementing feature reverting in the UI and some admin UI cleanups.
+- Initial commit of experimental user/permission integration.
+- Initial commit of features-filters integration.
+- Corrected a misnamed drush hook.
+- Updated usage of drush_print_table to reflect recent changes in drush.
+- Adding component conflict detection between features.
+- Adding export for translatable strings in menu, CCK.
+- #483548 by jmiccolis: Use AJAX to lighten server load on feature
+  overview page.
+
+features DRUPAL-6--1-0-ALPHA4
+-----------------------------
+- Ensure that a feature module cannot create circular dependencies.
+- #482212 by rszrama: Displaying a friendly message when no features
+  are available.
+- Move all theme functions into theme.inc.
+- Allow any implementing module to specify itself as a feature source.
+- Improve handling of include files.
+- Added hook_features_api() for declaring various info.
+- Show options for any implementer that provides export options on the
+  feature component confirmation form.
+- Fixing issue where only 1st level dependencies were enabled when
+  enabling a feature.
+- Clearing caches after features form submission using
+  hook_flush_caches() rather than piecemeal.
+
+features DRUPAL-6--1-0-ALPHA3
+-----------------------------
+- Removing field updating nonsense from field rebuilding --
+  moved to revert hooks.
+- Renaming drush command 'status features' to 'features'.
+- #441826: Fix for improper escaping of single quotes.
+- #449916 by Steven Jones: Checks that implementations of
+  hook_views_default_views() actually return an array of views before
+  iterating.
+- #440592 by benroot: Feature component reverting through drush.
+- Adding headers to diff table.
+
+features DRUPAL-6--1-0-ALPHA2
+-----------------------------
+- #421740: Fix for context pipe with views displays.
+- #430044: Fixing dependency checking in content and context includes.
+- Flushing caches before drush export.
+- Adding export item sorting for code stability.
+- Smarter export detection and dependency handling to imagecache.
+- Fix for imagecache export render.
+- Adding implementation of hook_flush_caches().
+
+features DRUPAL-6--1-0-ALPHA1
+-----------------------------
+- Initial release of features module.
diff --git a/sites/all/modules/features/LICENSE.txt b/sites/all/modules/features/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/features/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/features/README.txt b/sites/all/modules/features/README.txt
new file mode 100644
index 0000000..05c16e0
--- /dev/null
+++ b/sites/all/modules/features/README.txt
@@ -0,0 +1,163 @@
+
+Features 1.x for Drupal 6.x
+---------------------------
+The features module enables the capture and management of features in Drupal. A
+feature is a collection of Drupal entities which taken together satisfy a
+certain use-case.
+
+Features provides a UI and API for taking different site building components
+from modules with exportables and bundling them together in a single feature
+module. A feature module is like any other Drupal module except that it declares
+its components (e.g. views, contexts, CCK fields, etc.) in its `.info` file so
+that it can be checked, updated, or reverted programmatically.
+
+Examples of features might be:
+
+- A blog
+- A pressroom
+- An image gallery
+- An e-commerce t-shirt store
+
+
+Installation
+------------
+Features can be installed like any other Drupal module -- place it in the
+modules directory for your site and enable it on the `admin/build/modules` page.
+To take full advantage of some of the workflow benefits provided by Features,
+you should install [Drush][1].
+
+
+Basic usage
+-----------
+Features is geared toward usage by developers and site builders. It
+is not intended to be used by the general audience of your Drupal site.
+Features provides tools for accomplishing two important tasks:
+
+### Task 1: Export features
+
+You can build features in Drupal by using site building tools that are supported
+(see a short list under the *Compatibility* section).
+
+Once you've built and configured functionality on a site, you can export it into
+a feature module by using the feature create page at
+`admin/build/features/create`.
+
+
+### Task 2: Manage features
+
+The features module also provides a way to manage features through a more
+targeted interface than `admin/build/modules`. The interface at
+`admin/build/features` shows you only feature modules, and will also inform you
+if any of their components have been overridden. If this is the case, you can
+also re-create features to bring the module code up to date with any changes
+that have occurred in the database.
+
+
+Including custom code and adding to your feature
+------------------------------------------------
+Once you've exported your feature you will see that you have several files:
+
+    myfeature.info
+    myfeature.module
+    myfeature.[*].inc
+
+You can add custom code (e.g. custom hook implementations, other functionality,
+etc.) to your feature in `myfeature.module` as you would with any other module.
+Do not change or add to any of the features `.inc` files unless you know what
+you are doing. These files are written to by features on updates so any custom
+changes may be overwritten.
+
+
+Using Features to manage development
+------------------------------------
+Because Features provides a centralized way to manage exportable components and
+write them to code it can be used during development in conjunction with a
+version control like SVN or git as a way to manage changes between development,
+staging and production sites. An example workflow for a developer using Features
+is to:
+
+1. Make configuration changes to a feature on her local development site.
+2. Update her local feature codebase using `drush features-update`.
+3. Commit those changes using `svn commit`.
+4. Roll out her changes to the development site codebase by running `svn update`
+  on the server. Other collaborating developers can also get her changes with
+  `svn update`.
+5. Reverting any configuration on the staging site to match the updated codebase
+by running `drush features-revert`.
+6. Rinse, repeat.
+
+Features also provides integration with the [Diff][3] module if enabled to show
+differences between configuration in the database and that in code. For site
+builders interested in using Features for development, enabling the diff module
+and reading `API.txt` for more details on the inner workings of Features is
+highly recommended.
+
+
+Drush usage
+-----------
+Features provides several useful drush commands:
+
+- `drush features`
+
+  List all the available features on your site and their status.
+
+- `drush features-export [feature name] [component list]`
+
+  Write a new feature in code containing the components listed.
+
+- `drush features-update [feature name]`
+
+  Update the code of an existing feature to include any overrides/changes in
+  your database (e.g. a new view).
+
+- `drush features-revert [feature name]`
+
+  Revert the components of a feature in your site's database to the state
+  described in your feature module's defaults.
+
+- `drush features-diff [feature name]`
+
+  Show a diff between a feature's database components and those in code.
+  Requires the Diff module.
+
+Additional commands and options can be found using `drush help`.
+
+
+Compatibility
+-------------
+Features provides integration for the following exportables:
+
+- CTools export API implementers (Context, Spaces, Boxes, Strongarm, Page
+  Manager)
+- ImageCache
+- Views
+- [Other contributed modules][2]
+
+Features also provides faux-exportable functionality for the following Drupal
+core and contrib components:
+
+- CCK fields
+- CCK fieldgroups
+- Content types
+- Input filters
+- User roles/permissions
+- Custom menus and menu links *
+- Taxonomy vocabularies *
+
+* Currently in development.
+
+
+For developers
+--------------
+Please read `API.txt` for more information about the concepts and integration
+points in the Features module.
+
+
+Maintainers
+-----------
+- yhahn (Young Hahn)
+- jmiccolis (Jeff Miccolis)
+
+
+[1]: http://drupal.org/project/drush
+[2]: (http://drupal.org/taxonomy/term/11478)
diff --git a/sites/all/modules/features/features.admin.inc b/sites/all/modules/features/features.admin.inc
new file mode 100644
index 0000000..f08e068
--- /dev/null
+++ b/sites/all/modules/features/features.admin.inc
@@ -0,0 +1,799 @@
+<?php
+
+/**
+ * Form callback for features export form. Acts as a router based on the form_state.
+ */
+function features_export_form($form_state, $feature = NULL) {
+  module_load_include('inc', 'features', 'features.export');
+  features_include();
+
+  $form = array(
+    '#attributes' => array('class' => 'features-export-form'),
+    '#feature' => isset($feature) ? $feature : NULL,
+  );
+  $form['info'] = array(
+    '#type' => 'fieldset',
+    '#tree' => FALSE,
+  );
+  $form['info']['name'] = array(
+    '#title' => t('Name'),
+    '#description' => t('Example: Image gallery'),
+    '#type' => 'textfield',
+    '#required' => TRUE,
+    '#default_value' => !empty($feature->info['name']) ? $feature->info['name'] : '',
+    '#attributes' => array('class' => 'feature-name'),
+  );
+  $form['info']['module_name'] = array(
+    '#type' => 'textfield',
+    '#title' => t('Machine-readable name'),
+    '#description' => t('Example: image_gallery'). '<br/>' .t('May only contain lowercase letters, numbers and underscores. <strong>Try to avoid conflicts with the names of existing Drupal projects.</strong>'),
+    '#required' => TRUE,
+    '#default_value' => !empty($feature->name) ? $feature->name : '',
+    '#attributes' => array('class' => 'feature-module-name'),
+    '#element_validate' => array('features_export_form_validate_field'),
+  );
+  // If recreating this feature, disable machine name field and blank out
+  // js-attachment classes to ensure the machine name cannot be changed.
+  if (isset($feature)) {
+    $form['info']['module_name']['#value'] = $feature->name;
+    $form['info']['module_name']['#disabled'] = TRUE;
+    $form['info']['name']['#attributes'] = array();
+  }
+  $form['info']['description'] = array(
+    '#title' => t('Description'),
+    '#description' => t('Provide a short description of what users should expect when they enable your feature.'),
+    '#type' => 'textfield',
+    '#required' => TRUE,
+    '#default_value' => !empty($feature->info['description']) ? $feature->info['description'] : '',
+  );
+  $form['info']['version'] = array(
+    '#title' => t('Version'),
+    '#description' => t('Examples: 6.x-1.0, 6.x-1.0-beta1'),
+    '#type' => 'textfield',
+    '#required' => FALSE,
+    '#default_value' => !empty($feature->info['version']) ? $feature->info['version'] : '',
+    '#size' => 30,
+    '#element_validate' => array('features_export_form_validate_field'),
+  );
+  $form['info']['project_status_url'] = array(
+    '#title' => t('URL of update XML'),
+    '#description' => t('Example: http://mywebsite.com/fserver'),
+    '#type' => 'textfield',
+    '#required' => FALSE,
+    '#default_value' => !empty($feature->info['project status url']) ? $feature->info['project status url'] : '',
+    '#size' => 30,
+    '#element_validate' => array('features_export_form_validate_field'),
+  );
+
+  // User-selected feature source components.
+  $components = features_get_components();
+  ksort($components);
+
+  $form['export'] = array(
+    '#type' => 'fieldset',
+    '#tree' => FALSE,
+    '#theme' => 'features_form_export',
+  );
+  $form['export']['components'] = array(
+    '#title' => t('Edit components'),
+    '#type' => 'select',
+    '#options' => array('------'),
+    '#attributes' => array('class' => 'features-select-components'),
+  );
+  $form['export']['sources'] = array(
+    '#tree' => TRUE,
+    '#theme' => 'features_form_components',
+  );
+  foreach ($components as $component => $component_info) {
+    $options = features_invoke($component, 'features_export_options');
+    if ($component === 'dependencies') {
+      $default_value = !empty($feature->info['dependencies']) ? $feature->info['dependencies'] : array();
+    }
+    else {
+      $default_value = !empty($feature->info['features'][$component]) ? $feature->info['features'][$component] : array();
+    }
+    if ($options) {
+      // Find all default components that are not provided by this feature and
+      // strip them out of the possible options.
+      if ($map = features_get_default_map($component)) {
+        foreach ($map as $k => $v) {
+          if (isset($options[$k]) && (!isset($feature->name) || $v !== $feature->name)) {
+            unset($options[$k]);
+          }
+        }
+      }
+      // Ensure all options are stripped of potentially bad values.
+      foreach ($options as $k => $v) {
+        $options[$k] = check_plain($v);
+      }
+      $form['export']['components']['#options'][$component] = (isset($component_info['name']) ? $component_info['name'] : $component);
+      if (!empty($options)) {
+        $form['export']['sources'][$component] = array(
+          '#type' => 'checkboxes',
+          '#options' => features_dom_encode_options($options),
+          '#title' => $component,
+          '#default_value' => features_dom_encode_options($default_value, FALSE),
+          '#ahah' => array(
+            'path' => 'admin/build/features/export/populate',
+            'wrapper' => 'features-export-populated',
+          ),
+        );
+      }
+      else {
+        $form['export']['sources'][$component] = array(
+          '#type' => 'item',
+          '#title' => $component,
+          '#value' => t('All components of this type are exported by other features or modules.'),
+        );
+      }
+    }
+  }
+  $form['export']['features'] = array(
+    '#tree' => TRUE,
+    '#type' => 'markup',
+    '#prefix' => "<div id='features-export-populated'>",
+    '#suffix' => "</div>",
+    '#value' => !empty($feature->info) ? theme('features_components', $feature->info, $feature->info['features']) : "<div class='placeholder'></div>",
+  );
+
+  $form['buttons'] = array('#theme' => 'features_form_buttons', '#tree' => FALSE);
+  $form['buttons']['submit'] = array(
+    '#type' => 'submit',
+    '#value' => t('Download feature'),
+    '#weight' => 10,
+    '#submit' => array('features_export_build_form_submit'),
+  );
+  return $form;
+}
+
+/**
+ * Validation for project field.
+ */
+function features_export_form_validate_field($element, &$form_state) {
+  switch ($element['#name']) {
+    case 'module_name':
+      if (!preg_match('!^[a-z0-9_]+$!', $element['#value'])) {
+        form_error($element, t('The machine-readable name must contain only lowercase letters, numbers, and underscores.'));
+      }
+      // If user is filling out the feature name for the first time and uses
+      // the name of an existing module throw an error.
+      else if (empty($element['#default_value']) && features_get_info('module', $element['#value'])) {
+        form_error($element, t('A module by the name @name already exists on your site. Please choose a different name.', array('@name' => $element['#value'])));
+      }
+      break;
+    case 'project_status_url':
+      if (!empty($element['#value']) && !valid_url($element['#value'])) {
+        form_error($element, t('The URL %url is invalid. Please enter a fully-qualified URL, such as http://www.example.com/feed.xml.', array('%url' => $element['#value'])));
+      }
+      break;
+    case 'version':
+      preg_match('/^(?P<core>\d+\.x)-(?P<major>\d+)\.(?P<patch>\d+)-?(?P<extra>\w+)?$/', $element['#value'], $matches);
+      if (!empty($element['#value']) && !isset($matches['core'], $matches['major'])) {
+        form_error($element, t('Please enter a valid version with core and major version number. Example: !example', array('!example' => '6.x-1.0')));
+      };
+      break;
+  }
+}
+
+/**
+ * Submit handler for features_export_form_build().
+ */
+function features_export_build_form_submit($form, &$form_state) {
+  module_load_include('inc', 'features', 'features.export');
+  features_include();
+
+  // Assemble the combined component list
+  $stub = array();
+  $components = array_keys(features_get_components());
+  foreach ($components as $component) {
+    // User-selected components take precedence.
+    if (!empty($form_state['values']['sources'][$component])) {
+      $stub[$component] = features_dom_decode_options(array_filter($form_state['values']['sources'][$component]));
+    }
+    // Only fallback to an existing feature's values if there are no export options for the component.
+    else if (!empty($form['#feature']->info['features'][$component])) {
+      $stub[$component] = $form['#feature']->info['features'][$component];
+    }
+  }
+
+  // Generate populated feature
+  $module_name = $form_state['values']['module_name'];
+  $export = features_populate($stub, $form_state['values']['sources']['dependencies'], $module_name);
+
+  // Directly copy the following attributes
+  $attr = array('name', 'description');
+  foreach ($attr as $key) {
+    $export[$key] = isset($form_state['values'][$key]) ? $form_state['values'][$key] : NULL;
+  }
+  // If either update status-related keys are provided, add a project key
+  // corresponding to the module name.
+  if (!empty($form_state['values']['version']) || !empty($form_state['values']['project_status_url'])) {
+    $export['project'] = $form_state['values']['module_name'];
+  }
+  if (!empty($form_state['values']['version'])) {
+    $export['version'] = $form_state['values']['version'];
+  }
+  if (!empty($form_state['values']['project_status_url'])) {
+    $export['project status url'] = $form_state['values']['project_status_url'];
+  }
+
+  // Generate download
+  if ($files = features_export_render($export, $module_name, TRUE)) {
+    $filename = (!empty($export['version']) ? "{$module_name}-{$export['version']}" : $module_name) . '.tar';
+
+    // Clear out output buffer to remove any garbage from tar output.
+    if (ob_get_level()) {
+      ob_end_clean();
+    }
+
+    drupal_set_header('Content-type: application/x-tar');
+    drupal_set_header('Content-Disposition: attachment; filename="'. $filename .'"');
+
+    $tar = array();
+    $filenames = array();
+    foreach ($files as $extension => $file_contents) {
+      if (!in_array($extension, array('module', 'info'))) {
+        $extension .= '.inc';
+      }
+      $filenames[] = "{$module_name}.$extension";
+      print features_tar_create("{$module_name}/{$module_name}.$extension", $file_contents);
+    }
+    if (features_get_modules($module_name, TRUE)) {
+      $module_path = drupal_get_path('module', $module_name);
+      // file_scan_directory() can throw warnings when using PHP 5.3, messing
+      // up the output of our file stream. Suppress errors in this one case in
+      // order to produce valid output.
+      foreach (@file_scan_directory($module_path, '.*') as $file) {
+        $filename = substr($file->filename, strlen($module_path) + 1);
+        if (!in_array($filename, $filenames)) {
+          // Add this file.
+          $contents = file_get_contents($file->filename);
+          print features_tar_create("{$module_name}/{$filename}", $contents);
+          unset($contents);
+        }
+      }
+    }
+    print pack("a1024","");
+    exit;
+  }
+}
+
+/**
+ * AHAH handler for features_export_form_build().
+ */
+function features_export_build_form_populate() {
+  module_load_include('inc', 'features', 'features.export');
+  features_include();
+
+  $form_state = array();
+  $submitted = $_POST;
+
+  if ($form = form_get_cache($submitted['form_build_id'], $form_state)) {
+    $stub = array();
+
+    // Assemble the combined component list
+    $components = array_keys(features_get_components());
+    foreach ($components as $component) {
+      // User-selected components take precedence.
+      if (!empty($submitted['sources'][$component])) {
+        // Validate and set the default value for each selected option. This
+        foreach ($submitted['sources'][$component] as $key => $value) {
+          if (isset($form['export']['sources'][$component]['#options'][$key])) {
+            $form['export']['sources'][$component]['#default_value'][$key] = $value;
+          }
+        }
+        $stub[$component] = features_dom_decode_options(array_filter($submitted['sources'][$component]));
+      }
+      // Only fallback to an existing feature's values if there are no export options for the component.
+      else if (!isset($form['export']['sources'][$component]) && !empty($form['#feature']->info['features'][$component])) {
+        $stub[$component] = $form['#feature']->info['features'][$component];
+      }
+    }
+
+    // Assemble dependencies
+    $dependencies = isset($submitted['sources']['dependencies']) ? $submitted['sources']['dependencies'] : array();
+
+    // Generate populated feature
+    $module_name = isset($form['#feature'], $form['#feature']->name) ? $form['#feature']->name : '';
+    $export = features_populate($stub, $dependencies, $module_name);
+
+    // Render component display
+    $components_rendered = theme('features_components', $export, $stub);
+    $form['export']['features']['#value'] = $components_rendered;
+
+    // Re-cache form. This ensures that if the form fails to validate, selected
+    // values are preserved for the user.
+    form_set_cache($submitted['form_build_id'], $form, $form_state);
+
+    drupal_json(array('status' => TRUE, 'data' => $components_rendered . theme('status_messages')));
+    exit;
+  }
+  drupal_json(array('status' => FALSE, 'data' => ''));
+  exit;
+}
+
+/**
+ * admin/build/features page callback.
+ */
+function features_admin_form($form_state) {
+  // Load export functions to use in comparison.
+  module_load_include('inc', 'features', 'features.export');
+
+  // Clear & rebuild key caches
+  module_rebuild_cache();
+  features_rebuild();
+
+  features_get_info(NULL, NULL, TRUE);
+  $modules = features_get_modules();
+  $features = features_get_features();
+  $conflicts = features_get_conflicts();
+
+  foreach ($modules as $key => $module) {
+    if ($module->status && !empty($module->info['dependencies'])) {
+      foreach ($module->info['dependencies'] as $dependent) {
+        if (isset($features[$dependent])) {
+          $features[$dependent]->dependents[$key] = $module->info['name'];
+        }
+      }
+    }
+  }
+
+  $form = array(
+    '#features' => $features,
+    '#theme' => 'features_form',
+  );
+
+  // Generate features form.
+  foreach ($features as $name => $module) {
+    $package_title = !empty($module->info['package']) ? $module->info['package'] : t('Other');
+    $package = strtolower(preg_replace('/[^a-zA-Z0-9-]+/', '-', $package_title));
+
+    // Set up package elements
+    if (!isset($form[$package])) {
+      $form[$package] = array(
+        '#tree' => FALSE,
+        '#title' => t($package_title),
+        '#theme' => 'features_form_package'
+      );
+      $form[$package]['links'] =
+      $form[$package]['version'] =
+      $form[$package]['weight'] =
+      $form[$package]['status'] =
+      $form[$package]['action'] = array('#tree' => TRUE);
+    }
+
+    $disabled = FALSE;
+    $description = isset($module->info['description']) ? $module->info['description'] : '';
+
+    // Detect unmet dependencies
+    if (!empty($module->info['dependencies'])) {
+      $unmet_dependencies = array();
+      $dependencies = _features_export_maximize_dependencies($module->info['dependencies']);
+      foreach ($dependencies as $dependency) {
+        if (empty($modules[$dependency])) {
+          $unmet_dependencies[] = theme('features_module_status', FEATURES_MODULE_MISSING, $dependency);
+        }
+      }
+      if (!empty($unmet_dependencies)) {
+        $description .= "<div class='dependencies'>". t('Unmet dependencies: !dependencies', array('!dependencies' => implode(', ', $unmet_dependencies))) ."</div>";
+        $disabled = TRUE;
+      }
+    }
+
+    if (!empty($module->dependents)) {
+      $disabled = TRUE;
+      $description .= "<div class='requirements'>". t('Required by: !dependents', array('!dependents' => implode(', ', $module->dependents))) ."</div>";
+    }
+
+    // Detect potential conflicts
+    if (!empty($conflicts[$name])) {
+      $module_conflicts = array();
+      foreach (array_keys($conflicts[$name]) as $conflict) {
+        $module_conflicts[] = theme('features_module_status', FEATURES_MODULE_MISSING, $conflict);
+        // Only disable modules with conflicts if they are not already enabled.
+        // If they are already enabled, somehow the user got themselves into a
+        // bad situation and they need to be able to disable a conflicted module.
+        if (module_exists($conflict) && !module_exists($name)) {
+          $disabled = TRUE;
+        }
+      }
+      $description .= "<div class='conflicts'>". t('Conflicts with: !conflicts', array('!conflicts' => implode(', ', $module_conflicts))) ."</div>";
+    }
+
+    $form[$package]['status'][$name] = array(
+      '#type' => 'checkbox',
+      '#title' => $module->info['name'],
+      '#description' => $description,
+      '#default_value' => $module->status,
+      '#disabled' => $disabled,
+    );
+
+    if (!empty($module->info['project status url'])) {
+      $uri = l(truncate_utf8($module->info['project status url'], 35, TRUE, TRUE), $module->info['project status url']);
+    }
+    else if (isset($module->info['project'], $module->info['version'], $module->info['datestamp'])) {
+      $uri = l('http://drupal.org', 'http://drupal.org/project/'. $module->info['project']);
+    }
+    else {
+      $uri = t('Unavailable');
+    }
+    $version = !empty($module->info['version']) ? $module->info['version'] : '';
+    $version = !empty($version) ? "<div class='description'>$version</div>" : '';
+    $form[$package]['sign'][$name] = array('#type' => 'markup', '#value' => "{$uri} {$version}");
+
+    if (user_access('administer features')) {
+      // Add status link
+      $href = "admin/build/features/{$name}";
+      if ($module->status) {
+        $state = '<span class="admin-loading features-storage">' . t('Checking...') . '</span>';
+        $state .= l(t('Check'), "admin/build/features/{$name}/status", array('attributes' => array('class' => 'admin-check')));
+        $state .= theme('features_storage_link', FEATURES_REBUILDING, NULL, $href);
+        $state .= theme('features_storage_link', FEATURES_NEEDS_REVIEW, NULL, $href);
+        $state .= theme('features_storage_link', FEATURES_OVERRIDDEN, NULL, $href);
+        $state .= theme('features_storage_link', FEATURES_DEFAULT, NULL, $href);
+      }
+      elseif (!empty($conflicts[$name])) {
+        $state = theme('features_storage_link', FEATURES_CONFLICT, NULL, $href);
+      }
+      else {
+        $state = theme('features_storage_link', FEATURES_DISABLED, NULL, $href);
+      }
+      $form[$package]['state'][$name] = array(
+        '#type' => 'markup',
+        '#value' => !empty($state) ? $state : '',
+      );
+
+      // Add in recreate link
+      $form[$package]['actions'][$name] = array(
+        '#type' => 'markup',
+        '#value' => l(t('Recreate'), "admin/build/features/{$name}/recreate", array('attributes' => array('class' => 'admin-update'))),
+      );
+    }
+  }
+
+  $form['buttons'] = array(
+    '#theme' => 'features_form_buttons',
+  );
+  $form['buttons']['submit'] = array(
+    '#type' => 'submit',
+    '#value' => t('Save settings'),
+    '#submit' => array('features_form_submit'),
+    '#validate' => array('features_form_validate'),
+  );
+  return $form;
+}
+
+/**
+ * Display the components of a feature.
+ */
+function features_admin_components($form_state, $feature) {
+  module_load_include('inc', 'features', 'features.export');
+  $form = array();
+
+  // Store feature info for theme layer.
+  $form['module'] = array('#type' => 'value', '#value' => $feature->name);
+  $form['#info'] = $feature->info;
+  $form['#dependencies'] = array();
+  if (!empty($feature->info['dependencies'])) {
+    foreach ($feature->info['dependencies'] as $dependency) {
+      $status = features_get_module_status($dependency);
+      $form['#dependencies'][$dependency] = $status;
+    }
+  }
+
+  $review = $revert = FALSE;
+
+  // Iterate over components and retrieve status for display
+  $states = features_get_component_states(array($feature->name), FALSE);
+  $form['revert']['#tree'] = TRUE;
+  foreach ($feature->info['features'] as $component => $items) {
+    if (user_access('administer features') && in_array($states[$feature->name][$component], array(FEATURES_OVERRIDDEN, FEATURES_NEEDS_REVIEW))) {
+      switch ($states[$feature->name][$component]) {
+        case FEATURES_OVERRIDDEN:
+          $revert = TRUE;
+          break;
+        case FEATURES_NEEDS_REVIEW:
+          $review = TRUE;
+          break;
+      }
+      $form['revert'][$component] = array(
+        '#type' => 'checkbox',
+        '#default_value' => FALSE,
+      );
+    }
+    if (module_exists('diff')) {
+      $item = menu_get_item("admin/build/features/{$feature->name}/diff/{$component}");
+      $path = ($item && $item['access']) ? $item['href'] : NULL;
+    }
+    else {
+      $path = NULL;
+    }
+    $form['components'][$component] = array(
+      '#type' => 'markup',
+      '#value' => theme('features_storage_link', $states[$feature->name][$component], NULL, $path),
+    );
+  }
+
+  if ($review || $revert) {
+    $form['buttons'] = array('#theme' => 'features_form_buttons', '#tree' => TRUE);
+    if ($revert || $review) {
+      $form['buttons']['revert'] = array(
+        '#type' => 'submit',
+        '#value' => t('Revert components'),
+        '#submit' => array('features_admin_components_revert'),
+      );
+    }
+    if ($review) {
+      $form['buttons']['review'] = array(
+        '#type' => 'submit',
+        '#value' => t('Mark as reviewed'),
+        '#submit' => array('features_admin_components_review'),
+      );
+    }
+  }
+  return $form;
+}
+
+/**
+ * Submit handler for revert form.
+ */
+function features_admin_components_revert(&$form, &$form_state) {
+  module_load_include('inc', 'features', 'features.export');
+  features_include();
+  $module = $form_state['values']['module'];
+  $revert = array();
+  foreach (array_filter($form_state['values']['revert']) as $component => $status) {
+    $revert[$module][] = $component;
+    drupal_set_message(t('Reverted all <strong>!component</strong> components for <strong>!module</strong>.', array('!component' => $component, '!module' => $module)));
+  }
+  features_revert($revert);
+  $form_state['redirect'] = 'admin/build/features/'. $module;
+}
+
+/**
+ * Submit handler for revert form.
+ */
+function features_admin_components_review(&$form, &$form_state) {
+  module_load_include('inc', 'features', 'features.export');
+  features_include();
+  $module = $form_state['values']['module'];
+  $revert = array();
+  foreach (array_filter($form_state['values']['revert']) as $component => $status) {
+    features_set_signature($module, $component);
+    drupal_set_message(t('All <strong>!component</strong> components for <strong>!module</strong> reviewed.', array('!component' => $component, '!module' => $module)));
+  }
+  $form_state['redirect'] = 'admin/build/features/'. $module;
+}
+
+/**
+ * Validate handler for the 'manage features' form.
+ */
+function features_form_validate(&$form, &$form_state) {
+  include_once './includes/install.inc';
+  $conflicts = features_get_conflicts();
+  foreach ($form_state['values']['status'] as $module => $status) {
+    if ($status) {
+      if (!empty($conflicts[$module])) {
+        foreach (array_keys($conflicts[$module]) as $conflict) {
+          if (!empty($form_state['values']['status'][$conflict])) {
+            form_set_error('status', t('The feature !module cannot be enabled because it conflicts with !conflict.', array('!module' => $module, '!conflict' => $conflict)));
+          }
+        }
+      }
+      if (!drupal_check_module($module)) {
+        form_set_error('status', t('The feature !module cannot be enabled because it has unmet requirements.', array('!module' => $module, '!conflict' => $conflict)));
+      }
+    }
+  }
+}
+
+/**
+ * Submit handler for the 'manage features' form
+ */
+function features_form_submit(&$form, &$form_state) {
+  // Clear drupal caches after enabling a feature. We do this in a separate
+  // page callback rather than as part of the submit handler as some modules
+  // have includes/other directives of importance in hooks that have already
+  // been called in this page load.
+  $form_state['redirect'] = 'admin/build/features/cleanup/clear';
+
+  $features = $form['#features'];
+  if (!empty($features)) {
+    $status = $form_state['values']['status'];
+    $install = array_keys(array_filter($status));
+    $disable = array_diff(array_keys($status), $install);
+
+    // Disable first. If there are any features that are disabled that are
+    // dependencies of features that have been queued for install, they will
+    // be re-enabled.
+    module_disable($disable);
+    features_install_modules($install);
+  }
+}
+
+/**
+ * Form for disabling orphaned dependencies.
+ */
+function features_cleanup_form($form_state, $cache_clear = FALSE) {
+  $form = array();
+
+  // Clear caches if we're getting a post-submit redirect that requests it.
+  if ($cache_clear) {
+    drupal_flush_all_caches();
+
+    // The following functions need to be run because drupal_flush_all_caches()
+    // runs rebuilds in the wrong order. The node type cache is rebuilt *after*
+    // the menu is rebuilt, meaning that the menu tree is stale in certain
+    // circumstances after drupal_flush_all_caches(). We rebuild again.
+    menu_rebuild();
+  }
+
+  // Retrieve orphaned modules and provide them as optional modules to be disabled.
+  // Exclude any modules that have been added to the 'ignored' list.
+  $options = array();
+  $orphans = features_get_orphans();
+  $ignored = variable_get('features_ignored_orphans', array());
+  if (!empty($orphans)) {
+    foreach ($orphans as $module) {
+      if (!in_array($module->name, $ignored, TRUE)) {
+        $options[$module->name] = check_plain($module->info['name']);
+      }
+    }
+  }
+
+  if (!empty($options)) {
+    $form['orphans'] = array(
+      '#title' => t('Orphaned dependencies'),
+      '#description' => t('These modules are dependencies of features that have been disabled. They may be disabled without affecting other components of your website.'),
+      '#type' => 'checkboxes',
+      '#options' => $options,
+      '#default_value' => array_keys($options),
+    );
+    $form['buttons'] = array('#tree' => TRUE, '#theme' => 'features_form_buttons');
+    $form['buttons']['disable'] = array(
+      '#type' => 'submit',
+      '#value' => t('Disable selected modules'),
+      '#submit' => array('features_cleanup_form_disable'),
+    );
+    $form['buttons']['ignore'] = array(
+      '#type' => 'submit',
+      '#value' => t('Leave enabled'),
+      '#submit' => array('features_cleanup_form_ignore'),
+    );
+  }
+  else {
+    drupal_goto('admin/build/features');
+  }
+  return $form;
+}
+
+/**
+ * Submit handler for disable action on features_cleanup_form().
+ */
+function features_cleanup_form_disable(&$form, &$form_state) {
+  if (!empty($form_state['values']['orphans'])) {
+    $disable = array_keys(array_filter($form_state['values']['orphans']));
+    $ignored = array_diff(array_keys($form_state['values']['orphans']), $disable);
+
+    // Disable any orphans that have been selected.
+    module_disable($disable);
+    drupal_flush_all_caches();
+
+    // Add enabled modules to ignored orphans list.
+    $ignored_orphans = variable_get('features_ignored_orphans', array());
+    foreach ($ignored as $module) {
+      $ignored_orphans[$module] = $module;
+    }
+    variable_set('features_ignored_orphans', $ignored_orphans);
+  }
+  $form_state['redirect'] = 'admin/build/features/cleanup';
+}
+
+/**
+ * Submit handler for ignore action on features_cleanup_form().
+ */
+function features_cleanup_form_ignore(&$form, &$form_state) {
+  if (!empty($form_state['values']['orphans'])) {
+    $ignored = array_keys($form_state['values']['orphans']);
+    $ignored_orphans = variable_get('features_ignored_orphans', array());
+    foreach ($ignored as $module) {
+      $ignored_orphans[$module] = $module;
+    }
+    variable_set('features_ignored_orphans', $ignored_orphans);
+  }
+  $form_state['redirect'] = 'admin/build/features/cleanup';
+}
+
+/**
+ * Page callback to display the differences between what's in code and
+ * what is in the db.
+ *
+ * @param $feature
+ *   A loaded feature object to display differences for.
+ * @param $component
+ *   Optional: specific component to display differences for. If excluded, all components are used.
+ *
+ * @return Themed display of what is different.
+ */
+function features_feature_diff($feature, $component = NULL) {
+  drupal_add_css(drupal_get_path('module', 'features') .'/features.css');
+  module_load_include('inc', 'features', 'features.export');
+
+  $overrides = features_detect_overrides($feature);
+
+  $output = '';
+  if (!empty($overrides)) {
+    // Filter overrides down to specified component.
+    if (isset($component) && isset($overrides[$component])) {
+      $overrides = array($component => $overrides[$component]);
+    }
+
+    module_load_include('php', 'diff', 'DiffEngine');
+    $formatter = new DrupalDiffFormatter();
+    $rows = array();
+    foreach ($overrides as $component => $items) {
+      $diff = new Diff(explode("\n", $items['default']), explode("\n", $items['normal']));
+      $rows[] = array(array('data' => $component, 'colspan' => 4, 'header' => TRUE));
+      $rows = array_merge($rows, $formatter->format($diff));
+    }
+    $header = array(
+      array('data' => t('Default'), 'colspan' => 2),
+      array('data' => t('Overrides'), 'colspan' => 2),
+    );
+    $output .= theme('diff_table', $header, $rows, array('class' => 'diff features-diff'));
+  }
+  else {
+    $output = "<div class='features-empty'>". t('No changes have been made to this feature.') ."</div>";
+  }
+  $output = "<div class='features-comparison'>{$output}</div>";
+  return $output;
+}
+
+/**
+ * Javascript call back that returns the status of a feature.
+ */
+function features_feature_status($feature) {
+  module_load_include('inc', 'features', 'features.export');
+  return drupal_json(array('storage' => features_get_storage($feature->name)));
+}
+
+/**
+ * Make a Drupal options array safe for usage with jQuery DOM selectors.
+ * Encodes known bad characters into __[ordinal]__ so that they may be
+ * safely referenced by JS behaviors.
+ */
+function features_dom_encode_options($options = array(), $keys_only = TRUE) {
+  $replacements = array(
+    ':' => '__'. ord(':') .'__',
+    '/' => '__'. ord('/') .'__',
+    ',' => '__'. ord(',') .'__',
+    '.' => '__'. ord(',') .'__',
+    '<' => '__'. ord('<') .'__',
+    '>' => '__'. ord('>') .'__',
+  );
+  $encoded = array();
+  foreach ($options as $key => $value) {
+    $encoded[strtr($key, $replacements)] = $keys_only ? $value : strtr($value, $replacements);
+  }
+  return $encoded;
+}
+
+/**
+ * Decode an array of option values that have been encoded by
+ * features_dom_encode_options().
+ */
+function features_dom_decode_options($options, $keys_only = FALSE) {
+  $replacements = array_flip(array(
+    ':' => '__'. ord(':') .'__',
+    '/' => '__'. ord('/') .'__',
+    ',' => '__'. ord(',') .'__',
+    '.' => '__'. ord(',') .'__',
+    '<' => '__'. ord('<') .'__',
+    '>' => '__'. ord('>') .'__',
+  ));
+  $encoded = array();
+  foreach ($options as $key => $value) {
+    $encoded[strtr($key, $replacements)] = $keys_only ? $value : strtr($value, $replacements);
+  }
+  return $encoded;
+}
diff --git a/sites/all/modules/features/features.api.php b/sites/all/modules/features/features.api.php
new file mode 100644
index 0000000..ac54ec6
--- /dev/null
+++ b/sites/all/modules/features/features.api.php
@@ -0,0 +1,345 @@
+<?php
+
+/**
+ * Main info hook that features uses to determine what components are provided
+ * by the implementing module.
+ *
+ * @return array
+ *   An array of components, keyed by the component name. Each component can
+ *   define several keys:
+ *
+ *   'file': Optional path to a file to include which contains the rest
+ *   of the features API hooks for this module.
+ *
+ *   'default_hook': The defaults hook for your component that is called
+ *   when the cache of default components is generated. Examples include
+ *   hook_views_default_views() or hook_context_default_contexts().
+ *
+ *   'default_file': The file-writing behavior to use when exporting this
+ *   component. May be one of 3 constant values:
+ *
+ *   FEATURES_DEFAULTS_INCLUDED_COMMON: write hooks/components to
+ *   `.features.inc` with other components. This is the default behavior
+ *   if this key is not defined.
+ *
+ *   FEATURES_DEFAULTS_INCLUDED: write hooks/components to a component-
+ *   specific include named automatically by features.
+ *
+ *   FEATURES_DEFAULTS_CUSTOM: write hooks/components to a component-
+ *   specific include with a custom name provided. If your module provides
+ *   large amounts of code that should not be parsed often (only on specific
+ *   cache clears/rebuilds, for example) you should use the 2nd or 3rd
+ *   options to split your component into its own include.
+ *
+ *   'default_filename': The filename to use when 'default_file' is set to
+ *   FEATURES_DEFAULTS_CUSTOM.
+ *
+ *   'features_source': Boolean value for whether this component should be
+ *   offered as an option on the initial feature creation form.
+ *
+ *   'base': Optional. An alternative base key to use when calling features
+ *   hooks for this component. Can be used for features component types that
+ *   are declared "dynamically" or are part of a family of components.
+ */
+function hook_features_api() {
+  return array(
+    'mycomponent' => array(
+      'default_hook' => 'mycomponent_defaults',
+      'default_file' => FEATURES_DEFAULTS_INCLUDED,
+      'features_source' => TRUE,
+      'file' => drupal_get_path('module', 'mycomponent') .'/mycomponent.features.inc',
+    ),
+  );
+}
+
+/**
+ * Component hook. The hook should be implemented using the name ot the
+ * component, not the module, eg. [component]_features_export() rather than
+ * [module]_features_export().
+ *
+ * Process the export array for a given component. Implementations of this hook
+ * have three key tasks:
+ *
+ * 1. Determine module dependencies for any of the components passed to it
+ *   e.g. the views implementation iterates over each views' handlers and
+ *   plugins to determine which modules need to be added as dependencies.
+ *
+ * 2. Correctly add components to the export array. In general this is usually
+ *   adding all of the items in $data to $export['features']['my_key'], but
+ *   can become more complicated if components are shared between features
+ *   or modules.
+ *
+ * 3. Delegating further detection and export tasks to related or derivative
+ *   components.
+ *
+ * Each export processor can kickoff further export processors by returning a
+ * keyed array (aka the "pipe") where the key is the next export processor hook
+ * to call and the value is an array to be passed to that processor's $data
+ * argument. This allows an export process to start simply at a few objects:
+ *
+ * [context]
+ *
+ * And then branch out, delegating each component to its appropriate hook:
+ *
+ * [context]--------+------------+
+ *     |            |            |
+ *   [node]      [block]      [views]
+ *     |
+ *   [CCK]
+ *     |
+ * [imagecache]
+ *
+ * @param array $data
+ *   An array of machine names for the component in question to be exported.
+ * @param array &$export
+ *   By reference. An array of all components to be exported with a given
+ *   feature. Component objects that should be exported should be added to
+ *   this array.
+ * @param string $module_name
+ *   The name of the feature module to be generated.
+ * @return array
+ *   The pipe array of further processors that should be called.
+ */
+function hook_features_export($data, &$export, $module_name) {
+  // The following is the simplest implementation of a straight object export
+  // with no further export processors called.
+  foreach ($data as $component) {
+    $export['mycomponent'][$component] = $component;
+  }
+  return array();
+}
+
+/**
+ * Component hook. The hook should be implemented using the name ot the
+ * component, not the module, eg. [component]_features_export() rather than
+ * [module]_features_export().
+ *
+ * List all objects for a component that may be exported.
+ *
+ * @return array
+ *   A keyed array of items, suitable for use with a FormAPI select or
+ *   checkboxes element.
+ */
+function hook_features_export_options() {
+  $options = array();
+  foreach (mycomponent_load() as $mycomponent) {
+    $options[$mycomponent->name] = $mycomponent->title;
+  }
+  return $options;
+}
+
+/**
+ * Component hook. The hook should be implemented using the name ot the
+ * component, not the module, eg. [component]_features_export() rather than
+ * [module]_features_export().
+ *
+ * Render one or more component objects to code.
+ *
+ * @param string $module_name
+ *   The name of the feature module to be exported.
+ * @param array $data
+ *   An array of machine name identifiers for the objects to be rendered.
+ * @param array $export
+ *   The full export array of the current feature being exported. This is only
+ *   passed when hook_features_export_render() is invoked for an actual feature
+ *   update or recreate, not during state checks or other operations.
+ * @return array
+ *   An associative array of rendered PHP code where the key is the name of the
+ *   hook that should wrap the PHP code. The hook should not include the name
+ *   of the module, e.g. the key for `hook_example` should simply be `example`.
+ */
+function hook_features_export_render($module_name, $data, $export = NULL) {
+  $code = array();
+  $code[] = '$mycomponents = array();';
+  foreach ($data as $name) {
+    $code[] = "  \$mycomponents['{$name}'] = " . features_var_export(mycomponent_load($name)) .";";
+  }
+  $code[] = "return \$mycomponents;";
+  $code = implode("\n", $mycomponents);
+  return array('mycomponent_defaults' => $code);
+}
+
+/**
+ * Component hook. The hook should be implemented using the name ot the
+ * component, not the module, eg. [component]_features_export() rather than
+ * [module]_features_export().
+ *
+ * Revert all component objects for a given feature module.
+ *
+ * @param string $module_name
+ *   The name of the feature module whose components should be reverted.
+ * @return boolean
+ *   TRUE or FALSE for whether the components were successfully reverted.
+ */
+function hook_features_export_revert($module_name) {
+  $mycomponents = module_invoke_all($module_name, 'mycomponent_defaults');
+  if (!empty($$mycomponents)) {
+    foreach ($mycomponents as $mycomponent) {
+      mycomponent_delete($mycomponent);
+    }
+  }
+}
+
+/**
+ * Component hook. The hook should be implemented using the name ot the
+ * component, not the module, eg. [component]_features_export() rather than
+ * [module]_features_export().
+ *
+ * Rebuild all component objects for a given feature module. Should only be
+ * implemented for 'faux-exportable' components.
+ *
+ * This hook is called at points where Features determines that it is safe
+ * (ie. the feature is in state `FEATURES_REBUILDABLE`) for your module to
+ * replace objects in the database with defaults that you collect from your
+ * own defaults hook. See API.txt for how Features determines whether a
+ * rebuild of components is possible.
+ *
+ * @param string $module_name
+ *   The name of the feature module whose components should be rebuilt.
+ */
+function hook_features_export_rebuild($module_name) {
+  $mycomponents = module_invoke_all($module_name, 'mycomponent_defaults');
+  if (!empty($$mycomponents)) {
+    foreach ($mycomponents as $mycomponent) {
+      mycomponent_save($mycomponent);
+    }
+  }
+}
+
+/**
+ * Alter the final export array just prior to the rendering of defaults. Allows
+ * modules a final say in altering what component objects are exported.
+ *
+ * @param array &$export
+ *   By reference. An array of all components to be exported with a given
+ *   feature.
+ * @param array $module_name
+ *   The name of the feature module to be generated.
+ */
+function hook_features_export_alter(&$export, $module_name) {
+  // Example: do not allow the page content type to be exported, ever.
+  if (!empty($export['node']['page'])) {
+    unset($export['node']['page']);
+  }
+}
+
+/**
+ * Alter the pipe array for a given component. This hook should be implemented
+ * with the name of the component type in place of `component` in the function
+ * name, e.g. `features_pipe_views_alter()` will alter the pipe for the Views
+ * component.
+ *
+ * @param array &$pipe
+ *   By reference. The pipe array of further processors that should be called.
+ * @param array $data
+ *   An array of machine names for the component in question to be exported.
+ * @param array &$export
+ *   By reference. An array of all components to be exported with a given
+ *   feature.
+ */
+function hook_features_pipe_component_alter(&$pipe, $data, $export) {
+}
+
+/**
+ * @defgroup features_component_alter_hooks Feature's component alter hooks
+ * @{
+ * Hooks to modify components defined by other features. These come in the form
+ * hook_COMPONENT_alter where COMPONENT is the default_hook declared by any of
+ * components within features.
+ *
+ * CTools also has a variety of hook_FOO_alters.
+ *
+ * Note: While views is a component of features, it declares it's own alter 
+ * function which takes a similar form:
+ * hook_views_default_views_alter(&$views)
+ */
+
+/**
+ * Alter the default cck fields right before they are cached into the database.
+ *
+ * @param &$fields
+ *   By reference. The fields that have been declared by another feature.
+ */
+function hook_content_default_fields_alter(&$fields) {
+}
+
+/**
+ * Alter the default fieldgroup groups right before they are cached into the 
+ * database.
+ *
+ * @param &$groups
+ *   By reference. The fieldgroup groups that have been declared by another 
+ *   feature.
+ */
+function hook_fieldgroup_default_groups_alter(&$groups) {
+}
+
+/**
+ * Alter the default filter formats right before they are cached into the 
+ * database.
+ *
+ * @param &$formats
+ *   By reference. The formats that have been declared by another feature.
+ */
+function hook_filter_default_formats_alter(&$formats) {
+}
+
+/**
+ * Alter the default menus right before they are cached into the database.
+ *
+ * @param &$menus
+ *   By reference. The menus that have been declared by another feature.
+ */
+function hook_menu_default_menu_custom_alter(&$menus) {
+}
+
+/**
+ * Alter the default menu links right before they are cached into the database.
+ *
+ * @param &$links
+ *   By reference. The menu links that have been declared by another feature.
+ */
+function hook_menu_default_menu_links_alter(&$links) {
+}
+
+/**
+ * Alter the default menu items right before they are cached into the database.
+ *
+ * @param &$items
+ *   By reference. The menu items that have been declared by another feature.
+ */
+function hook_menu_default_items_alter(&$items) {
+}
+
+/**
+ * Alter the default vocabularies right before they are cached into the
+ * database.
+ *
+ * @param &$vocabularies
+ *   By reference. The vocabularies that have been declared by another feature.
+ */
+function hook_taxonomy_default_vocabularies_alter(&$vocabularies) {
+}
+
+/**
+ * Alter the default permissions right before they are cached into the
+ * database.
+ *
+ * @param &$permissions
+ *   By reference. The permissions that have been declared by another feature.
+ */
+function hook_user_default_permissions_alter(&$permissions) {
+}
+
+/**
+ * Alter the default roles right before they are cached into the database.
+ *
+ * @param &$roles
+ *   By reference. The roles that have been declared by another feature.
+ */
+function hook_user_default_roles_alter(&$roles) {
+}
+
+/**
+ * @}
+ */
diff --git a/sites/all/modules/features/features.css b/sites/all/modules/features/features.css
new file mode 100644
index 0000000..3d5f5f8
--- /dev/null
+++ b/sites/all/modules/features/features.css
@@ -0,0 +1,227 @@
+/**
+ * Features packages.
+ */
+div.features-form-links {
+  width:20%;
+  float:left;
+  }
+
+div.features-form-content {
+  width:80%;
+  float:right;
+  }
+
+/**
+ * Package links.
+ */
+div.features-form-links ul#features-form-links,
+div.features-form-links ul#features-form-links li,
+div.features-form-links ul#features-form-links li a {
+  display:block;
+  float:none;
+  padding:0px;
+  margin:0px;
+  }
+
+  div.features-form-links ul#features-form-links { margin:0px 0px 10px; }
+
+  div.features-form-links ul#features-form-links li a {
+    background:#f8f8f8;
+    padding:5px 5px 4px 4px;
+    border-left:1px solid #eee;
+    border-bottom:1px solid #eee;
+    cursor:pointer;
+    }
+
+  div.features-form-links ul#features-form-links li a.features-package-active {
+    padding:4px 5px 4px 4px;
+    background:#fff;
+    border:1px solid #ccc;
+    border-right:0px;
+    margin-right:-1px;
+    }
+
+/* Packages */
+div.features-form-package {
+  border:1px solid #ccc;
+  background:#fff;
+  padding:10px;
+  margin:0px 0px 20px;
+  display:none;
+  }
+
+  div.features-package-active { display:block; }
+
+/**
+ * Features management form (admin/build/features).
+ */
+div.features-empty {
+  margin:15px 0px;
+  font-size:1.5em;
+  text-align:center;
+  color:#999;
+  }
+
+form div.buttons { text-align:center; }
+
+table.features .admin-loading,
+table.features tr.disabled { color:#999; }
+
+  table.features a.configure { float:right; font-style:italic; }
+  table.features div.feature { float:left; width:85%; }
+  table.features div.feature strong { font-size:13px; }
+  table.features div.feature div.description { font-size:11px; margin:0px; }
+
+  table.features-manage td.name { width:80%; }
+  table.features-manage td.sign { width:20%; }
+
+  table.features-admin td.name { width:60%; }
+  table.features-admin td.sign { width:20%; }
+  table.features-admin td.state { width:10%; }
+  table.features-admin td.actions { width:10%; }
+
+  table.features td.sign {
+    font-size:9px;
+    line-height:15px;
+    white-space:nowrap;
+    }
+
+  table.features td.sign * { margin:0px; }
+
+  table.features .admin-check,
+  table.features .admin-default,
+  table.features .admin-overridden,
+  table.features .admin-rebuilding,
+  table.features .admin-needs-review { display:none; }
+
+/**
+ * Feature export form (admin/build/features/export).
+ */
+form.features-export-form table td { width:50%; }
+form.features-export-form table td { vertical-align:top; }
+form.features-export-form table div.description { white-space:normal; }
+
+table.features-export div.form-item { white-space:normal; }
+table.features-export select { width:90%; }
+table.features-export td { vertical-align:top; }
+
+form.features-export-form div.features-select { display:none; }
+
+form.features-export-form div.form-checkboxes {
+  overflow-x:hidden;
+  overflow-y:auto;
+  height:20em;
+  }
+
+form.features-export-form div#edit-components-wrapper,
+form.features-export-form div.features-select { padding-right:20px; }
+
+/**
+ * Feature component display (admin/build/features/%feature).
+ */
+div.features-components div.column {
+  float:left;
+  width:50%;
+  }
+
+div.features-components div.column div.info { padding-right:20px; }
+div.features-components div.column div.components { padding-left:20px; }
+
+h3.features-download,
+div.features-comparison h3,
+div.features-components h3 {
+  font-size:2em;
+  font-weight:bold;
+  letter-spacing:-1px;
+  margin:15px 0px;
+  }
+
+  h3.features-download { text-align:center; }
+
+div.features-components div.description {
+  font-size:11px;
+  margin:15px 0px;
+  }
+
+div.features-components table td { font-size:11px; }
+div.features-components table td.component { padding-left:20px; }
+
+/**
+ * Features component lists.
+ */
+span.features-component-key { font-size:11px; }
+
+a.admin-update,
+a.features-storage,
+span.features-storage,
+span.features-component-list span {
+  white-space:nowrap;
+  margin-right:5px;
+  padding:2px 5px;
+  background:#eee;
+
+  -moz-border-radius:5px;
+  -webkit-border-radius:5px;
+  }
+
+  div.features-key span.admin-conflict,
+  span.features-component-list span.features-conflict {
+    background-color: #c30;
+    color: #fff;
+    }
+
+  a.admin-update { background:transparent; }
+
+  /* These pseudo selectors are necessary for themes like Garland. */
+  a.admin-overridden:link,
+  a.admin-overridden:visited,
+  span.admin-overridden {
+    color:#fff;
+    background:#666;
+    }
+
+  a.admin-needs-review:link,
+  a.admin-needs-review:visited,
+  span.admin-needs-review {
+    color:#963;
+    background:#fe6;
+    }
+
+  a.admin-rebuilding:link,
+  a.admin-rebuilding:visited,
+  span.admin-rebuilding {
+    color:#fff;
+    background:#699;
+    }
+
+  a.admin-conflict:link,
+  a.admin-conflict:visited,
+  span.admin-conflict {
+    color:#c30;
+    }
+
+table.features-diff td.diff-addedline,
+span.features-component-list .features-detected {
+  color:#68a;
+  background:#def;
+  }
+
+table.features-diff td.diff-deletedline,
+span.features-component-list .features-dependency {
+  color:#999;
+  background:#f8f8f8;
+  }
+
+/**
+ * Features diff.
+ */
+table.features-diff { font-size:11px; }
+
+table.features-diff td { padding:0px 5px; }
+
+table.features-diff td.diff-deletedline,
+table.features-diff td.diff-addedline,
+table.features-diff td.diff-context {
+  width:50%;
+  font-family:'Andale Mono',monospace;
+  }
diff --git a/sites/all/modules/features/features.drush.inc b/sites/all/modules/features/features.drush.inc
new file mode 100644
index 0000000..ac30ea4
--- /dev/null
+++ b/sites/all/modules/features/features.drush.inc
@@ -0,0 +1,447 @@
+<?php
+
+/**
+ * @file
+ *   Features module drush integration.
+ */
+
+/**
+ * Implementation of hook_drush_command().
+ * 
+ * @See drush_parse_command() for a list of recognized keys.
+ *
+ * @return
+ *   An associative array describing your command(s).
+ */
+function features_drush_command() {
+  $items = array();
+
+  $items['features-list'] = array(
+    'description' => "List all the available features for your site.",
+    'drupal dependencies' => array('features'),
+    'aliases' => array('fl', 'features'),
+  );
+  $items['features-export'] = array(
+    'description' => "Export a feature from your site into a module.",
+    'arguments' => array(
+      'feature' => 'Feature name to export.',
+    ),
+    'drupal dependencies' => array('features'),
+    'aliases' => array('fe'),
+  );
+  $items['features-update'] = array(
+    'description' => "Update a feature module on your site.",
+    'arguments' => array(
+      'feature' => 'A space delimited list of features.',
+    ),
+    'drupal dependencies' => array('features'),
+    'aliases' => array('fu'),
+  );
+  $items['features-update-all'] = array(
+    'description' => "Update all feature modules on your site.",
+    'arguments' => array(
+      'feature_exclude' => 'A space-delimited list of features to exclude from being updated.',
+    ),
+    'drupal dependencies' => array('features'),
+    'aliases' => array('fu-all', 'fua'),
+  );
+  $items['features-revert'] = array(
+    'description' => "Revert a feature module on your site.",
+    'arguments' => array(
+      'feature' => 'A space delimited list of features.',
+    ),
+    'options' => array(
+      '--force' => "Force revert even if Features assumes components' state are default.",
+    ),
+    'drupal dependencies' => array('features'),
+    'aliases' => array('fr'),
+  );
+  $items['features-revert-all'] = array(
+    'description' => "Revert all enabled feature module on your site.",
+    'arguments' => array(
+      'feature_exclude' => 'A space-delimited list of features to exclude from being reverted.',
+    ),
+    'options' => array(
+      '--force' => "Force revert even if Features assumes components' state are default.",
+    ),
+    'drupal dependencies' => array('features'),
+    'aliases' => array('fr-all', 'fra'),
+  );
+  $items['features-diff'] = array(
+    'description' => "Show the difference between the default and overridden state of a feature.",
+    'arguments' => array(
+      'feature' => 'The feature in question.',
+    ),
+    'drupal dependencies' => array('features', 'diff'),
+    'aliases' => array('fd'),
+  );
+
+  return $items;
+}
+
+/**
+ * Implementation of hook_drush_help().
+ */
+function features_drush_help($section) {
+  switch ($section) {
+    case 'drush:features':
+      return dt("List all the available features for your site.");
+    case 'drush:features-export':
+      return dt("Export a feature from your site into a module.");
+    case 'drush:features-update':
+      return dt("Update a feature module on your site.");
+    case 'drush:features-update-all':
+      return dt("Update all feature modules on your site.");
+    case 'drush:features-revert':
+      return dt("Revert a feature module on your site.");
+    case 'drush:features-revert-all':
+      return dt("Revert all enabled feature module on your site.");
+    case 'drush:features-revert':
+      return dt("Revert a feature module on your site.");
+    case 'drush:features-diff':
+      return dt("Show a diff of a feature module.");
+  }
+}
+
+/**
+ * Get a list of all feature modules.
+ */
+function drush_features_list() {
+  module_load_include('inc', 'features', 'features.export');
+  $rows = array(array(dt('Name'), dt('Feature'), dt('Status'), dt('State')));
+  foreach (features_get_features(NULL, TRUE) as $k => $m) {
+    switch (features_get_storage($m->name)) {
+      case FEATURES_DEFAULT:
+      case FEATURES_REBUILDABLE:
+        $storage = '';
+        break;
+      case FEATURES_OVERRIDDEN:
+        $storage = dt('Overridden');
+        break;
+      case FEATURES_NEEDS_REVIEW:
+        $storage = dt('Needs review');
+        break;
+    }
+    $rows[] = array(
+      $m->info['name'],
+      $m->name,
+      $m->status ? dt('Enabled') : dt('Disabled'),
+      $storage
+    );
+  }
+  drush_print_table($rows, TRUE);
+}
+
+/**
+ * Create a feature module based on a list of components.
+ */
+function drush_features_export() {
+  $args = func_get_args();
+
+  if (count($args) == 1) {
+    // Assume that the user intends to create a module with the same name as the
+    // "value" of the component.
+    list($source, $component) = explode(':', $args[0]);
+    $stub = array($source => array($component));
+    _drush_features_export($stub, $component);
+  }
+  elseif (count($args) > 1) {
+    // Assume that the user intends to create a new module based on a list of 
+    // components. First argument is assumed to be the name.
+    $name = array_shift($args);
+    $stub = array();
+    foreach ($args as $v) {
+      list($source, $component) = explode(':', $v);
+      $stub[$source][] = $component;
+    }
+    _drush_features_export($stub, array(), $name);
+  }
+  else {
+    $rows = array(array(dt('Available sources')));
+    foreach (features_get_components(TRUE) as $component => $info) {
+      if ($options = features_invoke($component, 'features_export_options')) {
+        foreach ($options as $key => $value) {
+          $rows[] = array($component .':'. $key);
+        }
+      }
+    }
+    drush_print_table($rows, TRUE);
+  }
+}
+
+/**
+ * Update an existing feature module.
+ */
+function drush_features_update() {
+  if ($args = func_get_args()) {
+    foreach ($args as $module) {
+      if (($feature = feature_load($module, TRUE)) && module_exists($module)) {
+        _drush_features_export($feature->info['features'], $feature->info['dependencies'], $feature->name, dirname($feature->filename));
+      }
+      else if ($feature) {
+        _features_drush_set_error($module, 'FEATURES_FEATURE_NOT_ENABLED');
+      }
+      else {
+        _features_drush_set_error($module);
+      }
+    }
+  }
+  else {
+    // By default just show contexts that are available.
+    $rows = array(array(dt('Available features')));
+    foreach (features_get_features(NULL, TRUE) as $name => $info) {
+      $rows[] = array($name);
+    }
+    drush_print_table($rows, TRUE);
+  }
+}
+
+/**
+ * Update all enabled features. Optionally pass in a list of features to
+ * exclude from being updated.
+ */
+function drush_features_update_all() {
+  $features_to_update = array();
+  $features_to_exclude = func_get_args();
+  foreach (features_get_features() as $module) {
+    if ($module->status && !in_array($module->name, $features_to_exclude)) {
+      $features_to_update[] = $module->name;
+    }
+  }
+  drush_print(dt('The following modules will be updated: !modules', array('!modules' => implode(', ', $features_to_update))));
+  if (drush_confirm(dt('Do you really want to continue?'))) {
+    foreach ($features_to_update as $module_name) {
+      drush_backend_invoke('features-update '. $module_name);
+    }
+  }
+  else {
+    drush_die('Aborting.');
+  }
+}
+
+/**
+ * Write a module to the site dir.
+ *
+ * @param $requests
+ *   An array of the context requested in this export.
+ * @param $module_name
+ *  Optional. The name for the exported module.
+ */
+function _drush_features_export($stub, $dependencies, $module_name = NULL, $directory = NULL) {
+  $root = drush_get_option(array('r', 'root'), drush_locate_root());
+  if ($root) {
+    $directory = isset($directory) ? $directory : 'sites/all/modules/' . $module_name;
+    if (is_dir($directory)) {
+      drush_print(dt('Module appears to already exist in !dir', array('!dir' => $directory)));
+      if (!drush_confirm(dt('Do you really want to continue?'))) {
+        drush_die('Aborting.');
+      }
+    }
+    else {
+      drush_op('mkdir', $directory);
+    }
+    if (is_dir($directory)) {
+      drupal_flush_all_caches();
+      module_load_include('inc', 'features', 'features.export');
+      $export = features_populate($stub, $dependencies, $module_name);
+      if (!feature_load($module_name)) {
+        $export['name'] = $module_name;
+      }
+      $files = features_export_render($export, $module_name, TRUE);
+      foreach ($files as $extension => $file_contents) {
+        if (!in_array($extension, array('module', 'info'))) {
+          $extension .= '.inc';
+        }
+        drush_op('file_put_contents', "{$directory}/{$module_name}.$extension", $file_contents);
+      }
+      drush_log(dt("Created module: !module in !directory", array('!module' => $module_name, '!directory' => $directory)), 'ok');
+    }
+    else {
+      drush_die(dt('Couldn\'t create directory !directory', array('!directory' => $directory)));
+    }
+  }
+  else {
+    drush_die(dt('Couldn\'t locate site root'));
+  }
+}
+
+/**
+ * Revert a feature to it's code definition.
+ */
+function drush_features_revert() {
+  if ($args = func_get_args()) {
+    module_load_include('inc', 'features', 'features.export');
+    features_include();
+
+    // Determine if revert should be forced.
+    $force = drush_get_option('force');
+    foreach ($args as $module) {
+      if (($feature = feature_load($module, TRUE)) && module_exists($module)) {
+
+        $components = array();
+        // Forcefully revert all components of a feature.
+        if ($force) {
+          foreach (array_keys($feature->info['features']) as $component) {
+            if (features_hook($component, 'features_revert')) {
+              $components[] = $component;
+            }
+          }
+        }
+        // Only revert components that are detected to be Overridden/Needs review.
+        else {
+          $states = features_get_component_states(array($feature->name), FALSE);
+          foreach ($states[$feature->name] as $component => $state) {
+            if (in_array($state, array(FEATURES_OVERRIDDEN, FEATURES_NEEDS_REVIEW)) && features_hook($component, 'features_revert')) {
+              $components[] = $component;
+            }
+          }
+        }
+
+        if (empty($components)) {
+          drush_log(dt('Current state already matches defaults, aborting.'), 'ok');
+        }
+        else {
+          foreach ($components as $component) {
+            if (drush_confirm(dt('Do you really want to revert !component?', array('!component' => $component)))) {
+              features_revert(array($module => array($component)));
+              drush_log(dt('Reverted !component.', array('!component' => $component)), 'ok');
+            }
+            else {
+              drush_log(dt('Skipping !component.', array('!component' => $component)), 'ok');
+            }
+          }
+        }
+      }
+      else if ($feature) {
+        _features_drush_set_error($module, 'FEATURES_FEATURE_NOT_ENABLED');
+      }
+      else {
+        _features_drush_set_error($module);
+      }
+    }
+  }
+  else {
+    drush_features_list();
+    return;
+  }
+}
+
+/**
+ * Revert all enabled features to their definitions in code. Optionally pass in
+ * a list of features to exclude from being reverted.
+ */
+function drush_features_revert_all() {
+  $features_to_revert = array();
+  $features_to_exclude = func_get_args();
+  foreach (features_get_features() as $module) {
+    if ($module->status && !in_array($module->name, $features_to_exclude)) {
+      $features_to_revert[] = $module->name;
+    }
+  }
+  drush_print(dt('The following modules will be reverted: !modules', array('!modules' => implode(', ', $features_to_revert))));
+  if (drush_confirm(dt('Do you really want to continue?'))) {
+    foreach ($features_to_revert as $module_name) {
+      drush_backend_invoke('features-revert '. $module_name);
+    }
+  }
+  else {
+    drush_die('Aborting.');
+  }
+}
+
+/**
+ * Show the diff of a feature module.
+ */
+function drush_features_diff() {
+  if (!$args = func_get_args()) {
+    drush_features_list();
+    return;
+  }
+  $module = $args[0];
+  $feature = feature_load($module);
+  if (!module_exists($module)) {
+    drush_log(dt('No such feature is enabled: ' . $module), 'error');
+    return;
+  }
+  module_load_include('inc', 'features', 'features.export');
+  $overrides = features_detect_overrides($feature);
+  if (empty($overrides)) {
+    drush_log(dt('Feature is in its default state. No diff needed.'), 'ok');
+    return;
+  }
+  module_load_include('php', 'diff', 'DiffEngine');
+
+  if (!class_exists('DiffFormatter')) {
+    if (drush_confirm(dt('It seems that the Diff module is not available. Would you like to download and enable it?'))) {
+      // Download it if it's not already here.
+      $project_info = drush_get_projects();
+      if (empty($project_info['diff']) && !drush_backend_invoke('dl diff')) {
+        return drush_set_error(dt('Diff module could not be downloaded.'));
+      }
+
+      if (!drush_backend_invoke('en diff')) {
+        return drush_set_error(dt('Diff module could not be enabled.'));
+      }
+    }
+    else {
+      return drush_set_error(dt('Diff module is not enabled.'));
+    }
+    // If we're still here, now we can include the DiffEngine again.
+    module_load_include('php', 'diff', 'DiffEngine');
+  }
+
+  $formatter = new DiffFormatter();
+  $formatter->leading_context_lines = 2;
+  $formatter->trailing_context_lines = 2;
+  $formatter->show_header = FALSE;
+
+  foreach ($overrides as $component => $items) {
+    $diff = new Diff(explode("\n", $items['default']), explode("\n", $items['normal']));
+    drush_print();
+    drush_print(dt("Component: !component", array('!component' => $component)));
+    $rows = explode("\n", $formatter->format($diff));
+    if (drush_get_context('DRUSH_NOCOLOR')) {
+      $red = $green = "%s";
+    }
+    else {
+      $red = "\033[31;40m\033[1m%s\033[0m";
+      $green = "\033[0;32;40m\033[1m%s\033[0m";
+    }
+    foreach ($rows as $row) {
+      if (strpos($row, '>') === 0) {
+        drush_print(sprintf($green, $row));
+      }
+      elseif (strpos($row, '<') === 0) {
+        drush_print(sprintf($red, $row));
+      }
+      else {
+        drush_print($row);
+      }
+    }
+  }
+}
+
+/**
+ * Helper function to call drush_set_error().
+ *
+ * @param $feature
+ *   The string name of the feature.
+ * @param $error
+ *   A text string identifying the type of error.
+ * @return
+ *   FALSE.  See drush_set_error().
+ */
+function _features_drush_set_error($feature, $error = '') {
+  $args = array('!feature' => $feature);
+
+  switch ($error) {
+    case 'FEATURES_FEATURE_NOT_ENABLED':
+      $message = 'The feature !feature is not enabled.';
+      break;
+    default:
+      $error = 'FEATURES_FEATURE_NOT_FOUND';
+      $message = 'The feature !feature could not be found.';
+  }
+
+  return drush_set_error($error, dt($message, $args));
+}
diff --git a/sites/all/modules/features/features.export.inc b/sites/all/modules/features/features.export.inc
new file mode 100644
index 0000000..158fbd9
--- /dev/null
+++ b/sites/all/modules/features/features.export.inc
@@ -0,0 +1,819 @@
+<?php
+
+/**
+ * @param $items
+ * @param $module_name
+ * @return
+ */
+function features_populate($items, $dependencies, $module_name) {
+  // Sanitize items.
+  $items = array_filter($items);
+  $items['dependencies'] = drupal_map_assoc(array_filter($dependencies));
+
+  // Populate stub
+  $stub = array('features' => array(), 'dependencies' => array(), 'conflicts' => array());
+  $export = _features_populate($items, $stub, $module_name);
+
+  // Allow other modules to alter the export.
+  drupal_alter('features_export', $export, $module_name);
+
+  // Clean up and standardize order
+  foreach (array_keys($export['features']) as $k) {
+    ksort($export['features'][$k]);
+  }
+  ksort($export['features']);
+  ksort($export['dependencies']);
+
+  return $export;
+}
+
+/**
+ * Iterate and descend into a feature definition to extract module
+ * dependencies and feature definition. Calls hook_features_export for modules
+ * that implement it.
+ *
+ * @param $pipe
+ *  Associative of array of module => info-for-module
+ * @param $export
+ *  Associative array of items, and module dependencies which define a feature.
+ *  Passed by reference.
+ *
+ * @return fully populated $export array.
+ */
+function _features_populate($pipe, &$export, $module_name = '') {
+  features_include();
+  foreach ($pipe as $component => $data) {
+    if ($function = features_hook($component, 'features_export')) {
+      // Pass module-specific data and export array.
+      // We don't use features_invoke() here since we need to pass $export by reference.
+      $more = $function($data, $export, $module_name, $component);
+      // Allow other modules to manipulate the pipe to add in additional modules.
+      drupal_alter('features_pipe_' . $component, $more, $data, $export);
+      // Allow for export functions to request additional exports.
+      if (!empty($more)) {
+        _features_populate($more, $export, $module_name);
+      }
+    }
+  }
+  return $export;
+}
+
+/**
+ * Iterates over a list of dependencies and kills modules that are
+ * captured by other modules 'higher up'.
+ */
+function _features_export_minimize_dependencies($dependencies, $module_name = '') {
+  // Ensure that the module doesn't depend upon itself
+  if (!empty($module_name) && !empty($dependencies[$module_name])) {
+    unset($dependencies[$module_name]);
+  }
+
+  // Do some cleanup:
+  // - Remove modules required by Drupal core.
+  // - Protect against direct circular dependencies.
+  // - Remove "intermediate" dependencies.
+  $required = drupal_required_modules();
+  foreach ($dependencies as $k => $v) {
+    if (empty($v) || in_array($v, $required)) {
+      unset($dependencies[$k]);
+    }
+    else {
+      $module = features_get_modules($v);
+      if ($module && !empty($module->info['dependencies'])) {
+        // If this dependency depends on the module itself, we have a circular dependency.
+        // Don't let it happen. Only you can prevent forest fires.
+        if (in_array($module_name, $module->info['dependencies'])) {
+          unset($dependencies[$k]);
+        }
+        // Iterate through the dependency's dependencies and remove any dependencies
+        // that are captured by it.
+        else {
+          foreach ($module->info['dependencies'] as $j => $dependency) {
+            if (array_search($dependency, $dependencies) !== FALSE) {
+              $position = array_search($dependency, $dependencies);
+              unset($dependencies[$position]);
+            }
+          }
+        }
+      }
+    }
+  }
+  return drupal_map_assoc(array_unique($dependencies));
+}
+
+/**
+ * Iterates over a list of dependencies and maximize the list of modules.
+ */
+function _features_export_maximize_dependencies($dependencies, $module_name = '', $maximized = array(), $first = TRUE) {
+  foreach ($dependencies as $k => $v) {
+    if (!in_array($v, $maximized)) {
+      $maximized[] = $v;
+      $module = features_get_modules($v);
+      if ($module && !empty($module->info['dependencies'])) {
+        $maximized = array_merge($maximized, _features_export_maximize_dependencies($module->info['dependencies'], $module_name, $maximized, FALSE));
+      }
+    }
+  }
+  return array_unique($maximized);
+}
+
+/**
+ * Prepare a feature export array into a finalized info array.
+ */
+function features_export_prepare($export, $module_name, $reset = FALSE) {
+  $existing = features_get_modules($module_name, $reset);
+
+  // Prepare info string -- if module exists, merge into its existing info file
+  $defaults = $existing ? $existing->info : array('core' => '6.x', 'package' => 'Features');
+  $export = array_merge($defaults, $export);
+
+  // Cleanup info array
+  foreach ($export['features'] as $component => $data) {
+    $export['features'][$component] = array_keys($data);
+  }
+  if (isset($export['dependencies'])) {
+    $export['dependencies'] = array_values($export['dependencies']);
+  }
+  if (isset($export['conflicts'])) {
+    unset($export['conflicts']);
+  }
+  ksort($export);
+  return $export;
+}
+
+/**
+ * Generate an array of hooks and their raw code.
+ */
+function features_export_render_hooks($export, $module_name, $reset = FALSE) {
+  features_include();
+  $code = array();
+
+  // Sort components to keep exported code consistent
+  ksort($export['features']);
+
+  foreach ($export['features'] as $component => $data) {
+    if (!empty($data)) {
+      // Sort the items so that we don't generate different exports based on order
+      asort($data);
+      if (features_hook($component, 'features_export_render')) {
+        $hooks = features_invoke($component, 'features_export_render', $module_name, $data, $export);
+        $code[$component] = $hooks;
+      }
+    }
+  }
+  return $code;
+}
+
+/**
+ * Render feature export into an array representing its files.
+ *
+ * @param $export
+ *  An exported feature definition.
+ * @param $module_name
+ *  The name of the module to be exported.
+ * @param $reset
+ *  Boolean flag for resetting the module cache. Only set to true when
+ *  doing a final export for delivery.
+ *
+ * @return array of info file and module file contents.
+ */
+function features_export_render($export, $module_name, $reset = FALSE) {
+  $code = array();
+
+  // Generate hook code
+  $component_hooks = features_export_render_hooks($export, $module_name, $reset);
+  $components = features_get_components();
+
+  // Group component code into their respective files
+  foreach ($component_hooks as $component => $hooks) {
+    $file = array('name' => 'features');
+    if (isset($components[$component]['default_file'])) {
+      switch ($components[$component]['default_file']) {
+        case FEATURES_DEFAULTS_INCLUDED:
+          $file['name'] = "features.$component";
+          break;
+        case FEATURES_DEFAULTS_CUSTOM:
+          $file['name'] = $components[$component]['default_filename'];
+          break;
+      }
+    }
+
+    if (!isset($code[$file['name']])) {
+      $code[$file['name']] = array();
+    }
+
+    foreach ($hooks as $hook_name => $hook_code) {
+      $code[$file['name']][$hook_name] = features_export_render_defaults($module_name, $hook_name, $hook_code);
+    }
+  }
+
+  // Finalize strings to be written to files
+  foreach ($code as $filename => $contents) {
+    $code[$filename] = "<?php\n\n". implode("\n\n", $contents) ."\n";
+  }
+
+  // Generate info file output
+  $export = features_export_prepare($export, $module_name, $reset);
+  $code['info'] = features_export_info($export);
+
+  // Prepare the module
+  // If module exists, let it be and include it in the files
+  if ($existing = features_get_modules($module_name, TRUE)) {
+    $code['module'] = file_get_contents($existing->filename);
+
+    // If the current module file does not reference the features.inc include,
+    // set a warning message.
+    if (isset($code['features']) && strpos($code['module'], "{$module_name}.features.inc") === FALSE) {
+      features_log(t('@module does not appear to include the @include file.', array('@module' => "{$module_name}.module", '@include' => "{$module_name}.features.inc")), 'warning');
+    }
+
+    // Deprecated files. Display a message for any of these files letting the
+    // user know that they may be removed.
+    $deprecated = array(
+      "{$module_name}.defaults",
+      "{$module_name}.features.views",
+      "{$module_name}.features.node"
+    );
+    foreach (file_scan_directory(drupal_get_path('module', $module_name), '.*') as $file) {
+      if (in_array($file->name, $deprecated, TRUE)) {
+        features_log(t('The file @filename has been deprecated and can be removed.', array('@filename' => $file->basename)), 'status');
+      }
+      elseif ($file->name === "{$module_name}.features" && empty($code['features'])) {
+        $code['features'] = "<?php\n\n// This file is deprecated and can be removed.\n// Please remove include_once('{$module_name}.features.inc') in {$module_name}.module as well.\n";
+      }
+    }
+  }
+  // Add a stub module to include the defaults
+  else if (!empty($code['features'])) {
+    $code['module'] = "<?php\n\ninclude_once('{$module_name}.features.inc');\n";
+  }
+  else {
+    $code['module'] = "<?php\n\n// Drupal needs this blank file.\n";
+  }
+  return $code;
+}
+
+/**
+ * Detect differences between DB and code components of a feature.
+ */
+function features_detect_overrides($module) {
+  static $cache;
+  if (!isset($cache)) {
+    $cache = array();
+  }
+  if (!isset($cache[$module->name])) {
+    // Rebuild feature from .info file description and prepare an export from current DB state.
+    $export = features_populate($module->info['features'], $module->info['dependencies'], $module->name);
+    $export = features_export_prepare($export, $module->name);
+
+    $overridden = array();
+
+    // Compare feature info
+    _features_sanitize($module->info);
+    _features_sanitize($export);
+
+    $compare = array('normal' => features_export_info($export), 'default' => features_export_info($module->info));
+    if ($compare['normal'] !== $compare['default']) {
+      $overridden['info'] = $compare;
+    }
+
+    // Collect differences at a per-component level
+    $states = features_get_component_states(array($module->name), FALSE);
+    foreach ($states[$module->name] as $component => $state) {
+      if ($state != FEATURES_DEFAULT) {
+        $normal = features_get_normal($component, $module->name);
+        $default = features_get_default($component, $module->name);
+        _features_sanitize($normal);
+        _features_sanitize($default);
+
+        $compare = array('normal' => features_var_export($normal), 'default' => features_var_export($default));
+        if (_features_linetrim($compare['normal']) !== _features_linetrim($compare['default'])) {
+          $overridden[$component] = $compare;
+        }
+      }
+    }
+    $cache[$module->name] = $overridden;
+  }
+  return $cache[$module->name];
+}
+
+/**
+ * Gets the available default hooks keyed by components.
+ */
+function features_get_default_hooks($component = NULL, $reset = FALSE) {
+  static $hooks;
+  if (!isset($hooks) || $reset) {
+    $hooks = array();
+    features_include();
+    foreach (module_implements('features_api') as $module) {
+      $info = module_invoke($module, 'features_api');
+      foreach ($info as $k => $v) {
+        if (isset($v['default_hook'])) {
+          $hooks[$k] = $v['default_hook'];
+        }
+      }
+    }
+  }
+  if (isset($component)) {
+    return isset($hooks[$component]) ? $hooks[$component] : FALSE;
+  }
+  return $hooks;
+}
+
+/**
+ * Return a code string representing an implementation of a defaults module hook.
+ */
+function features_export_render_defaults($module, $hook, $code) {
+  $output = array();
+  $output[] = "/**";
+  $output[] = " * Implementation of hook_{$hook}().";
+  $output[] = " */";
+  $output[] = "function {$module}_{$hook}() {";
+  $output[] = $code;
+  $output[] = "}";
+  return implode("\n", $output);
+}
+
+/**
+ * Generate code friendly to the Drupal .info format from a structured array.
+ *
+ * @param $info
+ *   An array or single value to put in a module's .info file.
+ * @param $parents
+ *   Array of parent keys (internal use only).
+ *
+ * @return
+ *   A code string ready to be written to a module's .info file.
+ */
+function features_export_info($info, $parents = array()) {
+  $output = '';
+  if (is_array($info)) {
+    foreach ($info as $k => $v) {
+      $child = $parents;
+      $child[] = $k;
+      $output .= features_export_info($v, $child);
+    }
+  }
+  else if (!empty($info) && count($parents)) {
+    $line = array_shift($parents);
+    foreach ($parents as $key) {
+      $line .= is_numeric($key) ? "[]" : "[{$key}]";
+    }
+    $line .=  " = \"{$info}\"\n";
+    return $line;
+  }
+  return $output;
+}
+
+/**
+ * Tar creation function. Written by dmitrig01.
+ *
+ * @param $name
+ *   Filename of the file to be tarred.
+ * @param $contents
+ *   String contents of the file.
+ *
+ * @return
+ *   A string of the tar file contents.
+ */
+function features_tar_create($name, $contents) {
+  $tar = '';
+  $binary_data_first = pack("a100a8a8a8a12A12",
+    $name,
+    '100644 ', // File permissions
+    '   765 ', // UID,
+    '   765 ', // GID,
+    sprintf("%11s ", decoct(strlen($contents))), // Filesize,
+    sprintf("%11s", decoct(time())) // Creation time
+  );
+  $binary_data_last = pack("a1a100a6a2a32a32a8a8a155a12", '', '', '', '', '', '', '', '', '', '');
+
+  $checksum = 0;
+  for ($i = 0; $i < 148; $i++) {
+    $checksum += ord(substr($binary_data_first, $i, 1));
+  }
+  for ($i = 148; $i < 156; $i++) {
+    $checksum += ord(' ');
+  }
+  for ($i = 156, $j = 0; $i < 512; $i++, $j++) {
+    $checksum += ord(substr($binary_data_last, $j, 1));
+  }
+
+  $tar .= $binary_data_first;
+  $tar .= pack("a8", sprintf("%6s ", decoct($checksum)));
+  $tar .= $binary_data_last;
+
+  $buffer = str_split($contents, 512);
+  foreach ($buffer as $item) {
+    $tar .= pack("a512", $item);
+  }
+  return $tar;
+}
+
+/**
+ * Export var function -- from Views.
+ */
+function features_var_export($var, $prefix = '', $init = TRUE) {
+  if (is_object($var)) {
+    $output = method_exists($var, 'export') ? $var->export() : features_var_export((array) $var);
+  }
+  else if (is_array($var)) {
+    if (empty($var)) {
+      $output = 'array()';
+    }
+    else {
+      $output = "array(\n";
+      foreach ($var as $key => $value) {
+        $output .= "  '$key' => " . features_var_export($value, '  ', FALSE) . ",\n";
+      }
+      $output .= ')';
+    }
+  }
+  else if (is_bool($var)) {
+    $output = $var ? 'TRUE' : 'FALSE';
+  }
+  else if (is_string($var) && strpos($var, "\n") !== FALSE) {
+    // Replace line breaks in strings with a token for replacement
+    // at the very end. This protects whitespace in strings from
+    // unintentional indentation.
+    $var = str_replace("\n", "***BREAK***", $var);
+    $output = var_export($var, TRUE);
+  }
+  else {
+    $output = var_export($var, TRUE);
+  }
+
+  if ($prefix) {
+    $output = str_replace("\n", "\n$prefix", $output);
+  }
+
+  if ($init) {
+    $output = str_replace("***BREAK***", "\n", $output);
+  }
+
+  return $output;
+}
+
+/**
+ * Helper function to return an array of t()'d translatables strings.
+ * Useful for providing a separate array of translatables with your
+ * export so that string extractors like potx can detect them.
+ */
+function features_translatables_export($translatables, $indent = '') {
+  $output = '';
+  $translatables = array_filter(array_unique($translatables));
+  if (!empty($translatables)) {
+    $output .= "{$indent}// Translatables\n";
+    $output .= "{$indent}// Included for use with string extractors like potx.\n";
+    sort($translatables);
+    foreach ($translatables as $string) {
+      $output .= "{$indent}t(" . features_var_export($string) . ");\n";
+    }
+  }
+  return $output;
+}
+
+/**
+ * Get a summary storage state for a feature.
+ */
+function features_get_storage($module_name) {
+  // Get component states, and array_diff against array(FEATURES_DEFAULT).
+  // If the returned array has any states that don't match FEATURES_DEFAULT,
+  // return the highest state.
+  $states = features_get_component_states(array($module_name), FALSE);
+  $states = array_diff($states[$module_name], array(FEATURES_DEFAULT));
+  $storage = !empty($states) ? max($states) : FEATURES_DEFAULT;
+  return $storage;
+}
+
+/**
+ * Wrapper around features_get_[storage] to return an md5hash of a normalized
+ * defaults/normal object array. Can be used to compare normal/default states
+ * of a module's component.
+ */
+function features_get_signature($state = 'default', $module_name, $component, $reset = FALSE) {
+  switch ($state) {
+    case 'cache':
+      $codecache = variable_get('features_codecache', array());
+      return isset($codecache[$module_name][$component]) ? $codecache[$module_name][$component] : FALSE;
+    case 'default':
+      $objects = features_get_default($component, $module_name, TRUE, $reset);
+      break;
+    case 'normal':
+      $objects = features_get_normal($component, $module_name, $reset);
+      break;
+  }
+  if (!empty($objects)) {
+    $objects = (array) $objects;
+    _features_sanitize($objects);
+    return md5(_features_linetrim(features_var_export($objects)));
+  }
+  return FALSE;
+}
+
+/**
+ * Set the signature of a module/component pair in the codecache.
+ */
+function features_set_signature($module, $component, $signature = NULL) {
+  $var_codecache = variable_get('features_codecache', array());
+  $signature = isset($signature) ? $signature : features_get_signature('default', $module, $component, TRUE);
+  $var_codecache[$module][$component] = $signature;
+  variable_set('features_codecache', $var_codecache);
+}
+
+/**
+ * Processing semaphore operations.
+ */
+function features_semaphore($op, $component) {
+  // Note: we don't use variable_get() here as the inited variable
+  // static cache may be stale. Retrieving directly from the DB narrows
+  // the possibility of collision.
+  $semaphore = db_result(db_query("SELECT value FROM {variable} WHERE name = 'features_semaphore'"));
+  $semaphore = !empty($semaphore) ? unserialize($semaphore) : array();
+
+  switch ($op) {
+    case 'get':
+      return isset($semaphore[$component]) ? $semaphore[$component] : FALSE;
+    case 'set':
+      $semaphore[$component] = time();
+      variable_set('features_semaphore', $semaphore);
+      break;
+    case 'del':
+      if (isset($semaphore[$component])) {
+        unset($semaphore[$component]);
+        variable_set('features_semaphore', $semaphore);
+      }
+      break;
+  }
+}
+
+/**
+ * Get normal objects for a given module/component pair.
+ */
+function features_get_normal($component, $module_name, $reset = FALSE) {
+  static $cache;
+  if (!isset($cache) || $reset) {
+    $cache = array();
+  }
+  if (!isset($cache[$module_name][$component])) {
+    features_include();
+    $code = NULL;
+    $module = features_get_features($module_name);
+
+    // Special handling for dependencies component.
+    if ($component === 'dependencies') {
+      $cache[$module_name][$component] = isset($module->info['dependencies']) ? array_filter($module->info['dependencies'], 'module_exists') : array();
+    }
+    // All other components.
+    else {
+      $default_hook = features_get_default_hooks($component);
+      if ($module && $default_hook && isset($module->info['features'][$component]) && features_hook($component, 'features_export_render')) {
+        $code = features_invoke($component, 'features_export_render', $module_name, $module->info['features'][$component], NULL);
+        $cache[$module_name][$component] = isset($code[$default_hook]) ? eval($code[$default_hook]) : FALSE;
+      }
+    }
+
+    // Clear out vars for memory's sake.
+    unset($code);
+    unset($module);
+  }
+  return isset($cache[$module_name][$component]) ? $cache[$module_name][$component] : FALSE;
+}
+
+/**
+ * Get defaults for a given module/component pair.
+ */
+function features_get_default($component, $module_name = NULL, $alter = TRUE, $reset = FALSE) {
+  static $cache = array();
+  features_include();
+  features_include_defaults($component);
+  $default_hook = features_get_default_hooks($component);
+  $components = features_get_components();
+
+  // Collect defaults for all modules if no module name was specified.
+  if (isset($module_name)) {
+    $modules = array($module_name);
+  }
+  else {
+    if ($component === 'dependencies') {
+      $modules = array_keys(features_get_features());
+    }
+    else {
+      $modules = array();
+      foreach (features_get_component_map($component) as $component_modules) {
+        $modules = array_merge($modules, $component_modules);
+      }
+      $modules = array_unique($modules);
+    }
+  }
+
+  // Collect and cache information for each specified module.
+  foreach ($modules as $m) {
+    if (!isset($cache[$component][$m]) || $reset) {
+      // Special handling for dependencies component.
+      if ($component === 'dependencies') {
+        $module = features_get_features($m);
+        $cache[$component][$m] = isset($module->info['dependencies']) ? $module->info['dependencies'] : array();
+        unset($module);
+      }
+      // All other components
+      else {
+        if ($default_hook && function_exists("{$m}_{$default_hook}")) {
+          $cache[$component][$m] = call_user_func("{$m}_{$default_hook}");
+          if ($alter) {
+            drupal_alter($default_hook, $cache[$component][$m]);
+          }
+        }
+        else {
+          $cache[$component][$m] = FALSE;
+        }
+      }
+    }
+  }
+
+  // A specific module was specified. Retrieve only its components.
+  if (isset($module_name)) {
+    return isset($cache[$component][$module_name]) ? $cache[$component][$module_name] : FALSE;
+  }
+  // No module was specified. Retrieve all components.
+  $all_defaults = array();
+  if (isset($cache[$component])) {
+    foreach (array_filter($cache[$component]) as $module_components) {
+      $all_defaults = array_merge($all_defaults, $module_components);
+    }
+  }
+  return $all_defaults;
+}
+
+/**
+ * Get a map of components to their providing modules.
+ */
+function features_get_default_map($component, $attribute = NULL, $callback = NULL, $reset = FALSE) {
+  static $map = array();
+  features_include();
+  features_include_defaults($component);
+  if ((!isset($map[$component]) || $reset) && $default_hook = features_get_default_hooks($component)) {
+    $map[$component] = array();
+    foreach (module_implements($default_hook) as $module) {
+      if ($defaults = features_get_default($component, $module)) {
+        foreach ($defaults as $key => $object) {
+          if (isset($callback)) {
+            if ($object_key = $callback($object)) {
+              $map[$component][$object_key] = $module;
+            }
+          }
+          elseif (isset($attribute)) {
+            if (is_object($object) && isset($object->{$attribute})) {
+              $map[$component][$object->{$attribute}] = $module;
+            }
+            elseif (is_array($object) && isset($object[$attribute])) {
+              $map[$component][$object[$attribute]] = $module;
+            }
+          }
+          elseif (!isset($attribute) && !isset($callback)) {
+            if (!is_numeric($key)) {
+              $map[$component][$key] = $module;
+            }
+          }
+          else {
+            return FALSE;
+          }
+        }
+      }
+    }
+  }
+  return isset($map[$component]) ? $map[$component] : FALSE;
+}
+
+/**
+ * Retrieve an array of features/components and their current states.
+ */
+function features_get_component_states($features = array(), $rebuild_only = TRUE, $reset = FALSE) {
+  static $cache;
+  if (!isset($cache) || $reset) {
+    $cache = array();
+  }
+
+  $features = !empty($features) ? $features : array_keys(features_get_features());
+
+  // Retrieve only rebuildable components if requested.
+  features_include();
+  $components = array_keys(features_get_components());
+  if ($rebuild_only) {
+    foreach ($components as $k => $component) {
+      if (!features_hook($component, 'features_rebuild')) {
+        unset($components[$k]);
+      }
+    }
+  }
+
+  foreach ($features as $feature) {
+    $cache[$feature] = isset($cache[$feature]) ? $cache[$feature] : array();
+    if (module_exists($feature)) {
+      foreach ($components as $component) {
+        if (!isset($cache[$feature][$component])) {
+          $normal = features_get_signature('normal', $feature, $component, $reset);
+          $default = features_get_signature('default', $feature, $component, $reset);
+          $codecache = features_get_signature('cache', $feature, $component, $reset);
+          $semaphore = features_semaphore('get', $component);
+
+          // DB and code states match, there is nothing more to check.
+          if ($normal == $default) {
+            $cache[$feature][$component] = FEATURES_DEFAULT;
+
+            // Stale semaphores can be deleted.
+            features_semaphore('del', $component);
+
+            // Update code cache if it is stale, clear out semaphore if it stale.
+            if ($default != $codecache) {
+              features_set_signature($feature, $component, $default);
+            }
+          }
+          // Component properly implements exportables.
+          else if (!features_hook($component, 'features_rebuild')) {
+            $cache[$feature][$component] = FEATURES_OVERRIDDEN;
+          }
+          // Component does not implement exportables.
+          else {
+            if (empty($semaphore)) {
+              // Exception for dependencies. Dependencies are always rebuildable.
+              if ($component === 'dependencies') {
+                $cache[$feature][$component] = FEATURES_REBUILDABLE;
+              }
+              // All other rebuildable components require comparison.
+              else {
+                // Code has not changed, but DB does not match. User has DB overrides.
+                if ($codecache == $default) {
+                  $cache[$feature][$component] = FEATURES_OVERRIDDEN;
+                }
+                // DB has no modifications to prior code state (or this is initial install).
+                else if ($codecache == $normal || empty($codecache)) {
+                  $cache[$feature][$component] = FEATURES_REBUILDABLE;
+                }
+                // None of the states match. Requires user intervention.
+                else if ($codecache != $default) {
+                  $cache[$feature][$component] = FEATURES_NEEDS_REVIEW;
+                }
+              }
+            }
+            else {
+              // Semaphore is still within processing horizon. Do nothing.
+              if ((time() - $semaphore) < FEATURES_SEMAPHORE_TIMEOUT) {
+                $cache[$feature][$component] = FEATURES_REBUILDING;
+              }
+              // A stale semaphore means a previous rebuild attempt did not complete.
+              // Attempt to complete the rebuild.
+              else {
+                $cache[$feature][$component] = FEATURES_REBUILDABLE;
+              }
+            }
+          }
+        }
+      }
+    }
+  }
+
+  // Filter cached components on the way out to ensure that even if we have
+  // cached more data than has been requested, the return value only reflects
+  // the requested features/components.
+  $return = $cache;
+  $return = array_intersect_key($return, array_flip($features));
+  foreach ($return as $k => $v) {
+    $return[$k] = array_intersect_key($return[$k], array_flip($components));
+  }
+  return $return;
+}
+
+/**
+ * Helper function to eliminate whitespace differences in code.
+ */
+function _features_linetrim($code) {
+  $code = explode("\n", $code);
+  foreach ($code as $k => $line) {
+    $code[$k] = trim($line);
+  }
+  return implode("\n", $code);
+}
+
+/**
+ * "Sanitizes" an array recursively, performing two key operations:
+ * - Sort an array by its keys (assoc) or values (non-assoc)
+ * - Remove any null or empty values for associative arrays (array_filter()).
+ */
+function _features_sanitize(&$array) {
+  if (is_array($array)) {
+    $is_assoc = (array_keys($array) != range(0, count($array) - 1));
+    if ($is_assoc) {
+      ksort($array);
+      $array = array_filter($array);
+    }
+    else {
+      sort($array);
+    }
+    foreach ($array as $k => $v) {
+      if (is_array($v)) {
+        _features_sanitize($array[$k]);
+      }
+    }
+  }
+}
diff --git a/sites/all/modules/features/features.info b/sites/all/modules/features/features.info
new file mode 100644
index 0000000..38dcf5b
--- /dev/null
+++ b/sites/all/modules/features/features.info
@@ -0,0 +1,11 @@
+name = "Features"
+description = "Provides feature management for Drupal."
+core = 6.x
+package = "Features"
+
+; Information added by drupal.org packaging script on 2011-07-14
+version = "6.x-1.1"
+core = "6.x"
+project = "features"
+datestamp = "1310653316"
+
diff --git a/sites/all/modules/features/features.install b/sites/all/modules/features/features.install
new file mode 100644
index 0000000..349f628
--- /dev/null
+++ b/sites/all/modules/features/features.install
@@ -0,0 +1,100 @@
+<?php
+
+/**
+ * Implementaton of hook_install().
+ */
+function features_install() {
+  _features_install_menu();
+  db_query("UPDATE {system} SET weight = 20 WHERE name = 'features' AND type = 'module'");
+}
+
+/**
+ * Implementation of hook_uninstall().
+ */
+function features_uninstall() {
+  variable_del('features_codecache');
+  variable_del('features_semaphore');
+  variable_del('features_ignored_orphans');
+  db_query("DELETE FROM {menu_custom} WHERE menu_name = 'features'");
+  db_query("DELETE FROM {menu_links} WHERE module = 'features'");
+}
+
+/**
+ * Create menu. See menu.install for an example.
+ */
+function _features_install_menu() {
+  if (db_table_exists('menu_custom') && !db_result(db_query("SELECT menu_name FROM {menu_custom} WHERE menu_name = 'features'"))) {
+    $t = get_t();
+    db_query("INSERT INTO {menu_custom} (menu_name, title, description) VALUES ('%s', '%s', '%s')", 'features', $t('Features'), $t('Menu items for any enabled features.'));
+  }
+}
+
+/**
+ * Update 6100: Set module on all feature node types to 'features'.
+ 
+ * This update can be re-run as needed to repair any node types that are not 
+ * removed after disabling the associated feature.
+ * 
+ * Any feature implementing a node component that was exported prior to this 
+ * version of the features.module will need to have its 'module' declaration 
+ * in hook_node_info() changed from 'node' to 'features'.
+ */
+function features_update_6100() {
+  $ret = array();
+
+  foreach (features_get_features(NULL, TRUE) as $feature) {
+    if (module_exists($feature->name) && $types = module_invoke($feature->name, 'node_info')) {
+      foreach ($types as $type => $type_data) {
+        $sql = "SELECT COUNT(*) FROM {node_type} WHERE module = 'node' AND type = '%s'";
+        // Only update if the hook_node_info type's module is 'features' and the db type's
+        // module is 'node'.
+        if (($type_data['module'] == 'features') && db_result(db_query($sql, $type))) {
+          $ret[] = update_sql("UPDATE {node_type} SET module = 'features' WHERE type = '$type'");
+        }
+      }
+    }
+  }
+  return $ret;
+}
+
+/**
+ * Update 6101: Set codestate signature for all features.
+ *
+ * This update generates a codestate for all feature/component pairs which
+ * have been installed prior to this version of Features. This prevents
+ * automatic rebuilds from occurring against any rebuildable components
+ * that have been overridden.
+ */
+function features_update_6101() {
+  // Ensure all of our own API functions still exist in in this version
+  // of Features. It's possible that the "future me" will not have these
+  // functions, so I should check.
+  module_load_include('inc', 'features', "features.export");
+  $functions = array(
+    'features_include',
+    'features_hook',
+    'features_get_components',
+    'features_get_features',
+    'features_get_signature',
+    'features_set_signature',
+  );
+  $doit = TRUE;
+  foreach ($functions as $function) {
+    $doit = $doit && function_exists($function);
+  }
+  if ($doit) {
+    features_include();
+    $features = array_keys(features_get_features(NULL, TRUE));
+    $components = array_keys(features_get_components());
+    foreach ($features as $feature) {
+      if (module_exists($feature)) {
+        foreach ($components as $component) {
+          if (features_hook($component, 'features_rebuild') && features_get_signature('cache', $feature, $component) === FALSE) {
+            features_set_signature($feature, $component, -1);
+          }
+        }
+      }
+    }
+  }
+  return array();
+}
diff --git a/sites/all/modules/features/features.js b/sites/all/modules/features/features.js
new file mode 100644
index 0000000..a02d0e9
--- /dev/null
+++ b/sites/all/modules/features/features.js
@@ -0,0 +1,104 @@
+
+Drupal.behaviors.features = function() {
+  // Features management form package tabs
+  $("ul#features-form-links li a:not(.features-processed)").each(function() {
+    $(this).addClass('features.processed').click(function() {
+      $(".features-package-active").removeClass('features-package-active');
+      var panel = $(this).attr('href').split('#')[1];
+      $("div.package-" + panel).addClass('features-package-active');
+      $(this).addClass('features-package-active');
+      return false;
+    });
+  });
+
+  // Features management form
+  $('table.features:not(.processed)').addClass('processed').each(function() {
+    // Check the overridden status of each feature
+    Drupal.features.checkStatus();
+
+    // Add some nicer row hilighting when checkboxes change values
+    $('input', this).bind('change', function() {
+      if (!$(this).attr('checked')) {
+        $(this).parents('tr').removeClass('enabled').addClass('disabled');
+      }
+      else {
+        $(this).parents('tr').addClass('enabled').removeClass('disabled');
+      }
+    });
+  });
+
+  // Export form component selector
+  $('form.features-export-form select.features-select-components:not(.processed)').each(function() {
+    $(this)
+      .addClass('processed')
+      .change(function() {
+        var target = $(this).val();
+        $('div.features-select').hide();
+        $('div.features-select-' + target).show();
+        return false;
+    });
+  });
+
+  // Export form machine-readable JS
+  $('.feature-name:not(.processed)').each(function() {
+    $('.feature-name')
+      .addClass('processed')
+      .after(' <small class="feature-module-name-suffix">&nbsp;</small>');
+    if ($('.feature-module-name').val() === $('.feature-name').val().toLowerCase().replace(/[^a-z0-9]+/g, '_').replace(/_+/g, '_') || $('.feature-module-name').val() === '') {
+      $('.feature-module-name').parents('.form-item').hide();
+      $('.feature-name').keyup(function() {
+        var machine = $(this).val().toLowerCase().replace(/[^a-z0-9]+/g, '_').replace(/_+/g, '_');
+        if (machine !== '_' && machine !== '') {
+          $('.feature-module-name').val(machine);
+          $('.feature-module-name-suffix').empty().append(' Machine name: ' + machine + ' [').append($('<a href="#">'+ Drupal.t('Edit') +'</a>').click(function() {
+            $('.feature-module-name').parents('.form-item').show();
+            $('.feature-module-name-suffix').hide();
+            $('.feature-name').unbind('keyup');
+            return false;
+          })).append(']');
+        }
+        else {
+          $('.feature-module-name').val(machine);
+          $('.feature-module-name-suffix').text('');
+        }
+      });
+      $('.feature-name').keyup();
+    }
+  });
+};
+
+Drupal.features = {
+  'checkStatus': function() {
+    if ($('table.features').is('.loading')) {
+      return;
+    }
+    $('table.features tbody tr:not(.processed):first').addClass('processed').each(function() {
+      var uri = $(this).find('a.admin-check').attr('href'), elem = $(this);
+      if (uri) {
+        $('table.features').addClass('loading');
+        $.get(uri, [], function(data) {
+          $(elem).find('.admin-loading').hide();
+          switch (data.storage) {
+            case 3:
+              $(elem).find('.admin-rebuilding').show();
+              break;
+            case 2:
+              $(elem).find('.admin-needs-review').show();
+              break;
+            case 1:
+              $(elem).find('.admin-overridden').show();
+              break;
+            default:
+              $(elem).find('.admin-default').show();
+              break;
+          }
+          $('table.features').removeClass('loading');
+          Drupal.features.checkStatus();
+        }, 'json');
+      }
+      else {
+        Drupal.features.checkStatus();
+      }
+    });
+  }
+};
diff --git a/sites/all/modules/features/features.module b/sites/all/modules/features/features.module
new file mode 100644
index 0000000..b5b5f68
--- /dev/null
+++ b/sites/all/modules/features/features.module
@@ -0,0 +1,786 @@
+<?php
+
+/**
+ * @file
+ * Module file for the features module, which enables the capture and
+ * management of features in Drupal. A feature is a collection of Drupal
+ * entities which taken together statisfy a certain use-case.
+ */
+
+define('FEATURES_MODULE_ENABLED', 1);
+define('FEATURES_MODULE_DISABLED', 0);
+define('FEATURES_MODULE_MISSING', -1);
+
+define('FEATURES_REBUILDABLE', -1);
+define('FEATURES_DEFAULT', 0);
+define('FEATURES_OVERRIDDEN', 1);
+define('FEATURES_NEEDS_REVIEW', 2);
+define('FEATURES_REBUILDING', 3);
+define('FEATURES_CONFLICT', 4);
+define('FEATURES_DISABLED', 5);
+
+// Duration of rebuild semaphore: 10 minutes.
+define('FEATURES_SEMAPHORE_TIMEOUT', 10 * 60);
+
+/**
+ * Components with this 'default_file' flag will have exports written to the
+ * common defaults file 'MODULENAME.features.inc'. This is the default
+ * behavior.
+ */
+define('FEATURES_DEFAULTS_INCLUDED_COMMON', 0);
+
+/**
+ * Components with this 'default_file' flag will have exports written to a
+ * defaults based on the component name like 'MODULENAME.features.COMPONENT-NAME.inc'.
+ * Any callers to this component's defaults hook must call
+ * features_include_defaults('component') in order to include this file.
+ */
+define('FEATURES_DEFAULTS_INCLUDED', 1);
+
+/**
+ * Components with this 'default_file' flag must specify a filename for their
+ * exports. Additionally a stub will NOT be written to 'MODULENAME.features.inc'
+ * allowing the file to be included directly by the implementing module.
+ */
+define('FEATURES_DEFAULTS_CUSTOM', 2);
+
+/**
+ * Components with this 'duplicates' flag may not have multiple features provide the
+ * same component key in their info files. This is the default behavior.
+ */
+define('FEATURES_DUPLICATES_CONFLICT', 0);
+
+/**
+ * Components with this 'duplicates' flag are allowed to have multiple features
+ * provide the same component key in their info files.
+ */
+define('FEATURES_DUPLICATES_ALLOWED', 1);
+
+/**
+ * Implementation of hook_menu().
+ */
+function features_menu() {
+  $items = array();
+  $items['admin/build/features'] = array(
+    'title' => 'Features',
+    'description' => 'Manage features.',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('features_admin_form'),
+    'type' => MENU_NORMAL_ITEM,
+    'file' => 'features.admin.inc',
+  );
+  $items['admin/build/features/cleanup'] = array(
+    'title' => 'Cleanup',
+    'description' => 'Detect and disable any orphaned feature dependencies.',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('features_cleanup_form', 4),
+    'type' => MENU_CALLBACK,
+    'file' => 'features.admin.inc',
+    'weight' => 1,
+  );
+  $items['admin/build/features/manage'] = array(
+    'title' => 'Manage',
+    'description' => 'Enable and disable features.',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('features_admin_form'),
+    'type' => MENU_DEFAULT_LOCAL_TASK,
+    'file' => 'features.admin.inc',
+  );
+  $items['admin/build/features/create'] = array(
+    'title' => 'Create feature',
+    'description' => 'Create a new feature.',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('features_export_form'),
+    'access callback' => 'user_access',
+    'access arguments' => array('administer features'),
+    'type' => MENU_LOCAL_TASK,
+    'file' => "features.admin.inc",
+    'weight' => 10,
+  );
+  $items['admin/build/features/export/populate'] = array(
+    'title' => 'Populate feature',
+    'description' => 'AHAH callback to populate a feature from selected components.',
+    'page callback' => 'features_export_build_form_populate',
+    'page arguments' => array(),
+    'access callback' => 'user_access',
+    'access arguments' => array('administer features'),
+    'type' => MENU_CALLBACK,
+    'file' => "features.admin.inc",
+  );
+  $items['admin/build/features/%feature'] = array(
+    'title callback' => 'features_get_feature_title',
+    'title arguments' => array(3),
+    'description' => 'Display components of a feature.',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('features_admin_components', 3),
+    'access callback' => 'user_access',
+    'access arguments' => array('administer features'),
+    'type' => MENU_CALLBACK,
+    'file' => 'features.admin.inc',
+  );
+  $items['admin/build/features/%feature/view'] = array(
+    'title' => 'View',
+    'description' => 'Display components of a feature.',
+    'access callback' => 'user_access',
+    'access arguments' => array('administer features'),
+    'type' => MENU_DEFAULT_LOCAL_TASK,
+    'weight' => -10,
+  );
+  $items['admin/build/features/%feature/recreate'] = array(
+    'title' => 'Recreate',
+    'description' => 'Recreate an existing feature.',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('features_export_form', 3),
+    'access callback' => 'user_access',
+    'access arguments' => array('administer features'),
+    'type' => MENU_LOCAL_TASK,
+    'file' => "features.admin.inc",
+    'weight' => 11,
+  );
+  if (module_exists('diff')) {
+    $items['admin/build/features/%feature/diff'] = array(
+      'title' => 'Review overrides',
+      'description' => 'Compare default and current feature.',
+      'page callback' => 'features_feature_diff',
+      'page arguments' => array(3, 5),
+      'access callback' => 'features_access_override_actions',
+      'access arguments' => array(3),
+      'type' => MENU_LOCAL_TASK,
+      'file' => 'features.admin.inc',
+    );
+  }
+  $items['admin/build/features/%feature/status'] = array(
+    'title' => 'Status',
+    'description' => 'Javascript status call back.',
+    'page callback' => 'features_feature_status',
+    'page arguments' => array(3),
+    'access callback' => 'user_access',
+    'access arguments' => array('administer features'),
+    'type' => MENU_CALLBACK,
+    'file' => 'features.admin.inc',
+  );
+  foreach ($items as $path => $item) {
+    if (!isset($item['access callback'])) {
+      $items[$path]['access callback'] = 'user_access';
+      $items[$path]['access arguments'] = array('manage features');
+    }
+  }
+  return $items;
+}
+
+/**
+ *  Implementation of hook_theme().
+ */
+function features_theme() {
+  $base = array(
+    'path' => drupal_get_path('module', 'features') .'/theme',
+    'file' => 'theme.inc',
+  );
+
+  $items = array();
+  $items['features_components'] =
+  $items['features_component_key'] =
+  $items['features_component_list'] =
+  $items['features_form_buttons'] =
+  $items['features_form_components'] =
+  $items['features_form_export'] =
+  $items['features_form_package'] =
+  $items['features_module_status'] =
+  $items['features_storage_link'] = $base;
+
+  $items['features_admin_components'] = array(
+    'arguments' => array('form' => NULL),
+    'template' => 'features-admin-components',
+  ) + $base;
+
+  $items['features_form'] = array(
+    'arguments' => array('form' => NULL),
+    'template' => 'features-form',
+  ) + $base;
+
+  return $items;
+}
+
+/**
+ * Implementation of hook_flush_caches().
+ */
+function features_flush_caches() {
+  features_rebuild();
+  features_get_modules(NULL, TRUE);
+  return array();
+}
+
+/**
+ * Implementation of hook_form().
+ */
+function features_form($node, $form_state) {
+  return node_content_form($node, $form_state);
+}
+
+/**
+ * Implemenation of hook_access()
+ */
+function features_access($op, $node, $account) {
+  return node_content_access($op, $node, $account);
+}
+
+/**
+ * Implementation of hook_perm().
+ */
+function features_perm() {
+  $perms = array('administer features', 'manage features');
+  // Generate permissions for any default node types provided by features.
+  foreach (node_get_types() as $type) {
+    if ($type->module == 'features') {
+      $name = check_plain($type->type);
+      $perms[] = 'create '. $name .' content';
+      $perms[] = 'delete own '. $name .' content';
+      $perms[] = 'delete any '. $name .' content';
+      $perms[] = 'edit own '. $name .' content';
+      $perms[] = 'edit any '. $name .' content';
+    }
+  }
+  return $perms;
+}
+
+/**
+ * Implementation of hook_help().
+ */
+function features_help($path, $arg) {
+  switch ($path) {
+    case 'admin/help#features':
+      $output = file_get_contents(drupal_get_path('module', 'features') .'/README.txt');
+      return module_exists('markdown') ? filter_xss_admin(module_invoke('markdown', 'filter', 'process', 0, -1, $output)) : '<pre>'. check_plain($output) .'</pre>';
+    case 'admin/build/features':
+      return '<p>'. t('A "Feature" is a certain type of Drupal module with contains a package of configuration that, when enabled, provides a new set of functionality for your Drupal site. Enable features by selecting the checkboxes below and clicking the Save configuration button. If the configuration of the feature has been changed its "State" will be either "overridden" or "needs review", otherwise it will be "default", indicating that the configuration has not been changed. Click on the state to see more details about the feature and its components.') .'</p>';
+  }
+}
+
+/**
+ * Load includes for any modules that implement the features API and
+ * load includes for those provided by features.
+ */
+function features_include($reset = FALSE) {
+  static $once;
+  if (!isset($once) || $reset) {
+    $once = TRUE;
+
+    // Check for implementing modules and make necessary inclusions.
+    foreach (module_implements('features_api') as $module) {
+      $info = module_invoke($module, 'features_api');
+      foreach ($info as $component) {
+        if (isset($component['file'])) {
+          require_once $component['file'];
+        }
+      }
+    }
+
+    // Features provides integration on behalf of these modules.
+    // The features include provides handling for the feature dependencies.
+    // Note that ctools is placed last because it implements hooks "dynamically" for other modules.
+    $modules = array('features', 'block', 'content', 'context', 'fieldgroup', 'filter', 'imagecache', 'menu', 'node', 'taxonomy', 'user', 'views', 'ctools');
+
+    foreach (array_filter($modules, 'module_exists') as $module) {
+      if (!module_hook($module, 'features_api')) {
+        module_load_include('inc', 'features', "includes/features.$module");
+      }
+    }
+
+    // Clear static cache, since we've now included new implementers.
+    module_implements('features_api', FALSE, TRUE);
+  }
+}
+
+/**
+ * Load features includes for all components that require includes before
+ * collecting defaults.
+ */
+function features_include_defaults($components = NULL, $reset = FALSE) {
+  static $included = array();
+  static $include_components;
+
+  // Build an array of components that require inclusion:
+  // Views, CTools components and those using FEATURES_DEFAULTS_INCLUDED.
+  if (!isset($include_components) || $reset) {
+    $include_components = features_get_components();
+    foreach ($include_components as $component => $info) {
+      if ($component !== 'views' && !isset($info['api']) && (!isset($info['default_file']) || $info['default_file'] !== FEATURES_DEFAULTS_INCLUDED)) {
+        unset($include_components[$component]);
+      }
+    }
+  }
+
+  // If components are specified, only include for the specified components.
+  if (isset($components)) {
+    $components = is_array($components) ? $components : array($components);
+  }
+  // Use all include components if none are explicitly specified.
+  else {
+    $components = $include_components;
+  }
+  foreach ($components as $component) {
+    if (isset($include_components[$component]) && (!isset($included[$component]) || $reset)) {
+      $info = $include_components[$component];
+      // Inclusion of defaults for Views.
+      if ($component === 'views') {
+        views_include('view');
+        views_include_default_views();
+      }
+      // Inclusion of defaults for CTools.
+      else if (isset($info['api'], $info['module'], $info['current_version'])) {
+        ctools_include('plugins');
+        ctools_plugin_api_include($info['module'], $info['api'], $info['current_version'], $info['current_version']);
+      }
+      // Inclusion of defaults for components using FEATURES_DEFAULTS_INCLUDED.
+      else {
+        $features = isset($features) ? $features : features_get_features(NULL, $reset);
+        foreach ($features as $feature) {
+          module_load_include('inc', $feature->name, "{$feature->name}.features.{$component}");
+        }
+      }
+      $included[$component] = TRUE;
+    }
+  }
+}
+
+/**
+ * Feature object loader.
+ */
+function feature_load($name, $reset = FALSE) {
+  return features_get_features($name, $reset);
+}
+
+/**
+ * Return a module 'object' including .info information.
+ *
+ * @param $name
+ *   The name of the module to retrieve information for. If ommitted,
+ *   an array of all available modules will be returned.
+ * @param $reset
+ *   Whether to reset the cache.
+ *
+ * @return
+ *   If a module is request (and exists) a module object is returned. If no
+ *   module is requested info for all modules is returned.
+ */
+function features_get_modules($name = NULL, $reset = FALSE) {
+  return features_get_info('module', $name, $reset);
+}
+
+/**
+ * Returns the array of supported components.
+ *
+ * @param $feature_source
+ *   If set to to TRUE return feature sources only.
+ * @return An array of component labels keyed by the component names.
+ */
+function features_get_components($feature_source = FALSE, $reset = FALSE) {
+  features_include();
+  static $components_all;
+  static $components_source;
+  if (!isset($components_all) || $reset) {
+    $components_all = $components_source = array();
+    foreach (module_implements('features_api') as $module) {
+      $info = module_invoke($module, 'features_api');
+      foreach ($info as $k => $v) {
+        $components_all[$k] = $v;
+        if (!empty($v['feature_source'])) {
+          $components_source[$k] = $v;
+        }
+      }
+    }
+  }
+  return $feature_source ? $components_source : $components_all;
+}
+
+/**
+ * Invoke a component callback.
+ */
+function features_invoke($component, $callback) {
+  $args = func_get_args();
+  unset($args[0], $args[1]);
+  // Append the component name to the arguments.
+  $args[] = $component;
+  if ($function = features_hook($component, $callback)) {
+    return call_user_func_array($function, $args);
+  }
+}
+
+/**
+ * Checks whether a component implements the given hook.
+ *
+ * @return
+ *   The function implementing the hook, or FALSE.
+ */
+function features_hook($component, $hook, $reset = FALSE) {
+  static $info;
+
+  if (!isset($info) || $reset) {
+    $info = module_invoke_all('features_api');
+  }
+  // Determine the function callback base.
+  $base = isset($info[$component]['base']) ? $info[$component]['base'] : $component;
+  return function_exists($base . '_' . $hook) ? $base . '_' . $hook : FALSE;
+}
+
+/**
+ * Enables and installs an array of modules, ignoring those
+ * already enabled & installed. Consider this a helper or
+ * extension to drupal_install_modules().
+ *
+ * @param $modules
+ *   An array of modules to install.
+ * @param $reset
+ *   Clear the module info cache.
+ */
+function features_install_modules($modules) {
+  module_load_include('inc', 'features', 'features.export');
+  $files = module_rebuild_cache();
+
+  // Build maximal list of dependencies.
+  $install = array();
+  foreach ($modules as $name) {
+    if ($file = $files[$name]) {
+      $install[] = $name;
+      if (!empty($file->info['dependencies'])) {
+        $install = array_merge($install, _features_export_maximize_dependencies($file->info['dependencies']));
+      }
+    }
+  }
+
+  // Filter out enabled modules.
+  $enabled = array_filter($install, 'module_exists');
+  $install = array_diff($install, $enabled);
+
+  if (!empty($install)) {
+    // Make sure the install API is available.
+    $install = array_unique($install);
+    include_once './includes/install.inc';
+    drupal_install_modules($install);
+  }
+}
+
+/**
+ * Wrapper around features_get_info() that returns an array
+ * of module info objects that are features.
+ */
+function features_get_features($name = NULL, $reset = FALSE) {
+  return features_get_info('feature', $name, $reset);
+}
+
+/**
+ * Helper for retrieving info from system table.
+ */
+function features_get_info($type = 'module', $name = NULL, $reset = FALSE) {
+  static $cache;
+  if (!isset($cache)) {
+    $cache = cache_get('features_module_info');
+  }
+  if (empty($cache) || $reset) {
+    $data = array();
+    $ignored = variable_get('features_ignored_orphans', array());
+    $result = db_query("SELECT filename, name, type, status, throttle, schema_version FROM {system} WHERE type = 'module' ORDER BY name ASC");
+    while ($row = db_fetch_object($result)) {
+      // If module is no longer enabled, remove it from the ignored orphans list.
+      if (in_array($row->name, $ignored, TRUE) && !$row->status) {
+        $key = array_search($row->name, $ignored, TRUE);
+        unset($ignored[$key]);
+      }
+
+      // Parse and allow modules to alter the info file if necessary.
+      $row->info = drupal_parse_info_file(dirname($row->filename) .'/'. $row->name .'.info');
+      if (!empty($row->info)) {
+        drupal_alter('system_info', $row->info, $row);
+        if (!empty($row->info['features'])) {
+          $data['feature'][$row->name] = $row;
+        }
+        $data['module'][$row->name] = $row;
+      }
+    }
+    variable_set('features_ignored_orphans', $ignored);
+    cache_set("features_module_info", $data);
+    $cache = new stdClass();
+    $cache->data = $data;
+  }
+  if (!empty($name)) {
+    return !empty($cache->data[$type][$name]) ? $cache->data[$type][$name] : FALSE;
+  }
+  return !empty($cache->data[$type]) ? $cache->data[$type] : array();
+}
+
+/**
+ * Generate an array of feature dependencies that have been orphaned.
+ */
+function features_get_orphans($reset = FALSE) {
+  static $orphans;
+  if (!isset($orphans) || $reset) {
+    module_load_include('inc', 'features', 'features.export');
+    $orphans = array();
+
+    // Build a list of all dependencies for enabled and disabled features.
+    $dependencies = array('enabled' => array(), 'disabled' => array());
+    $features = features_get_features();
+    foreach ($features as $feature) {
+      $key = module_exists($feature->name) ? 'enabled' : 'disabled';
+      if (!empty($feature->info['dependencies'])) {
+        $dependencies[$key] = array_merge($dependencies[$key], _features_export_maximize_dependencies($feature->info['dependencies']));
+      }
+    }
+    $dependencies['enabled'] = array_unique($dependencies['enabled']);
+    $dependencies['disabled'] = array_unique($dependencies['disabled']);
+
+    // Find the list of orphaned modules.
+    $orphaned = array_diff($dependencies['disabled'], $dependencies['enabled']);
+    $orphaned = array_intersect($orphaned, module_list(FALSE, FALSE));
+    $orphaned = array_diff($orphaned, drupal_required_modules());
+    $orphaned = array_diff($orphaned, array('features'));
+
+    // Build final list of modules that can be disabled.
+    $modules = features_get_modules(NULL, TRUE);
+    $enabled = module_list();
+    _module_build_dependencies($modules);
+
+    foreach ($orphaned as $module) {
+      if (!empty($modules[$module]->info['dependents'])) {
+        // Determine whether any dependents are actually enabled.
+        $dependents = array_intersect($modules[$module]->info['dependents'], $enabled);
+        if (empty($dependents)) {
+          $info = features_get_modules($module);
+          $orphans[$module] = $info;
+        }
+      }
+    }
+  }
+  return $orphans;
+}
+
+/**
+ * Detect potential conflicts between any features that provide
+ * identical components.
+ */
+function features_get_conflicts($reset = FALSE) {
+  $conflicts = array();
+  $component_info = features_get_components();
+  $map = features_get_component_map(NULL, $reset);
+
+  foreach ($map as $type => $components) {
+    // Only check conflicts for components we know about.
+    if (isset($component_info[$type])) {
+      foreach ($components as $component => $modules) {
+        if (isset($component_info[$type]['duplicates']) && $component_info[$type]['duplicates'] == FEATURES_DUPLICATES_ALLOWED) {
+          continue;
+        }
+        else if (count($modules) > 1) {
+          foreach ($modules as $module) {
+            if (!isset($conflicts[$module])) {
+              $conflicts[$module] = array();
+            }
+            foreach ($modules as $m) {
+              if ($m != $module) {
+                $conflicts[$module][$m][$type][] = $component;
+              }
+            }
+          }
+        }
+      }
+    }
+  }
+
+  return $conflicts;
+}
+
+/**
+ * Provide a component to feature map.
+ */
+function features_get_component_map($key = NULL, $reset = FALSE) {
+  static $map;
+  if (!isset($map) || $reset) {
+    $map = array();
+    $features = features_get_features(NULL, $reset);
+    foreach ($features as $feature) {
+      foreach ($feature->info['features'] as $type => $components) {
+        if (!isset($map[$type])) {
+          $map[$type] = array();
+        }
+        foreach ($components as $component) {
+          $map[$type][$component][] = $feature->name;
+        }
+      }
+    }
+  }
+  if (isset($key)) {
+    return isset($map[$key]) ? $map[$key] : array();
+  }
+  return $map;
+}
+
+/**
+ * Simple wrapper returns the status of a module.
+ */
+function features_get_module_status($module) {
+  if (module_exists($module)) {
+    return FEATURES_MODULE_ENABLED;
+  }
+  else if (features_get_modules($module)) {
+    return FEATURES_MODULE_DISABLED;
+  }
+  else {
+    return FEATURES_MODULE_MISSING;
+  }
+}
+
+/**
+ * Menu title callback.
+ */
+function features_get_feature_title($feature) {
+  return $feature->info['name'];
+}
+
+/**
+ * Menu access callback for whether a user should be able to access
+ * override actions for a given feature.
+ */
+function features_access_override_actions($feature) {
+  if (user_access('administer features')) {
+    static $access = array();
+    if (!isset($access[$feature->name])) {
+      // Set a value first. We may get called again from within features_detect_overrides().
+      $access[$feature->name] = FALSE;
+
+      features_include();
+      module_load_include('inc', 'features', 'features.export');
+      $access[$feature->name] = in_array(features_get_storage($feature->name), array(FEATURES_OVERRIDDEN, FEATURES_NEEDS_REVIEW)) && user_access('administer features');
+    }
+    return $access[$feature->name];
+  }
+  return FALSE;
+}
+
+/**
+ * Implementation of hook_form_alter() for system_modules form.
+ */
+function features_form_system_modules_alter(&$form) {
+  features_rebuild();
+}
+
+/**
+ * Restore the specified modules to the default state.
+ */
+function _features_restore($op, $items = array()) {
+  // Since we can't ensure that users will run update.php immediately after
+  // updating the features codebase, we must check the schema version explicitly
+  // to ensure that we will not blow away any overrides.
+  module_load_install('features');
+  if (drupal_get_installed_schema_version('features', TRUE) < 6101) {
+    return;
+  }
+
+  module_load_include('inc', 'features', 'features.export');
+  features_include();
+
+  switch ($op) {
+    case 'revert':
+      $restore_states = array(FEATURES_OVERRIDDEN, FEATURES_REBUILDABLE, FEATURES_NEEDS_REVIEW);
+      $restore_hook = 'features_revert';
+      $log_action = 'Revert';
+      break;
+    case 'rebuild':
+      $restore_states = array(FEATURES_REBUILDABLE);
+      $restore_hook = 'features_rebuild';
+      $log_action = 'Rebuild';
+      break;
+  }
+
+  if (empty($items)) {
+    $states = features_get_component_states();
+    foreach ($states as $module_name => $components) {
+      foreach ($components as $component => $state) {
+        if (in_array($state, $restore_states)) {
+          $items[$module_name][] = $component;
+        }
+      }
+    }
+  }
+
+  foreach ($items as $module_name => $components) {
+    foreach ($components as $component) {
+      if (features_hook($component, $restore_hook)) {
+        // Set a semaphore to prevent other instances of the same script from running concurrently.
+        watchdog('features', '@actioning @module_name / @component.', array('@action' => $log_action, '@component' => $component, '@module_name' => $module_name));
+        features_semaphore('set', $component);
+        features_invoke($component, $restore_hook, $module_name);
+
+        // If the script completes, remove the semaphore and set the code signature.
+        features_semaphore('del', $component);
+        features_set_signature($module_name, $component);
+        watchdog('features', '@action completed for @module_name / @component.', array('@action' => $log_action, '@component' => $component, '@module_name' => $module_name));
+      }
+    }
+  }
+}
+
+/**
+ * Wrapper around _features_restore().
+ */
+function features_revert($revert = array()) {
+  return _features_restore('revert', $revert);
+}
+
+/**
+ * Wrapper around _features_restore().
+ */
+function features_rebuild($rebuild = array()) {
+  return _features_restore('rebuild', $rebuild);
+}
+
+/**
+ * Utility functions ==================================================
+ */
+
+/**
+ * Represent the current state of permissions as a role name to role/perm array.
+ */
+function _features_get_roles() {
+  $roles = array();
+  $result = db_query("SELECT r.rid, r.name, p.perm FROM {role} r LEFT JOIN {permission} p ON r.rid = p.rid ORDER BY r.name");
+  while ($row = db_fetch_object($result)) {
+    $roles[$row->name] = array(
+      'rid' => $row->rid,
+      'perm' => explode(', ', $row->perm),
+    );
+  }
+  return $roles;
+}
+
+/**
+ * Log a message, environment agnostic.
+ *
+ * @param $message
+ *   The message to log.
+ * @param $severity
+ *   The severity of the message: status, warning or error.
+ */
+function features_log($message, $severity = 'status') {
+  if (function_exists('drush_verify_cli')) {
+    $message = strip_tags($message);
+    if ($severity == 'status') {
+      $severity = 'ok';
+    }
+    elseif ($severity == 'error') {
+      drush_set_error($message);
+      return;
+    }
+    drush_log($message, $severity);
+    return;
+  }
+  drupal_set_message($message, $severity, FALSE);
+}
+
+/**
+ * Targeted form_alter for vocabulary edit pages.
+ */
+function features_form_taxonomy_form_vocabulary_alter(&$form, &$form_state) {
+  module_load_include('inc', 'features', "includes/features.taxonomy");
+  _features_form_taxonomy_form_vocabulary_alter($form, $form_state);
+}
+
diff --git a/sites/all/modules/features/includes/features.block.inc b/sites/all/modules/features/includes/features.block.inc
new file mode 100644
index 0000000..9a168b9
--- /dev/null
+++ b/sites/all/modules/features/includes/features.block.inc
@@ -0,0 +1,40 @@
+<?php
+
+/**
+ * Implementation of hook_features_api().
+ */
+function block_features_api() {
+  return array();
+}
+
+/**
+ * Implementation of hook_features_export().
+ */
+function block_features_export($data, &$export) {
+  $pipe = array();
+  foreach ($data as $bid) {
+    $split = explode('-', $bid);
+    $module = array_shift($split);
+    $delta = implode('-', $split);
+
+    $export['dependencies'][$module] = $module;
+
+    switch ($module) {
+      case 'views':
+        if (strlen($delta) == 32) {
+          $hashes = variable_get('views_block_hashes', array());
+          if (!empty($hashes[$delta])) {
+            $delta = $hashes[$delta];
+          }
+        }
+
+        $delta_split = explode('-', $delta);
+        $view_name = $delta_split[0];
+        if (!empty($view_name)) {
+          $pipe['views'][] = $view_name;
+        }
+        break;
+    }
+  }
+  return $pipe;
+}
diff --git a/sites/all/modules/features/includes/features.content.inc b/sites/all/modules/features/includes/features.content.inc
new file mode 100644
index 0000000..9cb2c9b
--- /dev/null
+++ b/sites/all/modules/features/includes/features.content.inc
@@ -0,0 +1,212 @@
+<?php
+
+/**
+ * Implementation of hook_features_api().
+ */
+function content_features_api() {
+  return array(
+    'content' => array(
+      'name' => t('CCK'),
+      'default_hook' => 'content_default_fields',
+      'default_file' => FEATURES_DEFAULTS_INCLUDED,
+      'feature_source' => TRUE,
+    ),
+  );
+}
+
+/**
+ * Implementation of hook_features_export_options().
+ */
+function content_features_export_options() {
+  $options = array();
+  foreach (node_get_types('names') as $type => $type_name) {
+    $content_info = content_types($type);
+    if (!empty($content_info['fields'])) {
+      foreach ($content_info['fields'] as $field) {
+        $field_name = isset($field['widget']['label']) ? $field['widget']['label'] : $field['field_name'];
+        $options[content_features_identifier($field)] = "{$type_name}: {$field_name}";
+      }
+    }
+  }
+  return $options;
+}
+
+/**
+ * Implementation of hook_features_export().
+ */
+function content_features_export($data, &$export, $module_name = '') {
+  features_include_defaults('content');
+  $pipe = array();
+
+  // The content_default_fields() hook integration is provided by the
+  // features module so we need to add it as a dependency.
+  $export['dependencies']['features'] = 'features';
+
+  // Collect a field to module map
+  $map = features_get_default_map('content', NULL, 'content_features_identifier');
+  foreach ($data as $instance) {
+    // If this field is already provided by another module remove the field.
+    // We do not add the other module as a dependency as the field-providing
+    // module may be extending the content type in question.
+    if (isset($map[$instance]) && $map[$instance] != $module_name) {
+      if (isset($export['features']['content'][$instance])) {
+        unset($export['features']['content'][$instance]);
+      }
+    }
+    // If the field has not yet been exported, add it
+    else {
+      $split = explode('-', $instance);
+      $type_name = $split[0];
+      $field_name = $split[1];
+      $field = content_fields($field_name, $type_name);
+
+      if ($field) {
+        // Add field item instance for later export.
+        $export['features']['content'][$instance] = $instance;
+
+        // Add module which provides field.
+        $export['dependencies'][$field['module']] = $field['module'];
+
+        // Add module which provides field widget.
+        $export['dependencies'][$field['widget']['module']] = $field['widget']['module'];
+
+        // Add modules which provide display.
+        foreach (array('teaser', 'full') as $display) {
+          $formatter = _content_get_formatter($field['display_settings'][$display]['format'], $field['type']);
+          $export['dependencies'][$formatter['module']] = $formatter['module'];
+
+          // TODO make this logic more generic, for now though we just handle
+          // the imagecache presets.
+          if ($formatter['module'] == 'imagecache') {
+            $format = $field['display_settings'][$display]['format'];
+
+            $parts = explode('_', $format);
+            $style = array_pop($parts);
+            $presetname = implode('_', $parts);
+
+            $pipe[$formatter['module']][] = $presetname;
+          }
+        }
+      }
+    }
+  }
+
+  return $pipe;
+}
+
+/**
+ * Implementation of hook_features_export_render().
+ */
+function content_features_export_render($module, $data) {
+  $translatables = $code = array();
+
+  $code[] = '  $fields = array();';
+  $code[] = '';
+  foreach ($data as $instance) {
+    $instance = explode('-', $instance);
+    $type_name = $instance[0];
+    $field_name = $instance[1];
+    if ($field = content_fields($field_name, $type_name)) {
+      unset($field['columns']);
+      unset($field['locked']);
+      unset($field['db_storage']);
+      $field_identifier = features_var_export(content_features_identifier($field));
+      $field_export = features_var_export($field, '  ');
+
+      $code[] = "  // Exported field: {$field_name}";
+      $code[] = "  \$fields[{$field_identifier}] = {$field_export};";
+      $code[] = "";
+
+      // Add any labels to translatables array.
+      if (!empty($field['widget']['label'])) {
+        $translatables[] = $field['widget']['label'];
+      }
+    }
+  }
+  if (!empty($translatables)) {
+    $code[] = features_translatables_export($translatables, '  ');
+  }
+  $code[] = '  return $fields;';
+  $code = implode("\n", $code);
+  return array('content_default_fields' => $code);
+}
+
+/**
+ * Implementation of hook_features_revert().
+ */
+function content_features_revert($module) {
+  content_features_rebuild($module);
+}
+
+/**
+ * Implementation of hook_features_rebuild().
+ * Rebuilds CCK field definitions from code defaults.
+ */
+function content_features_rebuild($module) {
+  if ($fields = features_get_default('content', $module)) {
+    module_load_include('inc', 'content', 'includes/content.crud');
+    content_clear_type_cache(TRUE);
+
+    foreach ($fields as $field) {
+      // We use content_field_instance_read() here so that we can get inactive 
+      // fields too. We can't just pass $field to it as the fnc will add every
+      // item of the array to the WHERE clause.
+      $param = array('field_name' => $field['field_name'], 'type_name' => $field['type_name']);
+      $existing_instance = content_field_instance_read($param, TRUE);
+
+      if ($existing_instance) {
+        // If this existing instance is inactive, we need to activate it before
+        // running content_field_instance_update().
+        if (!$existing_instance['widget_active']) {
+          db_query("UPDATE {". content_instance_tablename() ."} SET widget_active = 1 WHERE field_name = '%s' AND type_name = '%s'", $field['field_name'], $field['type_name']);
+          // We need to clear the type cache again, unfortunately.
+          content_clear_type_cache(TRUE);
+        }
+
+        content_field_instance_update($field, FALSE);
+      }
+      else {
+        // Summary: content_field_instance_create() will fall back to prior
+        // instance values for weight, label, desc if not set. 
+        // See http://drupal.org/node/686240#comment-2786162
+        $field['weight'] = $field['widget']['weight'];
+        $field['label'] = $field['widget']['label'];
+        $field['description'] = $field['widget']['description'];
+        content_field_instance_create($field, FALSE);
+      }
+      variable_set('menu_rebuild_needed', TRUE);
+    }
+  }
+}
+
+/**
+ * Callback for generating the field exportable identifier for a field.
+ */
+function content_features_identifier($field) {
+  return isset($field['type_name'], $field['field_name']) ? "{$field['type_name']}-{$field['field_name']}" : FALSE;
+}
+
+/**
+ * Helper function: retrieve default fields by node type.
+ */
+function content_features_fields_default($node_type, $reset = FALSE) {
+  static $content_default_fields;
+  if (!isset($content_default_fields) || $reset) {
+    foreach (features_get_default('content') as $field) {
+      $content_default_fields[$field['type_name']][] = $field['field_name'];
+    }
+  }
+  return isset($content_default_fields[$node_type]) ? $content_default_fields[$node_type] : array();
+}
+
+/**
+ * Helper function: retrieve normal fields by node type.
+ */
+function content_features_fields_normal($node_type) {
+  $normal_fields = array();
+  $content_info = content_types($node_type);
+  if (!empty($content_info['fields'])) {
+    $normal_fields = array_keys($content_info['fields']);
+  }
+  return $normal_fields;
+}
diff --git a/sites/all/modules/features/includes/features.context.inc b/sites/all/modules/features/includes/features.context.inc
new file mode 100644
index 0000000..ba9d45f
--- /dev/null
+++ b/sites/all/modules/features/includes/features.context.inc
@@ -0,0 +1,231 @@
+<?php
+
+/**
+ * Determine context major branch version.
+ */
+function context_features_get_version() {
+  if (function_exists('context_context_plugins')) {
+    return 3;
+  }
+  return 2;
+}
+
+/**
+ * Implementation of hook_features_api().
+ */
+function context_features_api() {
+  $api = array('context' => array());
+  // 3.x
+  if (context_features_get_version() === 3) {
+    $api['context'] = array(
+      'api' => 'context',
+      'current_version' => 3,
+      'module' => 'context',
+      'default_file' => FEATURES_DEFAULTS_CUSTOM,
+      'default_filename' => 'context',
+    );
+  }
+  // 2.x
+  $api['context'] += array(
+    'name' => 'Contexts',
+    'feature_source' => TRUE,
+    'default_hook' => 'context_default_contexts'
+  );
+  return $api;
+}
+
+/**
+ * Implementation of hook_features_export_options();
+ */
+function context_features_export_options() {
+  // 3.x
+  if (context_features_get_version() === 3) {
+    return ctools_component_features_export_options('context');
+  }
+  // 2.x
+  $contexts = context_enabled_contexts();
+  $options = array();
+  foreach ($contexts as $identifier => $context) {
+    $options[$identifier] = "{$context->namespace} > {$context->attribute} > {$context->value}";
+  }
+  return $options;
+}
+
+/**
+ * Implementation of hook_features_export().
+ */
+function context_features_export($data, &$export, $module_name = '') {
+  // 3.x
+  if (context_features_get_version() === 3) {
+    $pipe = ctools_component_features_export('context', $data, $export, $module_name);
+
+    $contexts = context_load();
+    foreach ($data as $identifier) {
+      if (isset($contexts[$identifier])) {
+        $context = $contexts[$identifier];
+        // Conditions.
+        // Currently only node and views conditions are supported.
+        // @TODO: Should this be delegated to a method on the plugin?
+        foreach (array('node', 'views') as $key) {
+          if (!empty($context->conditions{$key}['values'])) {
+            foreach ($context->conditions{$key}['values'] as $item) {
+              // Special pipe for views
+              if ($key === 'views') {
+                $split = explode(':', $item);
+                $view_name = array_shift($split);
+                $pipe[$key][$view_name] = $view_name;
+              }
+              else {
+                $pipe[$key][$item] = $item;
+              }
+            }
+          }
+        }
+        // Reactions.
+        if (!empty($context->reactions['block']['blocks'])) {
+          foreach ($context->reactions['block']['blocks'] as $block) {
+            $block = (array) $block;
+            $bid = "{$block['module']}-{$block['delta']}";
+            $pipe['block'][$bid] = $bid;
+          }
+        }
+      }
+    }
+    return $pipe;
+  }
+
+  // 2.x
+  $export['dependencies']['context'] = 'context';
+
+  // Collect a context to module map
+  $map = features_get_default_map('context', NULL, 'context_features_identifier_2');
+  $pipe = array();
+  $contexts = context_enabled_contexts();
+  foreach ($data as $identifier) {
+    // If this context is already provided by another module, add it
+    // as a dependency and prevent it from becoming a duplicate export.
+    if (isset($map[$identifier]) && $map[$identifier] != $module_name) {
+      if (isset($export['features']['context'][$identifier])) {
+        unset($export['features']['context'][$identifier]);
+      }
+      $module = $map[$identifier];
+      $export['dependencies'][$module] = $module;
+    }
+    // Otherwise, export it.
+    else if (!empty($contexts[$identifier])) {
+      $export['features']['context'][$identifier] = $identifier;
+
+      $context = $contexts[$identifier];
+
+      foreach (array('node', 'menu') as $key) {
+        if (!empty($context->{$key})) {
+          if (is_array($context->{$key})) {
+            foreach ($context->{$key} as $item) {
+              $pipe[$key][$item] = $item;
+            }
+          }
+          else {
+            $item = $context->{$key};
+            $pipe[$key][$item] = $item;
+          }
+        }
+      }
+
+      // Special pipe for views
+      if (!empty($context->views) && is_array($context->views)) {
+        foreach ($context->views as $view_name) {
+          $split = explode(':', $view_name);
+          $view_name = array_shift($split);
+          $pipe['views'][$view_name] = $view_name;
+        }
+      }
+
+      // Special pipe for blocks
+      if (!empty($context->block)) {
+        foreach ($context->block as $block) {
+          $block = (array) $block;
+          $bid = "{$block['module']}-{$block['delta']}";
+          $pipe['block'][$bid] = $bid;
+        }
+      }
+    }
+  }
+  return $pipe;
+}
+
+/**
+ * Implementation of hook_features_export_render().
+ */
+function context_features_export_render($module, $data) {
+  // 3.x
+  if (context_features_get_version() === 3) {
+    return ctools_component_features_export_render('context', $module, $data);
+  }
+  // 2.x
+  $code = array();
+  $code[] = '  $items = array();';
+  $code[] = '';
+
+  foreach ($data as $identifier) {
+    $contexts = context_enabled_contexts();
+    $context = $contexts[$identifier];
+
+    // prune system specific information and cast for Drupal's AOP (array oriented programming)
+    $prune = array('cid', 'status', 'system', 'type');
+    foreach ($prune as $key) {
+      if (isset($context->{$key})) {
+        unset($context->{$key});
+      }
+    }
+    $context = (array) $context;
+
+    // clean up blocks
+    if (!empty($context['block'])) {
+      foreach ($context['block'] as $bid => $block) {
+        unset($block->bid);
+        $context['block'][$bid] = (array) $block;
+      }
+    }
+
+    $context_identifier = context_var_export($identifier);
+    $context_export = context_var_export($context, '  ');
+    $code[] = "  \$items[{$context_identifier}] = {$context_export};";
+  }
+
+  $code[] = '  return $items;';
+  $code = implode("\n", $code);
+  return array('context_default_contexts' => $code);
+}
+
+/**
+ * Implementation of hook_features_revert().
+ *
+ * @param $module
+ * name of module to revert content for
+ */
+function context_features_revert($module = NULL) {
+  // 3.x
+  if (context_features_get_version() === 3) {
+    $return = ctools_component_features_revert('context', $module);
+    context_invalidate_cache();
+    return $return;
+  }
+  // 2.x
+  if ($default_contexts = features_get_default('context', $module)) {
+    foreach($default_contexts as $default_context) {
+      $current_context = new StdClass();
+      $current_context->namespace = $default_context['namespace'];
+      $current_context->attribute = $default_context['attribute'];  
+      $current_context->value = $default_context['value'];
+      $context_to_delete = context_load_context($current_context);
+      context_delete_context($context_to_delete);
+    }
+  }
+}
+
+/**
+ * 2.x: Callback for generating the context exportable identifier.
+ */
+function context_features_identifier_2($object) {
+  return isset($object->namespace, $object->attribute, $object->value) ? "{$object->namespace}-{$object->attribute}-{$object->value}" : FALSE;
+}
diff --git a/sites/all/modules/features/includes/features.ctools.inc b/sites/all/modules/features/includes/features.ctools.inc
new file mode 100644
index 0000000..9646ea4
--- /dev/null
+++ b/sites/all/modules/features/includes/features.ctools.inc
@@ -0,0 +1,304 @@
+<?php
+
+/**
+ * This is a wild hack, but effective.
+ * Dynamically declare functions under a ctools component's namespace if they are not already declared.
+ */
+foreach (_ctools_features_get_info() as $component => $info) {
+  $code = '';
+  if (!function_exists("{$info['module']}_features_api")) {
+    $code .= 'function '. $info['module'] .'_features_api() { return ctools_component_features_api("'. $info['module'] .'"); }';
+  }
+  if (!function_exists("{$component}_features_export")) {
+    $code .= 'function '. $component .'_features_export($data, &$export, $module_name = "") { return ctools_component_features_export("'. $component .'", $data, $export, $module_name); }';
+  }
+  if (!function_exists("{$component}_features_export_options")) {
+    $code .= 'function '. $component .'_features_export_options() { return ctools_component_features_export_options("'. $component .'"); }';
+  }
+  if (!function_exists("{$component}_features_export_render")) {
+    $code .= 'function '. $component .'_features_export_render($module, $data) { return ctools_component_features_export_render("'. $component .'", $module, $data); }';
+  }
+  if (!function_exists("{$component}_features_revert")) {
+    $code .= 'function '. $component .'_features_revert($module) { return ctools_component_features_revert("'. $component .'", $module); }';
+  }
+  eval($code);
+}
+
+/**
+ * Implementation of hook_features_api().
+ */
+function ctools_features_api() {
+  return array(
+    'ctools' => array(
+      'name' => 'CTools export API',
+      'feature_source' => TRUE,
+      'duplicates' => FEATURES_DUPLICATES_ALLOWED,
+      // CTools API integration does not include a default hook declaration as
+      // it is not a proper default hook.
+      // 'default_hook' => 'ctools_plugin_api',
+    ),
+  );
+}
+
+/**
+ * Implementation of hook_features_export().
+ * Adds references to the ctools mothership hook, ctools_plugin_api().
+ */
+function ctools_features_export($data, &$export, $module_name = '') {
+  // Add ctools dependency
+  $export['dependencies']['ctools'] = 'ctools';
+
+  // Add the actual ctools components which will need to be accounted for in
+  // hook_ctools_plugin_api(). The components are actually identified by a
+  // delimited list of values: `module_name:api:current_version`
+  foreach ($data as $component) {
+    if ($info = _ctools_features_get_info($component)) {
+      $identifier = "{$info['module']}:{$info['api']}:{$info['current_version']}";
+      $export['features']['ctools'][$identifier] = $identifier;
+    }
+  }
+
+  return array();
+}
+
+/**
+ * Implementation of hook_features_export_render().
+ * Adds the ctools mothership hook, ctools_plugin_api().
+ */
+function ctools_features_export_render($module, $data) {
+  $code = array();
+  $code[] = '  list($module, $api) = func_get_args();';
+
+  $first = TRUE;
+  foreach ($data as $component) {
+    if ($info = _ctools_features_get_info($component)) {
+      $if = $first ? 'if' : 'elseif';
+      $code[] = '  '. $if .' ($module == "'. $info['module'] .'" && $api == "'. $info['api'] .'") {';
+      $code[] = '    return array("version" => '. $info['current_version'] .');';
+      $code[] = '  }';
+
+      $first = FALSE;
+    }
+  }
+  return array('ctools_plugin_api' => implode("\n", $code));
+}
+
+/**
+ * Master implementation of hook_features_api() for all ctools components.
+ *
+ * Note that this master hook does not use $component like the others, but uses the
+ * component module's namespace instead.
+ */
+function ctools_component_features_api($module_name) {
+  $api = array();
+  foreach (_ctools_features_get_info() as $component => $info) {
+    if ($info['module'] === $module_name) {
+      $api[$component] = $info;
+    }
+  }
+  return $api;
+}
+
+/**
+ * Master implementation of hook_features_export_options() for all ctools components.
+ */
+function ctools_component_features_export_options($component) {
+  $options = array();
+
+  ctools_include('export');
+  $schema = ctools_export_get_schema($component);
+  if ($schema && $schema['export']['bulk export']) {
+    if (!empty($schema['export']['list callback']) && function_exists($schema['export']['list callback'])) {
+      $options = $schema['export']['list callback']();
+    }
+    else {
+      $options = _ctools_features_export_default_list($component, $schema);
+    }
+  }
+  asort($options);
+  return $options;
+}
+
+/**
+ * Master implementation of hook_features_export() for all ctools components.
+ */
+function ctools_component_features_export($component, $data, &$export, $module_name = '') {
+  // Add the actual implementing module as a dependency
+  $info = _ctools_features_get_info();
+  if ($module_name !== $info[$component]['module']) {
+    $export['dependencies'][$info[$component]['module']] = $info[$component]['module'];
+  }
+
+  // Add the components
+  foreach ($data as $object_name) {
+    if ($object = _ctools_features_export_crud_load($component, $object_name)) {
+      // If this object is provided as a default by a different module, don't
+      // export and add that module as a dependency instead.
+      if (!empty($object->export_module) && $object->export_module !== $module_name) {
+        $export['dependencies'][$object->export_module] = $object->export_module;
+        if (isset($export['features'][$component][$object_name])) {
+          unset($export['features'][$component][$object_name]);
+        }
+      }
+      // Otherwise, add the component.
+      else {
+        $export['features'][$component][$object_name] = $object_name;
+      }
+    }
+  }
+
+  // Let CTools handle API integration for this component.
+  return array('ctools' => array($component));
+}
+
+/**
+ * Master implementation of hook_features_export_render() for all ctools components.
+ */
+function ctools_component_features_export_render($component, $module, $data) {
+  ctools_include('export');
+  $schema = ctools_export_get_schema($component);
+
+  if (function_exists($schema['export']['to hook code callback'])) {
+    $export = $schema['export']['to hook code callback']($data, $module);
+    $code = explode("{\n", $export);
+    array_shift($code);
+    $code = explode('}', implode($code, "{\n"));
+    array_pop($code);
+    $code = implode('}', $code);
+  }
+  else {
+    $code = '  $export = array();'."\n\n";
+    foreach ($data as $object_name) {
+      if ($object = _ctools_features_export_crud_load($component, $object_name)) {
+        $identifier = $schema['export']['identifier'];
+        $code .= _ctools_features_export_crud_export($component, $object, '  ');
+        $code .= "  \$export[" . ctools_var_export($object_name) . "] = \${$identifier};\n\n";
+      }
+    }
+    $code .= '  return $export;';
+  }
+
+  return array($schema['export']['default hook'] => $code);
+}
+
+/**
+ * Master implementation of hook_features_revert() for all ctools components.
+ */
+function ctools_component_features_revert($component, $module) {
+  if ($objects = features_get_default($component, $module)) {
+    foreach ($objects as $object) {
+      _ctools_features_export_crud_delete($component, $object);
+    }
+  }
+}
+
+/**
+ * Helper function to return various ctools information for components.
+ */
+function _ctools_features_get_info($identifier = NULL, $reset = FALSE) {
+  static $components;
+  if (!isset($components) || $reset) {
+    $components = array();
+    $modules = features_get_info();
+    ctools_include('export');
+    foreach (ctools_export_get_schemas_by_module() as $module => $schemas) {
+      foreach ($schemas as $table => $schema) {
+        if ($schema['export']['bulk export']) {
+          // Let the API owner take precedence as the owning module.
+          $api_module = isset($schema['export']['api']['owner']) ? $schema['export']['api']['owner'] : $module;
+          $components[$table] = array(
+            'name' => isset($modules[$api_module]->info['name']) ? $modules[$api_module]->info['name'] : $api_module,
+            'api' => $schema['export']['api']['api'],
+            'default_hook' => $schema['export']['default hook'],
+            'default_file' => FEATURES_DEFAULTS_CUSTOM,
+            'default_filename' => $schema['export']['api']['api'],
+            'current_version' => $schema['export']['api']['current_version'],
+            'module' => $api_module,
+            'feature_source' => TRUE,
+          );
+        }
+      }
+    }
+  }
+
+  // Return information specific to a particular component.
+  if (isset($identifier)) {
+    // Identified by the table name.
+    if (isset($components[$identifier])) {
+      return $components[$identifier];
+    }
+    // New API identifier. Allows non-exportables related CTools APIs to be
+    // supported by an explicit `module:api:current_version` key. 
+    else if (substr_count($identifier, ':') === 2) {
+      list($module, $api, $current_version) = explode(':', $identifier);
+      // If a schema component matches the provided identifier, provide that
+      // information. This also ensures that the version number is up to date.
+      foreach ($components as $table => $info) {
+        if ($info['module'] == $module && $info['api'] == $api && $info['current_version'] >= $current_version) {
+          return $info;
+        }
+      }
+      // Fallback to just giving back what was provided to us.
+      return array('module' => $module, 'api' => $api, 'current_version' => $current_version);
+    }
+    return FALSE;
+  }
+
+  return $components;
+}
+
+/**
+ * Wrapper around ctools_export_crud_export() for < 1.7 compatibility.
+ */
+function _ctools_features_export_crud_export($table, $object, $indent = '') {
+  return ctools_api_version('1.7') ? ctools_export_crud_export($table, $object, $indent) : ctools_export_object($table, $object, $indent);
+}
+
+/**
+ * Wrapper around ctools_export_crud_load() for < 1.7 compatibility.
+ */
+function _ctools_features_export_crud_load($table, $name) {
+  if (ctools_api_version('1.7')) {
+    return ctools_export_crud_load($table, $name);
+  }
+  elseif ($objects = ctools_export_load_object($table, 'names', array($name))) {
+    return array_shift($objects);
+  }
+  return FALSE;
+}
+
+/**
+ * Wrapper around ctools_export_default_list() for < 1.7 compatibility.
+ */
+function _ctools_features_export_default_list($table, $schema) {
+  if (ctools_api_version('1.7')) {
+    return ctools_export_default_list($table, $schema);
+  }
+  elseif ($objects = ctools_export_load_object($table, 'all')) {
+    return drupal_map_assoc(array_keys($objects));
+  }
+  return array();
+}
+
+/**
+ * Wrapper around ctools_export_crud_delete() for < 1.7 compatibility.
+ */
+function _ctools_features_export_crud_delete($table, $object) {
+  if (ctools_api_version('1.7')) {
+    ctools_export_crud_delete($table, $object);
+  }
+  else {
+    $schema = ctools_export_get_schema($table);
+    $export = $schema['export'];
+    db_query("DELETE FROM {{$table}} WHERE {$export['key']} = '%s'", $object->{$export['key']});
+  }
+}
+
+/**
+ * Implementation of hook_features_export_render() for page_manager.
+ */
+function page_manager_pages_features_export_render($module, $data) {
+  // Ensure that handlers have their code included before exporting.
+  page_manager_get_tasks();
+  return ctools_component_features_export_render('page_manager_pages', $module, $data);
+}
diff --git a/sites/all/modules/features/includes/features.features.inc b/sites/all/modules/features/includes/features.features.inc
new file mode 100644
index 0000000..dceee31
--- /dev/null
+++ b/sites/all/modules/features/includes/features.features.inc
@@ -0,0 +1,70 @@
+<?php
+
+/**
+ * Implementation of hook_features_api().
+ */
+function features_features_api() {
+  return array(
+    'dependencies' => array(
+      'name' => 'Dependencies',
+      'feature_source' => TRUE,
+      'duplicates' => FEATURES_DUPLICATES_ALLOWED,
+    ),
+  );
+}
+
+/**
+ * Implementation of hook_features_export_options().
+ */
+function dependencies_features_export_options() {
+  // Excluded modules.
+  $excluded = drupal_required_modules();
+  $options = array();
+  foreach (features_get_modules() as $module_name => $info) {
+    if (!in_array($module_name, $excluded) && $info->status && !empty($info->info)) {
+      $options[$module_name] = $info->info['name'];
+    }
+  }
+  return $options;
+}
+
+/**
+ * Implementation of hook_features_export().
+ */
+function dependencies_features_export($data, &$export, $module_name = '') {
+  // Don't allow a module to depend upon itself.
+  if (!empty($data[$module_name])) {
+    unset($data[$module_name]);
+  }
+
+  // Clean up existing dependencies and merge.
+  $export['dependencies'] = _features_export_minimize_dependencies($export['dependencies'], $module_name);
+  $export['dependencies'] = array_merge($data, $export['dependencies']);
+  $export['dependencies'] = array_unique($export['dependencies']);
+}
+
+/**
+ * Implementation of hook_features_revert().
+ */
+function dependencies_features_revert($module) {
+  dependencies_features_rebuild($module);
+}
+
+/**
+ * Implementation of hook_features_rebuild().
+ * Ensure that all of a feature's dependencies are enabled.
+ */
+function dependencies_features_rebuild($module) {
+  $feature = features_get_features($module);
+  if (!empty($feature->info['dependencies'])) {
+    $install = array();
+    foreach ($feature->info['dependencies'] as $dependency) {
+      if (!module_exists($dependency)) {
+        $install[] = $dependency;
+      }
+    }
+    if (!empty($install)) {
+      features_install_modules($install);
+    }
+  }
+}
diff --git a/sites/all/modules/features/includes/features.fieldgroup.inc b/sites/all/modules/features/includes/features.fieldgroup.inc
new file mode 100644
index 0000000..178b21c
--- /dev/null
+++ b/sites/all/modules/features/includes/features.fieldgroup.inc
@@ -0,0 +1,158 @@
+<?php
+
+/**
+ * Implementation of hook_features_api().
+ */
+function fieldgroup_features_api() {
+  return array(
+    'fieldgroup' => array(
+      'name' => t('Fieldgroup'),
+      'default_hook' => 'fieldgroup_default_groups',
+      'default_file' => FEATURES_DEFAULTS_INCLUDED,
+    ),
+  );
+}
+
+/**
+ * Implementation of hook_features_export().
+ */
+function fieldgroup_features_export($data, &$export, $module_name = '') {
+  features_include_defaults('fieldgroup');
+  $pipe = array();
+
+  // The hook_fieldgroup_default_groups() hook integration is provided by the
+  // features module so we need to add it as a dependency.
+  $export['dependencies']['features'] = 'features';
+
+  // Collect a group to module map
+  $map = features_get_default_map('fieldgroup', NULL, 'fieldgroup_features_identifier');
+  foreach ($data as $instance) {
+    // If this group is already provided by another module, remove the group
+    // and add the other module as a dependency.
+    if (isset($map[$instance]) && $map[$instance] != $module_name) {
+      if (isset($export['features']['fieldgroup'][$instance])) {
+        unset($export['features']['fieldgroup'][$instance]);
+      }
+      $module = $map[$instance];
+      $export['dependencies'][$module] = $module;
+    }
+    // If the group has not yet been exported, add it.
+    else {
+      $split = explode('-', $instance);
+      $type_name = $split[0];
+      $group_name = $split[1];
+      $groups = fieldgroup_groups($type_name, FALSE, TRUE);
+
+      if (isset($groups[$group_name]) && $group = $groups[$group_name]) {
+        $export['features']['fieldgroup'][$instance] = $instance;
+        $export['dependencies']['fieldgroup'] = 'fieldgroup';
+      }
+    }
+  }
+
+  return $pipe;
+}
+
+/**
+ * Implementation of hook_features_export_render().
+ */
+function fieldgroup_features_export_render($module, $data) {
+  $translatables = $code = array();
+
+  $code[] = '  $groups = array();';
+  $code[] = '';
+  foreach ($data as $instance) {
+    $instance = explode('-', $instance);
+    $type_name = $instance[0];
+    $group_name = $instance[1];
+    $groups = fieldgroup_groups($type_name, FALSE, TRUE);
+    if (isset($groups[$group_name]) && $group = $groups[$group_name]) {
+      // Clean up the fields to only list the names.
+      $group['fields'] = array_keys((array) $group['fields']);
+
+      $group_identifier = features_var_export(fieldgroup_features_identifier($group));
+      $group_export = features_var_export($group, '  ');
+      $code[] = "  // Exported group: {$group_name}";
+      $code[] = "  \$groups[{$group_identifier}] = {$group_export};";
+      $code[] = "";
+
+      // Add any labels to translatables array.
+      if (!empty($group['label'])) {
+        $translatables[] = $group['label'];
+      }
+    }
+  }
+  if (!empty($translatables)) {
+    $code[] = features_translatables_export($translatables, '  ');
+  }
+  $code[] = '  return $groups;';
+  $code = implode("\n", $code);
+  return array('fieldgroup_default_groups' => $code);
+}
+
+/**
+ * Implementation of hook_features_revert().
+ */
+function fieldgroup_features_revert($module) {
+  fieldgroup_features_rebuild($module);
+}
+
+/**
+ * Implementation of hook_features_rebuild().
+ * Rebuilds CCK fieldgroup definitions from code defaults.
+ */
+function fieldgroup_features_rebuild($module) {
+  if ($groups = features_get_default('fieldgroup', $module)) {
+    content_clear_type_cache(TRUE);
+
+    foreach ($groups as $group) {
+      $type_name = $group['type_name'];
+      $group_name = $group['group_name'];
+      $groups = fieldgroup_groups($type_name, FALSE, TRUE);
+
+      if (isset($groups[$group_name])) {
+        $existing_group = $groups[$group_name];
+        // Only field names are exported in fieldgroup_features_export_render(), so we 
+        // update the existing group to match.
+        $existing_group['fields'] = array_keys($existing_group['fields']);
+      }
+
+      // No need to rebuild if the group already exists and is identical.
+      if ($existing_group != $group) {
+        // Update each field from this group.
+        foreach ($group['fields'] as $field_name) {
+          if ($field = content_fields($field_name, $type_name)) {
+            $field['group'] = $group_name;
+            fieldgroup_update_fields($field);
+          }
+        }
+
+        // Look in the old group for any fields that have been removed.
+        if ($existing_group && !empty($existing_group['fields'])) {
+          foreach($existing_group['fields'] as $field_name) {
+            // We only want to update the field if the field no longer exists in the group 
+            // and the field's existing group name matches the group currently being rebuilt.
+            if (
+              !in_array($field_name, $group['fields']) &&
+              _fieldgroup_field_get_group($type_name, $field_name) == $group_name &&
+              $field = content_fields($field_name, $type_name)
+            ) {
+              $field['group'] = '';
+              fieldgroup_update_fields($field);
+            }
+          }
+        }
+
+        fieldgroup_save_group($type_name, $group);
+        variable_set('menu_rebuild_needed', TRUE);
+      }
+    }
+  }
+}
+
+/**
+ * Callback for generating an identifier for a fieldgroup.
+ */
+function fieldgroup_features_identifier($object) {
+  return isset($object['type_name'], $object['group_name']) ? "{$object['type_name']}-{$object['group_name']}" : FALSE;
+}
diff --git a/sites/all/modules/features/includes/features.filter.inc b/sites/all/modules/features/includes/features.filter.inc
new file mode 100644
index 0000000..5c941f9
--- /dev/null
+++ b/sites/all/modules/features/includes/features.filter.inc
@@ -0,0 +1,194 @@
+<?php
+
+/**
+ * Implementation of hook_features_api().
+ */
+function filter_features_api() {
+  return array(
+    'filter' => array(
+      'name' => t('Filter formats'),
+      'default_hook' => 'filter_default_formats',
+      'default_file' => FEATURES_DEFAULTS_INCLUDED,
+    ),
+  );
+}
+
+/**
+ * Implementation of hook_features_export().
+ */
+function filter_features_export($data, &$export, $module_name = '') {
+  // The filter_default_formats() hook integration is provided by the
+  // features module so we need to add it as a dependency.
+  $export['dependencies']['features'] = 'features';
+
+  $formats = _filter_get_formats();
+  foreach ($formats as $format) {
+    if (in_array($format['name'], $data)) {
+      // Add format to exports
+      $export['features']['filter'][$format['name']] = $format['name'];
+
+      // Iterate through filters and ensure each filter's module is included as a dependency
+      foreach ($format['filters'] as $filter) {
+        $export['dependencies'][$filter['module']] = $filter['module'];
+      }
+    }
+  }
+
+  $pipe = array();
+  return $pipe;
+}
+
+/**
+ * Implementation of hook_features_export_render().
+ */
+function filter_features_export_render($module, $data) {
+  $code = array();
+  $code[] = '  $formats = array();';
+  $code[] = '';
+
+  $formats = _filter_get_formats();
+  foreach ($formats as $format) {
+    if (in_array($format['name'], $data)) {
+      $format_export = features_var_export($format, '  ');
+      $format_identifier = features_var_export($format['name']);
+      $code[] = "  // Exported format: {$format['name']}";
+      $code[] = "  \$formats[{$format_identifier}] = {$format_export};";
+      $code[] = "";
+    }
+  }
+
+  $code[] = '  return $formats;';
+  $code = implode("\n", $code);
+  return array('filter_default_formats' => $code);
+}
+
+/**
+ * Implementation of hook_features_revert().
+ */
+function filter_features_revert($module) {
+  return filter_features_rebuild($module);
+}
+
+/**
+ * Implementation of hook_features_rebuild().
+ */
+function filter_features_rebuild($module) {
+  if ($defaults = features_get_default('filter', $module)) {
+    foreach ($defaults as $format) {
+      _filter_features_update($format);
+    }
+  }
+}
+
+/**
+ * Retrieve all input formats with their respective filters loaded.
+ */
+function _filter_get_formats() {
+  $formats = array();
+
+  // We cannot use user_roles() here because it has the names translated.
+  $roles = _features_get_roles();
+  $result = db_query("SELECT * FROM {filter_formats}");
+  while ($row = db_fetch_object($result)) {
+    $format_roles = array();
+    // Prepare a roles array with roles that may access the filter.
+    foreach ($roles as $name => $role) {
+      if (strstr($row->roles, ','. $role['rid'] .',')) {
+        $format_roles[] = $name;
+      }
+    }
+    $formats[$row->format] = array(
+      'name' => $row->name,
+      'roles' => $format_roles,
+      'filters' => array(),
+    );
+    foreach (_filter_list_format($row->format, TRUE) as $filter) {
+      $formats[$row->format]['filters'][] = array(
+        'module' => $filter->module,
+        'delta' => $filter->delta,
+        'weight' => $filter->weight,
+      );
+    }
+  }
+
+  return $formats;
+}
+
+/**
+ * Direct copy of filter_list_format() but with a way to clear the static.
+ */
+function _filter_list_format($format, $reset = FALSE) {
+  static $filters = array();
+
+  if (!isset($filters[$format]) || $reset) {
+    $result = db_query("SELECT * FROM {filters} WHERE format = %d ORDER BY weight, module, delta", $format);
+    if (db_affected_rows($result) == 0 && !db_result(db_query("SELECT 1 FROM {filter_formats} WHERE format = %d", $format))) {
+      // The format has no filters and does not exist, use the default input
+      // format.
+      $filters[$format] = filter_list_format(variable_get('filter_default_format', 1));
+    }
+    else {
+      $filters[$format] = array();
+      while ($filter = db_fetch_object($result)) {
+        $list = module_invoke($filter->module, 'filter', 'list');
+        if (isset($list) && is_array($list) && isset($list[$filter->delta])) {
+          $filter->name = $list[$filter->delta];
+          $filters[$format][$filter->module .'/'. $filter->delta] = $filter;
+        }
+      }
+    }
+  }
+
+  return $filters[$format];
+}
+
+
+/**
+ * Helper function for updating/inserting formats.
+ */
+function _filter_features_update($format) {
+  $format_id = db_result(db_query("SELECT format FROM {filter_formats} WHERE name = '%s'", $format['name']));
+
+  // Format the role IDs into something that can be inserted into the database.
+  // This is so painful. See filter.admin.inc line 218. : (
+  // We cannot use user_roles() here because it has the names translated.
+  $roles = _features_get_roles();
+  $format_rids = array();
+  foreach ($format['roles'] as $role_name) {
+    // Ensure that each role exists. If it does not, create it and store the rid.
+    if (!isset($roles[$role_name])) {
+      $record = array('name' => $role_name);
+      drupal_write_record('role', $record);
+      $roles[$role_name]['rid'] = $record['rid'];
+      $roles[$role_name]['perm'] = array();
+    }
+    // Retrieve the rid corresponding to each role and add it to the format's rids
+    if (isset($roles[$role_name])) {
+      $format_rids[] = $roles[$role_name]['rid'];
+    }
+  }
+  if ($format_id && $format_id == variable_get('filter_default_format', 1)) {
+    $format['roles'] = ','. implode(',', array_keys(user_roles())) .',';
+  }
+  else {
+    $format['roles'] = ','. implode(',', $format_rids) .',';
+  }
+
+  // Update or insert the format
+  if ($format_id) {
+    $format['format'] = $format_id;
+    drupal_write_record('filter_formats', $format, 'format');
+  }
+  else {
+    drupal_write_record('filter_formats', $format);
+  }
+
+  // Update the filters for the format
+  if ($format['format']) {
+    db_query("DELETE FROM {filters} WHERE format = %d", $format['format']);
+    foreach ($format['filters'] as $filter) {
+      $filter['format'] = $format['format'];
+      drupal_write_record('filters', $filter);
+    }
+  }
+}
diff --git a/sites/all/modules/features/includes/features.imagecache.inc b/sites/all/modules/features/includes/features.imagecache.inc
new file mode 100644
index 0000000..daacd6f
--- /dev/null
+++ b/sites/all/modules/features/includes/features.imagecache.inc
@@ -0,0 +1,91 @@
+<?php
+
+/**
+ * Implementation of hook_features_api().
+ */
+function imagecache_features_api() {
+  return array(
+    'imagecache' => array(
+      'name' => t('Imagecache presets'),
+      'default_hook' => 'imagecache_default_presets',
+    )
+  );
+}
+
+/**
+ * Implementation of hook_features_export_options().
+ */
+function imagecache_features_export_options() {
+  $options = array();
+  foreach (imagecache_presets() as $preset) {
+    $options[$preset['presetname']] = $preset['presetname'];
+  }
+  return $options;
+}
+
+/**
+ * Implementation of hook_features_export().
+ */
+function imagecache_features_export($data, &$export, $module_name = '') {
+  // Collect a module to preset map
+  $map = features_get_default_map('imagecache', 'presetname');
+  foreach ($data as $preset) {
+    // If another module provides this preset, add it as a dependency
+    if (isset($map[$preset]) && $map[$preset] != $module_name) {
+      $module = $map[$preset];
+      $export['dependencies'][$module] = $module;
+    }
+    // Otherwise, export the preset
+    else {
+      $export['features']['imagecache'][$preset] = $preset;
+    }
+  }
+}
+
+/**
+ * Implementation of hook_features_export_render().
+ */
+function imagecache_features_export_render($module_name, $data) {
+  $items = array();
+  foreach ($data as $key) {
+    // This second argument to clear the static cache relies on patch in
+    // http://drupal.org/node/665284.
+    $preset = imagecache_preset_by_name($key, TRUE);
+    _imagecache_features_preset_sanitize($preset);
+    $items[$key] = $preset;
+  }
+  $code = "  \$items = ". features_var_export($items, '  ') .";\n";
+  $code .= '  return $items;';
+  return array('imagecache_default_presets' => $code);
+}
+
+/**
+ * Implementation of hook_features_revert().
+ */
+function imagecache_features_revert($module) {
+  if ($default_presets = features_get_default('imagecache', $module)) {
+    foreach (array_keys($default_presets) as $default_preset) {
+      $preset = imagecache_preset_by_name($default_preset);
+      if ($preset) {
+        imagecache_preset_delete($preset);
+      }
+    }
+  }
+}
+
+/**
+ * Remove unnecessary keys for export.
+ */
+function _imagecache_features_preset_sanitize(&$preset) {
+  $omit = array('presetid', 'storage', 'actionid');
+  if (is_array($preset)) {
+    foreach ($preset as $k => $v) {
+      if (in_array($k, $omit, TRUE)) {
+        unset($preset[$k]);
+      }
+      else if (is_array($v)) {
+        _imagecache_features_preset_sanitize($preset[$k]);
+      }
+    }
+  }
+}
diff --git a/sites/all/modules/features/includes/features.menu.inc b/sites/all/modules/features/includes/features.menu.inc
new file mode 100644
index 0000000..9710498
--- /dev/null
+++ b/sites/all/modules/features/includes/features.menu.inc
@@ -0,0 +1,297 @@
+<?php
+
+/**
+ * Implementation of hook_features_api().
+ */
+function menu_features_api() {
+  return array(
+    'menu_custom' => array(
+      'name' => t('Menus'),
+      'default_hook' => 'menu_default_menu_custom',
+      'feature_source' => TRUE,
+      'default_file' => FEATURES_DEFAULTS_INCLUDED,
+    ),
+    'menu_links' => array(
+      'name' => t('Menu links'),
+      'default_hook' => 'menu_default_menu_links',
+      'feature_source' => TRUE,
+      'default_file' => FEATURES_DEFAULTS_INCLUDED,
+    ),
+    // DEPRECATED
+    'menu' => array(
+      'name' => t('Menu items'),
+      'default_hook' => 'menu_default_items',
+      'default_file' => FEATURES_DEFAULTS_INCLUDED,
+      'feature_source' => FALSE,
+    ),
+  );
+}
+
+/**
+ * Implementation of hook_features_export().
+ * DEPRECATED: This implementation simply migrates deprecated `menu` items
+ * to the `menu_links` type.
+ */
+function menu_features_export($data, &$export, $module_name = '') {
+  $pipe = array();
+  foreach ($data as $path) {
+    $pipe['menu_links'][] = "features:{$path}";
+  }
+  return $pipe;
+}
+
+/**
+ * Implementation of hook_features_export_options().
+ */
+function menu_custom_features_export_options() {
+  $options = array();
+  $result = db_query("SELECT * FROM {menu_custom}");
+  while ($row = db_fetch_array($result)) {
+    $options[$row['menu_name']] = $row['title'];
+  }
+  return $options;
+}
+
+/**
+ * Implementation of hook_features_export().
+ */
+function menu_custom_features_export($data, &$export, $module_name = '') {
+  // Default hooks are provided by the feature module so we need to add
+  // it as a dependency.
+  $export['dependencies']['features'] = 'features';
+  $export['dependencies']['menu'] = 'menu';
+
+  // Collect a menu to module map
+  $pipe = array();
+  $map = features_get_default_map('menu_custom', 'menu_name');
+  foreach ($data as $menu_name) {
+    // If this menu is provided by a different module, add it as a dependency.
+    if (isset($map[$menu_name]) && $map[$menu_name] != $module_name) {
+      $export['dependencies'][$map[$menu_name]] = $map[$menu_name];
+    }
+    else {
+      $export['features']['menu_custom'][$menu_name] = $menu_name;
+    }
+  }
+  return $pipe;
+}
+
+/**
+ * Implementation of hook_features_export_render()
+ */
+function menu_custom_features_export_render($module, $data) {
+  $code = array();
+  $code[] = '  $menus = array();';
+  $code[] = '';
+
+  $translatables = array();
+  foreach ($data as $menu_name) {
+    $result = db_query("SELECT menu_name, title, description FROM {menu_custom} WHERE menu_name = '%s'", $menu_name);
+    while ($row = db_fetch_array($result)) {
+      $export = features_var_export($row, '  ');
+      $code[] = "  // Exported menu: {$menu_name}";
+      $code[] = "  \$menus['{$menu_name}'] = {$export};";
+      $translatables[] = $row['title'];
+      $translatables[] = $row['description'];
+    }
+  }
+  if (!empty($translatables)) {
+    $code[] = features_translatables_export($translatables, '  ');
+  }
+
+  $code[] = '';
+  $code[] = '  return $menus;';
+  $code = implode("\n", $code);
+  return array('menu_default_menu_custom' => $code);
+}
+
+/**
+ * Implementation of hook_features_export_revert().
+ */
+function menu_custom_features_revert($module) {
+  menu_custom_features_rebuild($module);
+}
+
+/**
+ * Implementation of hook_features_export_rebuild().
+ */
+function menu_custom_features_rebuild($module) {
+  if ($defaults = features_get_default('menu_custom', $module)) {
+    foreach ($defaults as $menu) {
+      $existing = db_result(db_query("SELECT menu_name FROM {menu_custom} WHERE menu_name = '%s'", $menu['menu_name']));
+      drupal_write_record('menu_custom', $menu, $existing ? array('menu_name') : array());
+    }
+  }
+}
+
+/**
+ * Implementation of hook_features_export_options().
+ */
+function menu_links_features_export_options() {
+  $menu_links = menu_parent_options(array_reverse(menu_get_menus()), NULL);
+  $options = array();
+  foreach ($menu_links as $key => $name) {
+    list($menu_name, $mlid) = explode(':', $key, 2);
+    if ($mlid != 0) {
+      $link = menu_link_load($mlid);
+      $identifier = menu_links_features_identifier($link);
+      $options[$identifier] = "{$menu_name}: {$name}";
+    }
+  }
+  return $options;
+}
+
+/**
+ * Callback for generating the menu link exportable identifier.
+ */
+function menu_links_features_identifier($link) {
+  return isset($link['menu_name'], $link['link_path']) ? "{$link['menu_name']}:{$link['link_path']}" : FALSE;
+}
+
+/**
+ * Implementation of hook_features_export().
+ */
+function menu_links_features_export($data, &$export, $module_name = '') {
+  // Default hooks are provided by the feature module so we need to add
+  // it as a dependency.
+  $export['dependencies']['features'] = 'features';
+  $export['dependencies']['menu'] = 'menu';
+
+  // Collect a link to module map
+  $pipe = array();
+  $map = features_get_default_map('menu_links', 'menu_links_features_identifier');
+  foreach ($data as $identifier) {
+    if ($link = features_menu_link_load($identifier)) {
+      // If this link is provided by a different module, add it as a dependency.
+      if (isset($map[$identifier]) && $map[$identifier] != $module_name) {
+        $export['dependencies'][$map[$identifier]] = $map[$identifier];
+      }
+      else {
+        $export['features']['menu_links'][$identifier] = $identifier;
+      }
+      // For now, exclude a variety of common menus from automatic export.
+      // They may still be explicitly included in a Feature if the builder
+      // chooses to do so.
+      if (!in_array($link['menu_name'], array('features', 'primary-links', 'secondary-links', 'navigation', 'admin', 'devel'))) {
+        $pipe['menu_custom'][] = $link['menu_name'];
+      }
+    }
+  }
+  return $pipe;
+}
+
+/**
+ * Implementation of hook_features_export_render()
+ */
+function menu_links_features_export_render($module, $data) {
+  $code = array();
+  $code[] = '  $menu_links = array();';
+  $code[] = '';
+
+  $translatables = array();
+  foreach ($data as $identifier) {
+    if ($link = features_menu_link_load($identifier)) {
+      // Replace plid with a parent path.
+      if (!empty($link['plid']) && $parent = menu_link_load($link['plid'])) {
+        $link['parent_path'] = $parent['link_path'];
+      }
+      unset($link['plid']);
+      unset($link['mlid']);
+
+      $code[] = "  // Exported menu link: {$identifier}";
+      $code[] = "  \$menu_links['{$identifier}'] = ". features_var_export($link, '  ') .";";
+      $translatables[] = $link['link_title'];
+    }
+  }
+  if (!empty($translatables)) {
+    $code[] = features_translatables_export($translatables, '  ');
+  }
+
+  $code[] = '';
+  $code[] = '  return $menu_links;';
+  $code = implode("\n", $code);
+  return array('menu_default_menu_links' => $code);
+}
+
+/**
+ * Implementation of hook_features_export_revert().
+ */
+function menu_links_features_revert($module) {
+  menu_links_features_rebuild($module);
+}
+
+/**
+ * Implementation of hook_features_export_rebuild().
+ */
+function menu_links_features_rebuild($module) {
+  if ($menu_links = features_get_default('menu_links', $module)) {
+    menu_links_features_rebuild_ordered($menu_links);
+  }
+}
+
+/**
+ * Generate a depth tree of all menu links.
+ */
+function menu_links_features_rebuild_ordered($menu_links, $reset = FALSE) {
+  static $ordered;
+  static $all_links;
+  if (!isset($ordered) || $reset) {
+    $ordered = array();
+    $unordered = features_get_default('menu_links');
+
+    // Order all links by depth.
+    if ($unordered) {
+      do {
+        $current = count($unordered);
+        foreach ($unordered as $key => $link) {
+          $identifier = menu_links_features_identifier($link);
+          $parent = isset($link['parent_path']) ? "{$link['menu_name']}:{$link['parent_path']}" : '';
+          if (empty($parent)) {
+            $ordered[$identifier] = 0;
+            $all_links[$identifier] = $link;
+            unset($unordered[$key]);
+          }
+          elseif (isset($ordered[$parent])) {
+            $ordered[$identifier] = $ordered[$parent] + 1;
+            $all_links[$identifier] = $link;
+            unset($unordered[$key]);
+          }
+        }
+      } while (count($unordered) < $current);
+    }
+    asort($ordered);
+  }
+
+  // Ensure any default menu items that do not exist are created.
+  foreach (array_keys($ordered) as $identifier) {
+    $link = $all_links[$identifier];
+    $existing = features_menu_link_load($identifier);
+    if (!$existing || in_array($link, $menu_links)) {
+      // Retrieve the mlid if this is an existing item.
+      if ($existing) {
+        $link['mlid'] = $existing['mlid'];
+      }
+      // Retrieve the plid for a parent link.
+      if (!empty($link['parent_path']) && $parent = features_menu_link_load("{$link['menu_name']}:{$link['parent_path']}")) {
+        $link['plid'] = $parent['mlid'];
+      }
+      else {
+        $link['plid'] = 0;
+      }
+      menu_link_save($link);
+    }
+  }
+}
+
+/**
+ * Load a menu link by its menu_name:link_path identifier.
+ */
+function features_menu_link_load($identifier) {
+  list($menu_name, $link_path) = explode(':', $identifier, 2);
+  $result = db_query("SELECT menu_name, mlid, plid, link_path, router_path, link_title, options, module, hidden, external, has_children, expanded, weight FROM {menu_links} WHERE menu_name = '%s' AND link_path = '%s'", $menu_name, $link_path);
+  while ($link = db_fetch_array($result)) {
+    $link['options'] = unserialize($link['options']);
+    return $link;
+  }
+  return FALSE;
+}
diff --git a/sites/all/modules/features/includes/features.node.inc b/sites/all/modules/features/includes/features.node.inc
new file mode 100644
index 0000000..68ee705
--- /dev/null
+++ b/sites/all/modules/features/includes/features.node.inc
@@ -0,0 +1,159 @@
+<?php
+
+/**
+ * Implementation of hook_features_api().
+ */
+function node_features_api() {
+  return array(
+    'node' => array(
+      'name' => t('Content types'),
+      'feature_source' => TRUE,
+      'default_hook' => 'node_info',
+    ),
+  );
+}
+
+/**
+ * Implementation of hook_features_export_options().
+ */
+function node_features_export_options() {
+  return node_get_types('names');
+}
+
+/**
+ * Implementation of hook_features_export.
+ */
+function node_features_export($data, &$export, $module_name = '') {
+  $pipe = array();
+  $map = features_get_default_map('node');
+
+  foreach ($data as $type) {
+    // Poll node module to determine who provides the node type.
+    if ($info = node_get_types('module', $type)) {
+      $export['dependencies'][$info] = $info;
+
+      // If this node type is provided by a different module, add it as a dependency
+      if (isset($map[$type]) && $map[$type] != $module_name) {
+        $export['dependencies'][$map[$type]] = $map[$type];
+      }
+      // Otherwise export the node type.
+      elseif (in_array($info, array('node', 'features'))) {
+        $export['features']['node'][$type] = $type;
+      }
+
+      // Create a pipe for CCK fields
+      if (module_exists('content')) {
+        $content_info = content_types($type);
+        if (!empty($content_info['fields'])) {
+          foreach ($content_info['fields'] as $key => $field) {
+            $pipe['content'][] = "{$type}-{$field['field_name']}";
+          }
+          // If strongarm is present, create a pipe for the extra field weights
+          // variable to be exported.
+          if (module_exists('strongarm')) {
+            $pipe['variable'][] = "content_extra_weights_{$type}";
+          }
+        }
+        // Create a pipe for Fieldgroups
+        if (function_exists('fieldgroup_groups') && $groups = fieldgroup_groups($type)) {
+          foreach ($groups as $group) {
+            $pipe['fieldgroup'][] = "{$type}-{$group['group_name']}";
+          }
+        }
+      }
+    }
+  }
+
+  return $pipe;
+}
+
+/**
+ * Implementation of hook_features_export_render().
+ */
+function node_features_export_render($module, $data, $export = NULL) {
+  $elements = array(
+    'name' => TRUE,
+    'module' => FALSE,
+    'description' => TRUE,
+    'has_title' => FALSE,
+    'title_label' => TRUE,
+    'has_body' => FALSE,
+    'body_label' => TRUE,
+    'min_word_count' => FALSE,
+    'help' => TRUE,
+  );
+  $output = array();
+  $output[] = '  $items = array(';
+  foreach ($data as $type) {
+    if ($info = node_get_types('type', $type)) {
+      // Force module name to be 'features' if set to 'node. If we leave as
+      // 'node' the content type will be assumed to be database-stored by
+      // the node module.
+      $info->module = ($info->module === 'node') ? 'features' : $info->module;
+      $output[] = "    '{$type}' => array(";
+      foreach ($elements as $key => $t) {
+        if ($t) {
+          $text = str_replace("'", "\'", $info->$key);
+          $text = !empty($text) ? "t('{$text}')" : "''";
+          $output[] = "      '{$key}' => {$text},";
+        }
+        else {
+          $output[] = "      '{$key}' => '{$info->$key}',";
+        }
+      }
+      // Detect whether there are extra fields on this content type than have
+      // been described in defaults. If so, add an additional key to the node
+      // type info allowing it to be detected by Features as a component that can
+      // be reverted (delete those extra fields) or updated (export those extra
+      // fields to code).
+      // Note that this key is only added if $export is not set - ie. we never
+      // *actually* write this key to code.
+      if (!isset($export) && module_exists('content') && module_exists($module)) {
+        // If there are deleted fields, mark the content type as such
+        $deleted_fields = array_diff(content_features_fields_normal($type), content_features_fields_default($type));
+        if (!empty($deleted_fields)) {
+          $output[] = "      'content_has_extra_fields' => TRUE,";
+        }
+      }
+      $output[] = "    ),";
+    }
+  }
+  $output[] = '  );';
+  $output[] = '  return $items;';
+  $output = implode("\n", $output);
+  return array('node_info' => $output);
+}
+
+/**
+ * Implementation of hook_features_revert().
+ *
+ * @param $module
+ * name of module to revert content for
+ */
+function node_features_revert($module = NULL) {
+  if ($default_types = features_get_default('node', $module)) {
+    foreach ($default_types as $type_name => $type_info) {
+      // We need to de-activate any missing fields. De-activating allows us to
+      // preserve data. We de-activate by setting the widget_active flag to 0;
+      // widget_active is incorrectly named, and really should be
+      // instance_active
+      if (module_exists('content')) {
+        // Our existing fields ($fields) needs to be the first argument here,
+        // so only fields that don't exist in code can be de-activated.
+        if ($deleted_fields = array_diff(content_features_fields_normal($type_name), content_features_fields_default($type_name))) {
+          foreach($deleted_fields as $field_name) {
+            db_query("UPDATE {". content_instance_tablename() ."} SET widget_active = 0 WHERE field_name = '%s' AND type_name = '%s'", $field_name, $type_name);
+          }
+        }
+      }
+      // Delete node types
+      // We don't use node_type_delete() because we do not actually
+      // want to delete the node type (and invoke hook_node_type()).
+      // This can lead to bad consequences like CCK deleting field
+      // storage in the DB.
+      db_query("DELETE FROM {node_type} WHERE type = '%s'", $type_name);
+    }
+    node_types_rebuild();
+    menu_rebuild();
+  }
+}
diff --git a/sites/all/modules/features/includes/features.taxonomy.inc b/sites/all/modules/features/includes/features.taxonomy.inc
new file mode 100644
index 0000000..03ff464
--- /dev/null
+++ b/sites/all/modules/features/includes/features.taxonomy.inc
@@ -0,0 +1,168 @@
+<?php
+
+/**
+ * Implementation of hook_features_api().
+ */
+function taxonomy_features_api() {
+  return array(
+    'taxonomy' => array(
+      'name' => t('Taxonomy'),
+      'feature_source' => TRUE,
+      'default_hook' => 'taxonomy_default_vocabularies',
+      'default_file' => FEATURES_DEFAULTS_INCLUDED,
+    ),
+  );
+}
+
+/**
+ * Implementation of hook_features_export_options().
+ */
+function taxonomy_features_export_options() {
+  $vocabularies = array();
+  foreach (_taxonomy_features_get_vocabularies() as $machine_name => $vocabulary) {
+    $vocabularies[$machine_name] = $vocabulary->name;
+  }
+  return $vocabularies;
+}
+
+/**
+ * Implementation of hook_features_export().
+ *
+ * @todo Test adding existing dependencies.
+ */
+function taxonomy_features_export($data, &$export, $module_name = '') {
+  // taxonomy_default_vocabularies integration is provided by Features.
+  $export['dependencies']['features'] = 'features';
+  $export['dependencies']['taxonomy'] = 'taxonomy';
+
+  // Add dependencies for each vocabulary.
+  $map = features_get_default_map('taxonomy');
+  foreach ($data as $machine_name) {
+    if (isset($map[$machine_name]) && $map[$machine_name] != $module_name) {
+      $export['dependencies'][$map[$machine_name]] = $map[$machine_name];
+    }
+    else {
+      $export['features']['taxonomy'][$machine_name] = $machine_name;
+    }
+  }
+  return array();
+}
+
+/**
+ * Implementation of hook_features_export_render().
+ */
+function taxonomy_features_export_render($module, $data) {
+  $vocabularies = _taxonomy_features_get_vocabularies();
+  $code = array();
+  foreach ($data as $machine_name) {
+    foreach ($vocabularies as $k => $v) {
+      if ($k == $machine_name) {
+        unset($v->vid);
+        $code[$machine_name] = $v;
+      }
+    }
+  }
+  $code = "  return ". features_var_export($code, '  ') .";";
+  return array('taxonomy_default_vocabularies' => $code);
+}
+
+/**
+ * Implementation of hook_features_revert().
+ */
+function taxonomy_features_revert($module) {
+  taxonomy_features_rebuild($module);
+}
+
+/**
+ * Implementation of hook_features_rebuild().
+ *
+ * Rebuilds Taxonomy vocabularies from code defaults.
+ */
+function taxonomy_features_rebuild($module) {
+  if ($vocabularies = features_get_default('taxonomy', $module)) {
+    foreach ($vocabularies as $machine_name => $vocabulary) {
+      if ($vid = db_result(db_query("SELECT vid FROM {vocabulary} WHERE module = '%s'", 'features_' . $machine_name))) {
+        $vocabulary['vid'] = $vid;
+      }
+      taxonomy_save_vocabulary($vocabulary);
+    }
+  }
+}
+
+/**
+ * Retrieves all vocabularies viable for export.
+ *
+ * This function omits the vocabularies whose 'module' property doesn't begin
+ * with 'features_' so that only vocabularies with non-serial identifiers are returned.
+ */
+function _taxonomy_features_get_vocabularies() {
+  $vocabularies = array();
+  foreach (taxonomy_get_vocabularies() as $k => $vocabulary) {
+    if (strpos($vocabulary->module, 'features_') === 0) {
+      // Don't bother site builder with 'features_'.
+      $vocabularies[substr($vocabulary->module, 9)] = $vocabulary;
+    }
+  }
+  return $vocabularies;
+}
+
+/**
+ * @see features_form_taxonomy_form_vocabulary_alter().
+ */
+function _features_form_taxonomy_form_vocabulary_alter(&$form, &$form_state) {
+  $elem = array(
+    '#type' => 'textfield',
+    '#title' => t('Machine name'),
+    '#description' => t('A system name for this vocabulary, may not be changed once it has been set.'),
+  );
+
+  if (!isset($form['module']) || $form['module']['#value'] == 'taxonomy') {
+    // This vocabulary is new or wasn't assigned a machine name.
+    $elem['#element_validate'] = array('features_taxonomy_machine_name_validate');
+    unset($form['module']);
+  }
+  elseif (strpos($form['module']['#value'], 'features_') === 0) {
+    // Simply display the existing machine name if we have one.
+    $elem['#disabled'] = true;
+    $elem['#value'] = substr($form['module']['#value'], 9);
+  }
+  else {
+    // Some other module is responsible here, do nothing.
+    return;
+  }
+
+  // Position the machine name right after the vocab name without interfering
+  // with any explicit weights.
+  $new = array();
+  foreach ($form['identification'] as $k => $v) {
+    $new[$k] = $v;
+    if ($k == 'name') {
+      $new['module'] = $elem;
+    }
+  } 
+  $form['identification'] = $new;
+}
+
+// Validation handler for the machine name field.
+function features_taxonomy_machine_name_validate($element, &$form_state) {
+  // Validate format - lowecase + underscore only...
+  if (!empty($element['#value']) && !preg_match('!^[a-z0-9_]+$!', $element['#value'])) {
+    form_error($element, t('The machine name can only consist of lowercase letters, underscores, and numbers.'));
+  }
+
+  // If provided check machine name for conflicts and prepend with 'features'.
+  if (!empty($element['#value'])) {
+    $name = 'features_' . $element['#value'];
+    $vid = db_result(db_query("SELECT vid FROM {vocabulary} WHERE module = '%s'", $name));
+    if ($vid) {
+      form_error($element, t('This machine name is already taken. Please enter a unique machine name or this taxonomy.'));
+    }
+    else {
+      $form_state['values']['module'] = $name;
+    }
+  }
+  // Otherwise, default to the default module name 'taxonomy'.
+  else {
+    $form_state['values']['module'] = 'taxonomy';
+  }
+}
diff --git a/sites/all/modules/features/includes/features.user.inc b/sites/all/modules/features/includes/features.user.inc
new file mode 100644
index 0000000..c1c4c15
--- /dev/null
+++ b/sites/all/modules/features/includes/features.user.inc
@@ -0,0 +1,272 @@
+<?php
+
+/**
+ * Implementation of hook_features_api().
+ */
+function user_features_api() {
+  return array(
+    'user_role' => array(
+      'name' => t('Roles'),
+      'feature_source' => TRUE,
+      'default_hook' => 'user_default_roles',
+      'default_file' => FEATURES_DEFAULTS_INCLUDED,
+    ),
+    'user_permission' => array(
+      'name' => t('Permissions'),
+      'feature_source' => TRUE,
+      'default_hook' => 'user_default_permissions',
+      'default_file' => FEATURES_DEFAULTS_INCLUDED,
+    ),
+    // DEPRECATED
+    'user' => array(
+      'name' => t('Permissions'),
+      'feature_source' => FALSE,
+    )
+  );
+}
+
+/**
+ * Implementation of hook_features_export().
+ * DEPRECATED: This implementation simply migrates deprecated `user` items
+ * to the `user_permission` type.
+ */
+function user_features_export($data, &$export, $module_name = '') {
+  $pipe = array();
+  foreach ($data as $perm) {
+    $pipe['user_permission'][] = $perm;
+  }
+  return $pipe;
+}
+
+/**
+ * Implementation of hook_features_export().
+ */
+function user_permission_features_export($data, &$export, $module_name = '') {
+  $export['dependencies']['features'] = 'features';
+
+  // Ensure the modules that provide the given permissions are included as dependencies.
+  $map = _user_features_permission_map();
+  foreach ($data as $perm) {
+    if (isset($map[$perm])) {
+      $perm_module = $map[$perm];
+      $export['dependencies'][$perm_module] = $perm_module;
+      $export['features']['user_permission'][$perm] = $perm;
+    }
+  }
+
+  return array();
+}
+
+/**
+ * Implementation of hook_features_export_options().
+ */
+function user_permission_features_export_options() {
+  $options = array();
+  foreach (module_list() as $module) {
+    $prefix = check_plain($module) .': ';
+    if ($permissions = module_invoke($module, 'perm')) {
+      foreach ($permissions as $permission) {
+        $options[$permission] = $prefix . check_plain($permission);
+      }
+    }
+  }
+  asort($options);
+  return $options;
+}
+
+/**
+ * Implementation of hook_features_export_render().
+ */
+function user_permission_features_export_render($module, $data) {
+  $code = array();
+  $code[] = '  $permissions = array();';
+  $code[] = '';
+
+  $permissions = _user_features_get_permissions();
+
+  foreach ($data as $perm_name) {
+    $permission = array();
+    $permission['name'] = $perm_name;
+    if (isset($permissions[$perm_name])) {
+      sort($permissions[$perm_name]);
+      $permission['roles'] = $permissions[$perm_name];
+    }
+    else {
+      $permission['roles'] = array();
+    }
+    $perm_identifier = features_var_export($perm_name);
+    $perm_export = features_var_export($permission, '  ');
+    $code[] = "  // Exported permission: {$perm_name}";
+    $code[] = "  \$permissions[{$perm_identifier}] = {$perm_export};";
+    $code[] = "";
+  }
+
+  $code[] = '  return $permissions;';
+  $code = implode("\n", $code);
+  return array('user_default_permissions' => $code);
+}
+
+/**
+ * Implementation of hook_features_revert().
+ */
+function user_permission_features_revert($module) {
+  user_permission_features_rebuild($module);
+}
+
+/**
+ * Implementation of hook_features_rebuild().
+ * Iterate through default permissions and update the permissions map.
+ *
+ * @param $module
+ *   The module whose default user permissions should be rebuilt.
+ */
+function user_permission_features_rebuild($module) {
+  if ($defaults = features_get_default('user_permission', $module)) {
+    $roles = _features_get_roles();
+    foreach ($defaults as $permission) {
+      $perm = $permission['name'];
+
+      // Add permissions for any roles that should have them.
+      foreach ($permission['roles'] as $role) {
+        if (isset($roles[$role]) && !in_array($perm, $roles[$role]['perm'])) {
+          $roles[$role]['perm'][] = $perm;
+        }
+      }
+
+      // Remove permissions for any roles that shouldn't have them.
+      foreach (array_keys($roles) as $role) {
+        if (in_array($perm, $roles[$role]['perm']) && !in_array($role, $permission['roles'])) {
+          $position = array_search($perm, $roles[$role]['perm']);
+          unset($roles[$role]['perm'][$position]);
+        }
+      }
+    }
+    // Write the updated permissions.
+    _user_features_save_roles($roles);
+  }
+}
+
+/**
+ * Implementation of hook_features_export().
+ */
+function user_role_features_export($data, &$export, $module_name = '') {
+  $export['dependencies']['features'] = 'features';
+  $map = features_get_default_map('user_role', 'name');
+  foreach ($data as $role) {
+    // Role is provided by another module. Add dependency.
+    if (isset($map[$role]) && $map[$role] != $module_name) {
+      $export['dependencies'][$map[$role]] = $map[$role];
+    }
+    // Export.
+    else {
+      $export['features']['user_role'][$role] = $role;
+    }
+  }
+  return array();
+}
+
+/**
+ * Implementation of hook_features_export_options().
+ */
+function user_role_features_export_options() {
+  $options = drupal_map_assoc(array_keys(_features_get_roles()));
+  asort($options);
+  return $options;
+}
+
+/**
+ * Implementation of hook_features_export_render().
+ */
+function user_role_features_export_render($module, $data) {
+  $code = array();
+  $code[] = '  $roles = array();';
+  $code[] = '';
+
+  $roles = _features_get_roles();
+  foreach ($data as $role) {
+    if (isset($roles[$role])) {
+      $object = array('name' => $role);
+      $role_identifier = features_var_export($role);
+      $role_export = features_var_export($object , '  ');
+      $code[] = "  // Exported role: {$role}";
+      $code[] = "  \$roles[{$role_identifier}] = {$role_export};";
+      $code[] = "";
+    }
+  }
+
+  $code[] = '  return $roles;';
+  $code = implode("\n", $code);
+  return array('user_default_roles' => $code);
+}
+
+/**
+ * Implementation of hook_features_revert().
+ */
+function user_role_features_revert($module) {
+  user_role_features_rebuild($module);
+}
+
+/**
+ * Implementation of hook_features_rebuild().
+ */
+function user_role_features_rebuild($module) {
+  if ($defaults = features_get_default('user_role', $module)) {
+    $roles = _features_get_roles();
+    foreach ($defaults as $role) {
+      if (!isset($roles[$role['name']])) {
+        drupal_write_record('role', $role);
+      }
+    }
+  }
+}
+
+/**
+ * Generate a perm to module mapping.
+ */
+function _user_features_permission_map($reset = FALSE) {
+  static $map;
+  if (!isset($map) || $reset) {
+    $map = array();
+    foreach (module_implements('perm') as $module) {
+      if ($permissions = module_invoke($module, 'perm')) {
+        foreach ($permissions as $permission) {
+          $map[$permission] = $module;
+        }
+      }
+    }
+  }
+  return $map;
+}
+
+/**
+ * Represent the current state of permissions as a perm to role name array map.
+ */
+function _user_features_get_permissions() {
+  $result = db_query("SELECT p.perm, r.name FROM {role} r INNER JOIN {permission} p ON p.rid = r.rid ORDER BY r.rid ASC, p.perm ASC");
+  $permissions = array();
+  while ($row = db_fetch_object($result)) {
+    $role = $row->name;
+    $role_perms = explode(', ', $row->perm);
+    foreach ($role_perms as $perm) {
+      if (!isset($permissions[$perm])) {
+        $permissions[$perm] = array();
+      }
+      if(!in_array($role, $permissions[$perm])) {
+        $permissions[$perm][] = $role;
+      }
+    }
+  }
+  return $permissions;
+}
+
+/**
+ * Save/update an array of roles to the database.
+ */
+function _user_features_save_roles($roles) {
+  // Write the updated permissions.
+  foreach ($roles as $role) {
+    db_query("DELETE FROM {permission} WHERE rid = %d", $role['rid']);
+    $role['perm'] = implode(', ', $role['perm']);
+    drupal_write_record('permission', $role);
+  }
+}
diff --git a/sites/all/modules/features/includes/features.views.inc b/sites/all/modules/features/includes/features.views.inc
new file mode 100644
index 0000000..85edb10
--- /dev/null
+++ b/sites/all/modules/features/includes/features.views.inc
@@ -0,0 +1,266 @@
+<?php
+
+/**
+ * Implementation of hook_features_export().
+ */
+function views_api_features_export($data, &$export, $module_name = '') {
+  // Add views dependency
+  $export['dependencies']['views'] = 'views';
+
+  // Add the actual views API hook entries to be accounted for in
+  // hook_views_api(). The components are actually identified by a delimited
+  // list of values: `key:value`. Currently only the 'api' key is supported
+  // as Features does not yet know how to write to subdirectories.
+  foreach ($data as $component) {
+    if (is_numeric($component)) {
+      $version = "api:{$component}";
+      $export['features']['views_api'][$version] = $version;
+    }
+  }
+
+  return array();
+}
+
+/**
+ * Implementation of hook_features_export_render().
+ * Adds the views mothership hook, views_api().
+ */
+function views_api_features_export_render($module, $data) {
+  $values = array();
+  foreach ($data as $component) {
+    $split = explode(':', $component);
+    if (count($split) === 2) {
+      list($key, $value) = $split;
+      $values[$key] = $value;
+    }
+  }
+  $code = '  return ' . features_var_export($values, '  ') . ';';
+  return array('views_api' => $code);
+}
+
+/**
+ * Implementation of hook_features_api().
+ */
+function views_features_api() {
+  return array(
+    'views' => array(
+      'name' => t('Views'),
+      'feature_source' => TRUE,
+      'default_hook' => 'views_default_views',
+      'default_file' => FEATURES_DEFAULTS_CUSTOM,
+      'default_filename' => 'views_default',
+    ),
+    'views_api' => array(
+      'name' => t('Views API'),
+      'feature_source' => FALSE,
+      'duplicates' => FEATURES_DUPLICATES_ALLOWED,
+      // Views API integration does not include a default hook declaration as
+      // it is not a proper default hook.
+      // 'default_hook' => 'views_api',
+    )
+  );
+}
+
+/**
+ * Implementation of hook_features_export_options().
+ */
+function views_features_export_options() {
+  $enabled_views = array();
+  $views = views_get_all_views();
+  foreach ($views as $view) {
+    if (!isset($views[$view->name]->disabled) || !$views[$view->name]->disabled) {
+      $enabled_views[$view->name] = $view->name;
+    }
+  }
+  ksort($enabled_views);
+  return $enabled_views;
+}
+
+/**
+ * Implementation of hook_features_export_render().
+ */
+function views_features_export_render($module, $data) {
+  $code = array();
+  $code[] = '  $views = array();';
+  $code[] = '';
+
+  // Build views & add to export array
+  foreach ($data as $view_name) {
+    // Build the view
+    $view = views_get_view($view_name, TRUE);
+    if ($view) {
+      $code[] = '  // Exported view: '. $view_name;
+      $code[] = $view->export('  ');
+      $code[] = '  $views[$view->name] = $view;';
+      $code[] = '';
+    }
+  }
+  $code[] = '  return $views;';
+  $code = implode("\n", $code);
+  return array('views_default_views' => $code);
+}
+
+/**
+ * Implementation of hook_features_export().
+ */
+function views_features_export($data, &$export, $module_name = '') {
+  // Build views & add to export array
+  $map = features_get_default_map('views', 'name');
+  $views = array();
+  $conflicts = array();
+  foreach ($data as $view_name) {
+    if ($view = views_get_view($view_name, TRUE)) {
+      // This view is provided by another module. Add it as a dependency or
+      // display a conflict message if the View is overridden.
+      if (isset($map[$view_name]) && $map[$view_name] !== $module_name) {
+        if ($v = views_get_view($view_name)) {
+          if ($v->type === 'Overridden') {
+            $conflicts[$map[$view_name]] = $view_name;
+          }
+          elseif ($v->type === 'Default') {
+            $export['dependencies'][$map[$view_name]] = $map[$view_name];
+          }
+        }
+      }
+      // Otherwise just add to exports
+      else {
+        $export['features']['views'][$view_name] = $view_name;
+        $views[$view_name] = $view;
+      }
+    }
+  }
+  if (!empty($conflicts)) {
+    $message = 'The following overridden view(s) are provided by other modules: !views. To resolve this problem either revert each view or clone each view so that modified versions can be exported with your feature.';
+    $tokens = array('!views' => implode(', ', $conflicts));
+    features_log(t($message, $tokens), 'warning');
+  }
+
+  // Only add Views API hook if there are actually views to export.
+  if (!empty($export['features']['views'])) {
+    $export['features']['views_api']['api:'. views_api_version()] = 'api:'. views_api_version();
+    $export['dependencies']['views'] = 'views';
+  }
+
+  // Discover module dependencies
+  // We need to find dependencies based on:
+  // 1. handlers
+  // 2. plugins (style plugins, display plugins)
+  // 3. other... (e.g. imagecache display option for CCK imagefields) : (
+
+  // Handlers
+  $handlers = array('fields', 'filters', 'arguments', 'sort', 'relationships');
+  $handler_dependencies = views_handler_dependencies();
+
+  // Plugins
+  // For now we only support dependency detection for a subset of all views plugins
+  $plugins = array('display', 'style', 'row', 'access');
+  $plugin_dependencies = views_plugin_dependencies();
+
+  foreach ($views as $view) {
+    foreach ($view->display as $display) {
+      // Handlers
+      foreach ($handlers as $handler) {
+        if (isset($display->display_options[$handler])) {
+          foreach ($display->display_options[$handler] as $item) {
+            if ($item['table'] && isset($handler_dependencies[$item['table']])) {
+              $module = $handler_dependencies[$item['table']];
+              $export['dependencies'][$module] = $module;
+            }
+          }
+        }
+      }
+
+      // Plugins
+      foreach ($plugins as $plugin_type) {
+        $plugin_name = '';
+        switch ($plugin_type) {
+          case 'display':
+            if (isset($display->display_plugin)) {
+              $plugin_name = $display->display_plugin;
+            }
+            break;
+          case 'access':
+            if (isset($display->display_options['access'], $display->display_options['access']['type']) && $display->display_options['access']['type'] != 'none') {
+              $plugin_name = $display->display_options['access']['type'];
+            }
+            break;
+          default:
+            if (isset($display->display_options["{$plugin_type}_plugin"])) {
+              $plugin_name = $display->display_options["{$plugin_type}_plugin"];
+            }
+            break;
+        }
+        if (!empty($plugin_name) && isset($plugin_dependencies[$plugin_type][$plugin_name])) {
+          $module = $plugin_dependencies[$plugin_type][$plugin_name];
+          $export['dependencies'][$module] = $module;
+        }
+      }
+    }
+  }
+}
+
+/**
+ * Provides an array that maps hook_views_data() tables to modules.
+ */
+function views_handler_dependencies() {
+  views_include_handlers();
+
+  static $map;
+  if (!isset($map)) {
+    $map = array();
+    foreach (module_implements('views_data') as $module) {
+      if ($tables = module_invoke($module, 'views_data')) {
+        foreach ($tables as $table => $info) {
+          if (isset($info['table'])) {
+            $map[$table] = $module;
+          }
+          else if (!isset($map[$table])) {
+            $map[$table] = $module;
+          }
+        }
+      }
+    }
+  }
+  return $map;
+}
+
+/**
+ * Provides an array that maps hook_views_plugins() to modules.
+ */
+function views_plugin_dependencies() {
+  views_include_handlers();
+
+  static $map;
+  if (!isset($map)) {
+    $map = array();
+    foreach (module_implements('views_plugins') as $module) {
+      $plugins = module_invoke($module, 'views_plugins');
+      if (!empty($plugins)) {
+        foreach ($plugins as $type => $items) {
+          if (is_array($items)) {
+            foreach (array_keys($items) as $plugin_name) {
+              $map[$type][$plugin_name] = $module;
+            }
+          }
+        }
+      }
+    }
+  }
+  return $map;
+}
+
+/**
+ * Implementation of hook_features_revert().
+ */
+function views_features_revert($module) {
+  if ($default_views = features_get_default('views', $module)) {
+    foreach ($default_views as $default_view) {
+      if ($current_view = views_get_view($default_view->name)) {
+        $current_view->delete(FALSE);
+      }
+    }
+    // Flush caches.
+    cache_clear_all();
+    menu_rebuild();
+  }
+}
diff --git a/sites/all/modules/features/tests/features.test b/sites/all/modules/features/tests/features.test
new file mode 100644
index 0000000..cb733ef
--- /dev/null
+++ b/sites/all/modules/features/tests/features.test
@@ -0,0 +1,214 @@
+<?php
+
+/**
+ * User permission component tests for Features
+ */
+class FeaturesUserTestCase extends DrupalWebTestCase {
+  /**
+   * Test info.
+   */
+  public function getInfo() {
+    return array(
+      'name' => t('Component tests'),
+      'description' => t('Run tests for components of Features.') ,
+      'group' => t('Features'),
+    );
+  }
+
+  /**
+   * Set up test.
+   */
+  public function setUp() {
+    parent::setUp(
+      // Note that the test will only run for the components that are
+      // properly enabled here.
+      'fieldgroup',
+      'text',
+      'content',
+      'context',
+      'ctools',
+      'views',
+      'imageapi',
+      'imagecache',
+
+      'features',
+      'features_test'
+    );
+
+    // Run a features rebuild to ensure our feature is fully installed.
+    features_rebuild();
+
+    $admin_user = $this->drupalCreateUser(array('administer features'));
+    $this->drupalLogin($admin_user);
+  }
+
+  /**
+   * Run test.
+   */
+  public function test() {
+    module_load_include('inc', 'features', 'features.export');
+
+    $components = array_filter(array(
+      'content' => 'content',
+      // 'context' => 'context', // @TODO write tests for context.
+      'fieldgroup' => 'fieldgroup',
+      'filter' => 'filter',
+      'imagecache' => 'imagecache',
+      'node' => 'node',
+      'user_permission' => 'user',
+      'views' => 'views',
+    ), 'module_exists');
+
+    foreach (array_keys($components) as $component) {
+      $callback = "_test_{$component}";
+
+      // Ensure that the component/default is properly available.
+      $object = $this->$callback('load', $id);
+      $this->assertTrue(!empty($object), t('@component present.', array('@component' => $component)));
+
+      // Ensure that the component is defaulted.
+      $states = features_get_component_states(array('features_test'), FALSE, TRUE);
+      $this->assertTrue($states['features_test'][$component] === FEATURES_DEFAULT, t('@component state: Default.', array('@component' => $component)));
+
+      // Override component and test that Features detects the override.
+      $this->$callback('override', $this);
+      $states = features_get_component_states(array('features_test'), FALSE, TRUE);
+      $this->assertTrue($states['features_test'][$component] === FEATURES_OVERRIDDEN, t('@component state: Overridden.', array('@component' => $component)));
+    }
+
+    // Revert component and ensure that component has reverted.
+    // Do this in separate loops so we only have to run
+    // drupal_flush_all_caches() once.
+    foreach ($components as $component) {
+      features_revert(array('features_test' => array($component)));
+    }
+    drupal_flush_all_caches();
+    foreach ($components as $component) {
+      $states = features_get_component_states(array('features_test'), FALSE, TRUE);
+      $this->assertTrue($states['features_test'][$component] === FEATURES_DEFAULT, t('@component reverted.', array('@component' => $component)));
+    }
+  }
+
+  protected function _test_content($op = 'load') {
+    switch ($op) {
+      case 'load':
+        return content_fields('field_features_test', 'features_test');
+      case 'override':
+        module_load_include('inc', 'content', 'includes/content.crud');
+        $field = content_fields('field_features_test', 'features_test');
+        $field['widget']['label'] = 'Foo bar';
+        content_field_instance_update($field, TRUE);
+        break;
+    }
+  }
+
+  protected function _test_fieldgroup($op = 'load') {
+    $groups = fieldgroup_groups('features_test', FALSE, TRUE);
+    $group = $groups['group_features_test'];
+    switch ($op) {
+      case 'load':
+        return $group;
+      case 'override':
+        $group['settings']['display']['teaser'] = 'fieldset_collapsible';
+        $group['fields'] = array('0' => 'field_features_test_child_a');
+
+        // Update each field from this group.
+        foreach ($group['fields'] as $field_name) {
+          if ($field = content_fields($field_name, 'features_test')) {
+            $field['group'] = $group['group_features_test'];
+            fieldgroup_update_fields($field);
+          }
+        }
+
+        // Save the group itself.
+        fieldgroup_save_group('features_test', $group);
+        break;
+    }
+  }
+
+  protected function _test_filter($op = 'load') {
+    // So... relying on our own API functions to test is pretty lame.
+    // But these modules don't have APIs either. So might as well use
+    // the ones we've written for them...
+    features_include();
+    $formats = _filter_get_formats();
+    foreach ($formats as $k => $v) {
+      if ($v['name'] === 'features_test') {
+        $format = $v;
+        $format_id = $k;
+      }
+    }
+
+    switch ($op) {
+      case 'load':
+        return isset($format) ? $format : FALSE;
+      case 'override':
+        if (isset($format_id)) {
+          db_query("DELETE FROM {filters} WHERE module = 'filter' AND format = %d AND delta = %d", $format_id, 0);
+        }
+        break;
+    }
+  }
+
+  protected function _test_imagecache($op = 'load', &$test) {
+    switch ($op) {
+      case 'load':
+        return imagecache_preset_by_name('features_test');
+      case 'override':
+        $preset = imagecache_preset_by_name('features_test');
+        $preset = imagecache_preset_save($preset);
+        foreach ($preset['actions'] as $action) {
+          $action['data']['width'] = '50%';
+          $action['presetid'] = $preset['presetid'];
+          imagecache_action_save($action);
+        }
+        break;
+    }
+  }
+
+  protected function _test_node($op = 'load') {
+    switch ($op) {
+      case 'load':
+        return node_get_types('type', 'features_test');
+      case 'override':
+        $type = node_get_types('type', 'features_test');
+        $type->description = 'Foo bar baz.';
+        $type->modified = TRUE;
+        node_type_save($type);
+        break;
+    }
+  }
+
+  protected function _test_views($op = 'load') {
+    switch ($op) {
+      case 'load':
+        return views_get_view('features_test', TRUE);
+      case 'override':
+        $view = views_get_view('features_test', TRUE);
+        $view->set_display('default');
+        $view->display_handler->override_option('title', 'Foo bar');
+        $view->save();
+        break;
+    }
+  }
+
+  protected function _test_user_permission($op = 'load') {
+    switch ($op) {
+      case 'load':
+        // So... relying on our own API functions to test is pretty lame.
+        // But these modules don't have APIs either. So might as well use
+        // the ones we've written for them...
+        features_include();
+        $permissions = _user_features_get_permissions();
+        return isset($permissions['create features_test content']) ? $permissions['create features_test content'] : FALSE;
+      case 'override':
+        $roles = _features_get_roles();
+        if (in_array('create features_test content', $roles['authenticated user']['perm'])) {
+          $position = array_search('create features_test content', $roles['authenticated user']['perm']);
+          unset($roles['authenticated user']['perm'][$position]);
+        }
+        _user_features_save_roles($roles);
+        break;
+    }
+  }
+}
diff --git a/sites/all/modules/features/tests/features_test.features.content.inc b/sites/all/modules/features/tests/features_test.features.content.inc
new file mode 100644
index 0000000..06890ca
--- /dev/null
+++ b/sites/all/modules/features/tests/features_test.features.content.inc
@@ -0,0 +1,198 @@
+<?php
+
+/**
+ * Implementation of hook_content_default_fields().
+ */
+function features_test_content_default_fields() {
+  $fields = array();
+
+  // Exported field: field_features_test
+  $fields['features_test-field_features_test'] = array(
+    'field_name' => 'field_features_test',
+    'type_name' => 'features_test',
+    'display_settings' => array(
+      'label' => array(
+        'format' => 'above',
+        'exclude' => 0,
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'text',
+    'required' => '0',
+    'multiple' => '0',
+    'module' => 'text',
+    'active' => '1',
+    'text_processing' => '0',
+    'max_length' => '',
+    'allowed_values' => '',
+    'allowed_values_php' => '',
+    'widget' => array(
+      'rows' => 5,
+      'size' => '60',
+      'default_value' => array(
+        '0' => array(
+          'value' => '',
+          '_error_element' => 'default_value_widget][field_features_test][0][value',
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'Test',
+      'weight' => '21',
+      'description' => '',
+      'type' => 'text_textfield',
+      'module' => 'text',
+    ),
+  );
+
+  // Exported field: field_features_test_child_a
+  $fields['features_test-field_features_test_child_a'] = array(
+    'field_name' => 'field_features_test_child_a',
+    'type_name' => 'features_test',
+    'display_settings' => array(
+      'label' => array(
+        'format' => 'above',
+        'exclude' => 0,
+      ),
+      '5' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'text',
+    'required' => '0',
+    'multiple' => '0',
+    'module' => 'text',
+    'active' => '1',
+    'text_processing' => '0',
+    'max_length' => '',
+    'allowed_values' => '',
+    'allowed_values_php' => '',
+    'widget' => array(
+      'rows' => 5,
+      'size' => '60',
+      'default_value' => array(
+        '0' => array(
+          'value' => '',
+          '_error_element' => 'default_value_widget][field_features_test_child_a][0][value',
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'Test childfield',
+      'weight' => '31',
+      'description' => '',
+      'type' => 'text_textfield',
+      'module' => 'text',
+    ),
+  );
+
+  // Exported field: field_features_test_child_b
+  $fields['features_test-field_features_test_child_b'] = array(
+    'field_name' => 'field_features_test_child_b',
+    'type_name' => 'features_test',
+    'display_settings' => array(
+      'label' => array(
+        'format' => 'above',
+        'exclude' => 0,
+      ),
+      '5' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'text',
+    'required' => '0',
+    'multiple' => '0',
+    'module' => 'text',
+    'active' => '1',
+    'text_processing' => '0',
+    'max_length' => '',
+    'allowed_values' => '',
+    'allowed_values_php' => '',
+    'widget' => array(
+      'rows' => 5,
+      'size' => '60',
+      'default_value' => array(
+        '0' => array(
+          'value' => '',
+          '_error_element' => 'default_value_widget][field_features_test_child_b][0][value',
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'Test childfield',
+      'weight' => '32',
+      'description' => '',
+      'type' => 'text_textfield',
+      'module' => 'text',
+    ),
+  );
+
+  // Translatables
+  array(
+    t('Test'),
+    t('Test childfield'),
+  );
+
+  return $fields;
+}
diff --git a/sites/all/modules/features/tests/features_test.features.fieldgroup.inc b/sites/all/modules/features/tests/features_test.features.fieldgroup.inc
new file mode 100644
index 0000000..d825477
--- /dev/null
+++ b/sites/all/modules/features/tests/features_test.features.fieldgroup.inc
@@ -0,0 +1,66 @@
+<?php
+
+/**
+ * Implementation of hook_fieldgroup_default_groups().
+ */
+function features_test_fieldgroup_default_groups() {
+  $groups = array();
+
+  // Exported group: group_features_test
+  $groups['features_test-group_features_test'] = array(
+    'group_type' => 'standard',
+    'type_name' => 'features_test',
+    'group_name' => 'group_features_test',
+    'label' => 'Test fieldgroup',
+    'settings' => array(
+      'form' => array(
+        'style' => 'fieldset',
+        'description' => '',
+      ),
+      'display' => array(
+        'description' => '',
+        'label' => 'above',
+        '5' => array(
+          'format' => 'fieldset',
+          'exclude' => 0,
+        ),
+        'teaser' => array(
+          'format' => 'fieldset',
+          'exclude' => 0,
+        ),
+        'full' => array(
+          'format' => 'fieldset',
+          'exclude' => 0,
+        ),
+        '4' => array(
+          'format' => 'fieldset',
+          'exclude' => 0,
+        ),
+        '2' => array(
+          'format' => 'fieldset',
+          'exclude' => 0,
+        ),
+        '3' => array(
+          'format' => 'fieldset',
+          'exclude' => 0,
+        ),
+        'token' => array(
+          'format' => 'fieldset',
+          'exclude' => 0,
+        ),
+      ),
+    ),
+    'weight' => '35',
+    'fields' => array(
+      '0' => 'field_features_test_child_a',
+      '1' => 'field_features_test_child_b',
+    ),
+  );
+
+  // Translatables
+  array(
+    t('Test fieldgroup'),
+  );
+
+  return $groups;
+}
diff --git a/sites/all/modules/features/tests/features_test.features.filter.inc b/sites/all/modules/features/tests/features_test.features.filter.inc
new file mode 100644
index 0000000..6a7bee9
--- /dev/null
+++ b/sites/all/modules/features/tests/features_test.features.filter.inc
@@ -0,0 +1,42 @@
+<?php
+
+/**
+ * Implementation of hook_filter_default_formats().
+ */
+function features_test_filter_default_formats() {
+  $formats = array();
+
+  // Exported format: features_test
+  $formats['features_test'] = array(
+    'name' => 'features_test',
+    'roles' => array(
+      '0' => 'anonymous user',
+      '1' => 'authenticated user',
+      '2' => 'manager',
+    ),
+    'filters' => array(
+      '0' => array(
+        'module' => 'filter',
+        'delta' => '2',
+        'weight' => '0',
+      ),
+      '1' => array(
+        'module' => 'filter',
+        'delta' => '0',
+        'weight' => '1',
+      ),
+      '2' => array(
+        'module' => 'filter',
+        'delta' => '1',
+        'weight' => '2',
+      ),
+      '3' => array(
+        'module' => 'filter',
+        'delta' => '3',
+        'weight' => '10',
+      ),
+    ),
+  );
+
+  return $formats;
+}
diff --git a/sites/all/modules/features/tests/features_test.features.inc b/sites/all/modules/features/tests/features_test.features.inc
new file mode 100644
index 0000000..b0c2a06
--- /dev/null
+++ b/sites/all/modules/features/tests/features_test.features.inc
@@ -0,0 +1,54 @@
+<?php
+
+/**
+ * Implementation of hook_imagecache_default_presets().
+ */
+function features_test_imagecache_default_presets() {
+  $items = array(
+    'features_test' => array(
+      'presetname' => 'features_test',
+      'actions' => array(
+        '0' => array(
+          'weight' => '0',
+          'module' => 'imagecache',
+          'action' => 'imagecache_scale',
+          'data' => array(
+            'width' => '100%',
+            'height' => '100%',
+            'upscale' => 0,
+          ),
+        ),
+      ),
+    ),
+  );
+  return $items;
+}
+
+/**
+ * Implementation of hook_node_info().
+ */
+function features_test_node_info() {
+  $items = array(
+    'features_test' => array(
+      'name' => t('Testing: Features'),
+      'module' => 'features',
+      'description' => t('Content type provided for Features tests.'),
+      'has_title' => '1',
+      'title_label' => t('Title'),
+      'has_body' => '1',
+      'body_label' => t('Body'),
+      'min_word_count' => '0',
+      'help' => '',
+    ),
+  );
+  return $items;
+}
+
+/**
+ * Implementation of hook_views_api().
+ */
+function features_test_views_api() {
+  return array(
+    'api' => '2',
+  );
+}
diff --git a/sites/all/modules/features/tests/features_test.features.user_permission.inc b/sites/all/modules/features/tests/features_test.features.user_permission.inc
new file mode 100644
index 0000000..5e1c3bb
--- /dev/null
+++ b/sites/all/modules/features/tests/features_test.features.user_permission.inc
@@ -0,0 +1,19 @@
+<?php
+
+/**
+ * Implementation of hook_user_default_permissions().
+ */
+function features_test_user_default_permissions() {
+  $permissions = array();
+
+  // Exported permission: create features_test content
+  $permissions['create features_test content'] = array(
+    'name' => 'create features_test content',
+    'roles' => array(
+      '0' => 'anonymous user',
+      '1' => 'authenticated user',
+    ),
+  );
+
+  return $permissions;
+}
diff --git a/sites/all/modules/features/tests/features_test.info b/sites/all/modules/features/tests/features_test.info
new file mode 100644
index 0000000..0c514bf
--- /dev/null
+++ b/sites/all/modules/features/tests/features_test.info
@@ -0,0 +1,25 @@
+core = "6.x"
+dependencies[] = "features"
+dependencies[] = "fieldgroup"
+dependencies[] = "text"
+dependencies[] = "views"
+description = "Test module for Features testing."
+features[content][] = "features_test-field_features_test"
+features[content][] = "features_test-field_features_test_child_a"
+features[content][] = "features_test-field_features_test_child_b"
+features[fieldgroup][] = "features_test-group_features_test"
+features[filter][] = "features_test"
+features[imagecache][] = "features_test"
+features[node][] = "features_test"
+features[user_permission][] = "create features_test content"
+features[views][] = "features_test"
+features[views_api][] = "api:2"
+name = "Features Tests"
+package = "Testing"
+
+; Information added by drupal.org packaging script on 2011-07-14
+version = "6.x-1.1"
+core = "6.x"
+project = "features"
+datestamp = "1310653316"
+
diff --git a/sites/all/modules/features/tests/features_test.module b/sites/all/modules/features/tests/features_test.module
new file mode 100644
index 0000000..762d6e5
--- /dev/null
+++ b/sites/all/modules/features/tests/features_test.module
@@ -0,0 +1,3 @@
+<?php
+
+include_once('features_test.features.inc');
diff --git a/sites/all/modules/features/tests/features_test.views_default.inc b/sites/all/modules/features/tests/features_test.views_default.inc
new file mode 100644
index 0000000..10a63b6
--- /dev/null
+++ b/sites/all/modules/features/tests/features_test.views_default.inc
@@ -0,0 +1,32 @@
+<?php
+
+/**
+ * Implementation of hook_views_default_views().
+ */
+function features_test_views_default_views() {
+  $views = array();
+
+  // Exported view: features_test
+  $view = new view;
+  $view->name = 'features_test';
+  $view->description = 'Test view provided by Features testing module.';
+  $view->tag = 'testing';
+  $view->view_php = '';
+  $view->base_table = 'node';
+  $view->is_cacheable = FALSE;
+  $view->api_version = 2;
+  $view->disabled = FALSE; /* Edit this to true to make a default view disabled initially */
+  $handler = $view->new_display('default', 'Defaults', 'default');
+  $handler->override_option('access', array(
+    'type' => 'none',
+  ));
+  $handler->override_option('cache', array(
+    'type' => 'none',
+  ));
+  $handler->override_option('title', 'Test');
+  $handler->override_option('row_plugin', 'node');
+
+  $views[$view->name] = $view;
+
+  return $views;
+}
diff --git a/sites/all/modules/features/theme/features-admin-components.tpl.php b/sites/all/modules/features/theme/features-admin-components.tpl.php
new file mode 100644
index 0000000..6904e7e
--- /dev/null
+++ b/sites/all/modules/features/theme/features-admin-components.tpl.php
@@ -0,0 +1,23 @@
+<?php
+?>
+<div class='clear-block features-components'>
+  <div class='column'>
+    <div class='info'>
+      <h3><?php print $name ?></h3>
+      <div class='description'><?php print $description ?></div>
+      <?php print $dependencies ?>
+    </div>
+  </div>
+  <div class='column'>
+    <div class='components'>
+      <?php print $components ?>
+      <?php if (!empty($key)): ?>
+        <div class='clear-block features-key'><?php print theme('links', $key) ?></div>
+      <?php endif; ?>
+      <?php if (!empty($buttons)): ?>
+        <div class='buttons clear-block'><?php print $buttons ?></div>
+      <?php endif; ?>
+    </div>
+  </div>
+  <?php print $form ?>
+</div>
\ No newline at end of file
diff --git a/sites/all/modules/features/theme/features-form.tpl.php b/sites/all/modules/features/theme/features-form.tpl.php
new file mode 100644
index 0000000..e1db183
--- /dev/null
+++ b/sites/all/modules/features/theme/features-form.tpl.php
@@ -0,0 +1,18 @@
+<?php
+?>
+<div class='features-form clear-block'>
+  <?php if (count($packages) > 1): ?>
+    <div class='features-form-content'>
+      <?php foreach ($packages as $class => $package): ?>
+        <div class='features-form-package package-<?php print $class?>'><?php print drupal_render($package) ?></div>
+      <?php endforeach; ?>
+      <?php print drupal_render($form) ?>
+    </div>
+    <div class='features-form-links'><?php print theme('links', $package_links, array('id' => 'features-form-links')) ?></div>
+  <?php elseif (count($packages) == 1): ?>
+    <?php print drupal_render($packages) ?>
+    <?php print drupal_render($form) ?>
+  <?php else: ?>
+    <?php print t('No features; consider <a href="!url">adding one.</a>', array('!url' => url('admin/build/features/create'))); ?>
+  <?php endif; ?>
+</div>
diff --git a/sites/all/modules/features/theme/theme.inc b/sites/all/modules/features/theme/theme.inc
new file mode 100644
index 0000000..36f4787
--- /dev/null
+++ b/sites/all/modules/features/theme/theme.inc
@@ -0,0 +1,347 @@
+<?php
+
+/**
+ * Display feature component info
+ */
+function template_preprocess_features_admin_components(&$vars) {
+  drupal_add_css(drupal_get_path('module', 'features') .'/features.css');
+  $form = $vars['form'];
+
+  // Basic info
+  $vars['name'] = $form['#info']['name'];
+  $vars['description'] = isset($form['#info']['description']) ? $form['#info']['description'] : '';
+
+  // Legend/key
+  $vars['key'] = array();
+
+  // Dependencies
+  $rows = array();
+  $modules = features_get_info();
+  foreach ($form['#dependencies'] as $dependency => $status) {
+    $rows[] = array(
+      array(
+        'data' => isset($modules[$dependency]->info['name']) ? $modules[$dependency]->info['name'] : $dependency,
+        'class' => 'component'
+      ),
+      theme('features_module_status', $status),
+    );
+  }
+  $vars['dependencies'] = theme('table', array(t('Dependency'), t('Status')), $rows);
+
+  // Components
+  $rows = array();
+  $components = features_get_components();
+  $conflicts = features_get_conflicts();
+  if (!module_exists($form['module']['#value']) && isset($form['module']['#value']) && !empty($conflicts[$form['module']['#value']])) {
+    $module_conflicts = $conflicts[$form['module']['#value']];
+    $conflicts = array();
+    foreach ($module_conflicts as $conflict) {
+      $conflicts = array_merge_recursive($conflict, $conflicts);
+    }
+  }
+  else {
+    $conflicts = array();
+  }
+  // Display key for conflicting elements.
+  if (!empty($conflicts)) {
+    $vars['key'][] = array(
+      'title' => theme('features_storage_link', FEATURES_CONFLICT, t('Conflicts with another feature')),
+      'html' => TRUE,
+    );
+  }
+
+  if (!empty($form['#info']['features'])) {
+    foreach ($form['#info']['features'] as $component => $items) {
+      if (!empty($items)) {
+        $header = $data = array();
+        if (element_children($form['revert'])) {
+          $header[] = array(
+            'data' => isset($form['revert'][$component]) ? drupal_render($form['revert'][$component]) : '',
+            'header' => TRUE
+          );
+        }
+        $header[] = array(
+          'data' => isset($components[$component]['name']) ? $components[$component]['name'] : $component,
+          'header' => TRUE
+        );
+        $header[] = array(
+          'data' => drupal_render($form['components'][$component]),
+          'header' => TRUE
+        );
+        $rows[] = $header;
+
+        if (element_children($form['revert'])) {
+          $data[] = '';
+        }
+        $component_conflicts = isset($conflicts[$component]) ? $conflicts[$component] : array();
+        $data[] = array(
+          'data' => theme('features_component_list', $items, $items, $component_conflicts),
+          'colspan' => 2,
+          'class' => 'component'
+        );
+        $rows[] = $data;
+      }
+    }
+  }
+  $vars['components'] = theme('table', array(), $rows);
+
+  // Other elements
+  $vars['buttons'] = drupal_render($form['buttons']);
+  $vars['form'] = drupal_render($form);
+}
+
+/**
+ * Preprocessor for theme('features_form').
+ */
+function template_preprocess_features_form(&$vars) {
+  drupal_add_css(drupal_get_path('module', 'features') .'/features.css');
+  drupal_add_js(drupal_get_path('module', 'features') .'/features.js');
+
+  $first = TRUE;
+  $package_links = array();
+  $packages = element_children($vars['form']);
+  sort($packages);
+  foreach ($packages as $package) {
+    if (!empty($vars['form'][$package]['status'])) {
+      $package_links[$package] = array(
+        'title' => $vars['form'][$package]['#title'],
+        'href' => $_GET['q'],
+        'fragment' => $package,
+      );
+      $class = $first ? "$package features-package-active" : $package;
+      $package_links[$package]['attributes'] = $first ? array('class' => 'features-package-active') : array();
+      $vars['packages'][$class] = $vars['form'][$package];
+
+      unset($vars['form'][$package]);
+      $first = FALSE;
+    }
+  }
+  $vars['package_links'] = $package_links;
+}
+
+/**
+ * Themes a module status display.
+ */
+function theme_features_module_status($status, $module = NULL) {
+  switch ($status) {
+    case FEATURES_MODULE_ENABLED:
+      $text = !empty($module) ? $module : t('Enabled');
+      return "<span class='admin-enabled'>{$text}</span>";
+    case FEATURES_MODULE_DISABLED:
+      $text = !empty($module) ? $module : t('Disabled');
+      return "<span class='admin-disabled'>{$text}</span>";
+    case FEATURES_MODULE_MISSING:
+      $text = !empty($module) ? $module : t('Missing');
+      return "<span class='admin-missing'>{$text}</span>";
+  }
+}
+
+/**
+ * Themes a module status display.
+ */
+function theme_features_storage_link($storage, $text = NULL, $path = NULL, $options = array()) {
+  $classes = array(
+    FEATURES_OVERRIDDEN => 'admin-overridden',
+    FEATURES_DEFAULT => 'admin-default',
+    FEATURES_NEEDS_REVIEW => 'admin-needs-review',
+    FEATURES_REBUILDING => 'admin-rebuilding',
+    FEATURES_REBUILDABLE => 'admin-rebuilding',
+    FEATURES_CONFLICT => 'admin-conflict',
+    FEATURES_DISABLED => 'admin-disabled',
+  );
+  $default_text = array(
+    FEATURES_OVERRIDDEN => t('Overridden'),
+    FEATURES_DEFAULT => t('Default'),
+    FEATURES_NEEDS_REVIEW => t('Needs review'),
+    FEATURES_REBUILDING => t('Rebuilding'),
+    FEATURES_REBUILDABLE => t('Rebuilding'),
+    FEATURES_CONFLICT => t('Conflict'),
+    FEATURES_DISABLED => t('Disabled'),
+  );
+  $text = isset($text) ? $text : $default_text[$storage];
+  if ($path) {
+    $options['attributes']['class'] = $classes[$storage] . ' features-storage';
+    return l($text, $path, $options);
+  }
+  else {
+    return "<span class='{$classes[$storage]} features-storage'>{$text}</span>";
+  }
+}
+
+/**
+ * Theme function for displaying form buttons
+ */
+function theme_features_form_buttons($element) {
+  drupal_add_css(drupal_get_path('module', 'features') .'/features.css');
+
+  $output = drupal_render($element);
+  return !empty($output) ? "<div class='buttons clear-block'>{$output}</div>" : '';
+}
+
+/**
+ * Theme for features management form.
+ */
+function theme_features_form_package($form) {
+  drupal_add_css(drupal_get_path('module', 'features') .'/features.css');
+  drupal_add_js(drupal_get_path('module', 'features') .'/features.js');
+
+  $output = '';
+
+  $header = array('', t('Feature'), t('Signature'));
+  if (isset($form['state'])) {
+    $header[] = t('State');
+  }
+  if (isset($form['actions'])) {
+    $header[] = t('Actions');
+  }
+
+  $rows = array();
+  foreach (element_children($form['status']) as $element) {
+    // Yank title & description fields off the form element for
+    // rendering in their own cells.
+    $name = "<div class='feature'>";
+    $name .= "<strong>{$form['status'][$element]['#title']}</strong>";
+    $name .= "<div class='description'>{$form['status'][$element]['#description']}</div>";
+    $name .= "</div>";
+    unset($form['status'][$element]['#title']);
+    unset($form['status'][$element]['#description']);
+
+    // Determine row & cell classes
+    $class = $form['status'][$element]['#default_value'] ? 'enabled' : 'disabled';
+
+    $row = array(
+      'status' => array('data' => drupal_render($form['status'][$element]), 'class' => 'status'),
+      'name' => array('data' => $name, 'class' => 'name'),
+      'sign' => array('data' => drupal_render($form['sign'][$element]), 'class' => 'sign'),
+    );
+    if (isset($form['state'])) {
+      $row['state'] = array('data' => drupal_render($form['state'][$element]), 'class' => 'state');
+    }
+    if (isset($form['actions'])) {
+      $row['actions'] = array('data' => drupal_render($form['actions'][$element]), 'class' => 'actions');
+    }
+    $rows[] = array('data' => $row, 'class' => $class);
+  }
+
+  if (empty($rows)) {
+    $rows[] = array('', array('data' => t('No features available.'), 'colspan' => count($header)));
+  }
+
+  $class = count($header) > 3 ? 'features features-admin' : 'features features-manage';
+  $output .= theme('table', $header, $rows, array('id' => 'features-form-table', 'class' => $class));
+
+  // Prevent section from being rendered by drupal_render().
+  unset($form['features']);
+
+  $output .= drupal_render($form['buttons']);
+  $output .= drupal_render($form);
+  return $output;
+}
+
+/**
+ * Theme functions ====================================================
+ */
+
+/**
+ * Export selection / display for features export form.
+ */
+function theme_features_form_export($form) {
+  drupal_add_css(drupal_get_path('module', 'features') .'/features.css');
+  drupal_add_js(drupal_get_path('module', 'features') .'/features.js');
+
+  $output = '';
+  $output .= "<div class='clear-block features-components'>";
+  $output .= "<div class='column'>". drupal_render($form['components']) . drupal_render($form['sources']) ."</div>";
+  $output .= "<div class='column'>". drupal_render($form['features']) ."</div>";
+  $output .= "</div>";
+  $output .= drupal_render($form);
+  return $output;
+}
+
+/**
+ * Theme a set of features export components.
+ */
+function theme_features_form_components($form) {
+  $output = '';
+  foreach (element_children($form) as $key) {
+    unset($form[$key]['#title']);
+    $output .= "<div class='features-select features-select-{$key}'>". drupal_render($form[$key]) ."</div>";
+  }
+  return $output;
+}
+
+/**
+ * Theme a set of features export components.
+ */
+function theme_features_components($info, $sources = array()) {
+  $output = '';
+  $rows = array();
+  $components = features_get_components();
+  if (!empty($info['features']) || !empty($info['dependencies']) || !empty($sources)) {
+    $export = array_unique(array_merge(
+      array_keys($info['features']),
+      array_keys($sources),
+      array('dependencies')
+    ));
+    foreach ($export as $component) {
+      if ($component === 'dependencies') {
+        $feature_items = isset($info[$component]) ? $info[$component] : array();
+      }
+      else {
+        $feature_items = isset($info['features'][$component]) ? $info['features'][$component] : array();
+      }
+      $source_items = isset($sources[$component]) ? $sources[$component] : array();
+      if (!empty($feature_items) || !empty($source_items)) {
+        $rows[] = array(array(
+          'data' => isset($components[$component]['name']) ? $components[$component]['name'] : $component,
+          'header' => TRUE
+        ));
+        $rows[] = array(array(
+          'data' => theme('features_component_list', $feature_items, $source_items),
+          'class' => 'component'
+        ));
+      }
+    }
+    $output .= theme('table', array(), $rows);
+    $output .= theme('features_component_key');
+  }
+  return $output;
+}
+
+/**
+ * Theme individual components in a component list.
+ */
+function theme_features_component_list($components, $source = array(), $conflicts = array()) {
+  $list = array();
+  foreach ($components as $component) {
+    // If component is not in source list, it was autodetected
+    if (!in_array($component, $source)) {
+      $list[] = "<span class='features-detected'>". check_plain($component) ."</span>";
+    }
+    elseif (is_array($conflicts) && in_array($component, $conflicts)) {
+      $list[] = "<span class='features-conflict'>". check_plain($component) ."</span>";
+    }
+    else {
+      $list[] = "<span class='features-source'>". check_plain($component) ."</span>";
+    }
+  }
+  foreach ($source as $component) {
+    // If a source component is no longer in the items, it was removed because
+    // it is provided by a dependency.
+    if (!in_array($component, $components)) {
+      $list[] = "<span class='features-dependency'>". check_plain($component) ."</span>";
+    }
+  }
+  return "<span class='features-component-list'>". implode(' ', $list) ."</span>";
+}
+
+/**
+ * Provide a themed key for a component list.
+ */
+function theme_features_component_key() {
+  $list = array();
+  $list[] = "<span class='features-source'>" . t('Normal') . "</span>";
+  $list[] = "<span class='features-detected'>" . t('Auto-detected') . "</span>";
+  $list[] = "<span class='features-dependency'>" . t('Provided by dependency') . "</span>";
+  return "<span class='features-component-list features-component-key'>". implode(' ', $list) ."</span>";
+}
diff --git a/sites/all/modules/filefield/filefield.module b/sites/all/modules/filefield/filefield.module
index c199990..bbd3d01 100644
--- a/sites/all/modules/filefield/filefield.module
+++ b/sites/all/modules/filefield/filefield.module
@@ -584,6 +584,9 @@ function filefield_js($type_name, $field_name, $delta) {
 
   if (!$form) {
     // Invalid form_build_id.
+		//   This error fired once on 10/28/11. Then it didn't fire on repeat.
+		//   Could it happen if there is a bad internet connection?
+		//   Erase this note with next upgrade..
     drupal_set_message(t('An unrecoverable error occurred. This form was missing from the server cache. Try reloading the page and submitting again.'), 'error');
     print drupal_to_js(array('data' => theme('status_messages')));
     exit;
diff --git a/sites/all/modules/form_beautifier/LICENSE.txt b/sites/all/modules/form_beautifier/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/form_beautifier/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/form_beautifier/css/custom.css b/sites/all/modules/form_beautifier/css/custom.css
new file mode 100644
index 0000000..3ef6ca6
--- /dev/null
+++ b/sites/all/modules/form_beautifier/css/custom.css
@@ -0,0 +1,204 @@
+/**
+	sexy-combo 2.1.3 : http://code.google.com/p/sexy-combo/
+	
+	This is an example custom skin.
+*/
+div.custom {
+	border-top-width: 0px;
+	padding-right: 0px;
+	padding-left: 0px;
+	border-left-width: 0px;
+	border-bottom-width: 0px;
+	padding-bottom: 0px;
+	margin: 0px;
+	width: 146px;
+	padding-top: 0px;
+	white-space: nowrap;
+	height: 24px;
+	border-right-width: 0px
+}
+
+div.custom input {
+	border-right: #3a3c6c 1px solid;
+	padding-right: 3px;
+	border-top: #3a3c6c 1px solid;
+	padding-left: 3px;
+	background: url(../images/sexy-input-bg.jpg) #fff repeat-x 0px 0px;
+	left: 0px;
+	padding-bottom: 0px;
+	margin: 0px;
+	font: 11px/ 19px tahoma, arial, helvetica, sans-serif;
+	vertical-align: middle;
+	border-left: #3a3c6c 1px solid;
+	width: 187px;
+	padding-top: 3px;
+	border-bottom: #3a3c6c 1px solid;
+	top: 0px;
+	height: 19px;
+}
+
+div.custom div.icon {
+	border-top-width: 0px;
+	border-left-width: 0px;
+	background: url(../images/arrow.jpg) no-repeat 0px 0px;
+	left: 187px;
+	border-bottom-width: 0px;
+	width: 24px;
+	cursor: pointer;
+	top: 0px;
+	height: 24px;
+	border-right-width: 0px
+}
+
+div.custom div.list-wrapper {
+	border-right: #3a3c6c 1px solid;
+	padding-right: 0px;
+	border-top: #3a3c6c 0px solid;
+	padding-left: 0px;
+	left: 0px;
+	padding-bottom: 0px;
+	margin: 0px;
+	border-left: #3a3c6c 1px solid;
+	width: 204px;
+	bottom: auto;
+	padding-top: 0px;
+	border-bottom: #3a3c6c 1px solid;
+	top: 24px;
+	background-color: #ffffff
+}
+
+div.custom div.list-wrapper-up {
+	border-right: #3a3c6c 1px solid;
+	border-top: #3a3c6c 1px solid;
+	border-left: #3a3c6c 1px solid;
+	bottom: 24px;
+	border-bottom: #3a3c6c 0px solid;
+	top: auto
+}
+
+div.custom ul {
+	padding-right: 0px;
+	padding-left: 0px;
+	padding-bottom: 0px;
+	margin: 0px;
+	padding-top: 0px;
+	list-style-type: none;
+	height: 200px;
+	text-align: left;
+}
+
+div.custom li {
+	padding-right: 0px;
+	padding-left: 5px;
+	padding-bottom: 0px;
+	margin: 0px;
+	font: 11px tahoma, arial, helvetica, sans-serif;
+	cursor: pointer;
+	padding-top: 4px;
+	background-color: #ffffff
+}
+
+div.custom li.active {
+	background-color: rgb(160, 169, 194)
+}
+
+div.custom input.empty {
+	color: gray;
+}
+
+/**
+	sexy-combo 2.1.3 : http://code.google.com/p/sexy-combo/
+	
+	This is a verbose backup of the base structure. Use sexy-combo.css unless you know what you are doing.
+*/
+
+
+div.combo {
+    position:relative;
+    white-space: nowrap;
+    height: 21px;
+    border: 0;
+    margin: 0;
+    padding: 0;
+    width: 146px;
+}
+
+.combo input {
+    margin: 0 0 0 0;
+    font:normal 12px tahoma, arial, helvetica, sans-serif;
+    padding:1px 3px;
+    background:#fff url(../images/text-bg.gif) repeat-x 0 0;
+    border:1px solid #B5B8C8;
+    height: 18px;
+    line-height:18px;
+    vertical-align:middle; 
+    position: absolute;
+    left: 0px;
+    top: 0px; 
+    width: 129px;  
+
+}
+
+.combo div.icon {
+    width:17px;
+    height:21px;
+    border: 0;
+
+    background:transparent url(../images/trigger.gif) no-repeat 0 0;
+    cursor:pointer;
+    border-bottom: 1px solid #B5B8C8;
+    position:absolute;
+    top:0px;
+    left: 129px; 
+
+}
+
+
+
+div.list-wrapper {
+    position: absolute;
+    left: 0px;
+    top: 21px;
+    border: 1px solid #D9D9D9;
+    background-color: #FFFFFF;
+    padding: 0;
+    overflow: hidden;
+    margin: 0;
+    height: 200px; 
+    max-height: 200px;
+    z-index: 99999;
+    width: 146px;
+}
+
+.combo ul {
+    list-style-type: none;
+    padding: 0;
+    margin: 0;
+    height: 200px;
+}
+
+.combo  li {
+    padding: 0;
+    padding-left: 5px;
+    font:normal 14px tahoma, arial, helvetica, sans-serif;
+    background-color: #FFFFFF;
+    height: 20px;
+    cursor: pointer;
+    margin: 0;
+}
+
+.combo li.active {
+    background-color: rgb(223, 232, 246);
+}
+
+
+.combo .visible {
+    display: block;
+}
+
+.combo .invisible {
+    display: none;
+}
+.combo input.empty {
+    color: gray;
+}
\ No newline at end of file
diff --git a/sites/all/modules/form_beautifier/css/fieldfocus.css b/sites/all/modules/form_beautifier/css/fieldfocus.css
new file mode 100644
index 0000000..f08ccdf
--- /dev/null
+++ b/sites/all/modules/form_beautifier/css/fieldfocus.css
@@ -0,0 +1,7 @@
+div.curFocus {
+  background: #fdecb2;
+	-moz-border-radius: 5px;
+	-webkit-border-radius: 5px;
+  -khtml-border-radius: 5px;
+	border-radius: 5px;
+}
\ No newline at end of file
diff --git a/sites/all/modules/form_beautifier/css/prettyCheckboxes.css b/sites/all/modules/form_beautifier/css/prettyCheckboxes.css
new file mode 100644
index 0000000..e210d02
--- /dev/null
+++ b/sites/all/modules/form_beautifier/css/prettyCheckboxes.css
@@ -0,0 +1,44 @@
+/* ------------------------------------------------------------------------
+	This you can customize
+------------------------------------------------------------------------- */
+
+	label.checkbox span.holder {
+		height: 61px; /* Total height of your checkbox image */
+		background: url(../images/checkbox.gif) 0 -1px no-repeat; /* Path to your checkbox image */
+	}
+	
+	label.radio span.holder {
+		height: 61px; /* Total height of your radio buttons image */
+		background: url(../images/radio.gif) 0 -1px no-repeat; /* Path to your radio button image */
+	}
+	
+	label.checkbox:hover span.holder,
+	label.radio:hover span.holder { top: -21px !important; } /* Background position on mouseover */
+	
+	label.checked span.holder,
+	label.checked span.holder,
+	label.checked:hover span.holder,
+	label.checked:hover span.holder { top: -42px !important; } /* Background position when checked */
+
+
+/* ------------------------------------------------------------------------
+	Customize at your own risk
+------------------------------------------------------------------------- */
+	
+		form input.hiddenCheckbox {
+			position: absolute; left: -10000px; /* Hide the input */
+		}
+	
+		form label.prettyCheckbox span.holderWrap {
+			display: block; float: left; 
+			position: relative;
+			margin-right: 5px;
+			text-align: center;
+			overflow: hidden;
+		}
+		
+		form label.prettyCheckbox span.holder {
+			display: block;
+			position: absolute;
+			top: 0; left: 0;
+		}
\ No newline at end of file
diff --git a/sites/all/modules/form_beautifier/css/sexy.css b/sites/all/modules/form_beautifier/css/sexy.css
new file mode 100644
index 0000000..18a066d
--- /dev/null
+++ b/sites/all/modules/form_beautifier/css/sexy.css
@@ -0,0 +1,164 @@
+/**
+	sexy-combo 2.1.3 : http://code.google.com/p/sexy-combo/
+	
+	This is the default skin.
+*/
+
+div.sexy {
+    white-space: nowrap;
+    height: 21px;
+    border: 0;
+    margin: 0;
+    padding: 0;
+    width: 146px;
+}
+
+div.sexy input {
+    margin: 0 0 0 0;
+    font:normal 12px tahoma, arial, helvetica, sans-serif;
+    padding:1px 3px;
+    background:#fff url(../images/text-bg.gif) repeat-x 0 0;
+    border:1px solid #B5B8C8;
+    height: 18px;
+    line-height:18px;
+    vertical-align:middle; 
+    left: 0px;
+    top: 0px; 
+    width: 129px;  
+
+}
+
+div.sexy div.icon {
+    width:17px;
+    height:21px;
+    border: 0;
+    background:transparent url(../images/trigger.gif) no-repeat 0 0;
+    cursor:pointer;
+    border-bottom: 1px solid #B5B8C8;
+    top:0px;
+    left: 129px; 
+
+}
+
+
+div.sexy div.list-wrapper {
+    left: 0px;
+    top: 21px;
+    border: 1px solid #D9D9D9;
+    background-color: #FFFFFF;
+    padding: 0;
+    margin: 0;
+    width: 146px;
+    bottom: auto;
+}
+
+div.sexy div.list-wrapper-up {
+    top: auto;
+    bottom: 21px;
+}
+
+div.sexy ul {
+    list-style-type: none;
+    padding: 0;
+    margin: 0;
+    height: 200px;
+}
+
+
+div.sexy  li {
+    padding: 0;
+    padding-left: 5px;
+    font:normal 14px tahoma, arial, helvetica, sans-serif;
+    background-color: #FFFFFF;
+    cursor: pointer;
+    margin: 0;
+}
+
+div.sexy li.active {
+    background-color: rgb(223, 232, 246);
+}
+
+/*for IE*/
+div.sexy a, div.sexy a:visited, div.sexy a:active {
+    display: block;
+	width: 100%;
+	width: 146px;
+	text-decoration: none;
+    font:normal 14px  tahoma, arial, helvetica, sans-serif;
+	color: #000000;
+    cursor: pointer;
+    margin: 0;	
+	height: 20px;
+}
+
+div.sexy input.empty {
+    color: gray;
+}
+
+a.to-highlight:hover {
+    background-color: rgb(223, 232, 246);
+}
+
+/**
+	sexy-combo 2.1.3 : http://code.google.com/p/sexy-combo/
+	
+	This is the base structure, a skin css file is also needed
+*/
+
+/*wrapper of all elements*/
+div.combo {
+    position:relative;
+    left: 0px;
+    top: 0px;
+}
+
+
+/*text input*/
+.combo input {
+    position: absolute;
+}
+
+
+/*icon*/
+.combo div.icon {
+    position:absolute;
+}
+
+
+/*list wrapper*/
+.combo div.list-wrapper {
+    position: absolute;
+    overflow: hidden;
+    /*we should set height and max-height explicitly*/
+    height: 200px; 
+    max-height: 200px;
+    /*should be always at the top*/
+    z-index: 99999;
+
+}
+
+/*"drop-up" list wrapper*/
+.combo div.list-wrapper-up {}
+
+/*dropdown list*/
+.combo ul {}
+
+/*dropdown list item*/
+.combo  li {
+    height: 20px;
+}
+
+/*active (hovered) list item*/
+.combo li.active {}
+
+
+.combo .visible {
+    display: block;
+}
+
+.combo .invisible {
+    display: none;
+}
+
+/*used when emptyText config opt is set. Applied to text input*/
+.combo input.empty {}
\ No newline at end of file
diff --git a/sites/all/modules/form_beautifier/css/ui.checkbox.css b/sites/all/modules/form_beautifier/css/ui.checkbox.css
new file mode 100755
index 0000000..3ef0391
--- /dev/null
+++ b/sites/all/modules/form_beautifier/css/ui.checkbox.css
@@ -0,0 +1,72 @@
+/*
+ * jQuery UI Checkbox 0.1
+ *
+ * Copyright (c) 2009 Jeremy Lea <reg@openpave.org>
+ * Dual licensed under the MIT and GPL licenses.
+ *
+ * http://docs.jquery.com/Licensing
+ *
+ * Based loosely on plugin by alexander.farkas.
+ * http://www.protofunc.com/scripts/jquery/checkbox-radiobutton/
+ */
+
+.ui-icon-empty { background-position: -160px 0; }
+
+/* Native widget or wrapped widget styles */
+.ui-checkbox, .ui-radio {
+	margin: 2px;
+	border-width: 1px;
+	width: 16px;
+	display: inline;
+	vertical-align: middle;
+	cursor: pointer;
+}
+/* wrapped widget only */
+span.ui-checkbox, span.ui-radio {
+	width: 12px;
+	height: 11px;
+	position: relative;
+	display: inline;
+	display: inline-block;
+	-moz-border-radius: 2px;
+	-webkit-border-radius: 2px;
+}
+span.ui-radio {
+	width:11px;
+	-moz-border-radius: 6px;
+	-webkit-border-radius: 6px;
+}
+/* ie specific */
+v\:roundrect, v\:fill, v\:stroke {
+	display: block;
+	position: absolute;
+	behavior: url(#default#VML);
+	background-color: transparent;
+}
+/* opera specific */
+.ui-checkbox svg, .ui-radio svg {
+	display: block;
+	position: absolute;
+	top: -1px;
+	left: -1px;
+}
+/* Icons */
+.ui-checkbox span.ui-icon, .ui-radio span.ui-icon {
+	position: absolute;
+	visibility: visible;
+	left: 6px;
+	top: 5px;
+	margin: -8px 0px 0px -8px;
+}
+/* Style the inner control so it doesn't affect webkit on focus */
+.ui-checkbox input, .ui-radio input {
+	position: absolute;
+	visibility: visible;
+	left: -99999999px;
+	top: -99999999px;
+	width: 14px;
+	height: 13px;
+	margin: 0px;
+	border: 0px none;
+	padding: 0px;
+}
diff --git a/sites/all/modules/form_beautifier/form_beautifier.admin.inc b/sites/all/modules/form_beautifier/form_beautifier.admin.inc
new file mode 100644
index 0000000..69b9338
--- /dev/null
+++ b/sites/all/modules/form_beautifier/form_beautifier.admin.inc
@@ -0,0 +1,178 @@
+<?php
+
+/**
+ * Form builder function for module settings.
+ */
+function form_beautifier_settings() {
+  $form['form_beautifier_enable'] = array(
+    '#type' => 'fieldset',
+    '#title' => 'Enable / Disable Features',
+  );
+  $form['form_beautifier_enable']['form_beautifier_chk_rdio_enable'] = array(
+    '#type' => 'checkbox',
+    '#title' => 'Enable Checkbox and Radio',
+    '#description' => l('example', 'http://bit.ly/EtQfr', array('attributes' => array('target' => '_blank'))),
+    '#default_value' => variable_get('form_beautifier_chk_rdio_enable', 1),
+  );
+  $form['form_beautifier_enable']['form_beautifier_drpdwn_enable'] = array(
+    '#type' => 'checkbox',
+    '#title' => 'Enable Dropdown',
+    '#description' => l('example', 'http://bit.ly/kqS69', array('attributes' => array('target' => '_blank'))),
+    '#default_value' => variable_get('form_beautifier_drpdwn_enable', 1),
+  );
+  $form['form_beautifier_enable']['form_beautifier_focus_enable'] = array(
+    '#type' => 'checkbox',
+    '#title' => 'Enable Focus Field',
+    '#description' => l('example', 'http://bit.ly/xPxbs', array('attributes' => array('target' => '_blank'))),
+    '#default_value' => variable_get('form_beautifier_focus_enable', 1),
+  );
+  
+  
+  // Settings for Checkboxes and Radio Buttons
+  if (variable_get('form_beautifier_chk_rdio_enable', 1)) {
+	  $form['form_beautifier_checkboxes_radios'] = array(
+	    '#type' => 'fieldset',
+	    '#title' => 'Checkboxes &amp; Radio Buttons',
+	    '#collapsible' => TRUE,
+		  '#collapsed' => TRUE,
+	  );
+	  $options = array('prettyCheckboxes' => 'prettyCheckboxes');
+	  if (module_exists('jquery_ui')) {
+	    $options += array('checkbox' => 'jQueryUI Checkbox');
+	  }
+	  else {
+	    variable_set('form_beautifier_library', 'prettyCheckboxes');
+	  }
+	  
+	  $form['form_beautifier_checkboxes_radios']['form_beautifier_checkboxes_radios_library'] = array(
+	    '#type' => 'radios',
+	    '#title' => 'JS Library Option',
+	  	'#options' => $options,
+	  	'#default_value' => variable_get('form_beautifier_checkboxes_radios_library', 'prettyCheckboxes'),
+		);
+		
+		if (variable_get('form_beautifier_checkboxes_radios_library', 'prettyCheckboxes') == 'prettyCheckboxes') {
+		  $form['form_beautifier_checkboxes_radios']['form_beautifier_prettycheckboxes'] = array(
+		    '#type' => 'fieldset',
+		    '#title' => 'prettyCheckboxes Settings',
+		    '#collapsible' => TRUE,
+		    '#description' => 'prettyCheckboxes allows you to set a width and height to match custom CSS',
+		  );
+			$form['form_beautifier_checkboxes_radios']['form_beautifier_prettycheckboxes']['form_beautifier_prettycheckboxes_width'] = array(
+			  '#type' => 'textfield',
+			  '#title' => 'width',
+			  '#default_value' => variable_get('form_beautifier_prettycheckboxes_width', 17),
+			);
+			$form['form_beautifier_checkboxes_radios']['form_beautifier_prettycheckboxes']['form_beautifier_prettycheckboxes_height'] = array(
+			  '#type' => 'textfield',
+			  '#title' => 'height',
+			  '#default_value' => variable_get('form_beautifier_prettycheckboxes_height', 17),
+			);
+			/*$form['form_beautifier_prettycheckboxes']['form_beautifier_display'] = array(
+			  '#type' => 'radios',
+			  '#title' => 'Display Options',
+			  '#options' => array('list' => 'Vertical', 'inline' => 'Horizontal'),
+			  '#default_value' => variable_get('form_beautifier_display', 'list'),
+			);*/
+		}
+	
+	  $form['form_beautifier_checkboxes_radios']['form_beautifier_checkboxes_radios_include'] = array(
+	    '#type' => 'textarea',
+	    '#title' => 'Enabled Forms',
+	    '#description' => 'Use individual Form IDs separated by a comma to limit which forms this module affects. <br >\'*\' specifies ALL FORMS.',
+	    '#default_value' => variable_get('form_beautifier_checkboxes_radios_include', '*'),
+	  );
+	  $form['form_beautifier_checkboxes_radios']['form_beautifier_checkboxes_radios_exclude'] = array(
+	    '#type' => 'textarea',
+	    '#title' => 'Disabled Forms',
+	    '#description' => 'Use individual Form IDs separated by a comma to limit which forms this module DOES NOT affects. This value will override Enabled Form settings above.',
+	    '#default_value' => variable_get('form_beautifier_checkboxes_radios_exclude', ''),
+	  );  
+  }
+  
+  
+  // Settings for Dropdown Select
+  if (variable_get('form_beautifier_drpdwn_enable', 1)) {
+	  $form['form_beautifier_dropdown'] = array(
+	    '#type' => 'fieldset',
+	    '#title' => 'Dropdown Select',
+	    '#collapsible' => TRUE,
+		  '#collapsed' => TRUE,
+	  );
+	  $form['form_beautifier_dropdown']['form_beautifier_drpdwn_style'] = array(
+	    '#type' => 'radios',
+	    '#title' => 'Choose Dropdown Style',
+	    '#options' => array('custom' => 'Default', 'sexy' => 'Sexy'),
+	    '#default_value' => variable_get('form_beautifier_drpdwn_style', 'sexy'),
+	  );
+	  $form['form_beautifier_dropdown']['form_beautifier_drpdwn_init_value'] = array(
+	    '#type' => 'textfield',
+	    '#title' => 'Initial Hidden value',
+	    '#description' => 'Initial value of the hidden input of the dropdown box.',
+	    '#default_value' => variable_get('form_beautifier_drpdwn_init_value', ''),
+	  );
+	  $form['form_beautifier_dropdown']['form_beautifier_drpdwn_empty_text'] = array(
+	    '#type' => 'textfield',
+	    '#title' => 'Empty Text',
+	    '#description' => 'Will be shown when an empty text input has no focus.',
+	    '#default_value' => variable_get('form_beautifier_drpdwn_empty_text', '--Select Option--'),
+	  );
+	  $form['form_beautifier_dropdown']['form_beautifier_drpdwn_autofill'] = array(
+	    '#type' => 'checkbox',
+	    '#title' => 'Use Empty Text',
+	    '#description' => 'Will be shown when an empty text input has no focus.',
+	    '#default_value' => variable_get('form_beautifier_drpdwn_autofill', 1),
+	  );
+	  $form['form_beautifier_dropdown']['form_beautifier_drpdwn_selected'] = array(
+	    '#type' => 'checkbox',
+	    '#title' => 'Default Selected',
+	    '#description' => 'The selected option of the selectbox will become the initial value',
+	    '#default_value' => variable_get('form_beautifier_drpdwn_selected', 1),
+	  );	
+	  $form['form_beautifier_dropdown']['form_beautifier_drpdwn_up'] = array(
+	    '#type' => 'checkbox',
+	    '#title' => 'Display Above',
+	    '#description' => 'The dropdown list will appear above text input. ',
+	    '#default_value' => variable_get('form_beautifier_drpdwn_up', 0),
+	  );
+	  $form['form_beautifier_dropdown']['form_beautifier_drpdwn_include'] = array(
+	    '#type' => 'textarea',
+	    '#title' => 'Enabled Forms',
+	    '#description' => 'Use individual Form IDs separated by a comma to limit which forms this module affects. <br >\'*\' specifies ALL FORMS.',
+	    '#default_value' => variable_get('form_beautifier_drpdwn_include', '*'),
+	  );
+	  $form['form_beautifier_dropdown']['form_beautifier_drpdwn_exclude'] = array(
+	    '#type' => 'textarea',
+	    '#title' => 'Disabled Forms',
+	    '#description' => 'Use individual Form IDs separated by a comma to limit which forms this module DOES NOT affects. This value will override Enabled Form settings above.',
+	    '#default_value' => variable_get('form_beautifier_drpdwn_exclude', ''),
+	  );  
+  }
+
+  
+  
+  // Settings for Field Focus
+  if (variable_get('form_beautifier_focus_enable', 1)) {
+	  $form['form_beautifier_focus'] = array(
+	    '#type' => 'fieldset',
+	    '#title' => 'Field Focus',
+	    '#collapsible' => TRUE,
+		  '#collapsed' => TRUE,
+	  );
+	  $form['form_beautifier_focus']['form_beautifier_focus_include'] = array(
+	    '#type' => 'textarea',
+	    '#title' => 'Enabled Forms',
+	    '#description' => 'Use individual Form IDs separated by a comma to limit which forms this module affects. <br >\'*\' specifies ALL FORMS.',
+	    '#default_value' => variable_get('form_beautifier_focus_include', '*'),
+	  );
+	  $form['form_beautifier_focus']['form_beautifier_focus_exclude'] = array(
+	    '#type' => 'textarea',
+	    '#title' => 'Disabled Forms',
+	    '#description' => 'Use individual Form IDs separated by a comma to limit which forms this module DOES NOT affects. This value will override Enabled Form settings above.',
+	    '#default_value' => variable_get('form_beautifier_focus_exclude', ''),
+	  );  
+  }
+  $form = system_settings_form($form);
+
+  return $form;
+}
\ No newline at end of file
diff --git a/sites/all/modules/form_beautifier/form_beautifier.info b/sites/all/modules/form_beautifier/form_beautifier.info
new file mode 100644
index 0000000..98bf6a3
--- /dev/null
+++ b/sites/all/modules/form_beautifier/form_beautifier.info
@@ -0,0 +1,11 @@
+; $Id: form_beautifier.info,v 1.1 2009/11/18 02:45:27 davexoxide Exp $
+name = "Form Beautifier"
+description = "A Collection of jQuery Scripts that can make your forms look good."
+core = 6.x
+package = Other
+; Information added by drupal.org packaging script on 2009-11-18
+version = "6.x-1.0-alpha1"
+core = "6.x"
+project = "form_beautifier"
+datestamp = "1258514431"
+
diff --git a/sites/all/modules/form_beautifier/form_beautifier.module b/sites/all/modules/form_beautifier/form_beautifier.module
new file mode 100644
index 0000000..7d40097
--- /dev/null
+++ b/sites/all/modules/form_beautifier/form_beautifier.module
@@ -0,0 +1,99 @@
+<?php
+
+/**
+ * Implementation of hook_menu().
+ */
+function form_beautifier_menu() {
+  $items = array();
+  $items['admin/settings/form_beautifier'] = array(
+    'title' => 'Form Beautifier',
+    'description' => 'Customize Forms with jQuery Plugins.',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('form_beautifier_settings'),
+    'access arguments' => array('administer site configuration'),
+    'file' => 'form_beautifier.admin.inc',
+    'type' => MENU_DEFAULT_LOCAL_TASK,
+  );
+  return $items;
+}
+
+/**
+ * Implementation of hook_form_alter().
+ */
+function form_beautifier_form_alter(&$form, $form_state, $form_id) {
+  static $check_set, $drop_set, $focus_set;
+  
+  // Checkboxes and Radios
+  if (variable_get('form_beautifier_chk_rdio_enable', 1)) {
+    $include = explode(',', variable_get('form_beautifier_checkboxes_radios_include', '*'));
+  	$exclude = explode(',', variable_get('form_beautifier_checkboxes_radios_exclude', ''));
+	
+	  if ((in_array($form_id, $include) || in_array('*', $include)) && !in_array($form_id, $exclude)) {
+	    if (!$check_set) {
+	  	  $trigger = variable_get('form_beautifier_library', 'prettyCheckboxes');
+	      drupal_add_js(drupal_get_path('module', 'form_beautifier') . '/js/' . $trigger . '.js');
+	      drupal_add_css(drupal_get_path('module', 'form_beautifier') . '/css/' . $trigger . '.css');
+	      
+	  		// Add in some logic for jQueryUI Checkbox
+	  		if (module_exists('jquery_ui') && variable_get('form_beautifier_checkboxes_radios_library', 'prettyCheckboxes') == 'checkbox') {
+	  		  jquery_ui_add();
+	  		  $trigger = 'ui.' . $trigger;
+	  		}
+	  		
+	  		if (variable_get('form_beautifier_checkboxes_radios_library', 'prettyCheckboxes') == 'prettyCheckboxes') {
+	  		  $settings = array (
+	  		  	'checkboxWidth' 	=> (int)variable_get('form_beautifier_prettycheckboxes_width', 17),
+	  		  	'checkboxHeight'	=> (int)variable_get('form_beautifier_prettycheckboxes_height', 17),
+	  		  	//'display' => variable_get('form_beautifier_display', 'list'),
+	  		  );
+	  		  $settings = drupal_to_js($settings);
+	  		} 
+	  		
+	      drupal_add_js('$(document).ready(function(){$("form#' . str_replace('_', '-', $form_id) . ' input").filter(":checkbox,:radio").' . $trigger . '(' . $settings . ');});', 'inline');
+	      $check_set = TRUE;
+	    }
+	  }
+	}
+	
+	// Dropdown Select
+	if (variable_get('form_beautifier_drpdwn_enable', 1)) {
+	  $include = explode(',', variable_get('form_beautifier_drpdwn_include', '*'));
+  	$exclude = explode(',', variable_get('form_beautifier_drpdwn_exclude', ''));
+  	if ((in_array($form_id, $include) || in_array('*', $include)) && !in_array($form_id, $exclude)) {
+		  if (!$drop_set) {
+		    $style = variable_get('form_beautifier_drpdwn_style', 'sexy');
+		  	drupal_add_js(drupal_get_path('module', 'form_beautifier') . '/js/jquery.sexy-combo.js');
+		  	drupal_add_css(drupal_get_path('module', 'form_beautifier') . '/css/' . $style . '.css');
+		  }
+		  $settings = array(
+		    'initialHiddenValue'	=> variable_get('form_beautifier_drpdwn_init_value', ''),
+		    'emptyText' 					=> variable_get('form_beautifier_drpdwn_empty_text', '--Select Option--'),
+		    'autoFill' 						=> (bool)variable_get('form_beautifier_drpdwn_autofill', 1),
+		    'triggerSelected'			=> (bool)variable_get('form_beautifier_drpdwn_selected', 1),
+		    'dropUp'							=> (bool)variable_get('form_beautifier_drpdwn_up', 0),
+		  );
+		  $settings = drupal_to_js($settings);
+		  
+		  drupal_add_js('$(document).ready(function(){$("#' . str_replace('_', '-', $form_id) . ' select").sexyCombo(' . $settings . ')});', 'inline');
+		  $drop_set = TRUE;
+	  }
+	}
+	
+	// Field Focus
+	if (variable_get('form_beautifier_focus_enabled', 1) && !$focus_set) {
+	  $include = explode(',', variable_get('form_beautifier_focus_include', '*'));
+  	$exclude = explode(',', variable_get('form_beautifier_focus_exclude', ''));
+  	drupal_add_css(drupal_get_path('module', 'form_beautifier') . '/css/fieldfocus.css');
+  	
+  	if ((in_array($form_id, $include) || in_array('*', $include)) && !in_array($form_id, $exclude)) {
+		  $js = '$(document).ready(function(){$("input").focus(function() {
+		  	$(this).parent().addClass("curFocus")});
+		  	$("input").blur(function() {
+		  		$(this).parent().removeClass("curFocus")
+		  	});
+		  });';
+		  drupal_add_js($js, 'inline');
+		  $focus_set = TRUE;
+		}
+	}
+}
\ No newline at end of file
diff --git a/sites/all/modules/form_beautifier/images/arrow.jpg b/sites/all/modules/form_beautifier/images/arrow.jpg
new file mode 100644
index 0000000..25ddaac
Binary files /dev/null and b/sites/all/modules/form_beautifier/images/arrow.jpg differ
diff --git a/sites/all/modules/form_beautifier/images/checkbox.gif b/sites/all/modules/form_beautifier/images/checkbox.gif
new file mode 100644
index 0000000..b075b4f
Binary files /dev/null and b/sites/all/modules/form_beautifier/images/checkbox.gif differ
diff --git a/sites/all/modules/form_beautifier/images/radio.gif b/sites/all/modules/form_beautifier/images/radio.gif
new file mode 100644
index 0000000..0dbcecb
Binary files /dev/null and b/sites/all/modules/form_beautifier/images/radio.gif differ
diff --git a/sites/all/modules/form_beautifier/images/sexy-input-bg.jpg b/sites/all/modules/form_beautifier/images/sexy-input-bg.jpg
new file mode 100644
index 0000000..de72d88
Binary files /dev/null and b/sites/all/modules/form_beautifier/images/sexy-input-bg.jpg differ
diff --git a/sites/all/modules/form_beautifier/images/text-bg.gif b/sites/all/modules/form_beautifier/images/text-bg.gif
new file mode 100644
index 0000000..4179607
Binary files /dev/null and b/sites/all/modules/form_beautifier/images/text-bg.gif differ
diff --git a/sites/all/modules/form_beautifier/images/trigger.gif b/sites/all/modules/form_beautifier/images/trigger.gif
new file mode 100644
index 0000000..b220bbe
Binary files /dev/null and b/sites/all/modules/form_beautifier/images/trigger.gif differ
diff --git a/sites/all/modules/form_beautifier/js/jquery.sexy-combo.js b/sites/all/modules/form_beautifier/js/jquery.sexy-combo.js
new file mode 100644
index 0000000..04f29a4
--- /dev/null
+++ b/sites/all/modules/form_beautifier/js/jquery.sexy-combo.js
@@ -0,0 +1,1109 @@
+/***************************************************************************
+
+	sexy-combo 2.1.3	: A jQuery date time picker.
+	
+	Authors: 
+		Kadalashvili.Vladimir@gmail.com - Vladimir Kadalashvili
+		thetoolman@gmail.com 
+		
+	Version: 2.1.3
+	
+	Website: http://code.google.com/p/sexy-combo/
+	
+
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ *   This program is distributed in the hope that it will be useful,       *
+ *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
+ *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
+ *   GNU General Public License for more details.                          *
+ *                                                                         *
+ *   You should have received a copy of the GNU General Public License     *
+ *   along with this program; if not, write to the                         *
+ *   Free Software Foundation, Inc.,                                       *
+ *   59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.             *
+ *                                                                         *
+ ***************************************************************************/
+
+
+;(function($) {
+    $.fn.sexyCombo = function(config) {
+        return this.each(function() {
+		if ("SELECT" != this.tagName.toUpperCase()) {
+		    return;	
+		}
+	    new $sc(this, config);
+	    });  
+    };
+    
+    //default config options
+    var defaults = {
+        //skin name
+        skin: "sexy",
+	
+	    //this suffix will be appended to the selectbox's name and will be text input's name
+	    suffix: "__sexyCombo",
+	
+	    //the same as the previous, but for hidden input
+	    hiddenSuffix: "__sexyComboHidden",
+	    
+	    //rename original select, and call the hidden field the original name attribute?
+	    renameOriginal: false,
+	    
+	   //initial / default hidden field value.
+	   //Also applied when user types something that is not in the options list
+	    initialHiddenValue: "",
+	
+	    //if provided, will be the value of the text input when it has no value and focus
+	    emptyText: "",
+	
+	    //if true, autofilling will be enabled
+	    autoFill: false,
+	
+	    //if true, selected option of the selectbox will be the initial value of the combo
+	    triggerSelected: true,
+	
+	    //function for options filtering
+	    filterFn: null,
+	
+	    //if true, the options list will be placed above text input
+	    dropUp: false,
+	
+	    //separator for values of multiple combos
+	    separator: ",",
+			
+		//key json name for key/value pair
+		key: "value",
+		
+		//value json for key/value pair
+		value: "text",
+
+	    //all callback functions are called in the scope of the current sexyCombo instance
+	
+	    //called after dropdown list appears
+	    showListCallback: null,
+	
+	    //called after dropdown list disappears
+	    hideListCallback: null,
+	
+	    //called at the end of constructor
+	    initCallback: null,
+	
+	    //called at the end of initEvents function
+	    initEventsCallback: null,
+		    
+	    //called when both text and hidden inputs values are changed
+	    changeCallback: null,
+	
+	    //called when text input's value is changed
+	    textChangeCallback: null,
+	    
+		checkWidth: true
+    };
+    
+    //constructor
+    //creates initial markup and does some initialization
+    $.sexyCombo = function(selectbox, config) {
+		
+        if (selectbox.tagName.toUpperCase() != "SELECT")
+	        return;
+	    
+	    this.config = $.extend({}, defaults, config || {}); 
+	
+	   
+	    
+	    this.selectbox = $(selectbox);
+	    this.options = this.selectbox.children().filter("option");
+	
+	    this.wrapper = this.selectbox.wrap("<div>").
+	    hide().
+	    parent().
+	    addClass("combo").
+	    addClass(this.config.skin); 
+		
+	    this.input = $("<input type='text' />").
+	    appendTo(this.wrapper).
+	    attr("autocomplete", "off").
+	    attr("value", "").
+	    attr("name", this.selectbox.attr("name") + this.config.suffix);
+	    
+	    var origName = this.selectbox.attr("name");
+	    var newName = origName + this.config.hiddenSuffix;
+	    if(this.config.renameOriginal) { 
+	    	this.selectbox.attr("name", newName);
+	    }
+	    	
+	    this.hidden = $("<input type='hidden' />").
+	    appendTo(this.wrapper).
+	    attr("autocomplete", "off").
+	    attr("value", this.config.initialHiddenValue).
+	    attr("name", this.config.renameOriginal ? origName : newName);
+	
+        this.icon = $("<div />").
+	    appendTo(this.wrapper).
+	    addClass("icon"); 
+	
+	    this.listWrapper = $("<div />").
+	    appendTo(this.wrapper).
+	    //addClass("invisible").
+	    addClass("list-wrapper"); 
+
+	    this.updateDrop();
+	
+	    this.list = $("<ul />").appendTo(this.listWrapper); 
+	    var self = this;
+		var optWidths = [];
+	    this.options.each(function() {					   
+	        var optionText = $.trim($(this).text());
+			if (self.config.checkWidth) {
+			    optWidths.push($("<li />").
+	            appendTo(self.list).
+	            html("<span>" + optionText + "</span>").
+	            addClass("visible").find("span").outerWidth());	
+			}
+			else {
+	            $("<li />").
+	            appendTo(self.list).
+	            html("<span>" + optionText + "</span>").
+	            addClass("visible");
+			}
+	    });  
+		
+	
+	    this.listItems = this.list.children();
+		
+		
+		
+		
+		/*this.listItems.find("span").each(function() {
+		    optWidths.push($(this).outerWidth());										  
+		});*/
+		if (optWidths.length) {
+		    optWidths = optWidths.sort(function(a, b) {
+		        return a - b;									
+		    });
+		    var maxOptionWidth = optWidths[optWidths.length - 1];
+			
+			
+		}
+		
+
+        this.singleItemHeight = this.listItems.outerHeight();
+		//bgiframe causes some problems, let's remove it
+		/*if ("function" == typeof this.listWrapper.bgiframe) {
+		    this.listWrapper.bgiframe({height: this.singleItemHeight * this.wrapper.find("li").height()});
+		}*/
+		this.listWrapper.addClass("invisible");
+		
+       
+	    if ($.browser.opera) {
+	        this.wrapper.css({position: "relative", left: "0", top: "0"});
+	    } 
+	
+	
+	
+	    this.filterFn = ("function" == typeof(this.config.filterFn)) ? this.config.filterFn : this.filterFn;
+	
+	    this.lastKey = null;
+	    //this.overflowCSS = "overflow";
+	
+	    this.multiple = this.selectbox.attr("multiple");
+	
+	    var self = this;
+	
+	    this.wrapper.data("sc:lastEvent", "click");
+	
+	    this.overflowCSS = "overflowY";
+	
+	    if ((this.config.checkWidth) && (this.listWrapper.innerWidth() < maxOptionWidth)) {
+		    this.overflowCSS = "overflow";	
+			
+		}
+        
+		
+	    this.notify("init");
+	    this.initEvents();
+    };
+    
+    //shortcuts
+    var $sc = $.sexyCombo;
+    $sc.fn = $sc.prototype = {};
+    $sc.fn.extend = $sc.extend = $.extend;
+    
+    $sc.fn.extend({
+        //TOC of our plugin
+	    //initializes all event listeners
+        initEvents: function() {
+	        var self = this;
+			
+	        this.icon.bind("click", function(e) {
+	            if (!self.wrapper.data("sc:positionY"))	{
+		            self.wrapper.data("sc:positionY", e.pageY);	    	
+		        }
+	        });
+	
+	        this.input.bind("click", function(e) {
+	            if (!self.wrapper.data("sc:positionY"))	{
+		            self.wrapper.data("sc:positionY", e.pageY);	    	
+		        }								 
+	        });
+	
+
+	        this.wrapper.bind("click", function(e) {
+	            if (!self.wrapper.data("sc:positionY"))	{
+		            self.wrapper.data("sc:positionY", e.pageY);	 
+		        }									   
+	        });					
+	    
+	        this.icon.bind("click", function() {
+		        if (self.input.attr("disabled")) {
+			         self.input.attr("disabled", false);   
+		        }
+		        self.wrapper.data("sc:lastEvent", "click");
+		        self.filter();
+	            self.iconClick();
+	        }); 
+	    
+	        this.listItems.bind("mouseover", function(e) {
+	            //self.highlight(e.target);
+				if ("LI" == e.target.nodeName.toUpperCase()) {
+				    self.highlight(e.target);	
+				}
+				else {
+				    self.highlight($(e.target).parent());	
+				}
+	        });
+	    
+	        this.listItems.bind("click", function(e) {
+	            self.listItemClick($(e.target));
+	        });
+		
+			this.input.bind("keyup", function(e) {
+				self.wrapper.data("sc:lastEvent", "key");							                
+				//$sc.log(self.wrapper.data("sc:lastEvent"));
+				self.keyUp(e);
+			});		
+	    
+	      
+			
+
+	    
+	        this.input.bind("keypress", function(e) {
+	            if ($sc.KEY.RETURN == e.keyCode) {
+	                e.preventDefault();
+			    }
+		        if ($sc.KEY.TAB == e.keyCode)
+			        e.preventDefault();
+	        });
+	    
+	        $(document).bind("click", function(e) {
+	            if ((self.icon.get(0) == e.target) || (self.input.get(0) == e.target))
+		            return;
+		    
+		        self.hideList();    
+	        });
+	    
+	        this.triggerSelected();
+	        this.applyEmptyText();
+	    
+	        
+		
+		    this.input.bind("click", function(e) {
+			    self.wrapper.data("sc:lastEvent", "click");	
+			    self.icon.trigger("click");
+		    });
+			
+			
+			//here
+	        this.wrapper.bind("click", function() {
+	            self.wrapper.data("sc:lastEvent", "click");								
+	        });
+	
+	        this.input.bind("keydown", function(e) {
+	            if (9 == e.keyCode) {
+		            e.preventDefault();
+		        }
+	        });
+	
+	        this.wrapper.bind("keyup", function(e) {
+		        var k = e.keyCode;
+		        for (key in $sc.KEY) {
+		            if ($sc.KEY[key] == k) {
+			            return;	
+			        }
+		        }
+	            self.wrapper.data("sc:lastEvent", "key");	
+				//$sc.log("Last evt is key");
+	        });	
+	
+	        this.input.bind("click", function() {
+	            self.wrapper.data("sc:lastEvent", "click");		
+            });
+	
+	        this.icon.bind("click", function(e) {
+	            if (!self.wrapper.data("sc:positionY"))	{
+		            self.wrapper.data("sc:positionY", e.pageY);	    	
+		        }
+	        });
+	
+	        this.input.bind("click", function(e) {
+	            if (!self.wrapper.data("sc:positionY"))	{
+		            self.wrapper.data("sc:positionY", e.pageY);	    	
+		        }								 
+	        });
+	
+
+	        this.wrapper.bind("click", function(e) {
+	            if (!self.wrapper.data("sc:positionY"))	{
+		            self.wrapper.data("sc:positionY", e.pageY);	 
+		        }									   
+	        });				
+			
+			this.notify("initEvents");
+	    },
+	
+	
+	    getTextValue: function() {
+            return this.__getValue("input");
+	    },
+	
+	    getCurrentTextValue: function() {
+            return this.__getCurrentValue("input");
+	    },
+	
+	    getHiddenValue: function() {
+            return this.__getValue("hidden");
+	    },
+	
+	    getCurrentHiddenValue: function() {	    
+	        return this.__getCurrentValue("hidden");
+	    },
+	
+	    __getValue: function(prop) {
+	        prop = this[prop];
+	        if (!this.multiple)
+	            return $.trim(prop.val());
+		
+	        var tmpVals = prop.val().split(this.config.separator);
+	        var vals = [];
+	    
+	        for (var i = 0, len = tmpVals.length; i < len; ++i) {
+	            vals.push($.trim(tmpVals[i]));
+	        }	
+	    
+	        vals = $sc.normalizeArray(vals);
+	    
+	        return vals;
+	    },
+	
+	    __getCurrentValue: function(prop) {
+	        prop = this[prop];
+	        if (!this.multiple)
+	            return $.trim(prop.val());
+		 
+            return $.trim(prop.val().split(this.config.separator).pop());		 
+	    },
+	
+	    //icon click event listener
+	    iconClick: function() {
+	        if (this.listVisible()) { 
+	            this.hideList();
+			    this.input.blur();
+		    }
+	        else {			
+	            this.showList();
+			    this.input.focus();
+	            if (this.input.val().length) {
+		            this.selection(this.input.get(0), 0, this.input.val().length);    	
+		        }			
+		    }          
+	    },
+	
+	    //returns true when dropdown list is visible
+	    listVisible: function() {
+	        return this.listWrapper.hasClass("visible");
+	    },
+	
+	    //shows dropdown list
+	    showList: function() {
+	        if (!this.listItems.filter(".visible").length)
+	            return;
+
+	        this.listWrapper.removeClass("invisible").
+	        addClass("visible");
+	        this.wrapper.css("zIndex", "99999");
+	        this.listWrapper.css("zIndex", "99999");
+	        this.setListHeight();
+		
+		    var listHeight = this.listWrapper.height();
+		    var inputHeight = this.wrapper.height();
+		
+		    var bottomPos = parseInt(this.wrapper.data("sc:positionY")) + inputHeight + listHeight;
+		    var maxShown = $(window).height() + $(document).scrollTop();
+		    if (bottomPos > maxShown) {
+		        this.setDropUp(true); 
+		    }
+		    else {
+		        this.setDropUp(false);	
+		    }
+		
+		    if ("" == $.trim(this.input.val())) {
+	            this.highlightFirst();
+	            this.listWrapper.scrollTop(0);
+			}
+			else {
+			    this.highlightSelected();	
+			}
+	        this.notify("showList");
+	    },
+	
+	    //hides dropdown list
+	    hideList: function() {
+	        if (this.listWrapper.hasClass("invisible"))
+	            return;
+	        this.listWrapper.removeClass("visible").
+	        addClass("invisible");
+	        this.wrapper.css("zIndex", "0");
+	        this.listWrapper.css("zIndex", "99999");	
+	    
+	        this.notify("hideList");
+	    },
+	
+	    //returns sum of all visible items height
+	    getListItemsHeight: function() {
+	       
+			var itemHeight = this.singleItemHeight;
+	        return itemHeight * this.liLen();
+	    },
+	
+	    //changes list wrapper's overflow from hidden to scroll and vice versa (depending on list items height))
+	    setOverflow: function() {
+		    var maxHeight = this.getListMaxHeight();
+		    
+	        if (this.getListItemsHeight() > maxHeight)
+	            this.listWrapper.css(this.overflowCSS, "scroll");
+	        else
+	            this.listWrapper.css(this.overflowCSS, "hidden");	
+	    },
+	
+	    //highlights active item of the dropdown list
+	    highlight: function(activeItem) {
+	        if (($sc.KEY.DOWN == this.lastKey) || ($sc.KEY.UP == this.lastKey))
+	            return;
+		
+	        this.listItems.removeClass("active");   
+	        $(activeItem).addClass("active");
+	    },
+	
+
+	
+	    //sets text and hidden inputs value
+	    setComboValue: function(val, pop, hideList) {
+	        var oldVal = this.input.val();
+	    
+	        var v = "";
+	        if (this.multiple) {
+	            v = this.getTextValue();
+		        if (pop) 
+		            v.pop();
+		        v.push($.trim(val));
+		        v = $sc.normalizeArray(v);
+		        v = v.join(this.config.separator) + this.config.separator;   
+		 
+	        } else {
+	            v = $.trim(val);
+	        }
+	        this.input.val(v);
+	        this.setHiddenValue(val);
+	        this.filter();
+	        if (hideList)
+	            this.hideList();
+	        this.input.removeClass("empty");
+
+	    
+	        if (this.multiple)
+	            this.input.focus();
+		
+	        if (this.input.val() != oldVal)
+	            this.notify("textChange");	
+				
+	    },
+	
+	
+	
+	    //sets hidden inputs value
+	    //takes text input's value as a param
+	    setHiddenValue: function(val) {
+	        var set = false;
+	        val = $.trim(val);
+	        var oldVal = this.hidden.val();
+	    	    
+	        if (!this.multiple) {
+	            for (var i = 0, len = this.options.length; i < len; ++i){
+		            if (val == this.options.eq(i).text()) {
+		                this.hidden.val(this.options.eq(i).val());
+			            set = true;
+			            break;
+		            }
+		        }
+	         }
+	        else {
+	            var comboVals = this.getTextValue();
+		        var hiddenVals = [];
+		        for (var i = 0, len = comboVals.length; i < len; ++i) {
+		            for (var j = 0, len1 = this.options.length; j < len1; ++j) {
+		                if (comboVals[i] == this.options.eq(j).text()) {
+			                hiddenVals.push(this.options.eq(j).val());
+			            }      
+		            }
+		        }
+		
+		        if (hiddenVals.length) {
+		            set = true;
+		        this.hidden.val(hiddenVals.join(this.config.separator));
+		    }
+	     }
+	    
+	    if (!set) {
+	        this.hidden.val(this.config.initialHiddenValue);
+	    }
+	    
+	    if (oldVal != this.hidden.val())
+	        this.notify("change");
+		
+	    this.selectbox.val(this.hidden.val());
+		this.selectbox.trigger("change");
+	},
+	
+	
+	    listItemClick: function(item) {
+	        this.setComboValue(item.text(), true, true);
+	        this.inputFocus();
+	    },
+	
+	    //adds / removes items to / from the dropdown list depending on combo's current value
+	    filter: function() {
+		    if ("yes" == this.wrapper.data("sc:optionsChanged")) {
+		        var self = this;
+		        this.listItems.remove();
+                this.options = this.selectbox.children().filter("option");
+	            this.options.each(function() {
+	                var optionText = $.trim($(this).text());
+	                $("<li />").
+	                appendTo(self.list).
+	                text(optionText).
+	                addClass("visible");
+	    
+	            }); 
+	
+	            this.listItems = this.list.children();
+	
+	            this.listItems.bind("mouseover", function(e) {
+	                self.highlight(e.target);
+	            });
+	    
+	            this.listItems.bind("click", function(e) {
+	                self.listItemClick($(e.target));
+	            });
+			
+			    self.wrapper.data("sc:optionsChanged", "");
+		    }
+			
+	        var comboValue = this.input.val();
+	        var self = this;
+
+	        this.listItems.each(function() {
+	            var $this = $(this);
+	            var itemValue = $this.text();
+		        if (self.filterFn.call(self, self.getCurrentTextValue(), itemValue, self.getTextValue())) {
+		           $this.removeClass("invisible").
+		           addClass("visible");
+		        } else {
+		            $this.removeClass("visible").
+		            addClass("invisible");
+		        }
+	        });
+	     
+	        this.setOverflow();
+	        this.setListHeight();
+	    },
+	
+	//default dropdown list filtering function
+	filterFn: function(currentComboValue, itemValue, allComboValues) {
+		if ("click" == this.wrapper.data("sc:lastEvent")) {
+		    return true;	
+		}
+		//alert(currentComboValue.toSource());
+	    if (!this.multiple) {
+	        return itemValue.toLowerCase().indexOf(currentComboValue.toLowerCase()) == 0;
+	    }
+	    else {
+	        //exclude values that are already selected
+
+		for (var i = 0, len = allComboValues.length; i < len; ++i) {
+		    if (itemValue == allComboValues[i]) {
+		        return false;
+		    }
+		}
+		
+		return itemValue.toLowerCase().search(currentComboValue.toLowerCase()) == 0;
+	    }
+	},
+	
+	//just returns integer value of list wrapper's max-height property
+	getListMaxHeight: function() {
+			
+		var result = parseInt(this.listWrapper.css("maxHeight"), 10);
+		if (isNaN(result)) {
+		    result = this.singleItemHeight * 10;	
+		}
+		
+		return result;
+	},
+	
+	//corrects list wrapper's height depending on list items height
+	setListHeight: function() {
+	
+	    var liHeight = this.getListItemsHeight();
+		
+	    var maxHeight = this.getListMaxHeight();
+		
+	
+	    var listHeight = this.listWrapper.height();
+	    if (liHeight < listHeight) {
+	        this.listWrapper.height(liHeight); 
+			
+			return liHeight;
+	    }
+	    else if (liHeight > listHeight) {
+	        this.listWrapper.height(Math.min(maxHeight, liHeight));
+			
+			return Math.min(maxHeight, liHeight);
+	    }
+				
+	},
+	
+	//returns active (hovered) element of the dropdown list
+	getActive: function() {
+	    return this.listItems.filter(".active");
+	},
+	
+	keyUp: function(e) {
+	    this.lastKey = e.keyCode;
+	    var k = $sc.KEY;
+	    switch (e.keyCode) {
+	        case k.RETURN:
+			case k.TAB:
+			//this.input.focus();
+		    this.setComboValue(this.getActive().text(), true, true);
+		    if (!this.multiple)
+		        //this.input.blur(); //
+		    	
+		break;
+		case k.DOWN:
+		    this.highlightNext();
+		break;
+		case k.UP:
+		    this.highlightPrev();
+		break;
+		case k.ESC:
+		    this.hideList();
+		break;
+		default:
+		    this.inputChanged();
+		break;
+	    }
+	    
+	    
+	},
+	
+	//returns number of currently visible list items
+	liLen: function() {
+	    return this.listItems.filter(".visible").length;
+	},
+	
+	//triggered when the user changes combo value by typing
+	inputChanged: function() {
+	    this.filter();
+
+	    if (this.liLen()) {
+	        this.showList();
+		this.setOverflow();
+		this.setListHeight();
+	    } else {
+	        this.hideList();
+	    }
+	    
+	    this.setHiddenValue(this.input.val());
+	    this.notify("textChange");
+	    
+	},
+	
+	//highlights first item of the dropdown list
+	highlightFirst: function() {
+	    this.listItems.removeClass("active").filter(".visible:eq(0)").addClass("active");
+	    this.autoFill();
+	},
+	
+	highlightSelected: function() {
+        this.listItems.removeClass("active");
+		var val = $.trim(this.input.val());
+		
+		try {
+			this.listItems.each(function() {
+			    var $this = $(this);
+				if ($this.text() == val) {
+				    $this.addClass("active");	
+					self.listWrapper.scrollTop(0);
+					self.scrollDown();
+					
+				}
+			});
+			//no match, must be partial input string; highlight first item
+			this.highlightFirst();
+			
+		} catch (e) {}
+	},
+	
+	//highlights item of the dropdown list next to the currently active item
+	highlightNext: function() {
+	    var $next = this.getActive().next();
+	    
+	    while ($next.hasClass("invisible") && $next.length) {
+	        $next = $next.next();
+	    }
+	    
+	    if ($next.length) {
+	        this.listItems.removeClass("active");
+		$next.addClass("active");
+		this.scrollDown();
+	    }
+	},
+	
+	//scrolls list wrapper down when needed
+	scrollDown: function() {
+	    if ("scroll" != this.listWrapper.css(this.overflowCSS))
+	        return;
+		
+            var beforeActive = this.getActiveIndex() + 1;
+			/*if ($.browser.opera)
+			    ++beforeActive;*/
+	    
+	    var minScroll = this.listItems.outerHeight() * beforeActive - this.listWrapper.height();
+        
+		if ($.browser.msie)
+            minScroll += beforeActive;
+	    
+	    if (this.listWrapper.scrollTop() < minScroll)
+	        this.listWrapper.scrollTop(minScroll);
+	},
+	
+	
+	//highlights list item before currently active item
+	highlightPrev: function() {
+	    var $prev = this.getActive().prev();
+	    
+	    while ($prev.length && $prev.hasClass("invisible"))
+	        $prev = $prev.prev();
+		
+            if ($prev.length) {
+	        this.getActive().removeClass("active");
+		$prev.addClass("active");
+		this.scrollUp();
+	    }
+	},
+	
+	//returns index of currently active list item
+	getActiveIndex: function() {
+	    return $.inArray(this.getActive().get(0), this.listItems.filter(".visible").get());
+	},
+	
+	
+	//scrolls list wrapper up when needed
+	scrollUp: function() {
+	    
+	    if ("scroll" != this.listWrapper.css(this.overflowCSS))
+	        return;
+		
+	    var maxScroll = this.getActiveIndex() * this.listItems.outerHeight();
+	    
+	    if (this.listWrapper.scrollTop() > maxScroll) {
+	        this.listWrapper.scrollTop(maxScroll);
+	    }     
+	},
+	
+	//emptyText stuff
+	applyEmptyText: function() {
+	    if (!this.config.emptyText.length)
+	        return;
+		
+	    var self = this;	
+	    this.input.bind("focus", function() {
+                self.inputFocus();
+	    }).
+	    bind("blur", function() {
+                self.inputBlur();
+	    });	
+	    
+	    if ("" == this.input.val()) {
+	        this.input.addClass("empty").val(this.config.emptyText);
+	    }
+	},
+	
+	inputFocus: function() {
+	    if (this.input.hasClass("empty")) {
+		this.input.removeClass("empty").
+		val("");
+        }
+	},
+	
+	inputBlur: function() {
+	    if ("" == this.input.val()) {
+		this.input.addClass("empty").
+		val(this.config.emptyText);
+	    }
+	    
+	},
+	
+	//triggerSelected stuff
+	triggerSelected: function() {
+	    if (!this.config.triggerSelected)
+	        return;
+		
+	    var self = this;	
+		try {
+	    this.options.each(function() {
+	        if ($(this).attr("selected")) {
+		        self.setComboValue($(this).text(), false, true);
+				throw new Error();
+		    }
+	    });	
+		} catch (e) {
+		    return;	
+		}
+		
+        self.setComboValue(this.options.eq(0).text(), false, false);
+	},
+	
+	//autofill stuff
+	autoFill: function() {
+	    if (!this.config.autoFill || ($sc.KEY.BACKSPACE == this.lastKey) || this.multiple)
+	        return;
+		    	
+	    var curVal = this.input.val();
+	    var newVal = this.getActive().text();
+	    this.input.val(newVal);
+	    this.selection(this.input.get(0), curVal.length, newVal.length);
+	   
+	    	
+	},
+	
+	//provides selection for autofilling
+	//borrowed from jCarousel
+	selection: function(field, start, end) {
+	    if( field.createTextRange ){
+		var selRange = field.createTextRange();
+		selRange.collapse(true);
+		selRange.moveStart("character", start);
+		selRange.moveEnd("character", end);
+		selRange.select();
+	    } else if( field.setSelectionRange ){
+		field.setSelectionRange(start, end);
+	    } else {
+		if( field.selectionStart ){
+			field.selectionStart = start;
+			field.selectionEnd = end;
+		}
+	    }
+	   // field.focus();	
+	},
+	
+	
+	//for internal use
+	updateDrop: function() {
+	    if (this.config.dropUp)
+	        this.listWrapper.addClass("list-wrapper-up");
+	    else 
+	        this.listWrapper.removeClass("list-wrapper-up");		
+	},
+	
+	//updates dropUp config option
+	setDropUp: function(drop) {
+        this.config.dropUp = drop;   
+	    this.updateDrop(); 
+	},
+	
+	notify: function(evt) {
+	    if (!$.isFunction(this.config[evt + "Callback"]))
+	        return;
+		
+	    this.config[evt + "Callback"].call(this);	
+	}
+    });
+    
+    $sc.extend({
+        //key codes
+	//from jCarousel
+        KEY: {
+	    UP: 38,
+	    DOWN: 40,
+	    DEL: 46,
+	    TAB: 9,
+	    RETURN: 13,
+	    ESC: 27,
+	    COMMA: 188,
+	    PAGEUP: 33,
+	    PAGEDOWN: 34,
+	    BACKSPACE: 8	
+	},
+	
+	//for debugging
+	log: function(msg) {
+	    var $log = $("#log");
+	    $log.html($log.html() + msg + "<br />");
+	},
+	
+    createSelectbox: function(config) {
+	    var $selectbox = $("<select />").
+	    appendTo(config.container).
+	    attr({name: config.name, id: config.id, size: "1"});
+	    
+	    if (config.multiple)
+	        $selectbox.attr("multiple", true);
+	    
+	    var data = config.data;
+	    var selected = false;
+	    
+	    for (var i = 0, len = data.length; i < len; ++i) {
+	        selected = data[i].selected || false;
+	        $("<option />").appendTo($selectbox).
+			attr("value", data[i][config.key]).
+			text(data[i][config.value]).
+			attr("selected", selected);
+	    }
+	    
+	    return $selectbox.get(0);
+	},
+	
+	create: function(config) {
+            var defaults = {
+	        //the name of the selectbox
+	        name: "",
+		//the ID of the selectbox
+		id: "",
+		//data for the options
+		/*
+		This is an array of objects. The objects should contain the following properties:
+		(string)value - the value of the <option>
+		(string) text - text of the <option>
+		(bool) selected - if set to true, "selected" attribute of this <option> will be set to true
+		*/
+		data: [],
+		
+		//if true, combo with multiple choice will be created
+		multiple: false,
+		
+		//key json name for key/value pair
+		key: "value",
+		
+		//value json for key/value pair
+		value: "text",		
+		
+		//an element that will contain the widget
+		container: $(document),
+		//url that contains JSON object for options data
+		//format is the same as in data config option
+		//if passed, "data" config option will be ignored
+		url: "",
+		//params for AJAX request
+		ajaxData: {}
+	    };
+	    config = $.extend({}, defaults, config || {});
+	    
+            if (config.url) {
+	        return $.getJSON(config.url, config.ajaxData, function(data) {
+		    delete config.url;
+		    delete config.ajaxData;
+		    config.data = data;
+		    return $sc.create(config);
+		});
+	    }
+	    
+	    config.container = $(config.container);
+	    
+            var selectbox = $sc.createSelectbox(config);
+	    return new $sc(selectbox, config);
+	    
+	},
+	
+	deactivate: function($select) {
+	    $select = $($select);
+		$select.each(function() {
+		    if ("SELECT" != this.tagName.toUpperCase()) {
+			    return;	
+			}
+			var $this = $(this);
+			if (!$this.parent().is(".combo")) {
+			    return;	
+			}
+			//$this.parent().find("input[type='text']").attr("disabled", true);
+			
+		});
+	},
+	
+	activate: function($select) {
+	    $select = $($select);
+		$select.each(function() {
+		    if ("SELECT" != this.tagName.toUpperCase()) {
+			    return;	
+			}
+			var $this = $(this);
+			if (!$this.parent().is(".combo")) {
+			    return;	
+			}
+			$this.parent().find("input[type='text']").attr("disabled", false);
+		});		
+	},
+	
+	changeOptions: function($select) {
+		$select = $($select);
+        $select.each(function() {
+		    if ("SELECT" != this.tagName.toUpperCase()) {
+			    return;	
+			}
+			
+			var $this = $(this);
+			var $wrapper  = $this.parent();
+			var $input = $wrapper.find("input[type='text']");
+			var $listWrapper = $wrapper.find("ul").parent();
+			
+	        $listWrapper.removeClass("visible").
+	        addClass("invisible");
+	        $wrapper.css("zIndex", "0");
+	        $listWrapper.css("zIndex", "99999");			
+			
+			$input.val("");
+			$wrapper.data("sc:optionsChanged", "yes");
+			var $selectbox = $this;
+		    $selectbox.parent().find("input[type='text']").val($selectbox.find("option:eq(0)").text());
+		    $selectbox.parent().data("sc:lastEvent", "click");
+		    $selectbox.find("option:eq(0)").attr('selected','selected');
+		});
+	},
+	
+	normalizeArray: function(arr) {
+	    var result = [];
+	    for (var i = 0, len =arr.length; i < len; ++i) {
+	        if ("" == arr[i])
+		    continue;
+		    
+		result.push(arr[i]);    
+	    }
+	    
+	    return result;
+	}
+    });
+})(jQuery); 
diff --git a/sites/all/modules/form_beautifier/js/prettyCheckboxes.js b/sites/all/modules/form_beautifier/js/prettyCheckboxes.js
new file mode 100644
index 0000000..5e775e9
--- /dev/null
+++ b/sites/all/modules/form_beautifier/js/prettyCheckboxes.js
@@ -0,0 +1,101 @@
+/* ------------------------------------------------------------------------
+	prettyCheckboxes
+	
+	Developped By: Stephane Caron (http://www.no-margin-for-errors.com)
+	Inspired By: All the non user friendly custom checkboxes solutions ;)
+	Version: 1.1
+	
+	Copyright: Feel free to redistribute the script/modify it, as
+			   long as you leave my infos at the top.
+------------------------------------------------------------------------- */
+	
+	jQuery.fn.prettyCheckboxes = function(settings) {
+		settings = jQuery.extend({
+					checkboxWidth: 17,
+					checkboxHeight: 17,
+					className : 'prettyCheckbox',
+					display: 'list'
+				}, settings);
+
+		$(this).each(function(){
+			// Find the label
+			$label = $('label[for="'+$(this).attr('id')+'"]:first');
+
+			// Add the checkbox holder to the label
+			$label.prepend("<span class='holderWrap'><span class='holder'></span></span>");
+
+			// If the checkbox is checked, display it as checked
+			if($(this).is(':checked')) { $label.addClass('checked'); };
+			
+			// Move all checkboxes after the Label
+			if($label.find('input').is(':checkbox')){ 
+			  $label.after($label.find('input'));
+			}
+
+			// Assign the class on the label
+			$label.addClass(settings.className).addClass($(this).attr('type')).addClass(settings.display);
+
+			// Assign the dimensions to the checkbox display
+			$label.find('span.holderWrap').width(settings.checkboxWidth).height(settings.checkboxHeight);
+			$label.find('span.holder').width(settings.checkboxWidth);
+
+			// Hide the checkbox
+			$(this).addClass('hiddenCheckbox');
+
+			// Associate the click event
+			$label.bind('click',function(){
+				$('input#' + $(this).attr('for')).triggerHandler('click');
+
+				if($('input#' + $(this).attr('for')).is(':checkbox')){
+					$(this).toggleClass('checked');
+					$('input#' + $(this).attr('for')).checked = true;
+					
+					$(this).find('span.holder').css('top',0);
+				}else{
+					$toCheck = $('input#' + $(this).attr('for'));
+
+					// Uncheck all radio
+					$('input[name="'+$toCheck.attr('name')+'"]').each(function(){
+						$('label[for="' + $(this).attr('id')+'"]').removeClass('checked');	
+					});
+
+					$(this).addClass('checked');
+					$toCheck.checked = true;
+				};
+			});
+			
+			$('input#' + $label.attr('for')).bind('keypress',function(e){
+				if(e.keyCode == 32){
+					if($.browser.msie){
+						$('label[for="'+$(this).attr('id')+'"]').toggleClass("checked");
+					}else{
+						$(this).trigger('click');
+					}
+					return false;
+				};
+			});
+		});
+	};
+	
+	checkAllPrettyCheckboxes = function(caller, container){
+		if($(caller).is(':checked')){
+			// Find the label corresponding to each checkbox and click it
+			$(container).find('input[type=checkbox]:not(:checked)').each(function(){
+				$('label[for="'+$(this).attr('id')+'"]').trigger('click');
+				if($.browser.msie){
+					$(this).attr('checked','checked');
+				}else{
+					$(this).trigger('click');
+				};
+			});
+		}else{
+			$(container).find('input[type=checkbox]:checked').each(function(){
+				$('label[for="'+$(this).attr('id')+'"]').trigger('click');
+				if($.browser.msie){
+					$(this).attr('checked','');
+				}else{
+					$(this).trigger('click');
+				};
+			});
+		};
+	};
\ No newline at end of file
diff --git a/sites/all/modules/form_beautifier/js/ui.checkbox.js b/sites/all/modules/form_beautifier/js/ui.checkbox.js
new file mode 100755
index 0000000..d2954c8
--- /dev/null
+++ b/sites/all/modules/form_beautifier/js/ui.checkbox.js
@@ -0,0 +1,333 @@
+/*
+ * jQuery UI Checkbox 0.1
+ *
+ * Copyright (c) 2009 Jeremy Lea <reg@openpave.org>
+ * Dual licensed under the MIT and GPL licenses.
+ *
+ * http://docs.jquery.com/Licensing
+ *
+ * Based loosely on plugin by alexander.farkas.
+ * http://www.protofunc.com/scripts/jquery/checkbox-radiobutton/
+ */
+
+(function($){
+
+// Set up IE for VML if we have not done so already...
+if ($.browser.msie) {
+	// IE6 background flicker fix
+	try	{
+		document.execCommand('BackgroundImageCache', false, true);
+	} catch (e) {}
+
+	if (!document.namespaces["v"]) {
+		$("head").prepend("<xml:namespace ns='urn:schemas-microsoft-com:vml' prefix='v' />");
+		$("head").prepend("<?import namespace='v' implementation='#default#VML' ?>");
+	}
+}
+
+$.widget("ui.checkbox", {
+	_init: function() {
+		// XXX: UI widget will not actually fail...
+		if (!this.element.is(":radio,:checkbox")) {
+			return false;
+		}
+		// _radio stores the members of the radio group (if there is one).
+		if (this.element.is(":radio")) {
+			this._radio = $(this.element[0].form).find("input:radio")
+				.filter('[name="'+this.element[0].name+'"]');
+		} else {
+			this._radio = false;
+		}
+
+		var self = this, o = this.options; // closures for callbacks.
+		// Set the ARIA properties on the native input
+		this.element
+			.attr({
+				role: (this._radio ? "radio" : "checkbox"),
+				"aria-checked": !!this.element[0].checked
+			});
+		// Create the main wrapper element (which gives the background box)
+		this._wrapper = this.element.wrap($("<span />")).parent()
+			.addClass((this._radio ? "ui-radio" : "ui-checkbox") +
+				" ui-state-default");
+		// Create the icon element
+		this._wrapper.prepend($("<span/>")
+			.addClass("ui-icon " + this._icon(false))
+			.click(function(event) {
+				// The icon covers the entire box, but is not in a bubbling
+				// path, so use it to trigger the native event, and let it
+				// take care of the rest.  Gobble up this fake event.
+				self.element[0].click();
+				event.preventDefault();
+				event.stopImmediatePropagation();
+				return false;
+			}));
+		if ($.browser.msie) {
+			// IE does not support rounded corners...  We should check
+			// something to see if it does.   But anyway, we make another
+			// element which is a VML roundrect, and hide the normal wrapper.
+			//
+			// XXX: Check if we can use this in place of the span.
+			// XXX: Implement background images.
+			// XXX: Tidy this up to be more jQuery'ish
+			//
+			// Play tricks to get around arcsize bugs...
+			this._wrapper[0].insertAdjacentHTML("afterBegin",
+				"<v:roundrect arcsize='" + (this._radio ? "1" : "0.1") +
+				"'><v:stroke /><v:fill /></v:roundrect>");
+			this._vml = this._wrapper[0].childNodes[0];
+			var ss = this._wrapper[0].currentStyle;
+			this._vml.style.top = "-1px";
+			this._vml.style.left = "-1px";
+			this._vml.style.width = parseInt(ss.width)+1+"px";
+			this._vml.style.height = parseInt(ss.height)+1+"px";
+			this._doVML();
+			this._vml.style.visibility = "visible";
+			this._wrapper.css('visibility','hidden');
+			// Listen for class or other changes to recreate the elements.
+			this._wrapper[0].onpropertychange = function() {
+				switch (event.propertyName) {
+				case 'className':
+				case 'style.borderTopWidth':
+				case 'style.borderTopColor':
+				case 'style.backgroundColor':
+				case 'style.filter':
+					self._doVML();
+					break;
+				}
+			}
+			// Listen for the custom event from the theme switcher.
+			$().bind('ui-theme-switch', function() {
+				setTimeout(function() {
+					self._doVML();
+				}, 500);
+				return false;
+			});
+		}
+		if ($.browser.opera) {
+			// Opera also does not support rounded corners...  Use an SVG
+			// element instead.  Same as above, but a little simpler.
+			//
+			// XXX: Check if we can use this in place of the span.
+			// XXX: Implement background images.
+			// XXX: Tidy this up to be more jQuery'ish
+			var svg = document.createElementNS("http://www.w3.org/2000/svg","svg");
+			var rect = document.createElementNS("http://www.w3.org/2000/svg","rect");
+			var ss = this._wrapper[0].currentStyle;
+			rect.setAttributeNS(null, "x", "1px");
+			rect.setAttributeNS(null, "y", "1px");
+			rect.setAttributeNS(null, "width", ss.width);
+			rect.setAttributeNS(null, "height", ss.height);
+			rect.setAttributeNS(null, "rx", (this._radio ? "6px" : "2px"));
+			svg.appendChild(rect);
+			this._wrapper.prepend(svg);
+			this._svg = this._wrapper[0].firstChild;
+			this._svg.style.width = parseInt(ss.width)+2+"px";
+			this._svg.style.height = parseInt(ss.height)+2+"px";
+			this._doSVG();
+			this._svg.style.visibility = "visible";
+			this._wrapper.css('visibility','hidden');
+			// Listen for class changes.
+			this._wrapper.bind("DOMAttrModified", function(event) {
+				if (event.attrName === 'class') {
+					self._doSVG();
+				}
+			});
+			// Listen for the custom event from the theme switcher.
+			$().bind("ui-theme-switch", function() {
+				self._doSVG();
+				return false;
+			});
+		}
+
+		// Set up events...
+		this._wrapper
+			.hover(function(event) {
+				if (!o.disabled) {
+					$(this).addClass("ui-state-hover");
+				}
+			}, function(event) {
+				if (!o.disabled) {
+					$(this).removeClass("ui-state-hover");
+				}
+			})
+			.bind("mousedown", function(event) {
+				if (!o.disabled) {
+					$(this).addClass("ui-state-active");
+				}
+			})
+			.bind("mouseup", function(event) {
+				if (!o.disabled) {
+					$(this).removeClass("ui-state-active");
+				}
+			})
+			.bind(this.widgetEventPrefix + "focus", function(event) {
+				if (!o.disabled) {
+					if (self._radio) {
+						self._radio.not(self.element)
+							.removeClass("ui-state-focus");
+					}
+					$(this).addClass("ui-state-focus");
+				}
+			})
+			.bind(this.widgetEventPrefix + "blur", function(event) {
+				if (!o.disabled) {
+					$(this).removeClass("ui-state-focus");
+				}
+			})
+			.bind(this.widgetEventPrefix + "click", function(event) {
+				if (!o.disabled) {
+					if (self._radio) {
+						self._radio.not(self.element).checkbox("uncheck");
+						self.check();
+					} else {
+						self.toggle();
+					}
+				}
+			});
+		this.element
+			.bind("focus." + this.widgetName, function(event) {
+				self._trigger("focus", event); // Actually checkboxfocus
+			})
+			.bind("blur." + this.widgetName, function(event) {
+				self._trigger("blur", event); // Actually checkboxblur
+			})
+			.bind("click." + this.widgetName, function(event) {
+				self._trigger("click", event); // Actually checkboxclick
+			});
+
+		// Capture the initial value
+		this._setData("checked", !!this.element[0].checked);
+	},
+	destroy: function() {
+		this._wrapper.replaceWith(this.element);
+		this.element.removeAttr("role")
+			.removeAttr("aria-checked")
+			.unbind("."+this.widgetName);
+
+		$.widget.prototype.destroy.apply(this, arguments);
+	},
+
+	// Most of the work is done here.
+	_setData: function(key, value) {
+		$.widget.prototype._setData.apply(this, arguments);
+
+		if (key == "disabled") {
+			if (value) {
+				this.element.attr("disabled","disabled");
+				this._wrapper.removeClass("ui-state-focus ui-state-hover ui-state-active");
+			} else {
+				this.element.removeAttr("disabled");
+			}
+			this._wrapper
+				[value ? "addClass" : "removeClass"](
+					this.widgetName + "-disabled " +
+					this.namespace + "-state-disabled");
+		} else if (key == "checked") {
+			this.element[0].checked = !!value;
+			this.element.attr("aria-checked", !!value);
+			this._wrapper.find(".ui-icon")
+				.addClass(this._icon(!!value))
+				.removeClass(this._icon(!value));
+		}
+	},
+
+	check: function() {
+		this._setData("checked", true);
+	},
+	uncheck: function() {
+		this._setData("checked", false);
+	},
+	toggle: function() {
+		this._setData("checked", !this._getData("checked"));
+	},
+
+	_icon: function(state) {
+		if (this._radio) {
+			return "ui-icon-"
+				+ this.options[state?"radioChecked":"radioUnchecked"];
+		} else {
+			return "ui-icon-"
+				+ this.options[state?"checkboxChecked":"checkboxUnchecked"];
+		}
+	},
+
+	_opacityFixed: false,
+	_inFixup: false,
+	_fixStyle: function(jq, re) {
+		var s = jq.attr("style").replace(re,"");
+		if (s !== "") {
+			jq.attr("style",s);
+		} else {
+			jq.removeAttr("style");
+		}
+	},
+	// Only called for IE
+	_doVML: function() {
+		if (!this._vml || this._inFixup) {
+			return;
+		}
+		this._inFixup = true;
+		var ss, op;
+		if (this._opacityFixed) {
+			this._vml.childNodes[0].opacity = '1';
+			this._vml.childNodes[1].opacity = '1';
+			this._fixStyle(this._wrapper.find(".ui-icon"),/filter[^;]*\;?/i);
+			this._fixStyle(this._wrapper,/filter[^;]*\;?/i);
+			this._opacityFixed = false;
+		}
+		ss = this._wrapper[0].currentStyle;
+		// IE6 needs both of these...
+		this._vml.strokecolor = ss.borderTopColor;
+		this._vml.strokeweight = ss.borderTopWidth;
+		this._vml.fillcolor = ss.backgroundColor;
+		this._vml.childNodes[0].color = ss.borderTopColor;
+		this._vml.childNodes[0].weight = ss.borderTopWidth;
+		this._vml.childNodes[1].color = ss.backgroundColor;
+		if (ss.filter && ss.filter.search(/Alpha/i) !== -1) {
+			op = /(\d+)/.exec(ss.filter);
+			this._wrapper.find(".ui-icon").css("filter",ss.filter);
+			this._vml.childNodes[0].opacity = op[1]/100;
+			this._vml.childNodes[1].opacity = op[1]/100;
+			this._wrapper.css("filter","");
+			this._opacityFixed = true;
+		}
+		this._inFixup = false;
+	},
+	// Only called for Opera
+	_doSVG: function() {
+		if (!this._svg || this._inFixup) {
+			return;
+		}
+		this._inFixup = true;
+		var ss, op;
+		// Opera doesn't carry over opacity from the hidden container...
+		if (this._opacityFixed) {
+			this._fixStyle(this._wrapper.find(".ui-icon"),/opacity[^;]*\;?/i);
+			this._fixStyle(this._wrapper.find("rect"),/opacity[^;]*\;?/i);
+			this._fixStyle(this._wrapper,/opacity[^;]*\;?/i);
+			this._opacityFixed = false;
+		}
+		ss = this._wrapper[0].currentStyle;
+		this._svg.firstChild.style.stroke = ss.borderTopColor;
+		this._svg.firstChild.style.strokeWidth = ss.borderTopWidth;
+		this._svg.firstChild.style.fill = ss.backgroundColor;
+		if (ss.opacity && ss.opacity !== 1) {
+			op = ss.opacity;
+			this._wrapper.find(".ui-icon").css("opacity",op);
+			this._wrapper.find("rect").css("opacity",op);
+			this._wrapper[0].style.opacity = "1";
+			this._opacityFixed = true;
+		}
+		this._inFixup = false;
+	}
+
+});
+$.ui.checkbox.defaults = {
+	checkboxChecked: "check",
+	checkboxUnchecked: "empty",
+	radioChecked: "bullet",
+	radioUnchecked: "empty"
+};
+
+})(jQuery);
diff --git a/sites/all/modules/imagecache/README_vibio.txt b/sites/all/modules/imagecache/README_vibio.txt
new file mode 100644
index 0000000..1794440
--- /dev/null
+++ b/sites/all/modules/imagecache/README_vibio.txt
@@ -0,0 +1,6 @@
+Notes go here: https://docs.google.com/document/d/1bJNHSiMDJb5ReWBVeW3E94ioN7NfD5-fgbiMBsbKEOs/edit?hl=en_US
+
+20111009: 
+v1.0 created an alternative to Private and Public.  Imagecache depends on knowing which of Private and Public you are using.  Problems in imagecache can be pretty quickly hacked around once realize this.  Long term: Im not sure theres really a point to not using a slightly modified Public or Private, is there?  If not, uncomplexify and redrupalify....
+
+big problems with imagecache: its not the file structure or .htaccess, but that neither PRIVATE nor PUBLIC is used.  See especially the change in imagecache.module  imagecache_create_url
diff --git a/sites/all/modules/imagecache/imagecache.module b/sites/all/modules/imagecache/imagecache.module
index ce15612..a5b13d7 100644
--- a/sites/all/modules/imagecache/imagecache.module
+++ b/sites/all/modules/imagecache/imagecache.module
@@ -72,18 +72,6 @@ function imagecache_menu() {
     'access callback' => '_imagecache_menu_access_public_files',
     'type' => MENU_CALLBACK
   );
-  // stephen: redirect from secondary server to main (staging)
-	// this didn't immediately work.  Ok to erase if never get it going.
-	// with this: You are not logged in.
-	// the access callback isn't working.  Who can't access?
-	// I think anyone can access, so I'm locking it accessable.
-  $items['cachedimages/imagecache'] = array(
-    'page callback' => 'imagecache_cache',
-    'access callback' => '_imagecache_menu_access_public_files',
-    'type' => MENU_CALLBACK
-  );
-
-
   // private downloads imagecache callback
   $items['system/files/imagecache'] = array(
     'page callback' => 'imagecache_cache_private',
@@ -98,10 +86,6 @@ function imagecache_menu() {
  * Menu access callback for public file transfers.
  */
 function _imagecache_menu_access_public_files() {
-	// not sure what Nelson coded... let's kill this problem -- stephen
-	return 1;
-	//die(FILE_DOWNLOADS_PUBLIC);
-	//die(variable_get('file_downloads', FILE_DOWNLOADS_PUBLIC));
   return (FILE_DOWNLOADS_PUBLIC == variable_get('file_downloads', FILE_DOWNLOADS_PUBLIC));
 }
 
@@ -356,6 +340,11 @@ function imagecache_action_definition($action) {
  * @param $absolute
  *   A Boolean indicating that the URL should be absolute. Defaults to TRUE.
  */
+
+// vibio: I found this alternative function from someone with the same symptoms.
+//  it's likely that we should go back to the original when tuning this, I 
+//  don't think their fixes are a perfect match for what we need... but it's
+//  working fine so moving on
 function imagecache_create_url($presetname, $filepath, $bypass_browser_cache = FALSE, $absolute = TRUE) {
   $args = array('query' => empty($bypass_browser_cache) ? NULL : time());
   $file_directory = file_directory_path();
@@ -368,6 +357,49 @@ function imagecache_create_url($presetname, $filepath, $bypass_browser_cache = F
   drupal_alter('file_url', $altered_path);
 
   // If any module has altered the path, then return the alteration...
+	/* vibio: we always alter the path, but 
+  if ($altered_path != $old_path) {
+    // ...but use url() so our $bypass_browser_cache parameter is honored.
+    return url($altered_path, $args);
+  }
+  */
+
+  // It was unchanged so use the download method's prefix.
+
+	/* vibio: we are using neither of these:
+  $prefix = array(
+    FILE_DOWNLOADS_PUBLIC => $file_directory,
+    FILE_DOWNLOADS_PRIVATE => 'system/files',
+  );
+  $path = $prefix[variable_get('file_downloads', FILE_DOWNLOADS_PUBLIC)] .'/'. $derivative_path;
+  */
+	// instead, use this:   !! do we even use this?
+	$path = $file_directory .'/'. $derivative_path;
+
+  //vibio: we use neither PUBLIC nor PRIVATE if (variable_get('file_downloads', FILE_DOWNLOADS_PUBLIC) == FILE_DOWNLOADS_PUBLIC && variable_get('clean_url', '0')){
+    imagecache_generate_image($presetname, $filepath);
+  //}
+
+	// vibio: Merge different approaches for our unique file structure
+	//return url($altered_path, $args);
+  return url($altered_path, $args + array('absolute' => $absolute));
+  //return url($path, $args + array('absolute' => $absolute));
+	
+}
+
+// vibio: this is the original function. 
+function Ximagecache_create_url($presetname, $filepath, $bypass_browser_cache = FALSE, $absolute = TRUE) {
+  $args = array('query' => empty($bypass_browser_cache) ? NULL : time());
+  $file_directory = file_directory_path();
+
+  // Determine the path of the derivative inside the files directory.
+  $derivative_path = 'imagecache/'. $presetname .'/'. _imagecache_strip_file_directory($filepath);
+
+  // Then construct a full path and see if anyone wants to alter it.
+  $altered_path = $old_path = $file_directory .'/'. $derivative_path;
+  drupal_alter('file_url', $altered_path);
+
+  // If any module has altered the path, then return the alteration...
   if ($altered_path != $old_path) {
     // ...but use url() so our $bypass_browser_cache parameter is honored.
     return url($altered_path, $args);
@@ -410,8 +442,7 @@ function _imagecache_strip_file_directory($path) {
  * callback for handling public files imagecache requests.
  */
 function imagecache_cache() {
-  $args = func_get_args(); // Returns an array comprising a function's argument list
-
+  $args = func_get_args();
   $preset = check_plain(array_shift($args));
   $path = implode('/', $args);
   _imagecache_cache($preset, $path);
@@ -1349,6 +1380,7 @@ function imagecache_generate_image($presetname, $filepath) {
   if (file_exists($destination)) {
     return TRUE;
   }
+// Follow this -->
   return imagecache_build_derivative($preset['actions'], $filepath, $destination);
 }
 
diff --git a/sites/all/modules/imagecache_profiles/LICENSE.txt b/sites/all/modules/imagecache_profiles/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/imagecache_profiles/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/imagecache_profiles/README.txt b/sites/all/modules/imagecache_profiles/README.txt
new file mode 100644
index 0000000..e975e0e
--- /dev/null
+++ b/sites/all/modules/imagecache_profiles/README.txt
@@ -0,0 +1,29 @@
+; $Id: README.txt,v 1.3.2.3 2010/02/22 16:39:25 andypost Exp $
+Imagecache_Profiles module allows you to set user profile pictures that are consistent throughout your site and allows avatars on the user profile pages to be a different size.
+
+- Download and enable the ImageCache module
+  - create a new ImageCache preset with the following settings
+    - preset namespace: user_image_default
+      - select "Add Scale and Crop" from the New Actions fieldgroup
+        - set width and height to 100
+        - Update Actions
+    - preset namespace: user_image_large
+      - select "Add Scale and Crop" from the New Actions fieldgroup
+        - set width and height to 200
+        - Update Actions
+
+- Download and enable the ImageCache_Profiles module as usual
+  - Enable user pictures at admin/user/settings
+    - if setting a default picture it should use a relative url path (ex. sites/default/files/default-picture.png)
+    - set picture maximum dimensions to 1600x1400
+    - set picture maximum file size to 1024
+    - set your picture guidelines text to: "Photo must be larger than 200x200 pixels." To prevent upscaling, these dimensions should be the dimensions of your largest preset.
+    - select the ImageCache preset to set the user picture size on a user's profile page
+    - select the ImageCache preset to set the user picture size within comments
+    - select the ImageCache preset to set the default user picture size throughout the site
+    - set picture minimum width in pixels: 200
+    - set picture minimum height in pixels: 200
+      - To prevent upscaling, these dimensions should be the dimensions of your largest preset.
+    - save configuration
+
+WARNING! Do not use numeric identifiers for ImageCache presets!
diff --git a/sites/all/modules/imagecache_profiles/imagecache_profiles.info b/sites/all/modules/imagecache_profiles/imagecache_profiles.info
new file mode 100644
index 0000000..8b06f8e
--- /dev/null
+++ b/sites/all/modules/imagecache_profiles/imagecache_profiles.info
@@ -0,0 +1,12 @@
+; $Id: imagecache_profiles.info,v 1.1.4.1 2008/12/19 18:05:14 v1nce Exp $
+name = Imagecache Profile Pictures
+description = Utilizes imagecache presets for user profile pictures.
+package = ImageCache
+dependencies[] = imagecache
+core = 6.x
+; Information added by drupal.org packaging script on 2010-03-25
+version = "6.x-1.3"
+core = "6.x"
+project = "imagecache_profiles"
+datestamp = "1269515110"
+
diff --git a/sites/all/modules/imagecache_profiles/imagecache_profiles.install b/sites/all/modules/imagecache_profiles/imagecache_profiles.install
new file mode 100644
index 0000000..7b7ef6a
--- /dev/null
+++ b/sites/all/modules/imagecache_profiles/imagecache_profiles.install
@@ -0,0 +1,66 @@
+<?php
+// $Id: imagecache_profiles.install,v 1.1.2.2 2009/08/29 14:02:17 andypost Exp $
+
+/*
+ * Implementation of hook_update_N().
+ *
+ *  Views support patch includes changes stored variables from the name of the imagecache preset to its numerical value.
+ *   This function converts variables from preset names to their preset id.
+ */
+function imagecache_profiles_update_6000() {
+
+  $ret = array();
+  $variables = array(
+    'user_picture_imagecache_profiles',
+    'user_picture_imagecache_comments',
+    'user_picture_imagecache_profiles_default',
+  );
+
+  foreach ($variables as $var) {
+    $value = variable_get($var, '');
+    if ($value && !is_numeric($value)) {
+      $preset = imagecache_preset_by_name($value);
+      if ($preset['presetid']) {
+        variable_set($var, $preset['presetid']);
+        $ret[] = array('success' => TRUE,
+          'query' => t('%var updated from %value to %presetid', array(
+            '%var' => $var,
+            '%value' => $value,
+            '%presetid' => $preset['presetid'],
+          ))
+        );
+      }
+      else {
+        $ret[] = array(
+          'success' => FALSE,
+          'query' => t('%var not updated: no imagecache preset could be found for %value. <a href="@settings_page"> Update your profile picture presets manually </a>', array(
+            '%var' => $var,
+            '%value' => $value,
+            '@settings_page' => url('admin/user/settings'),
+          ))
+        );
+      }
+    }
+  }
+
+  return $ret;
+}
+
+/*
+ * Implementation of hook_uninstall
+ *
+ * Delete all the variables created by imagecache_profiles
+ */
+function imagecache_profiles_uninstall() {
+  $variables = array(
+    'user_picture_imagecache_profiles',
+    'user_picture_imagecache_comments',
+    'user_picture_imagecache_profiles_default',
+    'user_picture_imagecache_profiles_min_width',
+    'user_picture_imagecache_profiles_min_height',
+  );
+
+  foreach ($variables as $var) {
+    variable_del($var);
+  }
+}
diff --git a/sites/all/modules/imagecache_profiles/imagecache_profiles.module b/sites/all/modules/imagecache_profiles/imagecache_profiles.module
new file mode 100644
index 0000000..74b2098
--- /dev/null
+++ b/sites/all/modules/imagecache_profiles/imagecache_profiles.module
@@ -0,0 +1,287 @@
+<?php
+// ; $Id: imagecache_profiles.module,v 1.4.2.16 2010/03/25 10:58:23 andypost Exp $
+
+/**
+ * Implements hook_help().
+ */
+function imagecache_profiles_help($path, $arg) {
+  switch($path) {
+    case 'admin/help#imagecache_profiles':
+      return t('Utilizes imagecache presets for user profile pictures.');
+  }
+}
+
+/**
+ * Overrides process variables for user-picture.tpl.php
+ *
+ * Originally variables are built by template_preprocess_user_picture()
+ * locate in core user.module.
+ *
+ * The $variables array contains the following arguments:
+ * - $account
+ *
+ * @see user-picture.tpl.php
+ */
+function imagecache_profiles_preprocess_user_picture(&$variables) {
+  $default = $variables['picture'];
+  if (variable_get('user_pictures', 0)) {
+    $account = $variables['account'];
+    // Determine imagecache preset to use for user profile picture
+    // First let's determine if we have a default imagecache preset
+    if (variable_get('user_picture_imagecache_profiles_default', 0)) {
+      // Define default user picture size
+      $size = variable_get('user_picture_imagecache_profiles_default', 0);
+    }
+    // If on user profile page.
+    if (arg(0) == 'user') {
+      // Only show profile image for profile page, and edit account form,
+      // not user/123/relationships or other module define pages.
+      if (arg(2) == NULL || arg(2) == 'edit') {
+        if (is_numeric(arg(1)) || (module_exists('me') && arg(1) == me_variable_get('me_alias'))) {
+          if (variable_get('user_picture_imagecache_profiles', 0)) {
+            $size = variable_get('user_picture_imagecache_profiles', 0);
+          }
+        }
+      }
+    }
+    // If viewing a comment
+    if (is_object($account) && array_key_exists('cid', get_object_vars($account))) {
+      if (variable_get('user_picture_imagecache_comments', 0)) {
+        $size = variable_get('user_picture_imagecache_comments', 0);
+      }
+    }
+
+    // If views set an imagecache preset
+    if (isset($account->imagecache_preset)) {
+      $size = $account->imagecache_preset;
+    }
+
+    if (!empty($account->picture) && file_exists($account->picture)) {
+      $picture = $account->picture;
+    }
+    else if (variable_get('user_picture_default', '')) {
+      $picture = variable_get('user_picture_default', '');
+    }
+
+    if (isset($picture)) {
+      $alt = t("@user's picture", array('@user' => $account->name ? $account->name : variable_get('anonymous', t('Anonymous'))));
+      $preset = is_numeric($size) ? imagecache_preset($size) : imagecache_preset_by_name($size);
+      if (empty($preset)) {
+        $variables['picture'] = $default; //theme('image', $picture, $alt, $alt, '', FALSE);
+      }
+      else {
+        if (!empty($account->uid) && user_access('access user profiles')) {
+          $title = t('View user profile.');
+          $attributes = array('attributes' => array('title' => $title), 'html' => TRUE);
+          $image = theme('imagecache', $preset['presetname'], $picture, $alt, $title);
+          $variables['picture'] = l($image, "user/$account->uid", $attributes);
+        }
+        else {
+          $variables['picture'] = theme('imagecache', $preset['presetname'], $picture, $alt, $alt);
+        }
+      }
+    }
+  }
+}
+
+/**
+ * Implements hook_form_FORM_ID_alter().
+ */
+function imagecache_profiles_form_user_admin_settings_alter(&$form, $form_state) {
+  // Load imagecache presets
+  $presets = array();
+  $presets[] = '';
+  foreach (imagecache_presets() as $preset) {
+    $presets[$preset['presetname']] = check_plain($preset['presetname']);
+  }
+
+  $form['pictures']['settings']['user_picture_imagecache_profiles'] = array(
+    '#type' => 'select',
+    '#title' => t('Profile picture preset'),
+    '#default_value' => variable_get('user_picture_imagecache_profiles', ''),
+    '#options' => $presets,
+    '#description' => t("This will set the picture size when viewing a user's profile page."),
+  );
+
+  $form['pictures']['settings']['user_picture_imagecache_comments'] = array(
+    '#type' => 'select',
+    '#title' => t('Comment picture preset'),
+    '#default_value' => variable_get('user_picture_imagecache_comments', ''),
+    '#options' => $presets,
+    '#description' => t("This will set the picture size when viewing a comment post."),
+  );
+
+  $form['pictures']['settings']['user_picture_imagecache_profiles_default'] = array(
+    '#type' => 'select',
+    '#title' => t('Default picture preset'),
+    '#default_value' => variable_get('user_picture_imagecache_profiles_default', ''),
+    '#options' => $presets,
+    '#description' => t('This will set the default user picture size throughout the site.'),
+  );
+
+  $form['pictures']['settings']['user_picture_imagecache_profiles_min_width'] = array(
+    '#type' => 'textfield',
+    '#title' => t('Picture minimum width'),
+    '#default_value' => variable_get('user_picture_imagecache_profiles_min_width', ''),
+    '#description' => t('Minimum width dimension for picture, in pixels. To prevent upscaling this value should be set to your maximum imagecache preset width.'),
+    '#size' => 10,
+  );
+
+  $form['pictures']['settings']['user_picture_imagecache_profiles_min_height'] = array(
+    '#type' => 'textfield',
+    '#title' => t('Picture minimum height'),
+    '#default_value' => variable_get('user_picture_imagecache_profiles_min_height', ''),
+    '#description' => t('Minimum height dimension for picture, in pixels. To prevent upscaling this value should be set to your maximum imagecache preset height.'),
+    '#size' => 10,
+  );
+}
+
+/**
+ * Implements hook_form_FORM_ID_alter().
+ *
+ * @see imagecache_profiles_imagecache_ui_preset_form_submit()
+ */
+function imagecache_profiles_form_imagecache_ui_preset_form_alter(&$form, $form_state) {
+  $form['#submit'][] = 'imagecache_profiles_imagecache_ui_preset_form_submit';
+}
+
+/**
+ * Renames changed preset.
+ */
+function imagecache_profiles_imagecache_ui_preset_form_submit($form, &$form_state) {
+  $preset = array(
+    'presetid' => $form_state['values']['presetid'],
+    'presetname_new' => $form_state['values']['presetname'],
+    'presetname' => $form['#parameters'][2]['presetname'],
+  );
+  _imagecache_profiles_change_variables($preset, FALSE);
+}
+
+/**
+ * Implements hook_form_FORM_ID_alter().
+ *
+ * @see imagecache_profiles_imagecache_ui_preset_delete_form_submit()
+ */
+function imagecache_profiles_form_imagecache_ui_preset_delete_form_alter(&$form, $form_state) {
+  $form['#submit'][] = 'imagecache_profiles_imagecache_ui_preset_delete_form_submit';
+}
+
+/**
+ * Unsets deleted preset.
+ */
+function imagecache_profiles_imagecache_ui_preset_delete_form_submit($form, &$form_state) {
+  $preset = array(
+    'presetid' => $form_state['values']['presetid'],
+    'presetname_new' => $form['#parameters'][2]['presetname'],
+    'presetname' => $form['#parameters'][2]['presetname'],
+  );
+  _imagecache_profiles_change_variables($preset, TRUE);
+}
+
+/**
+ * Changes or deletes modules variables.
+ */
+function _imagecache_profiles_change_variables($preset, $delete = FALSE) {
+  $vars = array(
+    'user_picture_imagecache_profiles' => t('Profile picture preset'),
+    'user_picture_imagecache_comments' => t('Comment picture preset'),
+    'user_picture_imagecache_profiles_default' => t('Default picture preset'),
+  );
+  $presetid = $preset['presetid'];
+  $presetname = $preset['presetname'];
+  // Find and unset variabales that use this preset.
+  $messages = array();
+  foreach ($vars as $key => $param) {
+    $value = variable_get($key, '');
+    if (!empty($value)) {
+    	if (is_numeric($value) && $value == $presetid) {
+    	  $messages[$key] = $param;
+    	}
+    	else if ($value == $presetname) {
+    		$messages[$key] = $param;
+    	}
+    }
+  }
+  // Update variables and notify user.
+  foreach ($messages as $var => $param) {
+    if ($delete) {
+      variable_del($var);
+      drupal_set_message(t('The imagecache profile setting %setting was deleted.', array('%setting' => $param)));
+    }
+  	else if ($preset['presetname'] != $preset['presetname_new']) {
+  		variable_set($var, $preset['presetname_new']);
+  		drupal_set_message(t('The imagecache profile setting %setting was changed.', array('%setting' => $param)));
+  	}
+  }
+}
+
+/**
+ * Implements hook_form_FORM_ID_alter().
+ *
+ * @see imagecache_profiles_user_profile_form_validate()
+ */
+function imagecache_profiles_form_user_profile_form_alter(&$form, $form_state) {
+  $width = variable_get('user_picture_imagecache_profiles_min_width', '');
+  $height = variable_get('user_picture_imagecache_profiles_min_height', '');
+  $description = '';
+  if (!empty($width)) {
+    if (!empty($height)) {
+      $description = t('Minimum dimensions are %dimensions.', array('%dimensions' => $width . 'x' . $height));
+    }
+    else {
+      $description = t('Minimum width is %width.', array('%width' => $width));
+    }
+  }
+  else {
+    $description = t('Minimum height is %height.', array('%height' => $height));
+  }
+  if (!empty($description)) {
+    $form['picture']['picture_upload']['#description'] .= ' ' . $description;
+  }
+  $form['#validate'][] = 'imagecache_profiles_user_profile_form_validate';
+}
+
+/**
+ * Custom form validation callback.
+ *
+ * @todo: Investigage validate $op of hook_user()
+ * as this is not working correctly for the user_profile_form.
+ * See - http://drupal.org/node/239676
+ */
+function imagecache_profiles_user_profile_form_validate($form, &$form_state) {
+  if (isset($form_state['values']['picture'])) {
+    $image_info = image_get_info($form_state['values']['picture']);
+    if ($image_info['width'] < variable_get('user_picture_imagecache_profiles_min_width', 0) || $image_info['height'] < variable_get('user_picture_imagecache_profiles_min_height', 0)) {
+      form_set_error('picture_upload', t('Your picture must be at least @min_user_picture_width pixels wide and @min_user_picture_height pixels tall (your image was @width x @height pixels).', array('@min_user_picture_width' => variable_get('user_picture_imagecache_profiles_min_width', 0), '@min_user_picture_height' => variable_get('user_picture_imagecache_profiles_min_height', 0), '@width' => $image_info['width'], '@height' => $image_info['height'])));
+    }
+  }
+}
+
+/**
+ * Implements hook_user().
+ *
+ * Flush imagecache picture if user is updating their account picture.
+ */
+function imagecache_profiles_user($op, &$edit, &$account, $category = NULL) {
+  if ($op == 'submit' && $category == 'account') {
+    if ($edit['picture_delete']) {
+      imagecache_image_flush($account->picture);
+    }
+    if (isset($edit['picture'])) {
+      imagecache_image_flush($edit['picture']);
+    }
+  }
+  elseif ($op == 'delete' && isset($account->picture)) {
+    imagecache_image_flush($account->picture);
+  }
+}
+
+/**
+ * Implements hook_views_api().
+ */
+function imagecache_profiles_views_api() {
+  return array(
+    'api' => 2,
+    'path' => drupal_get_path('module', 'imagecache_profiles') .'/views',
+  );
+}
diff --git a/sites/all/modules/imagecache_profiles/views/imagecache_profiles.views.inc b/sites/all/modules/imagecache_profiles/views/imagecache_profiles.views.inc
new file mode 100644
index 0000000..6f46a07
--- /dev/null
+++ b/sites/all/modules/imagecache_profiles/views/imagecache_profiles.views.inc
@@ -0,0 +1,19 @@
+<?php
+// $Id: imagecache_profiles.views.inc,v 1.1.2.2 2009/08/29 14:02:17 andypost Exp $
+
+function imagecache_profiles_views_handlers() {
+  return array(
+    'info' => array(
+      'path' => drupal_get_path('module', 'imagecache_profiles') .'/views',
+    ),
+    'handlers' => array(
+      'imagecache_profiles_handler_field_user_picture' => array(
+        'parent' => 'views_handler_field_user_picture',
+      ),
+    ),
+  );
+}
+
+function imagecache_profiles_views_data_alter(&$data) {
+  $data['users']['picture']['field']['handler'] = 'imagecache_profiles_handler_field_user_picture';
+}
diff --git a/sites/all/modules/imagecache_profiles/views/imagecache_profiles_handler_field_user_picture.inc b/sites/all/modules/imagecache_profiles/views/imagecache_profiles_handler_field_user_picture.inc
new file mode 100644
index 0000000..afd945c
--- /dev/null
+++ b/sites/all/modules/imagecache_profiles/views/imagecache_profiles_handler_field_user_picture.inc
@@ -0,0 +1,45 @@
+<?php
+// $Id: imagecache_profiles_handler_field_user_picture.inc,v 1.1.2.7 2010/03/24 15:28:43 andypost Exp $
+
+class imagecache_profiles_handler_field_user_picture extends views_handler_field_user_picture {
+  function option_definition() {
+    $options = parent::option_definition();
+    $options['imagecache_preset'] = array(
+      'default' => variable_get('user_picture_imagecache_profiles_default', ''),
+      'translatable' => FALSE
+    );
+    return $options;
+  }
+
+  function options_form(&$form, &$form_state) {
+    parent::options_form($form, $form_state);
+    $presets = imagecache_presets();
+    $opt = array('' => '');
+    foreach ($presets as $preset) {
+      $opt[$preset['presetname']] = check_plain($preset['presetname']);
+    }
+    $options = $this->options;
+    $form['imagecache_preset'] = array(
+      '#title' => t('Imagecache preset'),
+      '#type'  => 'select',
+      '#options' => $opt,
+      '#default_value' => $options['imagecache_preset'],
+    );
+  }
+
+  function render($values) {
+    // Fake an account object.
+    $options = $this->options;
+    $account = new stdClass();
+    $account->uid = $values->{$this->aliases['uid']};
+    $account->name = $values->{$this->aliases['name']};
+    $account->mail = isset($values->{$this->aliases['mail']}) ? $values->{$this->aliases['mail']} : '';
+    $account->picture = $values->{$this->field_alias};
+
+    if ($options['imagecache_preset']) {
+      $account->imagecache_preset = $options['imagecache_preset'];
+    }
+
+    return theme('user_picture', $account);
+  }
+}
diff --git a/sites/all/modules/jquery_dropdown/.cvsignore b/sites/all/modules/jquery_dropdown/.cvsignore
new file mode 100644
index 0000000..3a4edf6
--- /dev/null
+++ b/sites/all/modules/jquery_dropdown/.cvsignore
@@ -0,0 +1 @@
+.project
diff --git a/sites/all/modules/jquery_dropdown/LICENSE.txt b/sites/all/modules/jquery_dropdown/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/jquery_dropdown/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/jquery_dropdown/css/jquery_dropdown.css b/sites/all/modules/jquery_dropdown/css/jquery_dropdown.css
new file mode 100644
index 0000000..bd6e5ba
--- /dev/null
+++ b/sites/all/modules/jquery_dropdown/css/jquery_dropdown.css
@@ -0,0 +1,22 @@
+.jquery_dropdown { display: none; }
+
+div.jquery_dropdown_container { position: relative; cursor: pointer; }
+
+div.jquery_dropdown_header { 
+  border: 1px solid #000; background: #fff; height: 22px; font-weight: bold; 
+  text-indent: 2px; font-size: 7pt; white-space: no-wrap; overflow: hidden; 
+}
+
+ul.jquery_dropdown_list { 
+  margin: 0; padding: 0; display: none; position: absolute; left: 0; top: 23px; 
+  border: 1px solid #000; z-index: 100; width: 300px;
+ }
+  
+  ul.jquery_dropdown_list li { 
+    list-style: none; background: #fff; border-bottom: 1px solid #000; 
+    margin: 0; padding: 2px; 
+  }
+    ul.jquery_dropdown_list li a, ul.jquery_dropdown_list li a:link, ul.jquery_dropdown_list li a:visited { 
+      color: #000; display: block; text-decoration: none; width: 100%; font-size: 7pt;
+    }
+    ul.jquery_dropdown_list li a:hover { background: #efefef; text-decoration: none; } 
\ No newline at end of file
diff --git a/sites/all/modules/jquery_dropdown/jquery_dropdown.info b/sites/all/modules/jquery_dropdown/jquery_dropdown.info
new file mode 100644
index 0000000..539f875
--- /dev/null
+++ b/sites/all/modules/jquery_dropdown/jquery_dropdown.info
@@ -0,0 +1,18 @@
+; $Id: jquery_dropdown.info,v 1.2 2009/08/14 19:32:28 jaykali Exp $
+name = Jquery Dropdown
+description = "This is a CSS/HTML jquery select replacement. It is meant to provide a quick and easy way to style dropdowns."
+core = 6.x
+package = Other
+; Information added by drupal.org packaging script on 2009-05-11
+version = "6.x-1.x-dev"
+core = "6.x"
+project = "jquery_dropdown"
+datestamp = "1242044493"
+
+
+; Information added by drupal.org packaging script on 2009-12-02
+version = "6.x-1.2"
+core = "6.x"
+project = "jquery_dropdown"
+datestamp = "1259788560"
+
diff --git a/sites/all/modules/jquery_dropdown/jquery_dropdown.module b/sites/all/modules/jquery_dropdown/jquery_dropdown.module
new file mode 100644
index 0000000..59ec41b
--- /dev/null
+++ b/sites/all/modules/jquery_dropdown/jquery_dropdown.module
@@ -0,0 +1,17 @@
+<?php
+
+/**
+ * @todo is this where I need to put this? - JC
+ * 
+ * Implementation of hook_init()
+ */
+function jquery_dropdown_init(){
+  drupal_add_js(drupal_get_path('module', 'jquery_dropdown').'/js/jquery_dropdown.js', 'module');
+  
+  //will want to override with your own CSS
+  drupal_add_css(drupal_get_path('module', 'jquery_dropdown').'/css/jquery_dropdown.css', 'module');
+}
+
+function jquery_dropdown_footer(){
+	return "<noscript><style>.jquery_dropdown { display: block; }</style></noscript>";
+}
\ No newline at end of file
diff --git a/sites/all/modules/jquery_dropdown/jquery_dropdown_jump/jquery_dropdown_jump.info b/sites/all/modules/jquery_dropdown/jquery_dropdown_jump/jquery_dropdown_jump.info
new file mode 100644
index 0000000..7c5ca81
--- /dev/null
+++ b/sites/all/modules/jquery_dropdown/jquery_dropdown_jump/jquery_dropdown_jump.info
@@ -0,0 +1,19 @@
+; $Id: jquery_dropdown_jump.info,v 1.2 2009/08/14 19:32:01 jaykali Exp $
+name = Jquery Dropdown Jump
+description = "This module works with the jquery dropdown to enable a quick redirect dropdown menu"
+core = 6.x
+package = Other
+dependencies[] = jquery_dropdown
+; Information added by drupal.org packaging script on 2009-05-11
+version = "6.x-1.x-dev"
+core = "6.x"
+project = "jquery_dropdown"
+datestamp = "1242044493"
+
+
+; Information added by drupal.org packaging script on 2009-12-02
+version = "6.x-1.2"
+core = "6.x"
+project = "jquery_dropdown"
+datestamp = "1259788560"
+
diff --git a/sites/all/modules/jquery_dropdown/jquery_dropdown_jump/jquery_dropdown_jump.module b/sites/all/modules/jquery_dropdown/jquery_dropdown_jump/jquery_dropdown_jump.module
new file mode 100644
index 0000000..b65fd2c
--- /dev/null
+++ b/sites/all/modules/jquery_dropdown/jquery_dropdown_jump/jquery_dropdown_jump.module
@@ -0,0 +1,12 @@
+<?php
+
+/**
+ * @todo is this where I need to put this? - JC
+ * 
+ * Implementation of hook_init()
+ */
+function jquery_dropdown_jump_init(){
+	
+	//This loads the Javascript needed to power the "jump" functionality
+	drupal_add_js(drupal_get_path('module', 'jquery_dropdown_jump').'/js/jquery_dropdown_jump.js', 'module');
+}
diff --git a/sites/all/modules/jquery_dropdown/jquery_dropdown_jump/js/jquery_dropdown_jump.js b/sites/all/modules/jquery_dropdown/jquery_dropdown_jump/js/jquery_dropdown_jump.js
new file mode 100644
index 0000000..944022e
--- /dev/null
+++ b/sites/all/modules/jquery_dropdown/jquery_dropdown_jump/js/jquery_dropdown_jump.js
@@ -0,0 +1,15 @@
+/**
+ * This uses some clever logic to find the parent form of the select and submit the button
+ */
+$(document).ready(function() {
+  
+  $("ul.jquery_dropdown_jump li a").click(function(){
+    if ($(this).attr('rel') == '') return;//don't jump if no value
+    
+    //find the parent form of this jump menu
+    var parent_form = $(this).parents().filter("form");
+   
+    //submit the form by clicking the submit button 
+    parent_form.find("input.form-submit").click();
+  });
+});
\ No newline at end of file
diff --git a/sites/all/modules/jquery_dropdown/js/jquery_dropdown.js b/sites/all/modules/jquery_dropdown/js/jquery_dropdown.js
new file mode 100644
index 0000000..c4e7ea8
--- /dev/null
+++ b/sites/all/modules/jquery_dropdown/js/jquery_dropdown.js
@@ -0,0 +1,94 @@
+/**
+ * Steps:
+ *
+ * 1. Output a drupal select box by default so that if js is turned off the user would have a normal dropdown + submit form
+ * 2. Give drupal a class of "jquery_dropdown"  
+ * 3. Have jquery convert it to a hidden input and hide the submit
+ * 4. Have jquery grab all the key/values from the select build the css/html markup that 'looks' like a dropdown
+ * 5. Add a listener so when an item gets selected and populate the hidden value and submit the form to achieve the same functionality
+ *
+ **/
+$(document).ready(function() {
+  //this does the actual css/html replacement of the select dropdown
+  $("select.jquery_dropdown").each(function(){
+    $(this).load_jquery_dropdown();//load jquery dropdowns
+  });
+});
+
+/**
+ * Load jquery dropdown for a select
+ *
+ * This is a re-usable function for select elements that don't have the .jquery_dropdown class
+ */
+$.fn.load_jquery_dropdown = function(options) {
+  if (!$(this).html()) return;
+    
+  $(this).hide();//hide this select
+  
+  //hide elements with jquery_dropdown class (in case you want to hide the submit button for instance)
+  //for a better hide we have included .jquery_dropdown { display: none; } in the default css which keeps
+  //the select from "flashing" on and off, the noscript tag inserted in hook_footer() keeps it from hiding
+  //those elements when javascript is disabled to make it degrade gracefully
+  $(".jquery_dropdown").hide();
+  
+  var select_id = $(this).attr('id');  
+  var select_name = $(this).attr('name');
+  var select_name_nice = select_name.replace(/\[[^\"]+/,'');//strip out []
+  var select_default_value = $(this).val();
+  var select_default_text = $(this).find('option[value='+select_default_value+']').text();
+  
+  var select_values = new Array();
+  var c = 0;
+  
+  var output = '<div class="jquery_dropdown_container jquery_dropdown_'+select_name_nice+'">';
+  
+  var is_jumpdown = ($(this).attr('class').match("jquery_dropdown_jump")) ? 1 : 0;//for adding jump class if applicable
+    
+  //start with the first option
+  output += '<div class="jquery_dropdown_header jquery_dropdown_header_'+select_name_nice+'">'+$(this).find("option:first").text()+'</div>';
+  output += '<ul class="jquery_dropdown_list '+((is_jumpdown) ? 'jquery_dropdown_jump' : '') +'">';//start unordered list
+  
+  //build <ul> list here
+  $(this).find("option").each(function(){
+    output += '<li><a href="#" class="'+select_id+'" rel="'+$(this).val()+'">'+$(this).text().replace(/ /g, '&nbsp;')+'</a></li>';
+      
+    c++;
+  });
+    
+  output += '</ul></div>';
+    
+  $(this).after(output);
+  
+  //this is the click event for when you click the fake select, it shows the options below
+  $("div.jquery_dropdown_header_"+select_name_nice).click(function(){
+    
+    if ($(this).parent("div.jquery_dropdown_container").find("ul.jquery_dropdown_list").css('display') == 'block') {
+      $(this).parent("div.jquery_dropdown_container").find("ul.jquery_dropdown_list").attr('style', 'display:hidden');
+    }
+    else {
+      $(this).parent("div.jquery_dropdown_container").find("ul.jquery_dropdown_list").attr('style', 'display:block');
+    }
+  });
+  
+  //this is the event for when you select a fake option
+  $("ul.jquery_dropdown_list li a").click(function(){
+
+    $(this).parent("li").parent('ul').parent("div.jquery_dropdown_container").find("div.jquery_dropdown_header").text($(this).text());
+    $(this).parent("li").parent('ul').parent("div.jquery_dropdown_container").find("ul.jquery_dropdown_list").hide();
+
+    $("#"+$(this).attr('class')).val($(this).attr('rel'));//set value to select
+   
+    $(this).trigger("jquery_dropdown_list_refreshed");//trigger the onchange event of our drop down when we click a fake option
+    $('#'+select_id).trigger("onchange");
+   
+    return false;
+  });
+
+  //hide when mouse out
+  $("ul.jquery_dropdown_list").hover(function(){}, function(){
+    $(this).hide();
+  });
+
+  //set initial header value
+  $("div.jquery_dropdown_header_"+select_name_nice).text(select_default_text);
+};
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/LICENSE.txt b/sites/all/modules/jqueryui_theme/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/jqueryui_theme/README.txt b/sites/all/modules/jqueryui_theme/README.txt
new file mode 100644
index 0000000..60c6179
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/README.txt
@@ -0,0 +1,46 @@
+$Id$
+
+This module provides a jQuery UI theme selector and uploader.
+
+The user interface allows to:
+    - import jQuery UI themes from zip archive format
+    - identify jQuery UI themes per user set name
+    - delete jQuery UI themes
+    - attach/detach jQuery UI themes to Drupal theme
+    - preview jQuery UI themes in Drupal
+
+Severals ways to fetch themes:
+    - via an upload form (handles multiples themes at once)
+    - from a user provided local filesystem location or external URL
+    - automated import of default jQuery UI themes from 1.7, 1.8 versions
+
+Supplied jQuery UI themes will be stored into a common directory.
+When a jQuery UI theme is attached to a Drupal theme and it's active, 
+CSS files goes throught the aggregation process.
+
+It also provide a full Drush integration.
+
+A block is provided to let's the end-user switching between jQuery UI
+theme availables, depending on current active Drupal theme. If it's display
+to anonymous users, performance may decrease due to sessions/cookies usage.
+(Unable to serve up cached pages from a reverse proxy server, like Varnish).
+
+This module is an helper module for integrators.
+Integrators have to do the job for using it (create appropriate js, 
+template, load the system library's widget).
+@see jqueryui_theme_example()
+@see jqueryui-theme-example.tpl.php
+
+Another things to take note are : 
+- detection of themes : jQuery UI themes must contain a "all.css" file. 
+  Otherwise, the import process fail.
+- A Drupal theme can be associate with only one jQuery UI theme.
+- Only zip archiver format is supported.
+
+
+-- REQUIREMENTS --
+
+This module require both jQuery UI and jQuery Update in order to use
+jQuery UI library 1.7 at least.
+
+zlib compression library enable.
diff --git a/sites/all/modules/jqueryui_theme/archiver/archiver.inc b/sites/all/modules/jqueryui_theme/archiver/archiver.inc
new file mode 100644
index 0000000..0526337
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/archiver/archiver.inc
@@ -0,0 +1,67 @@
+<?php
+// $Id: archiver.inc,v 1.5 2010/02/01 07:17:59 webchick Exp $
+
+/**
+ * @file
+ * Shared classes and interfaces for the archiver system.
+ */
+
+/**
+ * Common interface for all Archiver classes.
+ */
+interface ArchiverInterface {
+
+  /**
+   * Constructor for a new archiver instance.
+   *
+   * @param $file_path
+   *   The full system path of the archive to manipulate.  Only local files
+   *   are supported.  If the file does not yet exist, it will be created if
+   *   appropriate.
+   */
+  public function __construct($file_path);
+
+  /**
+   * Add the specified file or directory to the archive.
+   *
+   * @param $file_path
+   *   The full system path of the file or directory to add. Only local files
+   *   and directories are supported.
+   * @return ArchiverInterface
+   *   The called object.
+   */
+  public function add($file_path);
+
+  /**
+   * Remove the specified file from the archive.
+   *
+   * @param $path
+   *   The file name relative to the root of the archive to remove.
+   * @return ArchiverInterface
+   *   The called object.
+   */
+  public function remove($path);
+
+  /**
+   * Extract multiple files in the archive to the specified path.
+   *
+   * @param $path
+   *   A full system path of the directory to which to extract files.
+   * @param $files
+   *   Optionally specify a list of files to be extracted. Files are
+   *   relative to the root of the archive. If not specified, all files
+   *   in the archive will be extracted
+   * @return ArchiverInterface
+   *   The called object.
+   */
+  public function extract($path, Array $files = array());
+
+  /**
+   * List all files in the archive.
+   *
+   * @return
+   *   An array of file names relative to the root of the archive.
+   */
+  public function listContents();
+}
+
diff --git a/sites/all/modules/jqueryui_theme/archiver/system.archiver.inc b/sites/all/modules/jqueryui_theme/archiver/system.archiver.inc
new file mode 100644
index 0000000..903e468
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/archiver/system.archiver.inc
@@ -0,0 +1,140 @@
+<?php
+// $Id: system.archiver.inc,v 1.6 2010/12/30 22:33:04 webchick Exp $
+
+/**
+ * @file
+ * Archiver implementations provided by the system module.
+ */
+
+/**
+ * Archiver for .tar files.
+ */
+class ArchiverTar implements ArchiverInterface {
+
+  /**
+   * The underlying Archive_Tar instance that does the heavy lifting.
+   *
+   * @var Archive_Tar
+   */
+  protected $tar;
+
+  public function __construct($file_path) {
+    $this->tar = new Archive_Tar($file_path);
+  }
+
+  public function add($file_path) {
+    $this->tar->add($file_path);
+
+    return $this;
+  }
+
+  public function remove($file_path) {
+    // @todo Archive_Tar doesn't have a remove operation
+    // so we'll have to simulate it somehow, probably by
+    // creating a new archive with everything but the removed
+    // file.
+
+    return $this;
+  }
+
+  public function extract($path, Array $files = array()) {
+    if ($files) {
+      $this->tar->extractList($files, $path);
+    }
+    else {
+      $this->tar->extract($path);
+    }
+
+    return $this;
+  }
+
+  public function listContents() {
+    $files = array();
+    foreach ($this->tar->listContent() as $file_data) {
+      $files[] = $file_data['filename'];
+    }
+    return $files;
+  }
+
+  /**
+   * Retrieve the tar engine itself.
+   *
+   * In some cases it may be necessary to directly access the underlying
+   * Archive_Tar object for implementation-specific logic. This is for advanced
+   * use only as it is not shared by other implementations of ArchiveInterface.
+   *
+   * @return
+   *   The Archive_Tar object used by this object.
+   */
+  public function getArchive() {
+    return $this->tar;
+  }
+}
+
+/**
+ * Archiver for .zip files.
+ *
+ * @link http://php.net/zip
+ */
+class ArchiverZip implements ArchiverInterface {
+
+  /**
+   * The underlying ZipArchive instance that does the heavy lifting.
+   *
+   * @var ZipArchive
+   */
+  protected $zip;
+
+  public function __construct($file_path) {
+    $this->zip = new ZipArchive();
+    if ($this->zip->open($file_path) !== TRUE) {
+      // @todo: This should be an interface-specific exception some day.
+      throw new Exception(t('Cannot open %file_path', array('%file_path' => $file_path)));
+    }
+  }
+
+  public function add($file_path) {
+    $this->zip->addFile($file_path);
+
+    return $this;
+  }
+
+  public function remove($file_path) {
+    $this->zip->deleteName($file_path);
+
+    return $this;
+  }
+
+  public function extract($path, Array $files = array()) {
+    if ($files) {
+      $this->zip->extractTo($path, $files);
+    }
+    else {
+      $this->zip->extractTo($path);
+    }
+
+    return $this;
+  }
+
+  public function listContents() {
+    $files = array();
+    for ($i=0; $i < $this->zip->numFiles; $i++) {
+      $files[] = $this->zip->getNameIndex($i);
+    }
+    return $files;
+  }
+
+  /**
+   * Retrieve the zip engine itself.
+   *
+   * In some cases it may be necessary to directly access the underlying
+   * ZipArchive object for implementation-specific logic. This is for advanced
+   * use only as it is not shared by other implementations of ArchiveInterface.
+   *
+   * @return
+   *   The ZipArchive object used by this object.
+   */
+  public function getArchive() {
+    return $this->zip;
+  }
+}
diff --git a/sites/all/modules/jqueryui_theme/archiver/system.tar.inc b/sites/all/modules/jqueryui_theme/archiver/system.tar.inc
new file mode 100644
index 0000000..fd1d3c8
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/archiver/system.tar.inc
@@ -0,0 +1,1892 @@
+<?php
+/* vim: set expandtab tabstop=4 shiftwidth=4 softtabstop=4: */
+
+/**
+ * File::CSV
+ *
+ * PHP versions 4 and 5
+ *
+ * Copyright (c) 1997-2008,
+ * Vincent Blavet <vincent@phpconcept.net>
+ * All rights reserved.
+ *
+ * Redistribution and use in source and binary forms, with or without
+ * modification, are permitted provided that the following conditions are met:
+ *
+ *     * Redistributions of source code must retain the above copyright notice,
+ *       this list of conditions and the following disclaimer.
+ *     * Redistributions in binary form must reproduce the above copyright
+ *       notice, this list of conditions and the following disclaimer in the
+ *       documentation and/or other materials provided with the distribution.
+ *
+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
+ * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
+ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
+ * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
+ * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
+ * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
+ * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
+ * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
+ * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
+ *
+ *
+ * @category    File_Formats
+ * @package     Archive_Tar
+ * @author      Vincent Blavet <vincent@phpconcept.net>
+ * @copyright   1997-2008 The Authors
+ * @license     http://www.opensource.org/licenses/bsd-license.php New BSD License
+ * @version     CVS: Id: Tar.php,v 1.43 2008/10/30 17:58:42 dufuz Exp
+ * @link        http://pear.php.net/package/Archive_Tar
+ */
+
+//require_once 'PEAR.php';
+//
+//
+define ('ARCHIVE_TAR_ATT_SEPARATOR', 90001);
+define ('ARCHIVE_TAR_END_BLOCK', pack("a512", ''));
+
+/**
+* Creates a (compressed) Tar archive
+*
+* @author   Vincent Blavet <vincent@phpconcept.net>
+* @version  Revision: 1.43
+* @license  http://www.opensource.org/licenses/bsd-license.php New BSD License
+* @package  Archive_Tar
+*/
+class Archive_Tar // extends PEAR
+{
+    /**
+    * @var string Name of the Tar
+    */
+    var $_tarname='';
+
+    /**
+    * @var boolean if true, the Tar file will be gzipped
+    */
+    var $_compress=false;
+
+    /**
+    * @var string Type of compression : 'none', 'gz' or 'bz2'
+    */
+    var $_compress_type='none';
+
+    /**
+    * @var string Explode separator
+    */
+    var $_separator=' ';
+
+    /**
+    * @var file descriptor
+    */
+    var $_file=0;
+
+    /**
+    * @var string Local Tar name of a remote Tar (http:// or ftp://)
+    */
+    var $_temp_tarname='';
+
+    // {{{ constructor
+    /**
+    * Archive_Tar Class constructor. This flavour of the constructor only
+    * declare a new Archive_Tar object, identifying it by the name of the
+    * tar file.
+    * If the compress argument is set the tar will be read or created as a
+    * gzip or bz2 compressed TAR file.
+    *
+    * @param    string  $p_tarname  The name of the tar archive to create
+    * @param    string  $p_compress can be null, 'gz' or 'bz2'. This
+    *                   parameter indicates if gzip or bz2 compression
+    *                   is required.  For compatibility reason the
+    *                   boolean value 'true' means 'gz'.
+    * @access public
+    */
+//    function Archive_Tar($p_tarname, $p_compress = null)
+    function __construct($p_tarname, $p_compress = null)
+    {
+//        $this->PEAR();
+        $this->_compress = false;
+        $this->_compress_type = 'none';
+        if (($p_compress === null) || ($p_compress == '')) {
+            if (@file_exists($p_tarname)) {
+                if ($fp = @fopen($p_tarname, "rb")) {
+                    // look for gzip magic cookie
+                    $data = fread($fp, 2);
+                    fclose($fp);
+                    if ($data == "\37\213") {
+                        $this->_compress = true;
+                        $this->_compress_type = 'gz';
+                    // No sure it's enought for a magic code ....
+                    } elseif ($data == "BZ") {
+                        $this->_compress = true;
+                        $this->_compress_type = 'bz2';
+                    }
+                }
+            } else {
+                // probably a remote file or some file accessible
+                // through a stream interface
+                if (substr($p_tarname, -2) == 'gz') {
+                    $this->_compress = true;
+                    $this->_compress_type = 'gz';
+                } elseif ((substr($p_tarname, -3) == 'bz2') ||
+                          (substr($p_tarname, -2) == 'bz')) {
+                    $this->_compress = true;
+                    $this->_compress_type = 'bz2';
+                }
+            }
+        } else {
+            if (($p_compress === true) || ($p_compress == 'gz')) {
+                $this->_compress = true;
+                $this->_compress_type = 'gz';
+            } else if ($p_compress == 'bz2') {
+                $this->_compress = true;
+                $this->_compress_type = 'bz2';
+            } else {
+                die("Unsupported compression type '$p_compress'\n".
+                    "Supported types are 'gz' and 'bz2'.\n");
+                return false;
+            }
+        }
+        $this->_tarname = $p_tarname;
+        if ($this->_compress) { // assert zlib or bz2 extension support
+            if ($this->_compress_type == 'gz')
+                $extname = 'zlib';
+            else if ($this->_compress_type == 'bz2')
+                $extname = 'bz2';
+
+            if (!extension_loaded($extname)) {
+//                PEAR::loadExtension($extname);
+                $this->loadExtension($extname);
+            }
+            if (!extension_loaded($extname)) {
+                die("The extension '$extname' couldn't be found.\n".
+                    "Please make sure your version of PHP was built ".
+                    "with '$extname' support.\n");
+                return false;
+            }
+        }
+    }
+    // }}}
+
+    /**
+    * OS independant PHP extension load. Remember to take care
+    * on the correct extension name for case sensitive OSes.
+    * The function is the copy of PEAR::loadExtension().
+    *
+    * @param string $ext The extension name
+    * @return bool Success or not on the dl() call
+    */
+    function loadExtension($ext)
+    {
+        if (!extension_loaded($ext)) {
+            // if either returns true dl() will produce a FATAL error, stop that
+            if ((ini_get('enable_dl') != 1) || (ini_get('safe_mode') == 1)) {
+                return false;
+            }
+
+            if (OS_WINDOWS) {
+                $suffix = '.dll';
+            } elseif (PHP_OS == 'HP-UX') {
+                $suffix = '.sl';
+            } elseif (PHP_OS == 'AIX') {
+                $suffix = '.a';
+            } elseif (PHP_OS == 'OSX') {
+                $suffix = '.bundle';
+            } else {
+                $suffix = '.so';
+            }
+
+            return @dl('php_'.$ext.$suffix) || @dl($ext.$suffix);
+        }
+
+        return true;
+    }
+
+
+    // {{{ destructor
+//    function _Archive_Tar()
+    function __destruct()
+    {
+        $this->_close();
+        // ----- Look for a local copy to delete
+        if ($this->_temp_tarname != '')
+            @drupal_unlink($this->_temp_tarname);
+//        $this->_PEAR();
+    }
+    // }}}
+
+    // {{{ create()
+    /**
+    * This method creates the archive file and add the files / directories
+    * that are listed in $p_filelist.
+    * If a file with the same name exist and is writable, it is replaced
+    * by the new tar.
+    * The method return false and a PEAR error text.
+    * The $p_filelist parameter can be an array of string, each string
+    * representing a filename or a directory name with their path if
+    * needed. It can also be a single string with names separated by a
+    * single blank.
+    * For each directory added in the archive, the files and
+    * sub-directories are also added.
+    * See also createModify() method for more details.
+    *
+    * @param array  $p_filelist An array of filenames and directory names, or a
+	*                           single string with names separated by a single
+	*                           blank space.
+    * @return                   true on success, false on error.
+    * @see createModify()
+    * @access public
+    */
+    function create($p_filelist)
+    {
+        return $this->createModify($p_filelist, '', '');
+    }
+    // }}}
+
+    // {{{ add()
+    /**
+    * This method add the files / directories that are listed in $p_filelist in
+    * the archive. If the archive does not exist it is created.
+    * The method return false and a PEAR error text.
+    * The files and directories listed are only added at the end of the archive,
+    * even if a file with the same name is already archived.
+    * See also createModify() method for more details.
+    *
+    * @param array  $p_filelist An array of filenames and directory names, or a
+	*                           single string with names separated by a single
+	*                           blank space.
+    * @return                   true on success, false on error.
+    * @see createModify()
+    * @access public
+    */
+    function add($p_filelist)
+    {
+        return $this->addModify($p_filelist, '', '');
+    }
+    // }}}
+
+    // {{{ extract()
+    function extract($p_path='')
+    {
+        return $this->extractModify($p_path, '');
+    }
+    // }}}
+
+    // {{{ listContent()
+    function listContent()
+    {
+        $v_list_detail = array();
+
+        if ($this->_openRead()) {
+            if (!$this->_extractList('', $v_list_detail, "list", '', '')) {
+                unset($v_list_detail);
+                $v_list_detail = 0;
+            }
+            $this->_close();
+        }
+
+        return $v_list_detail;
+    }
+    // }}}
+
+    // {{{ createModify()
+    /**
+    * This method creates the archive file and add the files / directories
+    * that are listed in $p_filelist.
+    * If the file already exists and is writable, it is replaced by the
+    * new tar. It is a create and not an add. If the file exists and is
+    * read-only or is a directory it is not replaced. The method return
+    * false and a PEAR error text.
+    * The $p_filelist parameter can be an array of string, each string
+    * representing a filename or a directory name with their path if
+    * needed. It can also be a single string with names separated by a
+    * single blank.
+    * The path indicated in $p_remove_dir will be removed from the
+    * memorized path of each file / directory listed when this path
+    * exists. By default nothing is removed (empty path '')
+    * The path indicated in $p_add_dir will be added at the beginning of
+    * the memorized path of each file / directory listed. However it can
+    * be set to empty ''. The adding of a path is done after the removing
+    * of path.
+    * The path add/remove ability enables the user to prepare an archive
+    * for extraction in a different path than the origin files are.
+    * See also addModify() method for file adding properties.
+    *
+    * @param array  $p_filelist     An array of filenames and directory names,
+	*                               or a single string with names separated by
+	*                               a single blank space.
+    * @param string $p_add_dir      A string which contains a path to be added
+	*                               to the memorized path of each element in
+	*                               the list.
+    * @param string $p_remove_dir   A string which contains a path to be
+	*                               removed from the memorized path of each
+	*                               element in the list, when relevant.
+    * @return boolean               true on success, false on error.
+    * @access public
+    * @see addModify()
+    */
+    function createModify($p_filelist, $p_add_dir, $p_remove_dir='')
+    {
+        $v_result = true;
+
+        if (!$this->_openWrite())
+            return false;
+
+        if ($p_filelist != '') {
+            if (is_array($p_filelist))
+                $v_list = $p_filelist;
+            elseif (is_string($p_filelist))
+                $v_list = explode($this->_separator, $p_filelist);
+            else {
+                $this->_cleanFile();
+                $this->_error('Invalid file list');
+                return false;
+            }
+
+            $v_result = $this->_addList($v_list, $p_add_dir, $p_remove_dir);
+        }
+
+        if ($v_result) {
+            $this->_writeFooter();
+            $this->_close();
+        } else
+            $this->_cleanFile();
+
+        return $v_result;
+    }
+    // }}}
+
+    // {{{ addModify()
+    /**
+    * This method add the files / directories listed in $p_filelist at the
+    * end of the existing archive. If the archive does not yet exists it
+    * is created.
+    * The $p_filelist parameter can be an array of string, each string
+    * representing a filename or a directory name with their path if
+    * needed. It can also be a single string with names separated by a
+    * single blank.
+    * The path indicated in $p_remove_dir will be removed from the
+    * memorized path of each file / directory listed when this path
+    * exists. By default nothing is removed (empty path '')
+    * The path indicated in $p_add_dir will be added at the beginning of
+    * the memorized path of each file / directory listed. However it can
+    * be set to empty ''. The adding of a path is done after the removing
+    * of path.
+    * The path add/remove ability enables the user to prepare an archive
+    * for extraction in a different path than the origin files are.
+    * If a file/dir is already in the archive it will only be added at the
+    * end of the archive. There is no update of the existing archived
+    * file/dir. However while extracting the archive, the last file will
+    * replace the first one. This results in a none optimization of the
+    * archive size.
+    * If a file/dir does not exist the file/dir is ignored. However an
+    * error text is send to PEAR error.
+    * If a file/dir is not readable the file/dir is ignored. However an
+    * error text is send to PEAR error.
+    *
+    * @param array      $p_filelist     An array of filenames and directory
+	*                                   names, or a single string with names
+	*                                   separated by a single blank space.
+    * @param string     $p_add_dir      A string which contains a path to be
+	*                                   added to the memorized path of each
+	*                                   element in the list.
+    * @param string     $p_remove_dir   A string which contains a path to be
+	*                                   removed from the memorized path of
+	*                                   each element in the list, when
+    *                                   relevant.
+    * @return                           true on success, false on error.
+    * @access public
+    */
+    function addModify($p_filelist, $p_add_dir, $p_remove_dir='')
+    {
+        $v_result = true;
+
+        if (!$this->_isArchive())
+            $v_result = $this->createModify($p_filelist, $p_add_dir,
+			                                $p_remove_dir);
+        else {
+            if (is_array($p_filelist))
+                $v_list = $p_filelist;
+            elseif (is_string($p_filelist))
+                $v_list = explode($this->_separator, $p_filelist);
+            else {
+                $this->_error('Invalid file list');
+                return false;
+            }
+
+            $v_result = $this->_append($v_list, $p_add_dir, $p_remove_dir);
+        }
+
+        return $v_result;
+    }
+    // }}}
+
+    // {{{ addString()
+    /**
+    * This method add a single string as a file at the
+    * end of the existing archive. If the archive does not yet exists it
+    * is created.
+    *
+    * @param string     $p_filename     A string which contains the full
+	*                                   filename path that will be associated
+	*                                   with the string.
+    * @param string     $p_string       The content of the file added in
+	*                                   the archive.
+    * @return                           true on success, false on error.
+    * @access public
+    */
+    function addString($p_filename, $p_string)
+    {
+        $v_result = true;
+
+        if (!$this->_isArchive()) {
+            if (!$this->_openWrite()) {
+                return false;
+            }
+            $this->_close();
+        }
+
+        if (!$this->_openAppend())
+            return false;
+
+        // Need to check the get back to the temporary file ? ....
+        $v_result = $this->_addString($p_filename, $p_string);
+
+        $this->_writeFooter();
+
+        $this->_close();
+
+        return $v_result;
+    }
+    // }}}
+
+    // {{{ extractModify()
+    /**
+    * This method extract all the content of the archive in the directory
+    * indicated by $p_path. When relevant the memorized path of the
+    * files/dir can be modified by removing the $p_remove_path path at the
+    * beginning of the file/dir path.
+    * While extracting a file, if the directory path does not exists it is
+    * created.
+    * While extracting a file, if the file already exists it is replaced
+    * without looking for last modification date.
+    * While extracting a file, if the file already exists and is write
+    * protected, the extraction is aborted.
+    * While extracting a file, if a directory with the same name already
+    * exists, the extraction is aborted.
+    * While extracting a directory, if a file with the same name already
+    * exists, the extraction is aborted.
+    * While extracting a file/directory if the destination directory exist
+    * and is write protected, or does not exist but can not be created,
+    * the extraction is aborted.
+    * If after extraction an extracted file does not show the correct
+    * stored file size, the extraction is aborted.
+    * When the extraction is aborted, a PEAR error text is set and false
+    * is returned. However the result can be a partial extraction that may
+    * need to be manually cleaned.
+    *
+    * @param string $p_path         The path of the directory where the
+	*                               files/dir need to by extracted.
+    * @param string $p_remove_path  Part of the memorized path that can be
+	*                               removed if present at the beginning of
+	*                               the file/dir path.
+    * @return boolean               true on success, false on error.
+    * @access public
+    * @see extractList()
+    */
+    function extractModify($p_path, $p_remove_path)
+    {
+        $v_result = true;
+        $v_list_detail = array();
+
+        if ($v_result = $this->_openRead()) {
+            $v_result = $this->_extractList($p_path, $v_list_detail,
+			                                "complete", 0, $p_remove_path);
+            $this->_close();
+        }
+
+        return $v_result;
+    }
+    // }}}
+
+    // {{{ extractInString()
+    /**
+    * This method extract from the archive one file identified by $p_filename.
+    * The return value is a string with the file content, or NULL on error.
+    * @param string $p_filename     The path of the file to extract in a string.
+    * @return                       a string with the file content or NULL.
+    * @access public
+    */
+    function extractInString($p_filename)
+    {
+        if ($this->_openRead()) {
+            $v_result = $this->_extractInString($p_filename);
+            $this->_close();
+        } else {
+            $v_result = NULL;
+        }
+
+        return $v_result;
+    }
+    // }}}
+
+    // {{{ extractList()
+    /**
+    * This method extract from the archive only the files indicated in the
+    * $p_filelist. These files are extracted in the current directory or
+    * in the directory indicated by the optional $p_path parameter.
+    * If indicated the $p_remove_path can be used in the same way as it is
+    * used in extractModify() method.
+    * @param array  $p_filelist     An array of filenames and directory names,
+	*                               or a single string with names separated
+	*                               by a single blank space.
+    * @param string $p_path         The path of the directory where the
+	*                               files/dir need to by extracted.
+    * @param string $p_remove_path  Part of the memorized path that can be
+	*                               removed if present at the beginning of
+	*                               the file/dir path.
+    * @return                       true on success, false on error.
+    * @access public
+    * @see extractModify()
+    */
+    function extractList($p_filelist, $p_path='', $p_remove_path='')
+    {
+        $v_result = true;
+        $v_list_detail = array();
+
+        if (is_array($p_filelist))
+            $v_list = $p_filelist;
+        elseif (is_string($p_filelist))
+            $v_list = explode($this->_separator, $p_filelist);
+        else {
+            $this->_error('Invalid string list');
+            return false;
+        }
+
+        if ($v_result = $this->_openRead()) {
+            $v_result = $this->_extractList($p_path, $v_list_detail, "partial",
+			                                $v_list, $p_remove_path);
+            $this->_close();
+        }
+
+        return $v_result;
+    }
+    // }}}
+
+    // {{{ setAttribute()
+    /**
+    * This method set specific attributes of the archive. It uses a variable
+    * list of parameters, in the format attribute code + attribute values :
+    * $arch->setAttribute(ARCHIVE_TAR_ATT_SEPARATOR, ',');
+    * @param mixed $argv            variable list of attributes and values
+    * @return                       true on success, false on error.
+    * @access public
+    */
+    function setAttribute()
+    {
+        $v_result = true;
+
+        // ----- Get the number of variable list of arguments
+        if (($v_size = func_num_args()) == 0) {
+            return true;
+        }
+
+        // ----- Get the arguments
+        $v_att_list = &func_get_args();
+
+        // ----- Read the attributes
+        $i=0;
+        while ($i<$v_size) {
+
+            // ----- Look for next option
+            switch ($v_att_list[$i]) {
+                // ----- Look for options that request a string value
+                case ARCHIVE_TAR_ATT_SEPARATOR :
+                    // ----- Check the number of parameters
+                    if (($i+1) >= $v_size) {
+                        $this->_error('Invalid number of parameters for '
+						              .'attribute ARCHIVE_TAR_ATT_SEPARATOR');
+                        return false;
+                    }
+
+                    // ----- Get the value
+                    $this->_separator = $v_att_list[$i+1];
+                    $i++;
+                break;
+
+                default :
+                    $this->_error('Unknow attribute code '.$v_att_list[$i].'');
+                    return false;
+            }
+
+            // ----- Next attribute
+            $i++;
+        }
+
+        return $v_result;
+    }
+    // }}}
+
+    // {{{ _error()
+    function _error($p_message)
+    {
+        // ----- To be completed
+//        $this->raiseError($p_message);
+        throw new Exception($p_message);
+    }
+    // }}}
+
+    // {{{ _warning()
+    function _warning($p_message)
+    {
+        // ----- To be completed
+//        $this->raiseError($p_message);
+        throw new Exception($p_message);
+    }
+    // }}}
+
+    // {{{ _isArchive()
+    function _isArchive($p_filename=NULL)
+    {
+        if ($p_filename == NULL) {
+            $p_filename = $this->_tarname;
+        }
+        clearstatcache();
+        return @is_file($p_filename) && !@is_link($p_filename);
+    }
+    // }}}
+
+    // {{{ _openWrite()
+    function _openWrite()
+    {
+        if ($this->_compress_type == 'gz')
+            $this->_file = @gzopen($this->_tarname, "wb9");
+        else if ($this->_compress_type == 'bz2')
+            $this->_file = @bzopen($this->_tarname, "w");
+        else if ($this->_compress_type == 'none')
+            $this->_file = @fopen($this->_tarname, "wb");
+        else
+            $this->_error('Unknown or missing compression type ('
+			              .$this->_compress_type.')');
+
+        if ($this->_file == 0) {
+            $this->_error('Unable to open in write mode \''
+			              .$this->_tarname.'\'');
+            return false;
+        }
+
+        return true;
+    }
+    // }}}
+
+    // {{{ _openRead()
+    function _openRead()
+    {
+        if (strtolower(substr($this->_tarname, 0, 7)) == 'http://') {
+
+          // ----- Look if a local copy need to be done
+          if ($this->_temp_tarname == '') {
+              $this->_temp_tarname = uniqid('tar').'.tmp';
+              if (!$v_file_from = @fopen($this->_tarname, 'rb')) {
+                $this->_error('Unable to open in read mode \''
+				              .$this->_tarname.'\'');
+                $this->_temp_tarname = '';
+                return false;
+              }
+              if (!$v_file_to = @fopen($this->_temp_tarname, 'wb')) {
+                $this->_error('Unable to open in write mode \''
+				              .$this->_temp_tarname.'\'');
+                $this->_temp_tarname = '';
+                return false;
+              }
+              while ($v_data = @fread($v_file_from, 1024))
+                  @fwrite($v_file_to, $v_data);
+              @fclose($v_file_from);
+              @fclose($v_file_to);
+          }
+
+          // ----- File to open if the local copy
+          $v_filename = $this->_temp_tarname;
+
+        } else
+          // ----- File to open if the normal Tar file
+          $v_filename = $this->_tarname;
+
+        if ($this->_compress_type == 'gz')
+            $this->_file = @gzopen($v_filename, "rb");
+        else if ($this->_compress_type == 'bz2')
+            $this->_file = @bzopen($v_filename, "r");
+        else if ($this->_compress_type == 'none')
+            $this->_file = @fopen($v_filename, "rb");
+        else
+            $this->_error('Unknown or missing compression type ('
+			              .$this->_compress_type.')');
+
+        if ($this->_file == 0) {
+            $this->_error('Unable to open in read mode \''.$v_filename.'\'');
+            return false;
+        }
+
+        return true;
+    }
+    // }}}
+
+    // {{{ _openReadWrite()
+    function _openReadWrite()
+    {
+        if ($this->_compress_type == 'gz')
+            $this->_file = @gzopen($this->_tarname, "r+b");
+        else if ($this->_compress_type == 'bz2') {
+            $this->_error('Unable to open bz2 in read/write mode \''
+			              .$this->_tarname.'\' (limitation of bz2 extension)');
+            return false;
+        } else if ($this->_compress_type == 'none')
+            $this->_file = @fopen($this->_tarname, "r+b");
+        else
+            $this->_error('Unknown or missing compression type ('
+			              .$this->_compress_type.')');
+
+        if ($this->_file == 0) {
+            $this->_error('Unable to open in read/write mode \''
+			              .$this->_tarname.'\'');
+            return false;
+        }
+
+        return true;
+    }
+    // }}}
+
+    // {{{ _close()
+    function _close()
+    {
+        //if (isset($this->_file)) {
+        if (is_resource($this->_file)) {
+            if ($this->_compress_type == 'gz')
+                @gzclose($this->_file);
+            else if ($this->_compress_type == 'bz2')
+                @bzclose($this->_file);
+            else if ($this->_compress_type == 'none')
+                @fclose($this->_file);
+            else
+                $this->_error('Unknown or missing compression type ('
+				              .$this->_compress_type.')');
+
+            $this->_file = 0;
+        }
+
+        // ----- Look if a local copy need to be erase
+        // Note that it might be interesting to keep the url for a time : ToDo
+        if ($this->_temp_tarname != '') {
+            @drupal_unlink($this->_temp_tarname);
+            $this->_temp_tarname = '';
+        }
+
+        return true;
+    }
+    // }}}
+
+    // {{{ _cleanFile()
+    function _cleanFile()
+    {
+        $this->_close();
+
+        // ----- Look for a local copy
+        if ($this->_temp_tarname != '') {
+            // ----- Remove the local copy but not the remote tarname
+            @drupal_unlink($this->_temp_tarname);
+            $this->_temp_tarname = '';
+        } else {
+            // ----- Remove the local tarname file
+            @drupal_unlink($this->_tarname);
+        }
+        $this->_tarname = '';
+
+        return true;
+    }
+    // }}}
+
+    // {{{ _writeBlock()
+    function _writeBlock($p_binary_data, $p_len=null)
+    {
+      if (is_resource($this->_file)) {
+          if ($p_len === null) {
+              if ($this->_compress_type == 'gz')
+                  @gzputs($this->_file, $p_binary_data);
+              else if ($this->_compress_type == 'bz2')
+                  @bzwrite($this->_file, $p_binary_data);
+              else if ($this->_compress_type == 'none')
+                  @fputs($this->_file, $p_binary_data);
+              else
+                  $this->_error('Unknown or missing compression type ('
+				                .$this->_compress_type.')');
+          } else {
+              if ($this->_compress_type == 'gz')
+                  @gzputs($this->_file, $p_binary_data, $p_len);
+              else if ($this->_compress_type == 'bz2')
+                  @bzwrite($this->_file, $p_binary_data, $p_len);
+              else if ($this->_compress_type == 'none')
+                  @fputs($this->_file, $p_binary_data, $p_len);
+              else
+                  $this->_error('Unknown or missing compression type ('
+				                .$this->_compress_type.')');
+
+          }
+      }
+      return true;
+    }
+    // }}}
+
+    // {{{ _readBlock()
+    function _readBlock()
+    {
+      $v_block = null;
+      if (is_resource($this->_file)) {
+          if ($this->_compress_type == 'gz')
+              $v_block = @gzread($this->_file, 512);
+          else if ($this->_compress_type == 'bz2')
+              $v_block = @bzread($this->_file, 512);
+          else if ($this->_compress_type == 'none')
+              $v_block = @fread($this->_file, 512);
+          else
+              $this->_error('Unknown or missing compression type ('
+			                .$this->_compress_type.')');
+      }
+      return $v_block;
+    }
+    // }}}
+
+    // {{{ _jumpBlock()
+    function _jumpBlock($p_len=null)
+    {
+      if (is_resource($this->_file)) {
+          if ($p_len === null)
+              $p_len = 1;
+
+          if ($this->_compress_type == 'gz') {
+              @gzseek($this->_file, gztell($this->_file)+($p_len*512));
+          }
+          else if ($this->_compress_type == 'bz2') {
+              // ----- Replace missing bztell() and bzseek()
+              for ($i=0; $i<$p_len; $i++)
+                  $this->_readBlock();
+          } else if ($this->_compress_type == 'none')
+              @fseek($this->_file, ftell($this->_file)+($p_len*512));
+          else
+              $this->_error('Unknown or missing compression type ('
+			                .$this->_compress_type.')');
+
+      }
+      return true;
+    }
+    // }}}
+
+    // {{{ _writeFooter()
+    function _writeFooter()
+    {
+      if (is_resource($this->_file)) {
+          // ----- Write the last 0 filled block for end of archive
+          $v_binary_data = pack('a1024', '');
+          $this->_writeBlock($v_binary_data);
+      }
+      return true;
+    }
+    // }}}
+
+    // {{{ _addList()
+    function _addList($p_list, $p_add_dir, $p_remove_dir)
+    {
+      $v_result=true;
+      $v_header = array();
+
+      // ----- Remove potential windows directory separator
+      $p_add_dir = $this->_translateWinPath($p_add_dir);
+      $p_remove_dir = $this->_translateWinPath($p_remove_dir, false);
+
+      if (!$this->_file) {
+          $this->_error('Invalid file descriptor');
+          return false;
+      }
+
+      if (sizeof($p_list) == 0)
+          return true;
+
+      foreach ($p_list as $v_filename) {
+          if (!$v_result) {
+              break;
+          }
+
+        // ----- Skip the current tar name
+        if ($v_filename == $this->_tarname)
+            continue;
+
+        if ($v_filename == '')
+            continue;
+
+        if (!file_exists($v_filename)) {
+            $this->_warning("File '$v_filename' does not exist");
+            continue;
+        }
+
+        // ----- Add the file or directory header
+        if (!$this->_addFile($v_filename, $v_header, $p_add_dir, $p_remove_dir))
+            return false;
+
+        if (@is_dir($v_filename) && !@is_link($v_filename)) {
+            if (!($p_hdir = opendir($v_filename))) {
+                $this->_warning("Directory '$v_filename' can not be read");
+                continue;
+            }
+            while (false !== ($p_hitem = readdir($p_hdir))) {
+                if (($p_hitem != '.') && ($p_hitem != '..')) {
+                    if ($v_filename != ".")
+                        $p_temp_list[0] = $v_filename.'/'.$p_hitem;
+                    else
+                        $p_temp_list[0] = $p_hitem;
+
+                    $v_result = $this->_addList($p_temp_list,
+					                            $p_add_dir,
+												$p_remove_dir);
+                }
+            }
+
+            unset($p_temp_list);
+            unset($p_hdir);
+            unset($p_hitem);
+        }
+      }
+
+      return $v_result;
+    }
+    // }}}
+
+    // {{{ _addFile()
+    function _addFile($p_filename, &$p_header, $p_add_dir, $p_remove_dir)
+    {
+      if (!$this->_file) {
+          $this->_error('Invalid file descriptor');
+          return false;
+      }
+
+      if ($p_filename == '') {
+          $this->_error('Invalid file name');
+          return false;
+      }
+
+      // ----- Calculate the stored filename
+      $p_filename = $this->_translateWinPath($p_filename, false);;
+      $v_stored_filename = $p_filename;
+      if (strcmp($p_filename, $p_remove_dir) == 0) {
+          return true;
+      }
+      if ($p_remove_dir != '') {
+          if (substr($p_remove_dir, -1) != '/')
+              $p_remove_dir .= '/';
+
+          if (substr($p_filename, 0, strlen($p_remove_dir)) == $p_remove_dir)
+              $v_stored_filename = substr($p_filename, strlen($p_remove_dir));
+      }
+      $v_stored_filename = $this->_translateWinPath($v_stored_filename);
+      if ($p_add_dir != '') {
+          if (substr($p_add_dir, -1) == '/')
+              $v_stored_filename = $p_add_dir.$v_stored_filename;
+          else
+              $v_stored_filename = $p_add_dir.'/'.$v_stored_filename;
+      }
+
+      $v_stored_filename = $this->_pathReduction($v_stored_filename);
+
+      if ($this->_isArchive($p_filename)) {
+          if (($v_file = @fopen($p_filename, "rb")) == 0) {
+              $this->_warning("Unable to open file '".$p_filename
+			                  ."' in binary read mode");
+              return true;
+          }
+
+          if (!$this->_writeHeader($p_filename, $v_stored_filename))
+              return false;
+
+          while (($v_buffer = fread($v_file, 512)) != '') {
+              $v_binary_data = pack("a512", "$v_buffer");
+              $this->_writeBlock($v_binary_data);
+          }
+
+          fclose($v_file);
+
+      } else {
+          // ----- Only header for dir
+          if (!$this->_writeHeader($p_filename, $v_stored_filename))
+              return false;
+      }
+
+      return true;
+    }
+    // }}}
+
+    // {{{ _addString()
+    function _addString($p_filename, $p_string)
+    {
+      if (!$this->_file) {
+          $this->_error('Invalid file descriptor');
+          return false;
+      }
+
+      if ($p_filename == '') {
+          $this->_error('Invalid file name');
+          return false;
+      }
+
+      // ----- Calculate the stored filename
+      $p_filename = $this->_translateWinPath($p_filename, false);;
+
+      if (!$this->_writeHeaderBlock($p_filename, strlen($p_string),
+	                                  time(), 384, "", 0, 0))
+          return false;
+
+      $i=0;
+      while (($v_buffer = substr($p_string, (($i++)*512), 512)) != '') {
+          $v_binary_data = pack("a512", $v_buffer);
+          $this->_writeBlock($v_binary_data);
+      }
+
+      return true;
+    }
+    // }}}
+
+    // {{{ _writeHeader()
+    function _writeHeader($p_filename, $p_stored_filename)
+    {
+        if ($p_stored_filename == '')
+            $p_stored_filename = $p_filename;
+        $v_reduce_filename = $this->_pathReduction($p_stored_filename);
+
+        if (strlen($v_reduce_filename) > 99) {
+          if (!$this->_writeLongHeader($v_reduce_filename))
+            return false;
+        }
+
+        $v_info = lstat($p_filename);
+        $v_uid = sprintf("%6s ", DecOct($v_info[4]));
+        $v_gid = sprintf("%6s ", DecOct($v_info[5]));
+        $v_perms = sprintf("%6s ", DecOct($v_info['mode']));
+
+        $v_mtime = sprintf("%11s", DecOct($v_info['mode']));
+
+        $v_linkname = '';
+
+        if (@is_link($p_filename)) {
+          $v_typeflag = '2';
+          $v_linkname = readlink($p_filename);
+          $v_size = sprintf("%11s ", DecOct(0));
+        } elseif (@is_dir($p_filename)) {
+          $v_typeflag = "5";
+          $v_size = sprintf("%11s ", DecOct(0));
+        } else {
+          $v_typeflag = '';
+          clearstatcache();
+          $v_size = sprintf("%11s ", DecOct($v_info['size']));
+        }
+
+        $v_magic = '';
+
+        $v_version = '';
+
+        $v_uname = '';
+
+        $v_gname = '';
+
+        $v_devmajor = '';
+
+        $v_devminor = '';
+
+        $v_prefix = '';
+
+        $v_binary_data_first = pack("a100a8a8a8a12A12",
+		                            $v_reduce_filename, $v_perms, $v_uid,
+									$v_gid, $v_size, $v_mtime);
+        $v_binary_data_last = pack("a1a100a6a2a32a32a8a8a155a12",
+		                           $v_typeflag, $v_linkname, $v_magic,
+								   $v_version, $v_uname, $v_gname,
+								   $v_devmajor, $v_devminor, $v_prefix, '');
+
+        // ----- Calculate the checksum
+        $v_checksum = 0;
+        // ..... First part of the header
+        for ($i=0; $i<148; $i++)
+            $v_checksum += ord(substr($v_binary_data_first,$i,1));
+        // ..... Ignore the checksum value and replace it by ' ' (space)
+        for ($i=148; $i<156; $i++)
+            $v_checksum += ord(' ');
+        // ..... Last part of the header
+        for ($i=156, $j=0; $i<512; $i++, $j++)
+            $v_checksum += ord(substr($v_binary_data_last,$j,1));
+
+        // ----- Write the first 148 bytes of the header in the archive
+        $this->_writeBlock($v_binary_data_first, 148);
+
+        // ----- Write the calculated checksum
+        $v_checksum = sprintf("%6s ", DecOct($v_checksum));
+        $v_binary_data = pack("a8", $v_checksum);
+        $this->_writeBlock($v_binary_data, 8);
+
+        // ----- Write the last 356 bytes of the header in the archive
+        $this->_writeBlock($v_binary_data_last, 356);
+
+        return true;
+    }
+    // }}}
+
+    // {{{ _writeHeaderBlock()
+    function _writeHeaderBlock($p_filename, $p_size, $p_mtime=0, $p_perms=0,
+	                           $p_type='', $p_uid=0, $p_gid=0)
+    {
+        $p_filename = $this->_pathReduction($p_filename);
+
+        if (strlen($p_filename) > 99) {
+          if (!$this->_writeLongHeader($p_filename))
+            return false;
+        }
+
+        if ($p_type == "5") {
+          $v_size = sprintf("%11s ", DecOct(0));
+        } else {
+          $v_size = sprintf("%11s ", DecOct($p_size));
+        }
+
+        $v_uid = sprintf("%6s ", DecOct($p_uid));
+        $v_gid = sprintf("%6s ", DecOct($p_gid));
+        $v_perms = sprintf("%6s ", DecOct($p_perms));
+
+        $v_mtime = sprintf("%11s", DecOct($p_mtime));
+
+        $v_linkname = '';
+
+        $v_magic = '';
+
+        $v_version = '';
+
+        $v_uname = '';
+
+        $v_gname = '';
+
+        $v_devmajor = '';
+
+        $v_devminor = '';
+
+        $v_prefix = '';
+
+        $v_binary_data_first = pack("a100a8a8a8a12A12",
+		                            $p_filename, $v_perms, $v_uid, $v_gid,
+									$v_size, $v_mtime);
+        $v_binary_data_last = pack("a1a100a6a2a32a32a8a8a155a12",
+		                           $p_type, $v_linkname, $v_magic,
+								   $v_version, $v_uname, $v_gname,
+								   $v_devmajor, $v_devminor, $v_prefix, '');
+
+        // ----- Calculate the checksum
+        $v_checksum = 0;
+        // ..... First part of the header
+        for ($i=0; $i<148; $i++)
+            $v_checksum += ord(substr($v_binary_data_first,$i,1));
+        // ..... Ignore the checksum value and replace it by ' ' (space)
+        for ($i=148; $i<156; $i++)
+            $v_checksum += ord(' ');
+        // ..... Last part of the header
+        for ($i=156, $j=0; $i<512; $i++, $j++)
+            $v_checksum += ord(substr($v_binary_data_last,$j,1));
+
+        // ----- Write the first 148 bytes of the header in the archive
+        $this->_writeBlock($v_binary_data_first, 148);
+
+        // ----- Write the calculated checksum
+        $v_checksum = sprintf("%6s ", DecOct($v_checksum));
+        $v_binary_data = pack("a8", $v_checksum);
+        $this->_writeBlock($v_binary_data, 8);
+
+        // ----- Write the last 356 bytes of the header in the archive
+        $this->_writeBlock($v_binary_data_last, 356);
+
+        return true;
+    }
+    // }}}
+
+    // {{{ _writeLongHeader()
+    function _writeLongHeader($p_filename)
+    {
+        $v_size = sprintf("%11s ", DecOct(strlen($p_filename)));
+
+        $v_typeflag = 'L';
+
+        $v_linkname = '';
+
+        $v_magic = '';
+
+        $v_version = '';
+
+        $v_uname = '';
+
+        $v_gname = '';
+
+        $v_devmajor = '';
+
+        $v_devminor = '';
+
+        $v_prefix = '';
+
+        $v_binary_data_first = pack("a100a8a8a8a12A12",
+		                            '././@LongLink', 0, 0, 0, $v_size, 0);
+        $v_binary_data_last = pack("a1a100a6a2a32a32a8a8a155a12",
+		                           $v_typeflag, $v_linkname, $v_magic,
+								   $v_version, $v_uname, $v_gname,
+								   $v_devmajor, $v_devminor, $v_prefix, '');
+
+        // ----- Calculate the checksum
+        $v_checksum = 0;
+        // ..... First part of the header
+        for ($i=0; $i<148; $i++)
+            $v_checksum += ord(substr($v_binary_data_first,$i,1));
+        // ..... Ignore the checksum value and replace it by ' ' (space)
+        for ($i=148; $i<156; $i++)
+            $v_checksum += ord(' ');
+        // ..... Last part of the header
+        for ($i=156, $j=0; $i<512; $i++, $j++)
+            $v_checksum += ord(substr($v_binary_data_last,$j,1));
+
+        // ----- Write the first 148 bytes of the header in the archive
+        $this->_writeBlock($v_binary_data_first, 148);
+
+        // ----- Write the calculated checksum
+        $v_checksum = sprintf("%6s ", DecOct($v_checksum));
+        $v_binary_data = pack("a8", $v_checksum);
+        $this->_writeBlock($v_binary_data, 8);
+
+        // ----- Write the last 356 bytes of the header in the archive
+        $this->_writeBlock($v_binary_data_last, 356);
+
+        // ----- Write the filename as content of the block
+        $i=0;
+        while (($v_buffer = substr($p_filename, (($i++)*512), 512)) != '') {
+            $v_binary_data = pack("a512", "$v_buffer");
+            $this->_writeBlock($v_binary_data);
+        }
+
+        return true;
+    }
+    // }}}
+
+    // {{{ _readHeader()
+    function _readHeader($v_binary_data, &$v_header)
+    {
+        if (strlen($v_binary_data)==0) {
+            $v_header['filename'] = '';
+            return true;
+        }
+
+        if (strlen($v_binary_data) != 512) {
+            $v_header['filename'] = '';
+            $this->_error('Invalid block size : '.strlen($v_binary_data));
+            return false;
+        }
+
+        if (!is_array($v_header)) {
+            $v_header = array();
+        }
+        // ----- Calculate the checksum
+        $v_checksum = 0;
+        // ..... First part of the header
+        for ($i=0; $i<148; $i++)
+            $v_checksum+=ord(substr($v_binary_data,$i,1));
+        // ..... Ignore the checksum value and replace it by ' ' (space)
+        for ($i=148; $i<156; $i++)
+            $v_checksum += ord(' ');
+        // ..... Last part of the header
+        for ($i=156; $i<512; $i++)
+           $v_checksum+=ord(substr($v_binary_data,$i,1));
+
+        $v_data = unpack("a100filename/a8mode/a8uid/a8gid/a12size/a12mtime/"
+		                 ."a8checksum/a1typeflag/a100link/a6magic/a2version/"
+						 ."a32uname/a32gname/a8devmajor/a8devminor",
+						 $v_binary_data);
+
+        // ----- Extract the checksum
+        $v_header['checksum'] = OctDec(trim($v_data['checksum']));
+        if ($v_header['checksum'] != $v_checksum) {
+            $v_header['filename'] = '';
+
+            // ----- Look for last block (empty block)
+            if (($v_checksum == 256) && ($v_header['checksum'] == 0))
+                return true;
+
+            $this->_error('Invalid checksum for file "'.$v_data['filename']
+			              .'" : '.$v_checksum.' calculated, '
+						  .$v_header['checksum'].' expected');
+            return false;
+        }
+
+        // ----- Extract the properties
+        $v_header['filename'] = trim($v_data['filename']);
+        if ($this->_maliciousFilename($v_header['filename'])) {
+            $this->_error('Malicious .tar detected, file "' . $v_header['filename'] .
+                '" will not install in desired directory tree');
+            return false;
+        }
+        $v_header['mode'] = OctDec(trim($v_data['mode']));
+        $v_header['uid'] = OctDec(trim($v_data['uid']));
+        $v_header['gid'] = OctDec(trim($v_data['gid']));
+        $v_header['size'] = OctDec(trim($v_data['size']));
+        $v_header['mtime'] = OctDec(trim($v_data['mtime']));
+        if (($v_header['typeflag'] = $v_data['typeflag']) == "5") {
+          $v_header['size'] = 0;
+        }
+        $v_header['link'] = trim($v_data['link']);
+        /* ----- All these fields are removed form the header because
+		they do not carry interesting info
+        $v_header[magic] = trim($v_data[magic]);
+        $v_header[version] = trim($v_data[version]);
+        $v_header[uname] = trim($v_data[uname]);
+        $v_header[gname] = trim($v_data[gname]);
+        $v_header[devmajor] = trim($v_data[devmajor]);
+        $v_header[devminor] = trim($v_data[devminor]);
+        */
+
+        return true;
+    }
+    // }}}
+
+    // {{{ _maliciousFilename()
+    /**
+     * Detect and report a malicious file name
+     *
+     * @param string $file
+     * @return bool
+     * @access private
+     */
+    function _maliciousFilename($file)
+    {
+        if (strpos($file, '/../') !== false) {
+            return true;
+        }
+        if (strpos($file, '../') === 0) {
+            return true;
+        }
+        return false;
+    }
+    // }}}
+
+    // {{{ _readLongHeader()
+    function _readLongHeader(&$v_header)
+    {
+      $v_filename = '';
+      $n = floor($v_header['size']/512);
+      for ($i=0; $i<$n; $i++) {
+        $v_content = $this->_readBlock();
+        $v_filename .= $v_content;
+      }
+      if (($v_header['size'] % 512) != 0) {
+        $v_content = $this->_readBlock();
+        $v_filename .= $v_content;
+      }
+
+      // ----- Read the next header
+      $v_binary_data = $this->_readBlock();
+
+      if (!$this->_readHeader($v_binary_data, $v_header))
+        return false;
+
+      $v_filename = trim($v_filename);
+      $v_header['filename'] = $v_filename;
+        if ($this->_maliciousFilename($v_filename)) {
+            $this->_error('Malicious .tar detected, file "' . $v_filename .
+                '" will not install in desired directory tree');
+            return false;
+      }
+
+      return true;
+    }
+    // }}}
+
+    // {{{ _extractInString()
+    /**
+    * This method extract from the archive one file identified by $p_filename.
+    * The return value is a string with the file content, or NULL on error.
+    * @param string $p_filename     The path of the file to extract in a string.
+    * @return                       a string with the file content or NULL.
+    * @access private
+    */
+    function _extractInString($p_filename)
+    {
+        $v_result_str = "";
+
+        While (strlen($v_binary_data = $this->_readBlock()) != 0)
+        {
+          if (!$this->_readHeader($v_binary_data, $v_header))
+            return NULL;
+
+          if ($v_header['filename'] == '')
+            continue;
+
+          // ----- Look for long filename
+          if ($v_header['typeflag'] == 'L') {
+            if (!$this->_readLongHeader($v_header))
+              return NULL;
+          }
+
+          if ($v_header['filename'] == $p_filename) {
+              if ($v_header['typeflag'] == "5") {
+                  $this->_error('Unable to extract in string a directory '
+				                .'entry {'.$v_header['filename'].'}');
+                  return NULL;
+              } else {
+                  $n = floor($v_header['size']/512);
+                  for ($i=0; $i<$n; $i++) {
+                      $v_result_str .= $this->_readBlock();
+                  }
+                  if (($v_header['size'] % 512) != 0) {
+                      $v_content = $this->_readBlock();
+                      $v_result_str .= substr($v_content, 0,
+					                          ($v_header['size'] % 512));
+                  }
+                  return $v_result_str;
+              }
+          } else {
+              $this->_jumpBlock(ceil(($v_header['size']/512)));
+          }
+        }
+
+        return NULL;
+    }
+    // }}}
+
+    // {{{ _extractList()
+    function _extractList($p_path, &$p_list_detail, $p_mode,
+	                      $p_file_list, $p_remove_path)
+    {
+    $v_result=true;
+    $v_nb = 0;
+    $v_extract_all = true;
+    $v_listing = false;
+
+    $p_path = $this->_translateWinPath($p_path, false);
+    if ($p_path == '' || (substr($p_path, 0, 1) != '/'
+	    && substr($p_path, 0, 3) != "../" && !strpos($p_path, ':'))) {
+      $p_path = "./".$p_path;
+    }
+    $p_remove_path = $this->_translateWinPath($p_remove_path);
+
+    // ----- Look for path to remove format (should end by /)
+    if (($p_remove_path != '') && (substr($p_remove_path, -1) != '/'))
+      $p_remove_path .= '/';
+    $p_remove_path_size = strlen($p_remove_path);
+
+    switch ($p_mode) {
+      case "complete" :
+        $v_extract_all = TRUE;
+        $v_listing = FALSE;
+      break;
+      case "partial" :
+          $v_extract_all = FALSE;
+          $v_listing = FALSE;
+      break;
+      case "list" :
+          $v_extract_all = FALSE;
+          $v_listing = TRUE;
+      break;
+      default :
+        $this->_error('Invalid extract mode ('.$p_mode.')');
+        return false;
+    }
+
+    clearstatcache();
+
+    while (strlen($v_binary_data = $this->_readBlock()) != 0)
+    {
+      $v_extract_file = FALSE;
+      $v_extraction_stopped = 0;
+
+      if (!$this->_readHeader($v_binary_data, $v_header))
+        return false;
+
+      if ($v_header['filename'] == '') {
+        continue;
+      }
+
+      // ----- Look for long filename
+      if ($v_header['typeflag'] == 'L') {
+        if (!$this->_readLongHeader($v_header))
+          return false;
+      }
+
+      if ((!$v_extract_all) && (is_array($p_file_list))) {
+        // ----- By default no unzip if the file is not found
+        $v_extract_file = false;
+
+        for ($i=0; $i<sizeof($p_file_list); $i++) {
+          // ----- Look if it is a directory
+          if (substr($p_file_list[$i], -1) == '/') {
+            // ----- Look if the directory is in the filename path
+            if ((strlen($v_header['filename']) > strlen($p_file_list[$i]))
+			    && (substr($v_header['filename'], 0, strlen($p_file_list[$i]))
+				    == $p_file_list[$i])) {
+              $v_extract_file = TRUE;
+              break;
+            }
+          }
+
+          // ----- It is a file, so compare the file names
+          elseif ($p_file_list[$i] == $v_header['filename']) {
+            $v_extract_file = TRUE;
+            break;
+          }
+        }
+      } else {
+        $v_extract_file = TRUE;
+      }
+
+      // ----- Look if this file need to be extracted
+      if (($v_extract_file) && (!$v_listing))
+      {
+        if (($p_remove_path != '')
+            && (substr($v_header['filename'], 0, $p_remove_path_size)
+			    == $p_remove_path))
+          $v_header['filename'] = substr($v_header['filename'],
+		                                 $p_remove_path_size);
+        if (($p_path != './') && ($p_path != '/')) {
+          while (substr($p_path, -1) == '/')
+            $p_path = substr($p_path, 0, strlen($p_path)-1);
+
+          if (substr($v_header['filename'], 0, 1) == '/')
+              $v_header['filename'] = $p_path.$v_header['filename'];
+          else
+            $v_header['filename'] = $p_path.'/'.$v_header['filename'];
+        }
+        if (file_exists($v_header['filename'])) {
+          if (   (@is_dir($v_header['filename']))
+		      && ($v_header['typeflag'] == '')) {
+            $this->_error('File '.$v_header['filename']
+			              .' already exists as a directory');
+            return false;
+          }
+          if (   ($this->_isArchive($v_header['filename']))
+		      && ($v_header['typeflag'] == "5")) {
+            $this->_error('Directory '.$v_header['filename']
+			              .' already exists as a file');
+            return false;
+          }
+          if (!is_writeable($v_header['filename'])) {
+            $this->_error('File '.$v_header['filename']
+			              .' already exists and is write protected');
+            return false;
+          }
+          if (filemtime($v_header['filename']) > $v_header['mtime']) {
+            // To be completed : An error or silent no replace ?
+          }
+        }
+
+        // ----- Check the directory availability and create it if necessary
+        elseif (($v_result
+		         = $this->_dirCheck(($v_header['typeflag'] == "5"
+				                    ?$v_header['filename']
+									:dirname($v_header['filename'])))) != 1) {
+            $this->_error('Unable to create path for '.$v_header['filename']);
+            return false;
+        }
+
+        if ($v_extract_file) {
+          if ($v_header['typeflag'] == "5") {
+            if (!@file_exists($v_header['filename'])) {
+                // Drupal integration.
+                // Changed the code to use drupal_mkdir() instead of mkdir().
+                if (!@drupal_mkdir($v_header['filename'], 0777)) {
+                    $this->_error('Unable to create directory {'
+					              .$v_header['filename'].'}');
+                    return false;
+                }
+            }
+          } elseif ($v_header['typeflag'] == "2") {
+              if (@file_exists($v_header['filename'])) {
+                  @drupal_unlink($v_header['filename']);
+              }
+              if (!@symlink($v_header['link'], $v_header['filename'])) {
+                  $this->_error('Unable to extract symbolic link {'
+                                .$v_header['filename'].'}');
+                  return false;
+              }
+          } else {
+              if (($v_dest_file = @fopen($v_header['filename'], "wb")) == 0) {
+                  $this->_error('Error while opening {'.$v_header['filename']
+				                .'} in write binary mode');
+                  return false;
+              } else {
+                  $n = floor($v_header['size']/512);
+                  for ($i=0; $i<$n; $i++) {
+                      $v_content = $this->_readBlock();
+                      fwrite($v_dest_file, $v_content, 512);
+                  }
+            if (($v_header['size'] % 512) != 0) {
+              $v_content = $this->_readBlock();
+              fwrite($v_dest_file, $v_content, ($v_header['size'] % 512));
+            }
+
+            @fclose($v_dest_file);
+
+            // ----- Change the file mode, mtime
+            @touch($v_header['filename'], $v_header['mtime']);
+            if ($v_header['mode'] & 0111) {
+                // make file executable, obey umask
+                $mode = fileperms($v_header['filename']) | (~umask() & 0111);
+                @chmod($v_header['filename'], $mode);
+            }
+          }
+
+          // ----- Check the file size
+          clearstatcache();
+          if (filesize($v_header['filename']) != $v_header['size']) {
+              $this->_error('Extracted file '.$v_header['filename']
+			                .' does not have the correct file size \''
+							.filesize($v_header['filename'])
+							.'\' ('.$v_header['size']
+							.' expected). Archive may be corrupted.');
+              return false;
+          }
+          }
+        } else {
+          $this->_jumpBlock(ceil(($v_header['size']/512)));
+        }
+      } else {
+          $this->_jumpBlock(ceil(($v_header['size']/512)));
+      }
+
+      /* TBC : Seems to be unused ...
+      if ($this->_compress)
+        $v_end_of_file = @gzeof($this->_file);
+      else
+        $v_end_of_file = @feof($this->_file);
+        */
+
+      if ($v_listing || $v_extract_file || $v_extraction_stopped) {
+        // ----- Log extracted files
+        if (($v_file_dir = dirname($v_header['filename']))
+		    == $v_header['filename'])
+          $v_file_dir = '';
+        if ((substr($v_header['filename'], 0, 1) == '/') && ($v_file_dir == ''))
+          $v_file_dir = '/';
+
+        $p_list_detail[$v_nb++] = $v_header;
+        if (is_array($p_file_list) && (count($p_list_detail) == count($p_file_list))) {
+            return true;
+        }
+      }
+    }
+
+        return true;
+    }
+    // }}}
+
+    // {{{ _openAppend()
+    function _openAppend()
+    {
+        if (filesize($this->_tarname) == 0)
+          return $this->_openWrite();
+
+        if ($this->_compress) {
+            $this->_close();
+
+            if (!@rename($this->_tarname, $this->_tarname.".tmp")) {
+                $this->_error('Error while renaming \''.$this->_tarname
+				              .'\' to temporary file \''.$this->_tarname
+							  .'.tmp\'');
+                return false;
+            }
+
+            if ($this->_compress_type == 'gz')
+                $v_temp_tar = @gzopen($this->_tarname.".tmp", "rb");
+            elseif ($this->_compress_type == 'bz2')
+                $v_temp_tar = @bzopen($this->_tarname.".tmp", "r");
+
+            if ($v_temp_tar == 0) {
+                $this->_error('Unable to open file \''.$this->_tarname
+				              .'.tmp\' in binary read mode');
+                @rename($this->_tarname.".tmp", $this->_tarname);
+                return false;
+            }
+
+            if (!$this->_openWrite()) {
+                @rename($this->_tarname.".tmp", $this->_tarname);
+                return false;
+            }
+
+            if ($this->_compress_type == 'gz') {
+                while (!@gzeof($v_temp_tar)) {
+                    $v_buffer = @gzread($v_temp_tar, 512);
+                    if ($v_buffer == ARCHIVE_TAR_END_BLOCK) {
+                        // do not copy end blocks, we will re-make them
+                        // after appending
+                        continue;
+                    }
+                    $v_binary_data = pack("a512", $v_buffer);
+                    $this->_writeBlock($v_binary_data);
+                }
+
+                @gzclose($v_temp_tar);
+            }
+            elseif ($this->_compress_type == 'bz2') {
+                while (strlen($v_buffer = @bzread($v_temp_tar, 512)) > 0) {
+                    if ($v_buffer == ARCHIVE_TAR_END_BLOCK) {
+                        continue;
+                    }
+                    $v_binary_data = pack("a512", $v_buffer);
+                    $this->_writeBlock($v_binary_data);
+                }
+
+                @bzclose($v_temp_tar);
+            }
+
+            if (!@drupal_unlink($this->_tarname.".tmp")) {
+                $this->_error('Error while deleting temporary file \''
+				              .$this->_tarname.'.tmp\'');
+            }
+
+        } else {
+            // ----- For not compressed tar, just add files before the last
+			//       one or two 512 bytes block
+            if (!$this->_openReadWrite())
+               return false;
+
+            clearstatcache();
+            $v_size = filesize($this->_tarname);
+
+            // We might have zero, one or two end blocks.
+            // The standard is two, but we should try to handle
+            // other cases.
+            fseek($this->_file, $v_size - 1024);
+            if (fread($this->_file, 512) == ARCHIVE_TAR_END_BLOCK) {
+                fseek($this->_file, $v_size - 1024);
+            }
+            elseif (fread($this->_file, 512) == ARCHIVE_TAR_END_BLOCK) {
+                fseek($this->_file, $v_size - 512);
+            }
+        }
+
+        return true;
+    }
+    // }}}
+
+    // {{{ _append()
+    function _append($p_filelist, $p_add_dir='', $p_remove_dir='')
+    {
+        if (!$this->_openAppend())
+            return false;
+
+        if ($this->_addList($p_filelist, $p_add_dir, $p_remove_dir))
+           $this->_writeFooter();
+
+        $this->_close();
+
+        return true;
+    }
+    // }}}
+
+    // {{{ _dirCheck()
+
+    /**
+     * Check if a directory exists and create it (including parent
+     * dirs) if not.
+     *
+     * @param string $p_dir directory to check
+     *
+     * @return bool TRUE if the directory exists or was created
+     */
+    function _dirCheck($p_dir)
+    {
+        clearstatcache();
+        if ((@is_dir($p_dir)) || ($p_dir == ''))
+            return true;
+
+        $p_parent_dir = dirname($p_dir);
+
+        if (($p_parent_dir != $p_dir) &&
+            ($p_parent_dir != '') &&
+            (!$this->_dirCheck($p_parent_dir)))
+             return false;
+
+        // Drupal integration.
+        // Changed the code to use drupal_mkdir() instead of mkdir().
+        if (!@drupal_mkdir($p_dir, 0777)) {
+            $this->_error("Unable to create directory '$p_dir'");
+            return false;
+        }
+
+        return true;
+    }
+
+    // }}}
+
+    // {{{ _pathReduction()
+
+    /**
+     * Compress path by changing for example "/dir/foo/../bar" to "/dir/bar",
+     * rand emove double slashes.
+     *
+     * @param string $p_dir path to reduce
+     *
+     * @return string reduced path
+     *
+     * @access private
+     *
+     */
+    function _pathReduction($p_dir)
+    {
+        $v_result = '';
+
+        // ----- Look for not empty path
+        if ($p_dir != '') {
+            // ----- Explode path by directory names
+            $v_list = explode('/', $p_dir);
+
+            // ----- Study directories from last to first
+            for ($i=sizeof($v_list)-1; $i>=0; $i--) {
+                // ----- Look for current path
+                if ($v_list[$i] == ".") {
+                    // ----- Ignore this directory
+                    // Should be the first $i=0, but no check is done
+                }
+                else if ($v_list[$i] == "..") {
+                    // ----- Ignore it and ignore the $i-1
+                    $i--;
+                }
+                else if (   ($v_list[$i] == '')
+				         && ($i!=(sizeof($v_list)-1))
+						 && ($i!=0)) {
+                    // ----- Ignore only the double '//' in path,
+                    // but not the first and last /
+                } else {
+                    $v_result = $v_list[$i].($i!=(sizeof($v_list)-1)?'/'
+					            .$v_result:'');
+                }
+            }
+        }
+        $v_result = strtr($v_result, '\\', '/');
+        return $v_result;
+    }
+
+    // }}}
+
+    // {{{ _translateWinPath()
+    function _translateWinPath($p_path, $p_remove_disk_letter=true)
+    {
+      if (defined('OS_WINDOWS') && OS_WINDOWS) {
+          // ----- Look for potential disk letter
+          if (   ($p_remove_disk_letter)
+		      && (($v_position = strpos($p_path, ':')) != false)) {
+              $p_path = substr($p_path, $v_position+1);
+          }
+          // ----- Change potential windows directory separator
+          if ((strpos($p_path, '\\') > 0) || (substr($p_path, 0,1) == '\\')) {
+              $p_path = strtr($p_path, '\\', '/');
+          }
+      }
+      return $p_path;
+    }
+    // }}}
+
+}
+?>
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_flat_0_aaaaaa_40x100.png b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_flat_0_aaaaaa_40x100.png
new file mode 100644
index 0000000..5b5dab2
Binary files /dev/null and b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_flat_0_aaaaaa_40x100.png differ
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_flat_75_ffffff_40x100.png b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_flat_75_ffffff_40x100.png
new file mode 100644
index 0000000..ac8b229
Binary files /dev/null and b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_flat_75_ffffff_40x100.png differ
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_55_fbf9ee_1x400.png b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_55_fbf9ee_1x400.png
new file mode 100644
index 0000000..ad3d634
Binary files /dev/null and b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_55_fbf9ee_1x400.png differ
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_65_ffffff_1x400.png b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_65_ffffff_1x400.png
new file mode 100644
index 0000000..42ccba2
Binary files /dev/null and b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_65_ffffff_1x400.png differ
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_75_dadada_1x400.png b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_75_dadada_1x400.png
new file mode 100644
index 0000000..5a46b47
Binary files /dev/null and b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_75_dadada_1x400.png differ
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_75_e6e6e6_1x400.png b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_75_e6e6e6_1x400.png
new file mode 100644
index 0000000..86c2baa
Binary files /dev/null and b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_75_e6e6e6_1x400.png differ
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_95_fef1ec_1x400.png b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_95_fef1ec_1x400.png
new file mode 100644
index 0000000..4443fdc
Binary files /dev/null and b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_glass_95_fef1ec_1x400.png differ
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_highlight-soft_75_cccccc_1x100.png b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_highlight-soft_75_cccccc_1x100.png
new file mode 100644
index 0000000..7c9fa6c
Binary files /dev/null and b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-bg_highlight-soft_75_cccccc_1x100.png differ
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_222222_256x240.png b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_222222_256x240.png
new file mode 100644
index 0000000..ee039dc
Binary files /dev/null and b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_222222_256x240.png differ
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_2e83ff_256x240.png b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_2e83ff_256x240.png
new file mode 100644
index 0000000..45e8928
Binary files /dev/null and b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_2e83ff_256x240.png differ
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_454545_256x240.png b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_454545_256x240.png
new file mode 100644
index 0000000..7ec70d1
Binary files /dev/null and b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_454545_256x240.png differ
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_888888_256x240.png b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_888888_256x240.png
new file mode 100644
index 0000000..5ba708c
Binary files /dev/null and b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_888888_256x240.png differ
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_cd0a0a_256x240.png b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_cd0a0a_256x240.png
new file mode 100644
index 0000000..7930a55
Binary files /dev/null and b/sites/all/modules/jqueryui_theme/default_themes/base/images/ui-icons_cd0a0a_256x240.png differ
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/ui.accordion.css b/sites/all/modules/jqueryui_theme/default_themes/base/ui.accordion.css
new file mode 100644
index 0000000..ee1b1b6
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/default_themes/base/ui.accordion.css
@@ -0,0 +1,9 @@
+/* Accordion
+----------------------------------*/
+.ui-accordion .ui-accordion-header { cursor: pointer; position: relative; margin-top: 1px; zoom: 1; }
+.ui-accordion .ui-accordion-li-fix { display: inline; }
+.ui-accordion .ui-accordion-header-active { border-bottom: 0 !important; }
+.ui-accordion .ui-accordion-header a { display: block; font-size: 1em; padding: .5em .5em .5em 2.2em; }
+.ui-accordion .ui-accordion-header .ui-icon { position: absolute; left: .5em; top: 50%; margin-top: -8px; }
+.ui-accordion .ui-accordion-content { padding: 1em 2.2em; border-top: 0; margin-top: -2px; position: relative; top: 1px; margin-bottom: 2px; overflow: auto; display: none; }
+.ui-accordion .ui-accordion-content-active { display: block; }
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/ui.all.css b/sites/all/modules/jqueryui_theme/default_themes/base/ui.all.css
new file mode 100644
index 0000000..543e4c3
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/default_themes/base/ui.all.css
@@ -0,0 +1,2 @@
+@import "ui.base.css";
+@import "ui.theme.css";
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/ui.base.css b/sites/all/modules/jqueryui_theme/default_themes/base/ui.base.css
new file mode 100644
index 0000000..a850ed6
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/default_themes/base/ui.base.css
@@ -0,0 +1,9 @@
+@import url("ui.core.css");
+@import url("ui.resizable.css");
+@import url("ui.selectable.css");
+@import url("ui.accordion.css");
+@import url("ui.dialog.css");
+@import url("ui.slider.css");
+@import url("ui.tabs.css");
+@import url("ui.datepicker.css");
+@import url("ui.progressbar.css");
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/ui.core.css b/sites/all/modules/jqueryui_theme/default_themes/base/ui.core.css
new file mode 100644
index 0000000..c2f18f2
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/default_themes/base/ui.core.css
@@ -0,0 +1,37 @@
+/*
+* jQuery UI CSS Framework
+* Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
+* Dual licensed under the MIT (MIT-LICENSE.txt) and GPL (GPL-LICENSE.txt) licenses.
+*/
+
+/* Layout helpers
+----------------------------------*/
+.ui-helper-hidden { display: none; }
+.ui-helper-hidden-accessible { position: absolute; left: -99999999px; }
+.ui-helper-reset { margin: 0; padding: 0; border: 0; outline: 0; line-height: 1.3; text-decoration: none; font-size: 100%; list-style: none; }
+.ui-helper-clearfix:after { content: "."; display: block; height: 0; clear: both; visibility: hidden; }
+.ui-helper-clearfix { display: inline-block; }
+/* required comment for clearfix to work in Opera \*/
+* html .ui-helper-clearfix { height:1%; }
+.ui-helper-clearfix { display:block; }
+/* end clearfix */
+.ui-helper-zfix { width: 100%; height: 100%; top: 0; left: 0; position: absolute; opacity: 0; filter:Alpha(Opacity=0); }
+
+
+/* Interaction Cues
+----------------------------------*/
+.ui-state-disabled { cursor: default !important; }
+
+
+/* Icons
+----------------------------------*/
+
+/* states and images */
+.ui-icon { display: block; text-indent: -99999px; overflow: hidden; background-repeat: no-repeat; }
+
+
+/* Misc visuals
+----------------------------------*/
+
+/* Overlays */
+.ui-widget-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/ui.datepicker.css b/sites/all/modules/jqueryui_theme/default_themes/base/ui.datepicker.css
new file mode 100644
index 0000000..567f8c9
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/default_themes/base/ui.datepicker.css
@@ -0,0 +1,62 @@
+/* Datepicker
+----------------------------------*/
+.ui-datepicker { width: 17em; padding: .2em .2em 0; }
+.ui-datepicker .ui-datepicker-header { position:relative; padding:.2em 0; }
+.ui-datepicker .ui-datepicker-prev, .ui-datepicker .ui-datepicker-next { position:absolute; top: 2px; width: 1.8em; height: 1.8em; }
+.ui-datepicker .ui-datepicker-prev-hover, .ui-datepicker .ui-datepicker-next-hover { top: 1px; }
+.ui-datepicker .ui-datepicker-prev { left:2px; }
+.ui-datepicker .ui-datepicker-next { right:2px; }
+.ui-datepicker .ui-datepicker-prev-hover { left:1px; }
+.ui-datepicker .ui-datepicker-next-hover { right:1px; }
+.ui-datepicker .ui-datepicker-prev span, .ui-datepicker .ui-datepicker-next span { display: block; position: absolute; left: 50%; margin-left: -8px; top: 50%; margin-top: -8px;  }
+.ui-datepicker .ui-datepicker-title { margin: 0 2.3em; line-height: 1.8em; text-align: center; }
+.ui-datepicker .ui-datepicker-title select { float:left; font-size:1em; margin:1px 0; }
+.ui-datepicker select.ui-datepicker-month-year {width: 100%;}
+.ui-datepicker select.ui-datepicker-month, 
+.ui-datepicker select.ui-datepicker-year { width: 49%;}
+.ui-datepicker .ui-datepicker-title select.ui-datepicker-year { float: right; }
+.ui-datepicker table {width: 100%; font-size: .9em; border-collapse: collapse; margin:0 0 .4em; }
+.ui-datepicker th { padding: .7em .3em; text-align: center; font-weight: bold; border: 0;  }
+.ui-datepicker td { border: 0; padding: 1px; }
+.ui-datepicker td span, .ui-datepicker td a { display: block; padding: .2em; text-align: right; text-decoration: none; }
+.ui-datepicker .ui-datepicker-buttonpane { background-image: none; margin: .7em 0 0 0; padding:0 .2em; border-left: 0; border-right: 0; border-bottom: 0; }
+.ui-datepicker .ui-datepicker-buttonpane button { float: right; margin: .5em .2em .4em; cursor: pointer; padding: .2em .6em .3em .6em; width:auto; overflow:visible; }
+.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current { float:left; }
+
+/* with multiple calendars */
+.ui-datepicker.ui-datepicker-multi { width:auto; }
+.ui-datepicker-multi .ui-datepicker-group { float:left; }
+.ui-datepicker-multi .ui-datepicker-group table { width:95%; margin:0 auto .4em; }
+.ui-datepicker-multi-2 .ui-datepicker-group { width:50%; }
+.ui-datepicker-multi-3 .ui-datepicker-group { width:33.3%; }
+.ui-datepicker-multi-4 .ui-datepicker-group { width:25%; }
+.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header { border-left-width:0; }
+.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header { border-left-width:0; }
+.ui-datepicker-multi .ui-datepicker-buttonpane { clear:left; }
+.ui-datepicker-row-break { clear:both; width:100%; }
+
+/* RTL support */
+.ui-datepicker-rtl { direction: rtl; }
+.ui-datepicker-rtl .ui-datepicker-prev { right: 2px; left: auto; }
+.ui-datepicker-rtl .ui-datepicker-next { left: 2px; right: auto; }
+.ui-datepicker-rtl .ui-datepicker-prev:hover { right: 1px; left: auto; }
+.ui-datepicker-rtl .ui-datepicker-next:hover { left: 1px; right: auto; }
+.ui-datepicker-rtl .ui-datepicker-buttonpane { clear:right; }
+.ui-datepicker-rtl .ui-datepicker-buttonpane button { float: left; }
+.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current { float:right; }
+.ui-datepicker-rtl .ui-datepicker-group { float:right; }
+.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header { border-right-width:0; border-left-width:1px; }
+.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header { border-right-width:0; border-left-width:1px; }
+
+/* IE6 IFRAME FIX (taken from datepicker 1.5.3 */
+.ui-datepicker-cover {
+    display: none; /*sorry for IE5*/
+    display/**/: block; /*sorry for IE5*/
+    position: absolute; /*must have*/
+    z-index: -1; /*must have*/
+    filter: mask(); /*must have*/
+    top: -4px; /*must have*/
+    left: -4px; /*must have*/
+    width: 200px; /*must have*/
+    height: 200px; /*must have*/
+}
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/ui.dialog.css b/sites/all/modules/jqueryui_theme/default_themes/base/ui.dialog.css
new file mode 100644
index 0000000..2997595
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/default_themes/base/ui.dialog.css
@@ -0,0 +1,13 @@
+/* Dialog
+----------------------------------*/
+.ui-dialog { position: relative; padding: .2em; width: 300px; }
+.ui-dialog .ui-dialog-titlebar { padding: .5em .3em .3em 1em; position: relative;  }
+.ui-dialog .ui-dialog-title { float: left; margin: .1em 0 .2em; } 
+.ui-dialog .ui-dialog-titlebar-close { position: absolute; right: .3em; top: 50%; width: 19px; margin: -10px 0 0 0; padding: 1px; height: 18px; }
+.ui-dialog .ui-dialog-titlebar-close span { display: block; margin: 1px; }
+.ui-dialog .ui-dialog-titlebar-close:hover, .ui-dialog .ui-dialog-titlebar-close:focus { padding: 0; }
+.ui-dialog .ui-dialog-content { border: 0; padding: .5em 1em; background: none; overflow: auto; zoom: 1; }
+.ui-dialog .ui-dialog-buttonpane { text-align: left; border-width: 1px 0 0 0; background-image: none; margin: .5em 0 0 0; padding: .3em 1em .5em .4em; }
+.ui-dialog .ui-dialog-buttonpane button { float: right; margin: .5em .4em .5em 0; cursor: pointer; padding: .2em .6em .3em .6em; line-height: 1.4em; width:auto; overflow:visible; }
+.ui-dialog .ui-resizable-se { width: 14px; height: 14px; right: 3px; bottom: 3px; }
+.ui-draggable .ui-dialog-titlebar { cursor: move; }
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/ui.progressbar.css b/sites/all/modules/jqueryui_theme/default_themes/base/ui.progressbar.css
new file mode 100644
index 0000000..bc0939e
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/default_themes/base/ui.progressbar.css
@@ -0,0 +1,4 @@
+/* Progressbar
+----------------------------------*/
+.ui-progressbar { height:2em; text-align: left; }
+.ui-progressbar .ui-progressbar-value {margin: -1px; height:100%; }
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/ui.resizable.css b/sites/all/modules/jqueryui_theme/default_themes/base/ui.resizable.css
new file mode 100644
index 0000000..44efeb2
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/default_themes/base/ui.resizable.css
@@ -0,0 +1,13 @@
+/* Resizable
+----------------------------------*/
+.ui-resizable { position: relative;}
+.ui-resizable-handle { position: absolute;font-size: 0.1px;z-index: 99999; display: block;}
+.ui-resizable-disabled .ui-resizable-handle, .ui-resizable-autohide .ui-resizable-handle { display: none; }
+.ui-resizable-n { cursor: n-resize; height: 7px; width: 100%; top: -5px; left: 0px; }
+.ui-resizable-s { cursor: s-resize; height: 7px; width: 100%; bottom: -5px; left: 0px; }
+.ui-resizable-e { cursor: e-resize; width: 7px; right: -5px; top: 0px; height: 100%; }
+.ui-resizable-w { cursor: w-resize; width: 7px; left: -5px; top: 0px; height: 100%; }
+.ui-resizable-se { cursor: se-resize; width: 12px; height: 12px; right: 1px; bottom: 1px; }
+.ui-resizable-sw { cursor: sw-resize; width: 9px; height: 9px; left: -5px; bottom: -5px; }
+.ui-resizable-nw { cursor: nw-resize; width: 9px; height: 9px; left: -5px; top: -5px; }
+.ui-resizable-ne { cursor: ne-resize; width: 9px; height: 9px; right: -5px; top: -5px;}
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/ui.slider.css b/sites/all/modules/jqueryui_theme/default_themes/base/ui.slider.css
new file mode 100644
index 0000000..4c56218
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/default_themes/base/ui.slider.css
@@ -0,0 +1,17 @@
+/* Slider
+----------------------------------*/
+.ui-slider { position: relative; text-align: left; }
+.ui-slider .ui-slider-handle { position: absolute; z-index: 2; width: 1.2em; height: 1.2em; cursor: default; }
+.ui-slider .ui-slider-range { position: absolute; z-index: 1; font-size: .7em; display: block; border: 0; }
+
+.ui-slider-horizontal { height: .8em; }
+.ui-slider-horizontal .ui-slider-handle { top: -.3em; margin-left: -.6em; }
+.ui-slider-horizontal .ui-slider-range { top: 0; height: 100%; }
+.ui-slider-horizontal .ui-slider-range-min { left: 0; }
+.ui-slider-horizontal .ui-slider-range-max { right: 0; }
+
+.ui-slider-vertical { width: .8em; height: 100px; }
+.ui-slider-vertical .ui-slider-handle { left: -.3em; margin-left: 0; margin-bottom: -.6em; }
+.ui-slider-vertical .ui-slider-range { left: 0; width: 100%; }
+.ui-slider-vertical .ui-slider-range-min { bottom: 0; }
+.ui-slider-vertical .ui-slider-range-max { top: 0; }
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/ui.tabs.css b/sites/all/modules/jqueryui_theme/default_themes/base/ui.tabs.css
new file mode 100644
index 0000000..3ca6b9a
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/default_themes/base/ui.tabs.css
@@ -0,0 +1,11 @@
+/* Tabs
+----------------------------------*/
+.ui-tabs { padding: .2em; zoom: 1; }
+.ui-tabs .ui-tabs-nav { list-style: none; position: relative; padding: .2em .2em 0; }
+.ui-tabs .ui-tabs-nav li { position: relative; float: left; border-bottom-width: 0 !important; margin: 0 .2em -1px 0; padding: 0; }
+.ui-tabs .ui-tabs-nav li a { float: left; text-decoration: none; padding: .5em 1em; }
+.ui-tabs .ui-tabs-nav li.ui-tabs-selected { padding-bottom: 1px; border-bottom-width: 0; }
+.ui-tabs .ui-tabs-nav li.ui-tabs-selected a, .ui-tabs .ui-tabs-nav li.ui-state-disabled a, .ui-tabs .ui-tabs-nav li.ui-state-processing a { cursor: text; }
+.ui-tabs .ui-tabs-nav li a, .ui-tabs.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-selected a { cursor: pointer; } /* first selector in group seems obsolete, but required to overcome bug in Opera applying cursor: text overall if defined elsewhere... */
+.ui-tabs .ui-tabs-panel { padding: 1em 1.4em; display: block; border-width: 0; background: none; }
+.ui-tabs .ui-tabs-hide { display: none !important; }
diff --git a/sites/all/modules/jqueryui_theme/default_themes/base/ui.theme.css b/sites/all/modules/jqueryui_theme/default_themes/base/ui.theme.css
new file mode 100644
index 0000000..4dd6363
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/default_themes/base/ui.theme.css
@@ -0,0 +1,243 @@
+/*
+* jQuery UI CSS Framework
+* Copyright (c) 2009 AUTHORS.txt (http://jqueryui.com/about)
+* Dual licensed under the MIT (MIT-LICENSE.txt) and GPL (GPL-LICENSE.txt) licenses.
+* To view and modify this theme, visit http://jqueryui.com/themeroller/
+*/
+
+
+/* Component containers
+----------------------------------*/
+.ui-widget { font-family: Verdana,Arial,sans-serif/*{ffDefault}*/; font-size: 1.1em/*{fsDefault}*/; }
+.ui-widget input, .ui-widget select, .ui-widget textarea, .ui-widget button { font-family: Verdana,Arial,sans-serif/*{ffDefault}*/; font-size: 1em; }
+.ui-widget-content { border: 1px solid #aaaaaa/*{borderColorContent}*/; background: #ffffff/*{bgColorContent}*/ url(images/ui-bg_flat_75_ffffff_40x100.png)/*{bgImgUrlContent}*/ 50%/*{bgContentXPos}*/ 50%/*{bgContentYPos}*/ repeat-x/*{bgContentRepeat}*/; color: #222222/*{fcContent}*/; }
+.ui-widget-content a { color: #222222/*{fcContent}*/; }
+.ui-widget-header { border: 1px solid #aaaaaa/*{borderColorHeader}*/; background: #cccccc/*{bgColorHeader}*/ url(images/ui-bg_highlight-soft_75_cccccc_1x100.png)/*{bgImgUrlHeader}*/ 50%/*{bgHeaderXPos}*/ 50%/*{bgHeaderYPos}*/ repeat-x/*{bgHeaderRepeat}*/; color: #222222/*{fcHeader}*/; font-weight: bold; }
+.ui-widget-header a { color: #222222/*{fcHeader}*/; }
+
+/* Interaction states
+----------------------------------*/
+.ui-state-default, .ui-widget-content .ui-state-default { border: 1px solid #d3d3d3/*{borderColorDefault}*/; background: #e6e6e6/*{bgColorDefault}*/ url(images/ui-bg_glass_75_e6e6e6_1x400.png)/*{bgImgUrlDefault}*/ 50%/*{bgDefaultXPos}*/ 50%/*{bgDefaultYPos}*/ repeat-x/*{bgDefaultRepeat}*/; font-weight: normal/*{fwDefault}*/; color: #555555/*{fcDefault}*/; outline: none; }
+.ui-state-default a, .ui-state-default a:link, .ui-state-default a:visited { color: #555555/*{fcDefault}*/; text-decoration: none; outline: none; }
+.ui-state-hover, .ui-widget-content .ui-state-hover, .ui-state-focus, .ui-widget-content .ui-state-focus { border: 1px solid #999999/*{borderColorHover}*/; background: #dadada/*{bgColorHover}*/ url(images/ui-bg_glass_75_dadada_1x400.png)/*{bgImgUrlHover}*/ 50%/*{bgHoverXPos}*/ 50%/*{bgHoverYPos}*/ repeat-x/*{bgHoverRepeat}*/; font-weight: normal/*{fwDefault}*/; color: #212121/*{fcHover}*/; outline: none; }
+.ui-state-hover a, .ui-state-hover a:hover { color: #212121/*{fcHover}*/; text-decoration: none; outline: none; }
+.ui-state-active, .ui-widget-content .ui-state-active { border: 1px solid #aaaaaa/*{borderColorActive}*/; background: #ffffff/*{bgColorActive}*/ url(images/ui-bg_glass_65_ffffff_1x400.png)/*{bgImgUrlActive}*/ 50%/*{bgActiveXPos}*/ 50%/*{bgActiveYPos}*/ repeat-x/*{bgActiveRepeat}*/; font-weight: normal/*{fwDefault}*/; color: #212121/*{fcActive}*/; outline: none; }
+.ui-state-active a, .ui-state-active a:link, .ui-state-active a:visited { color: #212121/*{fcActive}*/; outline: none; text-decoration: none; }
+
+/* Interaction Cues
+----------------------------------*/
+.ui-state-highlight, .ui-widget-content .ui-state-highlight {border: 1px solid #fcefa1/*{borderColorHighlight}*/; background: #fbf9ee/*{bgColorHighlight}*/ url(images/ui-bg_glass_55_fbf9ee_1x400.png)/*{bgImgUrlHighlight}*/ 50%/*{bgHighlightXPos}*/ 50%/*{bgHighlightYPos}*/ repeat-x/*{bgHighlightRepeat}*/; color: #363636/*{fcHighlight}*/; }
+.ui-state-highlight a, .ui-widget-content .ui-state-highlight a { color: #363636/*{fcHighlight}*/; }
+.ui-state-error, .ui-widget-content .ui-state-error {border: 1px solid #cd0a0a/*{borderColorError}*/; background: #fef1ec/*{bgColorError}*/ url(images/ui-bg_glass_95_fef1ec_1x400.png)/*{bgImgUrlError}*/ 50%/*{bgErrorXPos}*/ 50%/*{bgErrorYPos}*/ repeat-x/*{bgErrorRepeat}*/; color: #cd0a0a/*{fcError}*/; }
+.ui-state-error a, .ui-widget-content .ui-state-error a { color: #cd0a0a/*{fcError}*/; }
+.ui-state-error-text, .ui-widget-content .ui-state-error-text { color: #cd0a0a/*{fcError}*/; }
+.ui-state-disabled, .ui-widget-content .ui-state-disabled { opacity: .35; filter:Alpha(Opacity=35); background-image: none; }
+.ui-priority-primary, .ui-widget-content .ui-priority-primary { font-weight: bold; }
+.ui-priority-secondary, .ui-widget-content .ui-priority-secondary { opacity: .7; filter:Alpha(Opacity=70); font-weight: normal; }
+
+/* Icons
+----------------------------------*/
+
+/* states and images */
+.ui-icon { width: 16px; height: 16px; background-image: url(images/ui-icons_222222_256x240.png)/*{iconsContent}*/; }
+.ui-widget-content .ui-icon {background-image: url(images/ui-icons_222222_256x240.png)/*{iconsContent}*/; }
+.ui-widget-header .ui-icon {background-image: url(images/ui-icons_222222_256x240.png)/*{iconsHeader}*/; }
+.ui-state-default .ui-icon { background-image: url(images/ui-icons_888888_256x240.png)/*{iconsDefault}*/; }
+.ui-state-hover .ui-icon, .ui-state-focus .ui-icon {background-image: url(images/ui-icons_454545_256x240.png)/*{iconsHover}*/; }
+.ui-state-active .ui-icon {background-image: url(images/ui-icons_454545_256x240.png)/*{iconsActive}*/; }
+.ui-state-highlight .ui-icon {background-image: url(images/ui-icons_2e83ff_256x240.png)/*{iconsHighlight}*/; }
+.ui-state-error .ui-icon, .ui-state-error-text .ui-icon {background-image: url(images/ui-icons_cd0a0a_256x240.png)/*{iconsError}*/; }
+
+/* positioning */
+.ui-icon-carat-1-n { background-position: 0 0; }
+.ui-icon-carat-1-ne { background-position: -16px 0; }
+.ui-icon-carat-1-e { background-position: -32px 0; }
+.ui-icon-carat-1-se { background-position: -48px 0; }
+.ui-icon-carat-1-s { background-position: -64px 0; }
+.ui-icon-carat-1-sw { background-position: -80px 0; }
+.ui-icon-carat-1-w { background-position: -96px 0; }
+.ui-icon-carat-1-nw { background-position: -112px 0; }
+.ui-icon-carat-2-n-s { background-position: -128px 0; }
+.ui-icon-carat-2-e-w { background-position: -144px 0; }
+.ui-icon-triangle-1-n { background-position: 0 -16px; }
+.ui-icon-triangle-1-ne { background-position: -16px -16px; }
+.ui-icon-triangle-1-e { background-position: -32px -16px; }
+.ui-icon-triangle-1-se { background-position: -48px -16px; }
+.ui-icon-triangle-1-s { background-position: -64px -16px; }
+.ui-icon-triangle-1-sw { background-position: -80px -16px; }
+.ui-icon-triangle-1-w { background-position: -96px -16px; }
+.ui-icon-triangle-1-nw { background-position: -112px -16px; }
+.ui-icon-triangle-2-n-s { background-position: -128px -16px; }
+.ui-icon-triangle-2-e-w { background-position: -144px -16px; }
+.ui-icon-arrow-1-n { background-position: 0 -32px; }
+.ui-icon-arrow-1-ne { background-position: -16px -32px; }
+.ui-icon-arrow-1-e { background-position: -32px -32px; }
+.ui-icon-arrow-1-se { background-position: -48px -32px; }
+.ui-icon-arrow-1-s { background-position: -64px -32px; }
+.ui-icon-arrow-1-sw { background-position: -80px -32px; }
+.ui-icon-arrow-1-w { background-position: -96px -32px; }
+.ui-icon-arrow-1-nw { background-position: -112px -32px; }
+.ui-icon-arrow-2-n-s { background-position: -128px -32px; }
+.ui-icon-arrow-2-ne-sw { background-position: -144px -32px; }
+.ui-icon-arrow-2-e-w { background-position: -160px -32px; }
+.ui-icon-arrow-2-se-nw { background-position: -176px -32px; }
+.ui-icon-arrowstop-1-n { background-position: -192px -32px; }
+.ui-icon-arrowstop-1-e { background-position: -208px -32px; }
+.ui-icon-arrowstop-1-s { background-position: -224px -32px; }
+.ui-icon-arrowstop-1-w { background-position: -240px -32px; }
+.ui-icon-arrowthick-1-n { background-position: 0 -48px; }
+.ui-icon-arrowthick-1-ne { background-position: -16px -48px; }
+.ui-icon-arrowthick-1-e { background-position: -32px -48px; }
+.ui-icon-arrowthick-1-se { background-position: -48px -48px; }
+.ui-icon-arrowthick-1-s { background-position: -64px -48px; }
+.ui-icon-arrowthick-1-sw { background-position: -80px -48px; }
+.ui-icon-arrowthick-1-w { background-position: -96px -48px; }
+.ui-icon-arrowthick-1-nw { background-position: -112px -48px; }
+.ui-icon-arrowthick-2-n-s { background-position: -128px -48px; }
+.ui-icon-arrowthick-2-ne-sw { background-position: -144px -48px; }
+.ui-icon-arrowthick-2-e-w { background-position: -160px -48px; }
+.ui-icon-arrowthick-2-se-nw { background-position: -176px -48px; }
+.ui-icon-arrowthickstop-1-n { background-position: -192px -48px; }
+.ui-icon-arrowthickstop-1-e { background-position: -208px -48px; }
+.ui-icon-arrowthickstop-1-s { background-position: -224px -48px; }
+.ui-icon-arrowthickstop-1-w { background-position: -240px -48px; }
+.ui-icon-arrowreturnthick-1-w { background-position: 0 -64px; }
+.ui-icon-arrowreturnthick-1-n { background-position: -16px -64px; }
+.ui-icon-arrowreturnthick-1-e { background-position: -32px -64px; }
+.ui-icon-arrowreturnthick-1-s { background-position: -48px -64px; }
+.ui-icon-arrowreturn-1-w { background-position: -64px -64px; }
+.ui-icon-arrowreturn-1-n { background-position: -80px -64px; }
+.ui-icon-arrowreturn-1-e { background-position: -96px -64px; }
+.ui-icon-arrowreturn-1-s { background-position: -112px -64px; }
+.ui-icon-arrowrefresh-1-w { background-position: -128px -64px; }
+.ui-icon-arrowrefresh-1-n { background-position: -144px -64px; }
+.ui-icon-arrowrefresh-1-e { background-position: -160px -64px; }
+.ui-icon-arrowrefresh-1-s { background-position: -176px -64px; }
+.ui-icon-arrow-4 { background-position: 0 -80px; }
+.ui-icon-arrow-4-diag { background-position: -16px -80px; }
+.ui-icon-extlink { background-position: -32px -80px; }
+.ui-icon-newwin { background-position: -48px -80px; }
+.ui-icon-refresh { background-position: -64px -80px; }
+.ui-icon-shuffle { background-position: -80px -80px; }
+.ui-icon-transfer-e-w { background-position: -96px -80px; }
+.ui-icon-transferthick-e-w { background-position: -112px -80px; }
+.ui-icon-folder-collapsed { background-position: 0 -96px; }
+.ui-icon-folder-open { background-position: -16px -96px; }
+.ui-icon-document { background-position: -32px -96px; }
+.ui-icon-document-b { background-position: -48px -96px; }
+.ui-icon-note { background-position: -64px -96px; }
+.ui-icon-mail-closed { background-position: -80px -96px; }
+.ui-icon-mail-open { background-position: -96px -96px; }
+.ui-icon-suitcase { background-position: -112px -96px; }
+.ui-icon-comment { background-position: -128px -96px; }
+.ui-icon-person { background-position: -144px -96px; }
+.ui-icon-print { background-position: -160px -96px; }
+.ui-icon-trash { background-position: -176px -96px; }
+.ui-icon-locked { background-position: -192px -96px; }
+.ui-icon-unlocked { background-position: -208px -96px; }
+.ui-icon-bookmark { background-position: -224px -96px; }
+.ui-icon-tag { background-position: -240px -96px; }
+.ui-icon-home { background-position: 0 -112px; }
+.ui-icon-flag { background-position: -16px -112px; }
+.ui-icon-calendar { background-position: -32px -112px; }
+.ui-icon-cart { background-position: -48px -112px; }
+.ui-icon-pencil { background-position: -64px -112px; }
+.ui-icon-clock { background-position: -80px -112px; }
+.ui-icon-disk { background-position: -96px -112px; }
+.ui-icon-calculator { background-position: -112px -112px; }
+.ui-icon-zoomin { background-position: -128px -112px; }
+.ui-icon-zoomout { background-position: -144px -112px; }
+.ui-icon-search { background-position: -160px -112px; }
+.ui-icon-wrench { background-position: -176px -112px; }
+.ui-icon-gear { background-position: -192px -112px; }
+.ui-icon-heart { background-position: -208px -112px; }
+.ui-icon-star { background-position: -224px -112px; }
+.ui-icon-link { background-position: -240px -112px; }
+.ui-icon-cancel { background-position: 0 -128px; }
+.ui-icon-plus { background-position: -16px -128px; }
+.ui-icon-plusthick { background-position: -32px -128px; }
+.ui-icon-minus { background-position: -48px -128px; }
+.ui-icon-minusthick { background-position: -64px -128px; }
+.ui-icon-close { background-position: -80px -128px; }
+.ui-icon-closethick { background-position: -96px -128px; }
+.ui-icon-key { background-position: -112px -128px; }
+.ui-icon-lightbulb { background-position: -128px -128px; }
+.ui-icon-scissors { background-position: -144px -128px; }
+.ui-icon-clipboard { background-position: -160px -128px; }
+.ui-icon-copy { background-position: -176px -128px; }
+.ui-icon-contact { background-position: -192px -128px; }
+.ui-icon-image { background-position: -208px -128px; }
+.ui-icon-video { background-position: -224px -128px; }
+.ui-icon-script { background-position: -240px -128px; }
+.ui-icon-alert { background-position: 0 -144px; }
+.ui-icon-info { background-position: -16px -144px; }
+.ui-icon-notice { background-position: -32px -144px; }
+.ui-icon-help { background-position: -48px -144px; }
+.ui-icon-check { background-position: -64px -144px; }
+.ui-icon-bullet { background-position: -80px -144px; }
+.ui-icon-radio-off { background-position: -96px -144px; }
+.ui-icon-radio-on { background-position: -112px -144px; }
+.ui-icon-pin-w { background-position: -128px -144px; }
+.ui-icon-pin-s { background-position: -144px -144px; }
+.ui-icon-play { background-position: 0 -160px; }
+.ui-icon-pause { background-position: -16px -160px; }
+.ui-icon-seek-next { background-position: -32px -160px; }
+.ui-icon-seek-prev { background-position: -48px -160px; }
+.ui-icon-seek-end { background-position: -64px -160px; }
+.ui-icon-seek-first { background-position: -80px -160px; }
+.ui-icon-stop { background-position: -96px -160px; }
+.ui-icon-eject { background-position: -112px -160px; }
+.ui-icon-volume-off { background-position: -128px -160px; }
+.ui-icon-volume-on { background-position: -144px -160px; }
+.ui-icon-power { background-position: 0 -176px; }
+.ui-icon-signal-diag { background-position: -16px -176px; }
+.ui-icon-signal { background-position: -32px -176px; }
+.ui-icon-battery-0 { background-position: -48px -176px; }
+.ui-icon-battery-1 { background-position: -64px -176px; }
+.ui-icon-battery-2 { background-position: -80px -176px; }
+.ui-icon-battery-3 { background-position: -96px -176px; }
+.ui-icon-circle-plus { background-position: 0 -192px; }
+.ui-icon-circle-minus { background-position: -16px -192px; }
+.ui-icon-circle-close { background-position: -32px -192px; }
+.ui-icon-circle-triangle-e { background-position: -48px -192px; }
+.ui-icon-circle-triangle-s { background-position: -64px -192px; }
+.ui-icon-circle-triangle-w { background-position: -80px -192px; }
+.ui-icon-circle-triangle-n { background-position: -96px -192px; }
+.ui-icon-circle-arrow-e { background-position: -112px -192px; }
+.ui-icon-circle-arrow-s { background-position: -128px -192px; }
+.ui-icon-circle-arrow-w { background-position: -144px -192px; }
+.ui-icon-circle-arrow-n { background-position: -160px -192px; }
+.ui-icon-circle-zoomin { background-position: -176px -192px; }
+.ui-icon-circle-zoomout { background-position: -192px -192px; }
+.ui-icon-circle-check { background-position: -208px -192px; }
+.ui-icon-circlesmall-plus { background-position: 0 -208px; }
+.ui-icon-circlesmall-minus { background-position: -16px -208px; }
+.ui-icon-circlesmall-close { background-position: -32px -208px; }
+.ui-icon-squaresmall-plus { background-position: -48px -208px; }
+.ui-icon-squaresmall-minus { background-position: -64px -208px; }
+.ui-icon-squaresmall-close { background-position: -80px -208px; }
+.ui-icon-grip-dotted-vertical { background-position: 0 -224px; }
+.ui-icon-grip-dotted-horizontal { background-position: -16px -224px; }
+.ui-icon-grip-solid-vertical { background-position: -32px -224px; }
+.ui-icon-grip-solid-horizontal { background-position: -48px -224px; }
+.ui-icon-gripsmall-diagonal-se { background-position: -64px -224px; }
+.ui-icon-grip-diagonal-se { background-position: -80px -224px; }
+
+
+/* Misc visuals
+----------------------------------*/
+
+/* Corner radius */
+.ui-corner-tl { -moz-border-radius-topleft: 4px/*{cornerRadius}*/; -webkit-border-top-left-radius: 4px/*{cornerRadius}*/; }
+.ui-corner-tr { -moz-border-radius-topright: 4px/*{cornerRadius}*/; -webkit-border-top-right-radius: 4px/*{cornerRadius}*/; }
+.ui-corner-bl { -moz-border-radius-bottomleft: 4px/*{cornerRadius}*/; -webkit-border-bottom-left-radius: 4px/*{cornerRadius}*/; }
+.ui-corner-br { -moz-border-radius-bottomright: 4px/*{cornerRadius}*/; -webkit-border-bottom-right-radius: 4px/*{cornerRadius}*/; }
+.ui-corner-top { -moz-border-radius-topleft: 4px/*{cornerRadius}*/; -webkit-border-top-left-radius: 4px/*{cornerRadius}*/; -moz-border-radius-topright: 4px/*{cornerRadius}*/; -webkit-border-top-right-radius: 4px/*{cornerRadius}*/; }
+.ui-corner-bottom { -moz-border-radius-bottomleft: 4px/*{cornerRadius}*/; -webkit-border-bottom-left-radius: 4px/*{cornerRadius}*/; -moz-border-radius-bottomright: 4px/*{cornerRadius}*/; -webkit-border-bottom-right-radius: 4px/*{cornerRadius}*/; }
+.ui-corner-right {  -moz-border-radius-topright: 4px/*{cornerRadius}*/; -webkit-border-top-right-radius: 4px/*{cornerRadius}*/; -moz-border-radius-bottomright: 4px/*{cornerRadius}*/; -webkit-border-bottom-right-radius: 4px/*{cornerRadius}*/; }
+.ui-corner-left { -moz-border-radius-topleft: 4px/*{cornerRadius}*/; -webkit-border-top-left-radius: 4px/*{cornerRadius}*/; -moz-border-radius-bottomleft: 4px/*{cornerRadius}*/; -webkit-border-bottom-left-radius: 4px/*{cornerRadius}*/; }
+.ui-corner-all { -moz-border-radius: 4px/*{cornerRadius}*/; -webkit-border-radius: 4px/*{cornerRadius}*/; }
+
+/* Overlays */
+.ui-widget-overlay { background: #aaaaaa/*{bgColorOverlay}*/ url(images/ui-bg_flat_0_aaaaaa_40x100.png)/*{bgImgUrlOverlay}*/ 50%/*{bgOverlayXPos}*/ 50%/*{bgOverlayYPos}*/ repeat-x/*{bgOverlayRepeat}*/; opacity: .3;filter:Alpha(Opacity=30)/*{opacityOverlay}*/; }
+.ui-widget-shadow { margin: -8px/*{offsetTopShadow}*/ 0 0 -8px/*{offsetLeftShadow}*/; padding: 8px/*{thicknessShadow}*/; background: #aaaaaa/*{bgColorShadow}*/ url(images/ui-bg_flat_0_aaaaaa_40x100.png)/*{bgImgUrlShadow}*/ 50%/*{bgShadowXPos}*/ 50%/*{bgShadowYPos}*/ repeat-x/*{bgShadowRepeat}*/; opacity: .3;filter:Alpha(Opacity=30)/*{opacityShadow}*/; -moz-border-radius: 8px/*{cornerRadiusShadow}*/; -webkit-border-radius: 8px/*{cornerRadiusShadow}*/; }
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/jqueryui-theme-example.tpl.php b/sites/all/modules/jqueryui_theme/jqueryui-theme-example.tpl.php
new file mode 100644
index 0000000..9888e4c
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/jqueryui-theme-example.tpl.php
@@ -0,0 +1,301 @@
+<!-- compGroupA -->
+
+<div class="clearfix" id="compGroupA">                   
+  <!-- Accordion -->
+  <h2 class="demoHeaders">Accordion</h2>
+  <div id="accordion">
+      <h3><a href="#">Section 1</a></h3>
+      <div>
+          <p>Mauris mauris ante, blandit et, ultrices a, suscipit eget, quam. Integer ut neque. Vivamus nisi metus, molestie vel, gravida in, condimentum sit amet, nunc. Nam a nibh. Donec suscipit eros. Nam mi. Proin viverra leo ut odio. Curabitur malesuada. Vestibulum a velit eu ante scelerisque vulputate.</p>
+      </div>
+      <h3><a href="#">Section 2</a></h3>
+      <div>
+          <p>Sed non urna. Donec et ante. Phasellus eu ligula. Vestibulum sit amet purus. Vivamus hendrerit, dolor at aliquet laoreet, mauris turpis porttitor velit, faucibus interdum tellus libero ac justo. Vivamus non quam. In suscipit faucibus urna. </p>
+      </div>
+      <h3 <a href="#">Section 3</a></h3>
+      <div>
+          <p>Nam enim risus, molestie et, porta ac, aliquam ac, risus. Quisque lobortis. Phasellus pellentesque purus in massa. Aenean in pede. Phasellus ac libero ac tellus pellentesque semper. Sed ac felis. Sed commodo, magna quis lacinia ornare, quam ante aliquam nisi, eu iaculis leo purus venenatis dui. </p>
+          <ul>
+              <li>List item one</li>
+              <li>List item two</li>
+              <li>List item three</li>
+          </ul>
+      </div>
+  </div>
+
+  <!-- Tabs -->
+  <h2 class="demoHeaders">Tabs</h2>
+  <div id="tabs">
+      <ul>
+          <li><a href="#tabs-1">First</a></li>
+          <li><a href="#tabs-2">Second</a></li>
+          <li><a href="#tabs-3">Third</a></li>
+      </ul>
+      <div id="tabs-1">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</div>
+      <div id="tabs-2">Phasellus mattis tincidunt nibh. Cras orci urna, blandit id, pretium vel, aliquet ornare, felis. Maecenas scelerisque sem non nisl. Fusce sed lorem in enim dictum bibendum.</div>
+      <div id="tabs-3">Nam dui erat, auctor a, dignissim quis, sollicitudin eu, felis. Pellentesque nisi urna, interdum eget, sagittis et, consequat vestibulum, lacus. Mauris porttitor ullamcorper augue.</div>
+  </div>
+
+  <!-- Dialog -->
+  <h2 class="demoHeaders">Dialog</h2>
+  <p>
+    <a class="ui-state-default ui-corner-all" id="dialog_link" href="#">
+      <span class="ui-icon ui-icon-newwin"></span>Open Dialog</a>
+  </p>
+  
+  <h2 class="demoHeaders">Overlay and Shadow Classes</h2>
+  <div class="fakewindowcontain" style="position: relative; width: 96%; height: 200px; padding: 1% 4%; overflow: hidden;">
+      <p>Lorem ipsum dolor sit amet,  Nulla nec tortor. Donec id elit quis purus consectetur consequat. </p>
+      <p>Nam congue semper tellus. Sed erat dolor, dapibus sit amet, venenatis ornare, ultrices ut, nisi. Aliquam ante. Suspendisse scelerisque dui nec velit. Duis augue augue, gravida euismod, vulputate ac, facilisis id, sem. Morbi in orci. </p>
+      <p>Nulla purus lacus, pulvinar vel, malesuada ac, mattis nec, quam. Nam molestie scelerisque quam. Nullam feugiat cursus lacus.orem ipsum dolor sit amet, consectetur adipiscing elit. Donec libero risus, commodo vitae, pharetra mollis, posuere eu, pede. Nulla nec tortor. Donec id elit quis purus consectetur consequat. </p>
+      <p>Nam congue semper tellus. Sed erat dolor, dapibus sit amet, venenatis ornare, ultrices ut, nisi. Aliquam ante. Suspendisse scelerisque dui nec velit. Duis augue augue, gravida euismod, vulputate ac, facilisis id, sem. Morbi in orci. Nulla purus lacus, pulvinar vel, malesuada ac, mattis nec, quam. Nam molestie scelerisque quam. </p>
+      <p>Nullam feugiat cursus lacus.orem ipsum dolor sit amet, consectetur adipiscing elit. Donec libero risus, commodo vitae, pharetra mollis, posuere eu, pede. Nulla nec tortor. Donec id elit quis purus consectetur consequat. Nam congue semper tellus. Sed erat dolor, dapibus sit amet, venenatis ornare, ultrices ut, nisi. Aliquam ante. </p>
+      <p>Suspendisse scelerisque dui nec velit. Duis augue augue, gravida euismod, vulputate ac, facilisis id, sem. Morbi in orci. Nulla purus lacus, pulvinar vel, malesuada ac, mattis nec, quam. Nam molestie scelerisque quam. Nullam feugiat cursus lacus.orem ipsum dolor sit amet, consectetur adipiscing elit. Donec libero risus, commodo vitae, pharetra mollis, posuere eu, pede. Nulla nec tortor. Donec id elit quis purus consectetur consequat.</p>
+      
+      <!-- ui-dialog -->
+      <div class="ui-overlay">
+        <div class="ui-widget-overlay"></div>
+        <div style="width: 302px; height: 152px; position: absolute; left: 50px; top: 30px;" class="ui-widget-shadow ui-corner-all"></div>
+      </div>
+      
+      <div class="ui-widget ui-widget-content ui-corner-all" style="position: absolute; width: 280px; height: 130px; left: 50px; top: 30px; padding: 10px;">
+        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
+      </div>
+  </div>
+  
+  <!-- ui-dialog -->
+  <div id="dialog" title="Dialog Title">
+    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
+  </div>
+  
+  
+  <h2 class="demoHeaders">Framework Icons (content color preview)</h2>
+  <ul class="ui-widget ui-helper-clearfix" id="icons">
+  
+  <li title=".ui-icon-carat-1-n" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-carat-1-n"></span></li>
+  <li title=".ui-icon-carat-1-ne" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-carat-1-ne"></span></li>
+  <li title=".ui-icon-carat-1-e" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-carat-1-e"></span></li>
+  
+  <li title=".ui-icon-carat-1-se" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-carat-1-se"></span></li>
+  <li title=".ui-icon-carat-1-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-carat-1-s"></span></li>
+  <li title=".ui-icon-carat-1-sw" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-carat-1-sw"></span></li>
+  <li title=".ui-icon-carat-1-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-carat-1-w"></span></li>
+  <li title=".ui-icon-carat-1-nw" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-carat-1-nw"></span></li>
+  <li title=".ui-icon-carat-2-n-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-carat-2-n-s"></span></li>
+  <li title=".ui-icon-carat-2-e-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-carat-2-e-w"></span></li>
+  <li title=".ui-icon-triangle-1-n" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-triangle-1-n"></span></li>
+  <li title=".ui-icon-triangle-1-ne" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-triangle-1-ne"></span></li>
+  
+  <li title=".ui-icon-triangle-1-e" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-triangle-1-e"></span></li>
+  <li title=".ui-icon-triangle-1-se" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-triangle-1-se"></span></li>
+  <li title=".ui-icon-triangle-1-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-triangle-1-s"></span></li>
+  <li title=".ui-icon-triangle-1-sw" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-triangle-1-sw"></span></li>
+  <li title=".ui-icon-triangle-1-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-triangle-1-w"></span></li>
+  <li title=".ui-icon-triangle-1-nw" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-triangle-1-nw"></span></li>
+  <li title=".ui-icon-triangle-2-n-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-triangle-2-n-s"></span></li>
+  <li title=".ui-icon-triangle-2-e-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-triangle-2-e-w"></span></li>
+  <li title=".ui-icon-arrow-1-n" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-1-n"></span></li>
+  
+  <li title=".ui-icon-arrow-1-ne" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-1-ne"></span></li>
+  <li title=".ui-icon-arrow-1-e" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-1-e"></span></li>
+  <li title=".ui-icon-arrow-1-se" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-1-se"></span></li>
+  <li title=".ui-icon-arrow-1-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-1-s"></span></li>
+  <li title=".ui-icon-arrow-1-sw" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-1-sw"></span></li>
+  <li title=".ui-icon-arrow-1-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-1-w"></span></li>
+  <li title=".ui-icon-arrow-1-nw" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-1-nw"></span></li>
+  <li title=".ui-icon-arrow-2-n-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-2-n-s"></span></li>
+  <li title=".ui-icon-arrow-2-ne-sw" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-2-ne-sw"></span></li>
+  
+  <li title=".ui-icon-arrow-2-e-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-2-e-w"></span></li>
+  <li title=".ui-icon-arrow-2-se-nw" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-2-se-nw"></span></li>
+  <li title=".ui-icon-arrowstop-1-n" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowstop-1-n"></span></li>
+  <li title=".ui-icon-arrowstop-1-e" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowstop-1-e"></span></li>
+  <li title=".ui-icon-arrowstop-1-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowstop-1-s"></span></li>
+  <li title=".ui-icon-arrowstop-1-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowstop-1-w"></span></li>
+  <li title=".ui-icon-arrowthick-1-n" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthick-1-n"></span></li>
+  <li title=".ui-icon-arrowthick-1-ne" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthick-1-ne"></span></li>
+  <li title=".ui-icon-arrowthick-1-e" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthick-1-e"></span></li>
+  
+  <li title=".ui-icon-arrowthick-1-se" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthick-1-se"></span></li>
+  <li title=".ui-icon-arrowthick-1-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthick-1-s"></span></li>
+  <li title=".ui-icon-arrowthick-1-sw" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthick-1-sw"></span></li>
+  <li title=".ui-icon-arrowthick-1-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthick-1-w"></span></li>
+  <li title=".ui-icon-arrowthick-1-nw" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthick-1-nw"></span></li>
+  <li title=".ui-icon-arrowthick-2-n-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthick-2-n-s"></span></li>
+  <li title=".ui-icon-arrowthick-2-ne-sw" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthick-2-ne-sw"></span></li>
+  <li title=".ui-icon-arrowthick-2-e-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthick-2-e-w"></span></li>
+  <li title=".ui-icon-arrowthick-2-se-nw" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthick-2-se-nw"></span></li>
+  
+  <li title=".ui-icon-arrowthickstop-1-n" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthickstop-1-n"></span></li>
+  <li title=".ui-icon-arrowthickstop-1-e" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthickstop-1-e"></span></li>
+  <li title=".ui-icon-arrowthickstop-1-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthickstop-1-s"></span></li>
+  <li title=".ui-icon-arrowthickstop-1-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowthickstop-1-w"></span></li>
+  <li title=".ui-icon-arrowreturnthick-1-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowreturnthick-1-w"></span></li>
+  <li title=".ui-icon-arrowreturnthick-1-n" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowreturnthick-1-n"></span></li>
+  <li title=".ui-icon-arrowreturnthick-1-e" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowreturnthick-1-e"></span></li>
+  <li title=".ui-icon-arrowreturnthick-1-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowreturnthick-1-s"></span></li>
+  <li title=".ui-icon-arrowreturn-1-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowreturn-1-w"></span></li>
+  
+  <li title=".ui-icon-arrowreturn-1-n" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowreturn-1-n"></span></li>
+  <li title=".ui-icon-arrowreturn-1-e" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowreturn-1-e"></span></li>
+  <li title=".ui-icon-arrowreturn-1-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowreturn-1-s"></span></li>
+  <li title=".ui-icon-arrowrefresh-1-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowrefresh-1-w"></span></li>
+  <li title=".ui-icon-arrowrefresh-1-n" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowrefresh-1-n"></span></li>
+  <li title=".ui-icon-arrowrefresh-1-e" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowrefresh-1-e"></span></li>
+  <li title=".ui-icon-arrowrefresh-1-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrowrefresh-1-s"></span></li>
+  <li title=".ui-icon-arrow-4" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-4"></span></li>
+  <li title=".ui-icon-arrow-4-diag" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-arrow-4-diag"></span></li>
+  
+  <li title=".ui-icon-extlink" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-extlink"></span></li>
+  <li title=".ui-icon-newwin" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-newwin"></span></li>
+  <li title=".ui-icon-refresh" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-refresh"></span></li>
+  <li title=".ui-icon-shuffle" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-shuffle"></span></li>
+  <li title=".ui-icon-transfer-e-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-transfer-e-w"></span></li>
+  <li title=".ui-icon-transferthick-e-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-transferthick-e-w"></span></li>
+  <li title=".ui-icon-folder-collapsed" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-folder-collapsed"></span></li>
+  <li title=".ui-icon-folder-open" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-folder-open"></span></li>
+  <li title=".ui-icon-document" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-document"></span></li>
+  
+  <li title=".ui-icon-document-b" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-document-b"></span></li>
+  <li title=".ui-icon-note" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-note"></span></li>
+  <li title=".ui-icon-mail-closed" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-mail-closed"></span></li>
+  <li title=".ui-icon-mail-open" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-mail-open"></span></li>
+  <li title=".ui-icon-suitcase" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-suitcase"></span></li>
+  <li title=".ui-icon-comment" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-comment"></span></li>
+  <li title=".ui-icon-person" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-person"></span></li>
+  <li title=".ui-icon-print" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-print"></span></li>
+  <li title=".ui-icon-trash" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-trash"></span></li>
+  
+  <li title=".ui-icon-locked" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-locked"></span></li>
+  <li title=".ui-icon-unlocked" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-unlocked"></span></li>
+  <li title=".ui-icon-bookmark" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-bookmark"></span></li>
+  <li title=".ui-icon-tag" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-tag"></span></li>
+  <li title=".ui-icon-home" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-home"></span></li>
+  <li title=".ui-icon-flag" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-flag"></span></li>
+  <li title=".ui-icon-calculator" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-calculator"></span></li>
+  <li title=".ui-icon-cart" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-cart"></span></li>
+  <li title=".ui-icon-pencil" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-pencil"></span></li>
+  
+  <li title=".ui-icon-clock" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-clock"></span></li>
+  <li title=".ui-icon-disk" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-disk"></span></li>
+  <li title=".ui-icon-calendar" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-calendar"></span></li>
+  <li title=".ui-icon-zoomin" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-zoomin"></span></li>
+  <li title=".ui-icon-zoomout" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-zoomout"></span></li>
+  <li title=".ui-icon-search" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-search"></span></li>
+  <li title=".ui-icon-wrench" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-wrench"></span></li>
+  <li title=".ui-icon-gear" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-gear"></span></li>
+  <li title=".ui-icon-heart" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-heart"></span></li>
+  
+  <li title=".ui-icon-star" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-star"></span></li>
+  <li title=".ui-icon-link" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-link"></span></li>
+  <li title=".ui-icon-cancel" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-cancel"></span></li>
+  <li title=".ui-icon-plus" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-plus"></span></li>
+  <li title=".ui-icon-plusthick" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-plusthick"></span></li>
+  <li title=".ui-icon-minus" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-minus"></span></li>
+  <li title=".ui-icon-minusthick" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-minusthick"></span></li>
+  <li title=".ui-icon-close" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-close"></span></li>
+  <li title=".ui-icon-closethick" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-closethick"></span></li>
+  
+  <li title=".ui-icon-key" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-key"></span></li>
+  <li title=".ui-icon-lightbulb" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-lightbulb"></span></li>
+  <li title=".ui-icon-scissors" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-scissors"></span></li>
+  <li title=".ui-icon-clipboard" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-clipboard"></span></li>
+  <li title=".ui-icon-copy" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-copy"></span></li>
+  <li title=".ui-icon-contact" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-contact"></span></li>
+  <li title=".ui-icon-image" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-image"></span></li>
+  <li title=".ui-icon-video" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-video"></span></li>
+  <li title=".ui-icon-script" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-script"></span></li>
+  <li title=".ui-icon-alert" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-alert"></span></li>
+  
+  <li title=".ui-icon-info" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-info"></span></li>
+  <li title=".ui-icon-notice" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-notice"></span></li>
+  <li title=".ui-icon-help" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-help"></span></li>
+  <li title=".ui-icon-check" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-check"></span></li>
+  <li title=".ui-icon-bullet" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-bullet"></span></li>
+  <li title=".ui-icon-radio-off" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-radio-off"></span></li>
+  <li title=".ui-icon-radio-on" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-radio-on"></span></li>
+  <li title=".ui-icon-pin-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-pin-w"></span></li>
+  <li title=".ui-icon-pin-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-pin-s"></span></li>
+  <li title=".ui-icon-play" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-play"></span></li>
+  <li title=".ui-icon-pause" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-pause"></span></li>
+  
+  <li title=".ui-icon-seek-next" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-seek-next"></span></li>
+  <li title=".ui-icon-seek-prev" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-seek-prev"></span></li>
+  <li title=".ui-icon-seek-end" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-seek-end"></span></li>
+  <li title=".ui-icon-seek-first" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-seek-first"></span></li>
+  <li title=".ui-icon-stop" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-stop"></span></li>
+  <li title=".ui-icon-eject" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-eject"></span></li>
+  <li title=".ui-icon-volume-off" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-volume-off"></span></li>
+  <li title=".ui-icon-volume-on" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-volume-on"></span></li>
+  <li title=".ui-icon-power" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-power"></span></li>
+  
+  <li title=".ui-icon-signal-diag" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-signal-diag"></span></li>
+  <li title=".ui-icon-signal" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-signal"></span></li>
+  <li title=".ui-icon-battery-0" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-battery-0"></span></li>
+  <li title=".ui-icon-battery-1" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-battery-1"></span></li>
+  <li title=".ui-icon-battery-2" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-battery-2"></span></li>
+  <li title=".ui-icon-battery-3" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-battery-3"></span></li>
+  <li title=".ui-icon-circle-plus" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-plus"></span></li>
+  <li title=".ui-icon-circle-minus" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-minus"></span></li>
+  <li title=".ui-icon-circle-close" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-close"></span></li>
+  
+  <li title=".ui-icon-circle-triangle-e" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-triangle-e"></span></li>
+  <li title=".ui-icon-circle-triangle-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-triangle-s"></span></li>
+  <li title=".ui-icon-circle-triangle-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-triangle-w"></span></li>
+  <li title=".ui-icon-circle-triangle-n" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-triangle-n"></span></li>
+  <li title=".ui-icon-circle-arrow-e" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-arrow-e"></span></li>
+  <li title=".ui-icon-circle-arrow-s" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-arrow-s"></span></li>
+  <li title=".ui-icon-circle-arrow-w" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-arrow-w"></span></li>
+  <li title=".ui-icon-circle-arrow-n" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-arrow-n"></span></li>
+  <li title=".ui-icon-circle-zoomin" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-zoomin"></span></li>
+  
+  <li title=".ui-icon-circle-zoomout" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-zoomout"></span></li>
+  <li title=".ui-icon-circle-check" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circle-check"></span></li>
+  <li title=".ui-icon-circlesmall-plus" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circlesmall-plus"></span></li>
+  <li title=".ui-icon-circlesmall-minus" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circlesmall-minus"></span></li>
+  <li title=".ui-icon-circlesmall-close" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-circlesmall-close"></span></li>
+  <li title=".ui-icon-squaresmall-plus" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-squaresmall-plus"></span></li>
+  <li title=".ui-icon-squaresmall-minus" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-squaresmall-minus"></span></li>
+  <li title=".ui-icon-squaresmall-close" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-squaresmall-close"></span></li>
+  <li title=".ui-icon-grip-dotted-vertical" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-grip-dotted-vertical"></span></li>
+  
+  <li title=".ui-icon-grip-dotted-horizontal" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-grip-dotted-horizontal"></span></li>
+  <li title=".ui-icon-grip-solid-vertical" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-grip-solid-vertical"></span></li>
+  <li title=".ui-icon-grip-solid-horizontal" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-grip-solid-horizontal"></span></li>
+  <li title=".ui-icon-gripsmall-diagonal-se" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-gripsmall-diagonal-se"></span></li>
+  <li title=".ui-icon-grip-diagonal-se" class="ui-state-default ui-corner-all"><span class="ui-icon ui-icon-grip-diagonal-se"></span></li>
+  </ul>
+
+</div>
+
+<!-- compGroupB-->
+
+<div class="clearfix" id="compGroupB">    
+  <!-- Slider -->
+  <h2 class="demoHeaders">Slider</h2>
+  <div id="slider"></div>
+
+  <!-- Datepicker -->
+  <h2 class="demoHeaders">Datepicker</h2>
+  <div id="datepicker"></div>
+  
+  <!-- Progressbar -->
+  <h2 class="demoHeaders">Progressbar</h2>    
+  <div id="progressbar"></div>
+  
+  <!-- Highlight / Error -->
+  <h2 class="demoHeaders">Highlight / Error</h2>
+  <div class="ui-widget">
+      <div style="margin-top: 20px; padding: 0pt 0.7em;" class="ui-state-highlight ui-corner-all"> 
+          <p><span style="float: left; margin-right: 0.3em;" class="ui-icon ui-icon-info"></span>
+          <strong>Hey!</strong> Sample ui-state-highlight style.</p>
+      </div>
+  </div>
+  <br>
+  <div class="ui-widget">
+      <div style="padding: 0pt 0.7em;" class="ui-state-error ui-corner-all"> 
+          <p><span style="float: left; margin-right: 0.3em;" class="ui-icon ui-icon-alert"></span> 
+          <strong>Alert:</strong> Sample ui-state-error style.</p>
+      </div>
+  </div>
+</div>
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/jqueryui_theme.admin.inc b/sites/all/modules/jqueryui_theme/jqueryui_theme.admin.inc
new file mode 100644
index 0000000..f96a7b6
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/jqueryui_theme.admin.inc
@@ -0,0 +1,431 @@
+<?php
+// $Id$
+
+/**
+ * Form constructor for admin jQuery UI themes settings form
+ * 
+ * @see jqueryui_theme_settings_form_submit()
+ * @ingroup $forms
+ */
+function jqueryui_theme_settings_form($form_state) {
+  $form['#tree'] = TRUE;
+  $form['#theme'] = 'jqueryui_theme_settings';
+  
+  drupal_add_js(drupal_get_path('module', 'jqueryui_theme') . '/jqueryui_theme_settings.js');
+  
+  $themes_infos = _jqueryui_theme_get_themes_infos();
+  if (is_array($themes_infos)) {
+    foreach ($themes_infos as $theme =>  $data) {
+      
+      $form['themes'][$theme]['checkbox'] = array(
+        '#type' => 'checkbox',
+        '#attributes' => array('class' => 'box-row box-row-' . $theme),
+      );
+      
+      $form['themes'][$theme]['name'] = array(
+        '#type' => 'textfield',
+        '#default_value' => $data->human_name,
+        '#size' => 20,
+        '#maxlength' => 64,
+        '#attributes' => array('class' => 'textfield-name textfield-jqueryui-' . $theme),
+      );
+      
+      $drupal_themes = _jqueryui_theme_drupal_themes_availables(TRUE);
+      foreach ($drupal_themes as $theme_name => $theme_available) {
+        $form['themes'][$theme]['assoc'][$theme_name] = array(
+          '#type' => 'checkbox',
+          '#title' => $theme_available['status'] ? $theme_name : $theme_name . t('(disable)'),
+          '#default_value' => in_array($theme_name, $data->drupal_theme_attach),
+          '#attributes' => array('class' => 'box-drupal-theme box-cell-' . $theme_name . ' box-jqueryui-' . $theme),
+        );
+      }
+      
+      $form['themes'][$theme]['path'] = array(
+        '#type' => 'markup',
+        '#value' => $data->path,
+      );
+      
+      $form['themes'][$theme]['version'] = array(
+        '#type' => 'markup',
+        '#value' => $data->version,
+      );
+      
+      $form['themes'][$theme]['params'] = array(
+        '#type' => 'markup',
+        '#value' => valid_url($data->params, TRUE) ? l(t('parameters'), $data->params) : $data->params,
+      );
+      
+      $form['themes'][$theme]['infos'] = array(
+        '#type' => 'value',
+        '#value' => $data,
+      );
+    }
+    
+    $form['action'] = array(
+      '#type' => 'select',
+      '#title' => t('Choose an action'),
+      '#options' => array(
+        'update' => t('Update'),
+        'delete' => t('Delete'),
+      ),
+    );
+    
+    $form['submit'] = array(
+      '#type' => 'submit',
+      '#value' => t('Save configuration'),
+      '#attributes' => array('class' => 'submit-jqueryui-settings'),
+    );
+  }
+  return $form;
+}
+
+/**
+ * Form submission handler for jqueryui_theme_settings_form().
+ */
+function jqueryui_theme_settings_form_submit($form, &$form_state) {
+  $handle_themes = array();
+  foreach ($form_state['values']['themes'] as $key => $data) {
+    if ($data['checkbox']) {
+      $handle_themes[$key] = $form_state['values']['themes'][$key];
+    }
+  }
+  
+  if (!empty($handle_themes)) {
+    $action = $form_state['values']['action'];
+    if ($action == 'update') {
+      
+      $menu_rebuild = FALSE;
+      foreach ($handle_themes as $theme) {
+        
+        if ($theme['name'] != $theme['infos']->human_name) {
+          _jqueryui_theme_rename($theme['infos']->machine_name, filter_xss($theme['name']));
+        }
+        
+        foreach ($theme['assoc'] as $theme_name => $check) { 
+          if (!$check && in_array($theme_name, $theme['infos']->drupal_theme_attach)) {
+              _jqueryui_theme_dissoc($theme['infos']->machine_name, $theme_name);
+              $menu_rebuild = TRUE;
+          }
+        }
+      }
+        
+      //second loop if drupal theme have been available during process
+      foreach ($handle_themes as $theme) {
+        foreach ($theme['assoc'] as $theme_name => $check) {
+          if ($check) {
+            if (array_key_exists($theme_name, _jqueryui_theme_drupal_themes_availables())) {
+              _jqueryui_theme_assoc($theme['infos']->machine_name, $theme_name);
+              $menu_rebuild = TRUE;
+            }
+            else {
+              $themes_used = _jqueryui_theme_drupal_themes_used($theme_name);
+              if ($themes_used[$theme_name]['jqueryui_theme'] != $theme['infos']->machine_name) {
+                drupal_set_message(t('Unable to attach jQuery UI "@theme" with @drupal_theme (already use by "@theme_used").', array(
+                  '@theme' => $theme['infos']->human_name,
+                  '@drupal_theme' => $theme_name,
+                  '@theme_used' => $themes_used[$theme_name]['jqueryui_theme'],
+                )), 'error');
+              }
+            }
+          }
+        }
+      }
+      drupal_set_message(t('The configuration have been saved'));
+    } 
+    elseif ($action == 'delete') {
+      foreach ($handle_themes as $theme) {
+        _jqueryui_theme_delete($theme['infos']->machine_name, $theme['infos']->path);
+      }
+      $menu_rebuild = TRUE;
+      drupal_set_message(format_plural(sizeof($handle_themes), '1 jQuery UI theme has been deleted', '@count jQuery UI themes have been deleted'));
+      
+    }
+    
+    if ($menu_rebuild) {
+      menu_rebuild();
+    }
+  }
+  else {
+    drupal_set_message(t('No jQuery UI theme selected'), 'error');
+  }
+}
+
+/**
+ * Form constructor for admin jQuery UI themes import form
+ * 
+ * @see jqueryui_theme_import_form_validate()
+ * @see jqueryui_theme_import_form_submit()
+ * @ingroup $forms
+ */
+function jqueryui_theme_import_form($form_state) {
+  if (!isset($form_state['storage']['step_two'])) {
+    
+    $form['#attributes'] = array('enctype' => 'multipart/form-data');
+    
+    $form['help_text'] = array(
+      '#type' => 'markup',
+      '#prefix' => '<p>',
+      '#value' => t('You can find jQuery UI themes on <a href="@link">jqueryui.com</a>. ' .
+        'The following file extensions are supported: @extensions. ' .
+        'Maximun size upload : @max_size', array(
+          '@link' => 'http://jqueryui.com/themeroller/',
+          '@max_size' => round( _jqueryui_theme_get_file_upload_max_size()/(1024*1024), 2) . 'M',
+          '@extensions' => _jqueryui_theme_get_archiver_extensions(),
+      )),
+      '#suffix' => '</p>',
+    );
+    
+    $options = _jqueryui_theme_default_jqueryui_themes_exist(); 
+    if ($options) {
+      
+      $form['default_themes'] = array(
+        '#type' => 'radios',
+        '#title' => t('Import default jQuery UI themes'),
+        '#options' => $options,
+        '#default_value' => reset(array_keys($options)),
+      );
+      
+      $form['information_one'] = array(
+        '#type' => 'markup',
+        '#prefix' => '<strong>',
+        '#value' => t('Or'),
+        '#suffix' => '</strong>',
+      );
+    }
+    
+    $form['themes_url'] = array(
+      '#type' => 'textfield',
+      '#title' => t('Upload jQuery UI themes from an internal or external URL'),
+      '#description' => t('For example: @url', array('@url' => 'http://jquery-ui.googlecode.com/files/jquery-ui-themes-1.7.zip')),
+    );
+    
+    if (module_exists('upload')) {
+      $form['information_two'] = array(
+        '#type' => 'markup',
+        '#prefix' => '<strong>',
+        '#value' => t('Or'),
+        '#suffix' => '</strong>',
+      );
+
+      $form['upload_themes'] = array(
+        '#type' => 'file',
+        '#title' => t('Upload an archive containing multiples jQuery UI Themes'),
+        '#description' => t('For example: @filename from your local computer', array('@filename' => 'name.zip')),
+      );
+    }
+    
+    $form['submit'] = array(
+      '#type' => 'submit',
+      '#value' => t('Import'),
+    );
+  
+  } 
+  else {
+    drupal_add_js(drupal_get_path('module', 'jqueryui_theme') . '/jqueryui_theme_settings.js');
+    $form['#tree'] = TRUE;
+    $form['#theme'] = 'jqueryui_theme_import_confirm';
+    
+    //if page is refresh, last process still be execute
+    $themes = $form_state['storage']['themes_infos'];
+    foreach ($themes as $theme) {
+      
+      $form['themes'][$theme['name']]['checkbox'] = array(
+        '#type' => 'checkbox',
+        '#default_value' => 1,
+        '#attributes' => array('class' => 'box-row'),
+      );
+      
+      $form['themes'][$theme['name']]['human_name'] = array(
+        '#type' => 'textfield',
+        '#title' => t('Human name'),
+        '#default_value' => $theme['name'],
+        '#maxlength' => 64,
+      );
+      
+      $form['themes'][$theme['name']]['machine_name'] = array(
+        '#type' => 'textfield',
+        '#title' => t('Machine name'),
+        '#description' => t('Must be unique. Characters allowed : lowercase letters, numbers, and underscores.'),
+        '#maxlength' => 64,
+        '#default_value' => preg_replace(array('/[^a-z0-9_]+/'), '_', $theme['name']),
+        '#element_validate' => array('_jqueryui_theme_machine_name_validate'),
+      );
+      
+      $form['themes'][$theme['name']]['display_version'] = array(
+        '#type' => 'markup',
+        '#value' => $theme['version'], 
+      );
+      
+      $form['themes'][$theme['name']]['version'] = array(
+        '#type' => 'value',
+        '#value' => $theme['version'], 
+      );
+      
+      $form['themes'][$theme['name']]['files'] = array(
+        '#type' => 'value',
+        '#value' => $theme['files'],
+      );
+      
+      $form['themes'][$theme['name']]['directory'] = array(
+        '#type' => 'value',
+        '#value' => $theme['directory'],
+      );
+    }
+    unset($form_state['storage']['themes_infos']);
+    
+    $form['submit'] = array(
+      '#type' => 'submit',
+      '#value' => t('Save configuration'),
+      '#weight' => 10,
+    );
+  }
+  return $form;
+}
+
+/**
+ * Form validation handler for jqueryui_theme_import_form().
+ *
+ * @see jqueryui_theme_import_form_submit()
+ */
+function jqueryui_theme_import_form_validate($form, &$form_state) {
+  if (!isset($form_state['storage']['step_two'])) {
+    if (empty($_FILES['files']['name']['upload_themes'])
+      && empty($form_state['values']['themes_url']) 
+      && (!isset($form_state['values']['default_themes']) || $form_state['values']['default_themes'] == 'none')) {
+      form_set_error('', t('No jQuery UI themes submitted'));
+    }
+    if ($form_state['values']['themes_url']) {
+      if (!valid_url($form_state['values']['themes_url'], TRUE)) {
+        form_set_error('themes_url', t('The provided URL is invalid.'));
+      }
+      $form_state['values']['themes_url'] = check_url($form_state['values']['themes_url']);
+    }
+  }
+  else {
+    $name = array();
+    $values =& $form_state['values']['themes'];
+    foreach ($values as $theme_name => $theme) {
+      if ($theme['checkbox']) {
+        if (empty($theme['machine_name']) || empty($theme['human_name'])) {
+          form_set_error('themes][' . $theme_name, t('You must enter a human name or/and a machine name'));
+        }
+        $name[] = $theme['machine_name'];
+      }
+      $values[$theme_name]['human_name'] = filter_xss($theme['human_name']);
+    }
+    if (sizeof($name) != sizeof(array_unique($name))) {
+      form_set_error('', t('Machine name must be unique'));
+    }
+  }
+}
+
+/**
+ * Form validation handler for jqueryui_theme_import_form().
+ *
+ * @see jqueryui_theme_import_form_validate()
+ */
+function jqueryui_theme_import_form_submit($form, &$form_state) {
+  
+  if (!isset($form_state['storage']['step_two'])) {   
+    $destination = file_directory_temp() . '/jqueryui_theme/' . uniqid();
+    $form_state['storage']['destination_source'] = $destination;
+    
+    if (FALSE === (file_check_directory($destination, FILE_CREATE_DIRECTORY | FILE_MODIFY_PERMISSIONS))) {
+      drupal_set_message(t('Unable to create directory in : !destination.', array('!destination' => $destination)), 'error');
+      return;
+    }
+    
+    if (!empty($_FILES['files']['name']['upload_themes'])) {
+      $field = 'upload_themes';
+      $validators = array('file_validate_extensions' => array(_jqueryui_theme_get_archiver_extensions()), 'file_validate_size' => array((int)file_upload_max_size()));
+      if (!($finfo = file_save_upload($field, $validators, $destination, FILE_EXISTS_REPLACE))) {
+        return;
+      }
+      $form_state['storage']['finfo'] = $finfo;
+      $local_cache = $finfo->filepath;
+    }
+    else {
+      if ($form_state['values']['themes_url']) {
+        $field = 'themes_url';
+        $url = check_url($form_state['values']['themes_url']);
+      }
+      else {
+        $field = 'default_themes';
+        $url =  $form_state['values']['default_themes'];  
+      }
+      $local_cache = _jqueryui_theme_get_file_url($url, $destination);
+      if (!$local_cache) {
+        form_set_error($field, t('Unable to retrieve jQuery UI themes from @url.', array('@url' => $url)));
+        return;
+      }
+    }
+    
+    try {
+      $archiver = _jqueryui_theme_get_archiver($local_cache);
+      if (!$archiver) {
+        form_set_error($field, t('Cannot extract file uploaded, no archiver have been detected.'));
+        return;
+      }
+    }
+    catch (Exception $e) {
+      form_set_error($field, $e->getMessage());
+      return;
+    }
+    
+    if ($themes = _jqueryui_theme_detect_themes($archiver->listContents(), $destination)) {
+      $archiver->extract($destination);
+      foreach ($themes as $key => $theme) {
+        $themes[$key]['version'] = _jqueryui_theme_get_version($theme['directory'], $theme['files'], $theme['version']);
+      }
+      
+      $form_state['rebuild'] = TRUE;
+      $form_state['storage']['themes_infos'] = $themes;
+      $form_state['storage']['step_two'] = TRUE;
+      drupal_set_message(format_plural(sizeof($themes), '1 jQuery UI theme has been detected.', '@count jQuery UI themes have been detected.'));
+    }
+    else {
+      drupal_set_message(t('No "all.css" files detected.'), 'error');
+    }
+  }
+  else {
+    //second step form, move jQuery UI themes selected
+    $themes = $form_state['values']['themes'];
+    $imported = 0;
+    
+    foreach ($themes as $theme) {
+      if ($theme['checkbox']) {
+        $params = _jqueryui_theme_get_params($theme['directory'], $theme['files']);
+        if (_jqueryui_theme_move_tmp($theme)) {
+          _jqueryui_theme_insert_theme($theme['machine_name'], $theme['human_name'], $theme['version'], $params);
+          $imported++;
+        }
+      }
+    }
+    
+    if (isset($form_state['storage']['finfo'])) {
+      file_delete($form_state['storage']['finfo']->filename, TRUE);
+    }
+    
+    _jqueryui_theme_delete_recursive($form_state['storage']['destination_source']);
+    unset($form_state['storage']);
+    $form_state['redirect'] = '/admin/build/themes/jqueryui-theme/settings';
+    drupal_set_message(format_plural($imported, '1 jQuery UI theme has been imported', '@count jQuery UI themes have been imported'));
+  }
+}
+
+/**
+ * Returns HTML for jquery UI themes example on Drupal themes selected
+ * 
+ * @param $theme_name
+ *   A string containing a Drupal theme name for displaying
+ *   a preview with a jQuery UI theme associated.
+ * 
+ * @see jquery_ui_add()
+ */
+function jqueryui_theme_example($theme_name) {
+  jquery_ui_add(array('ui.accordion', 'ui.datepicker', 'ui.dialog', 'ui.progressbar', 'ui.slider', 'ui.tabs'));
+  
+  drupal_add_js(drupal_get_path('module', 'jqueryui_theme') . '/jqueryui_theme_example.js');
+  drupal_add_css(drupal_get_path('module', 'jqueryui_theme') . '/jqueryui_theme_example.css');
+  return theme('jqueryui_theme_example');
+}
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/jqueryui_theme.drush.inc b/sites/all/modules/jqueryui_theme/jqueryui_theme.drush.inc
new file mode 100644
index 0000000..6b72b7b
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/jqueryui_theme.drush.inc
@@ -0,0 +1,465 @@
+<?php
+// $Id$
+
+/**
+ * @file
+ *   jQuery UI theme module drush integration.
+ */
+
+/**
+ * Implementation of hook_command().
+ */
+function jqueryui_theme_drush_command() {
+  
+  $items['jqueryui-install'] = array(
+    'description' => dt('Downloads default jQuery UI themes. If no version specified, download last version by default.'),
+    'options' => array(
+      '--version' => dt('Define between 1.7 or 1.8 version of jQuery UI theme to download.'),
+    ),
+    'examples' => array(
+      'jqueryui-download --version 1.7' => 'download all default jQuery themes version 1.7',
+    ),
+    'aliases' => array('jinstall'),
+  );
+  
+  $items['jqueryui-url'] = array(
+    'description' => dt('Downloads jQuery UI themes by given an internal/external url or a local path'),
+    'arguments' => array(
+      'url' => dt('An internal or external url to the download archiver containing jQuery themes. You can also give a local path.'),
+    ),
+    'aliases' => array('jurl'),
+  );
+  
+  $items['jqueryui-show'] = array(
+    'description' => dt('Display jQuery UI themes stored in default public.'),
+    'aliases' => array('jshow'),
+  );
+  
+  $items['jqueryui-rename'] = array(
+    'description' => dt('Change human name of jQuery UI themes'),
+    'arguments' => array(
+      'machine_name' => dt('machine-name of a jQuery UI theme'),
+      'new_name' => dt('new human name to assign'),
+    ),
+    'examples' => array(
+      'jqueryui-renamme <machine_name> <new_human_name> - <machine_name> <new_human_name> - etc' => dt('change human name'),
+    ),
+    'aliases' => array('jname'),
+  );
+  
+  $items['jqueryui-delete'] = array(
+    'description' => dt('Delete some jQuery UI theme passed as arguments'),
+    'arguments' => array(
+      'machine_name' => dt('machine name of jQuery UI themes'),
+    ),
+    'aliases' => array('jdel'),
+  );
+  
+  $items['jqueryui-theme-available'] = array(
+    'description' => dt("Show Drupal theme available, so active and don't use by jQuery UI theme"),
+    'aliases' => array('jtav'),
+  );
+  
+  $items['jqueryui-assoc'] = array(
+    'description' => dt('Attach a jQuery UI theme to a Drupal theme'),
+    'arguments' => array(
+      'machine_name' => dt('machine-name of a jQuery UI theme, following by drupal theme and separate by - '),
+      'drupal_theme' => dt('list of drupal theme name to attch'),
+    ),
+    'examples' => array(
+      'jqueryui-assoc <machine_name> <drupal_theme> <drupal_theme> - <machine_name> <drupal_theme> - etc' => dt('attach jQuery UI theme to drupal theme'),
+    ),
+    'aliases' => array('jassoc'),
+  );
+  
+  $items['jqueryui-dissoc'] = array(
+    'description' => dt('Detach a jQuery UI theme to a Drupal theme'),
+    'arguments' => array(
+      'machine_name' => dt('machine-name of a jQuery UI theme, following by drupal theme and separate by - '),
+      'drupal_theme' => dt('list of drupal theme name to detach'),
+    ),
+    'examples' => array(
+      'jqueryui-dissoc <machine_name> <drupal_theme> <drupal_theme> - <machine_name> <drupal_theme> - etc' => dt('attach jQuery UI theme to drupal theme'),
+    ),
+    'aliases' => array('jdis'),
+  );
+  
+  return $items;
+}
+
+
+/**
+ * A command callback.
+ * Imports jQuery UI default themes.
+ */
+function drush_jqueryui_theme_jqueryui_install() {
+  $args = func_get_args();
+  $version = '1.8';
+  if (isset($args[0]) && $args[0] == '1.7') {
+    $version = $args[0];
+  }
+  $url = $version == '1.7' ? 'http://jquery-ui.googlecode.com/files/jquery-ui-themes-1.7.zip' : 'http://jquery-ui.googlecode.com/files/jquery-ui-themes-1.8.zip';
+  if (@preg_match('/200/', reset(@get_headers($url))) > 0) {
+    _jqueryui_theme_import($url);
+  }
+  else {
+    drush_log(dt('Unable to retrieve jQuery UI default themes from "jquery-ui.googlecode.com"'), 'error');
+  }
+}
+
+/**
+ * A command callback.
+ * Imports jQuery UI theme by an url given.
+ */
+function drush_jqueryui_theme_jqueryui_url($url) {
+  _jqueryui_theme_import(check_url($url));
+}
+
+/**
+ * A command callback validate.
+ * 
+ * @see drush_jqueryui_theme_jqueryui_url().
+ */
+function drush_jqueryui_theme_jqueryui_url_validate() {
+  if (!($url = @func_get_arg(0))) {
+    drush_set_error('JQUERYUI_THEME_INVALID_ARGUMENTS', dt('No external url given.'));
+  }
+  elseif (!valid_url($url)) {
+    drush_set_error('JQUERYUI_THEME_INVALID_URL', dt('Incorrect url.'));
+  }
+}
+
+/**
+ * Function callback to command invoke.
+ * Imports jQuery UI themes.
+ * 
+ * @see drush_jqueryui_theme_jqueryui_install()
+ * @see drush_jqueryui_theme_jqueryui_url()
+ */
+function _jqueryui_theme_import($url) {
+  $temp_dir = file_directory_temp() . '/jqueryui_theme/' . uniqid();
+  
+  if (FALSE === (file_check_directory($temp_dir, FILE_CREATE_DIRECTORY | FILE_MODIFY_PERMISSIONS))) {
+    drush_log(dt('Unable to create directory in : !directory.', array('!directory' => $temp_dir)), 'error');
+    return;
+  }
+  
+  $local_cache = _jqueryui_theme_get_file_url($url, $temp_dir);
+  if (!$local_cache) {
+    drush_set_error('JQUERYUI_THEME_INVALID_URL', dt('Unable to retrieve jQuery UI themes from @url.', array('@url' => $url)));
+    return;
+  }
+  
+  try {
+    $archiver = _jqueryui_theme_get_archiver($local_cache);
+    if (!$archiver) {
+      drush_set_error('JQUERYUI_THEME_ERROR_ARCHIVE', dt('No archiver found.'));
+      return;
+    }
+    $files = $archiver->listContents();
+  }
+  catch (Exception $e) {
+    drush_set_error('JQUERYUI_THEME_ERROR_ARCHIVE', dt('!error', array('!error' => $e)));
+    return;
+  }
+         
+  if (!($themes = _jqueryui_theme_detect_themes($archiver->listContents(), $temp_dir))) {
+    drush_set_error('JQUERYUI_THEME_ERROR_ARCHIVE', dt('No "all.css" files detected'));
+    return;
+  }
+  else {
+    $archiver->extract($temp_dir);
+    
+    //Ensure to get unique names because the user cannot
+    //change himself here in the UI. It will incremente '_change'
+    //until the machine name is unique.
+    
+    //@todo let's user provide human and machine in case
+    //of conflict (machine name isn't unique)
+    $name = array();
+    foreach ($themes as $key => $theme) {
+      $themes[$key]['name'] = preg_replace(array('/[^a-z0-9_]+/'), '_', $theme['name']);
+      $name[$themes[$key]['name']] = $themes[$key]['name'];
+      
+      while (_jqueryui_theme_check_machine_name($themes[$key]['name']) || !in_array($themes[$key]['name'], $name)) {
+        
+        if ($name[$themes[$key]['name']]) {
+          unset($name[$themes[$key]['name']]);
+        }
+        $themes[$key]['name'] = $themes[$key]['name'] . '_change';
+        if (!in_array($themes[$key]['name'], $name)) {
+          $name[$themes[$key]['name']] = $themes[$key]['name'];
+        }
+      }
+      $themes[$key]['machine_name']   = $themes[$key]['name'];
+      $themes[$key]['human_name']     = $themes[$key]['name'];
+      //get version by the way
+      $themes[$key]['version'] = _jqueryui_theme_get_version($themes[$key]['directory'], $themes[$key]['files'], $themes[$key]['version']);
+    }
+    
+    $headers = array(dt('MACHINE-NAME'), dt('TEMP PATH'), dt('VERSION'));
+    $rows = array();
+    $rows[] = $headers;
+    foreach ($themes as $theme) {
+      $row = array();
+      $row[] = $theme['name'];
+      $row[] = $theme['directory'];
+      $row[] = $theme['version'];
+      $rows[] = $row;
+    }
+    
+    drush_log(dt('!num jQuery UI theme detected', array('!num' => sizeof($themes))), 'ok');
+    drush_print_table($rows, TRUE);
+    
+    if ($import = drush_prompt(dt('Select theme to import ? (all | none | <machine_name> <machine_name> etc)'))) {
+      $theme_select = $messages = array();
+      if ($import == 'all') {
+        $theme_select = $name;
+      }
+      elseif ($import != 'none') {
+        $theme_select = array_unique(explode(' ', $import));
+          foreach ($theme_select as $key => $theme) {
+            $theme_select[$theme] = $theme;
+            unset($theme_select[$key]);
+          }
+        }
+ 
+      foreach ($themes as $theme) {
+        if (in_array($theme['name'], $theme_select)) {
+          $params = _jqueryui_theme_get_params($theme['directory'], $theme['files']);
+          if (_jqueryui_theme_move_tmp($theme)) {
+            _jqueryui_theme_insert_theme($theme['machine_name'], $theme['human_name'], $theme['version'], $params);
+            $messages[$theme['name']]['data'] = dt('@name have been imported', array('@name' => $theme['name']));
+            $messages[$theme['name']]['type'] = 'ok';
+          }
+          else {
+            $messages[$theme['name']]['data'] = dt('@name cannot be imported to default public location because machine_name is already use', array('@name' => $theme['name']));
+            $messages[$theme['name']]['type'] = 'warning';
+          }
+          unset($theme_select[$theme['name']]);
+        }
+      }
+    }
+    _jqueryui_theme_delete_recursive($temp_dir);
+    if (empty($messages)) {
+      drush_log(dt('No jQuery UI theme imported'), 'ok');
+    }
+    else {
+      foreach ($messages as $mess) {
+        drush_log($mess['data'], $mess['type']);
+      }
+    }
+  }
+}
+
+/**
+ * A command callback.
+ * Displays jQuery UI themes states.
+ */
+function drush_jqueryui_theme_jqueryui_show() {
+  $themes = _jqueryui_theme_get_themes_infos();
+  
+  $headers = array(dt('MACHINE-NAME'), dt('HUMAN-NAME'), dt('ASSOCIATED'), dt('PATH'), dt('VERSION'));
+  $rows = array();
+  $rows[] = $headers;
+  $rows[] = array('', '', '', '', '');
+  if (empty($themes)) {
+    $rows[] = array(dt('There is no jQuery UI theme imported'));
+  }
+  else {
+    foreach ($themes as $theme => $data) {
+      $row = array();
+      $row[] = $data->machine_name;
+      $row[] = $data->human_name;
+      $row[] = implode(' -- ', $data->drupal_theme_attach) ? implode(' -- ', $data->drupal_theme_attach) : dt('none');
+      $row[] = $data->path;
+      $row[] = $data->version;
+      $rows[] = $row;
+    }
+  }
+  drush_print_table($rows, TRUE);
+}
+
+/**
+ * A command callback.
+ * Changes jQuery UI themes human name
+ */
+function drush_jqueryui_theme_jqueryui_rename() {
+  $args = @func_get_args();
+  if (!empty($args) && sizeof($args) > 1) {
+    $data = _jqueryui_theme_parse_multiple_theme($args);
+    $messages = array();
+    foreach ($data as $machine_name => $new_name) {
+      if (_jqueryui_theme_rename($machine_name, $new_name[1])) {
+        $messages[$machine_name]['data'] = dt('!theme have been rename in !new_name', array('!theme' => $machine_name, '!new_name' => $new_name[1]));
+        $messages[$machine_name]['type'] = 'ok';
+      }
+      else {
+        $messages[$machine_name]['data'] = dt('!theme cannot be rename in !new_name', array('!theme' => $machine_name, '!new_name' => $new_name[1]));
+        $messages[$machine_name]['type'] = 'warning';
+      }
+    }
+    foreach ($messages as $mess) {
+      drush_log($mess['data'], $mess['type']);  
+    }
+  }
+  else {
+    drush_set_error('JQUERYUI_THEME_INVALID_ARGUMENTS', dt('Arguments supplied are not correct, see detail with -h'));
+  }
+}
+
+/**
+ * A command callback.
+ * Deletes jQuery UI themes.
+ */
+function drush_jqueryui_theme_jqueryui_delete() {
+  if ($themes = @func_get_args()) {
+    if (!drush_confirm(dt('Are you sure?'))) {
+      return drush_user_abort();
+    }
+    
+    $messages = array();
+    $rebuild = FALSE;
+    
+    if ($themes[0] == 'all') {
+      $themes = _jqueryui_theme_get_themes_infos();
+    }
+    
+    foreach ($themes as $theme) {
+      $theme = isset($theme->machine_name) ? $theme->machine_name : $theme;
+      $public = file_directory_path() . '/jqueryui_theme/' . $theme;
+      
+      if (_jqueryui_theme_delete($theme, $public)) {
+        $messages[$theme]['data'] = dt('!theme was deleted', array('!theme' => $theme));
+        $messages[$theme]['type'] = 'ok';
+        $rebuild = TRUE;
+      }
+      else {
+        $messages[$theme]['data'] = dt('!theme cannot be delete', array('!theme' => $theme));
+        $messages[$theme]['type'] = 'warning';
+      }
+    }
+    if ($rebuild) {
+      menu_rebuild();
+    }
+    foreach ($messages as $mess) {
+      drush_log($mess['data'], $mess['type']);  
+    }
+  }
+  else {
+    drush_set_error('JQUERYUI_THEME_INVALID_ARGUMENTS', dt('No machine name supplied'));
+  }
+}
+
+/**
+ * A command callback.
+ * Dissociates jQuery UI themes to Drupal theme.
+ */
+function drush_jqueryui_theme_jqueryui_dissoc() {
+  $args = @func_get_args();
+  if (!empty($args) && sizeof($args) > 1) {
+    $data = _jqueryui_theme_parse_multiple_theme($args);
+    $messages = array();
+    $rebuild = FALSE;
+    foreach ($data as $machine_name => $drupal_themes) {
+      foreach ($drupal_themes as $drupal_theme) {
+        if (_jqueryui_theme_dissoc($machine_name, $drupal_theme)) {
+          $messages[$machine_name . $drupal_theme]['data'] = dt('!theme jQuery UI was detach to !machine_name', array('!theme' => $drupal_theme, '!machine_name' => $machine_name));
+          $messages[$machine_name . $drupal_theme]['type'] = 'ok';
+          $rebuild = TRUE;
+        }
+        else {
+          $messages[$machine_name . $drupal_theme]['data'] = dt('!theme jQuery UI cannot be detach to !machine_name', array('!theme' => $drupal_theme, '!machine_name' => $machine_name));
+          $messages[$machine_name . $drupal_theme]['type'] = 'warning';
+        }
+      }
+    }
+    if ($rebuild) {
+      menu_rebuild();
+    }
+    foreach ($messages as $mess) {
+      drush_log($mess['data'], $mess['type']);
+    }
+  }
+  else {
+    drush_set_error('JQUERYUI_THEME_INVALID_ARGUMENTS', dt('Arguments supplied are not correct, see detail with -h'));
+  }
+}
+
+/**
+ * A command callback.
+ * Displays Drupal theme available.
+ */
+function drush_jqueryui_theme_available() {
+  $themes = array();
+  $themes[] = array(dt('NAME'), dt('STATUS'), dt('ATTACH'));
+  $drupal_theme = _jqueryui_theme_drupal_themes_availables(TRUE);
+  foreach ($drupal_theme as $theme) {
+    $row = array();
+    $row[] = $theme['name'];
+    $row[] = $theme['status'] == 1 ? dt('Enable') : dt('Disable');
+    $row[] = $theme['attach'] == 1 ? dt('Yes') : dt('No');
+    $themes[] = $row;
+  }
+  drush_print_table($themes, TRUE);
+}
+
+/**
+ * A command callback.
+ * Associates jQuery UI themes with Drupal theme.
+ */
+function drush_jqueryui_theme_jqueryui_assoc() {
+  $args = @func_get_args();
+  if (!empty($args) && sizeof($args) > 1) {
+    $data = _jqueryui_theme_parse_multiple_theme($args);
+    $messages = array();
+    $rebuild = FALSE;
+    
+    foreach ($data as $machine_name => $drupal_themes) {
+      foreach ($drupal_themes as $drupal_theme) {
+        if (array_key_exists($drupal_theme, _jqueryui_theme_drupal_themes_availables())) {
+          if (_jqueryui_theme_assoc($machine_name, $drupal_theme)) {
+            $messages[$machine_name . $drupal_theme]['data'] = dt('!theme was attach to jQuery UI "!machine_name"', array('!theme' => $drupal_theme, '!machine_name' => $machine_name));
+            $messages[$machine_name . $drupal_theme]['type'] = 'ok';
+            $rebuild = TRUE;
+          }
+        }
+        if (!$messages[$machine_name . $drupal_theme]) {
+          $messages[$machine_name . $drupal_theme]['data'] = dt('!theme cannot be attach to jQuery UI "!machine_name"', array('!theme' => $drupal_theme, '!machine_name' => $machine_name));
+          $messages[$machine_name . $drupal_theme]['type'] = 'warning';
+        }
+      }
+    }
+    if ($rebuild) {
+      menu_rebuild();
+    }
+    foreach ($messages as $mess) {
+      drush_log($mess['data'], $mess['type']);
+    }
+  }
+  else {
+    drush_set_error('JQUERYUI_THEME_INVALID_ARGUMENTS', dt('Arguments supplied are not correct, see detail with -h'));
+  }
+}
+
+/**
+ * Function callback to invoke.
+ *  
+ * @param $args
+ *   An array containing jQuery UI theme metadata.
+ * @return
+ *   Returns an associative array with
+ *   machine name key and their values.
+ */
+function _jqueryui_theme_parse_multiple_theme($args) {
+  $data = array();
+  $args = explode('/-/', implode('/', $args));
+  
+  foreach ($args as $element) {
+    $tmp = explode('/', $element);
+    $key = $tmp[0];
+    unset($tmp[0]);
+    $data[$key] = $tmp;
+  }
+  return $data;
+}
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/jqueryui_theme.info b/sites/all/modules/jqueryui_theme/jqueryui_theme.info
new file mode 100644
index 0000000..ac7d57f
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/jqueryui_theme.info
@@ -0,0 +1,15 @@
+; $Id$
+name = jQuery UI Theme
+description = Add jQuery UI to drupal themes
+package = User interface
+version = 6.x-1.0-alpha1
+core = 6.x
+
+dependencies[] = jquery_ui
+dependencies[] = jquery_update
+; Information added by drupal.org packaging script on 2011-07-03
+version = "6.x-1.0-alpha2"
+core = "6.x"
+project = "jqueryui_theme"
+datestamp = "1309702616"
+
diff --git a/sites/all/modules/jqueryui_theme/jqueryui_theme.install b/sites/all/modules/jqueryui_theme/jqueryui_theme.install
new file mode 100644
index 0000000..9de407b
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/jqueryui_theme.install
@@ -0,0 +1,214 @@
+<?php
+// $Id$
+
+/**
+ * @file
+ * Install, update and uninstall functions for the jQuery UI theme module.
+ */
+
+/**
+ * Implements hook_schema().
+ */
+function jqueryui_theme_schema() {
+    
+  $schema['jqueryui_theme'] = array(
+    'description' => 'Store fid, human-name files and machine-name files',
+    
+    'fields' => array(
+      'machine_name' => array(
+        'type' => 'varchar',
+        'length' => 64,
+        'not null' => TRUE,
+        'default' => '',
+        'description' => 'Primary Key: Unique file ID.',
+      ),
+      'human_name' => array(
+        'type' => 'varchar',
+        'length' => 64,
+        'not null' => TRUE,
+        'default' => '',
+        'description' => 'Human name file',
+      ),
+      'version' => array(
+        'type' => 'varchar',
+        'length' => 12,
+        'not null' => TRUE,
+        'default' => '',
+        'description' => 'jQuery UI theme version',
+      ),
+      'params' => array(
+        'type' => 'varchar',
+        'length' => 2048,
+        'not null' => TRUE,
+        'default' => '',
+        'description' => 'jQuery UI theme parameters',
+      ),
+    ),
+    
+    'primary key' => array('machine_name'),
+    'indexes' => array(
+        'jqueryui_theme_name' => array('human_name'),
+    ),
+    'foreign keys' => array(
+      'jqueryui_theme_user_constraint' => array(
+        'table' => 'users',
+        'columns' => array('uid' => 'uid'),
+      ),
+    ),
+  );
+  
+  $schema['jqueryui_theme_assoc'] = array(
+    'description' => 'Store jqueryui theme used by drupal theme',
+    
+    'fields' => array(
+      'drupal_theme' => array(
+        'type' => 'varchar',
+        'length' => 64,
+        'not null' => TRUE,
+        'default' => '',
+      ),
+      'machine_name' => array(
+        'type' => 'varchar',
+        'length' => 64,
+        'not null' => TRUE,
+        'default' => '',
+      ),
+    ),
+    'primary key' => array('drupal_theme'),
+    'foreign keys' => array(
+      'machine_name_constraint' => array(
+        'table' => 'jqueryui_theme',
+        'columns' => array('machine_name' => 'machine_name'),
+      ),
+    ),
+  );
+  return $schema;
+}
+
+/**
+ * Implements hook_install().
+ */
+function jqueryui_theme_install() {
+  drupal_install_schema('jqueryui_theme');
+  
+  $temp = file_directory_temp() . '/jqueryui_theme/';
+  $public = file_directory_path() . '/jqueryui_theme/';
+  foreach (array($temp, $public) as $dir) {
+    if (FALSE === ($create = file_check_directory($dir, FILE_CREATE_DIRECTORY | FILE_MODIFY_PERMISSIONS))) {
+      drupal_set_message(st('Unable to create %directory', array('%directory' => $dir)), 'error');
+      break;
+    } 
+  }
+  
+  if ($create) {
+    global $theme;
+    $drupal_themes = array();
+    foreach (list_themes() as $ele) {
+      if (!isset($ele->info['hidden']) && $ele->status && $ele->name != $theme) {
+        $drupal_themes[] = $ele->name;
+      }
+    }
+    $drupal_themes[] = $theme;
+    
+    require_once 'jqueryui_theme.module';
+    $drupal_root = getcwd();
+    
+    $path = drupal_get_path('module', 'jqueryui_theme') . '/default_themes/';
+    if ($files = file_scan_directory($path, '^[-A-Za-z0-9_.]*\.(css|png|txt)$')) {
+      if ($themes = _jqueryui_theme_detect_themes(array_keys($files), $path)) {
+        $key = 0;
+        foreach ($themes as $jqueryui) {
+          //Be aware, no check unique name
+          $files_directory = $public . $jqueryui['name'];
+          $images_directory = $files_directory . '/images';
+
+          $succeed = TRUE;
+          foreach (array($files_directory, $images_directory) as $dir) {
+            if (FALSE === (file_check_directory($dir, FILE_CREATE_DIRECTORY | FILE_MODIFY_PERMISSIONS))) {
+              $succeed = FALSE;
+              break;
+            }
+          }
+          
+          if (!$succeed) {
+            drupal_set_message(st('Unable to create a public directory for default theme "@theme"', array('@theme' => $jqueryui)), 'error');
+          }
+          else {
+            $version  = _jqueryui_theme_get_version($drupal_root, $jqueryui['files']);
+            $params   = _jqueryui_theme_get_params($drupal_root, $jqueryui['files']);
+      
+            foreach ($jqueryui['files'] as $filepath) {
+              if (substr(basename($filepath), -3, 3) == 'css') {
+                file_copy($filepath, $files_directory, FILE_EXISTS_REPLACE); 
+              }
+              else {
+                file_copy($filepath, $images_directory, FILE_EXISTS_REPLACE); 
+              }
+            }
+          
+            db_query("INSERT INTO {jqueryui_theme} (machine_name, human_name) VALUES ('%s', '%s')", $jqueryui['name'], $jqueryui['name']);       
+            if (isset($drupal_themes[$key])) {
+              db_query("INSERT INTO {jqueryui_theme_assoc} (drupal_theme, machine_name) VALUES ('%s', '%s')", $drupal_themes[$key], $jqueryui['name']);
+              $key++;
+            }
+          }
+        }
+      }
+    }
+  }
+  variable_set('jqueryui_theme_switch_method', 'session');
+  
+  $default_ext = array();
+  if ($var = variable_get('upload_extensions_default', NULL)) {
+    $default_ext = trim(explode(' ', $var));
+  }
+
+  //$extensions = array('zip', 'tar', 'tgz', 'tar.gz', 'tar.bz2');
+  $extensions = array('zip');
+  foreach ($extensions as $key => $ext) {
+    if (!in_array($ext, $default_ext)) {
+      $default_ext[] = $ext;
+    }
+    else {
+      unset($extensions[$key]);
+    }
+  }
+  if ($extensions) {
+    variable_set('upload_extensions_default', implode(' ', $default_ext));
+    variable_set('jqueryui_theme_default_ext_upload_files_add', $extensions);
+    drupal_set_message(st('Extensions : @ext have been added to default extensions uploaded files. See upload files <a href="@upload">settings</a>. You could also configure it per <a href="@role">role.</a>', array('@ext' => implode(' ', $extensions), '@upload' => '/admin/settings/uploads', '@role' => '/admin/user/permissions#module-upload')), 'warning');
+  }
+}
+
+/**
+ * Implements hook_uninstall().
+ */
+function jqueryui_theme_uninstall() {
+  $temp = file_directory_temp() . '/jqueryui_theme';
+  $public = file_directory_path() . '/jqueryui_theme';
+  foreach (array($temp, $public) as $path) {
+    _jqueryui_theme_delete_recursive($path);
+  }
+  
+  if ($extensions = variable_get('jqueryui_theme_default_ext_upload_files_add', FALSE)) {
+    $default_ext = explode(' ', trim(variable_get('upload_extensions_default', array())));
+    foreach ($extensions as $key => $ext) {
+      if (in_array($ext, $default_ext)) {
+        unset($default_ext[reset(array_keys($default_ext, $ext))]);
+      }
+      else {
+        unset($extensions[$key]);
+      }
+    }
+    if ($extensions) {
+      variable_set('upload_extensions_default', implode(' ', $default_ext));
+      drupal_set_message(st('Extensions : @ext have been removed from default extensions uploaded files. Make sure their weren\'t required by another modules after installing this module. See upload files <a href="@upload">settings</a>.', array('@ext' => implode(' ', $extensions), '@upload' => '/admin/settings/uploads')), 'warning');
+    }
+  }
+  variable_del('jqueryui_theme_default_ext_upload_files_add');
+  variable_del('jqueryui_theme_switch_method');
+  
+  drupal_uninstall_schema('jqueryui_theme');
+  
+  db_query('DELETE FROM {blocks} WHERE module = "jqueryui_theme"');
+}
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/jqueryui_theme.module b/sites/all/modules/jqueryui_theme/jqueryui_theme.module
new file mode 100644
index 0000000..16833d3
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/jqueryui_theme.module
@@ -0,0 +1,1272 @@
+<?php
+// $Id$
+
+/**
+ * Implements hook_help()
+ */
+function jqueryui_theme_help($path, $arg) {
+  switch ($path) {
+    case 'admin/help#jqueryui_theme' :
+      return '<p>' . t('This module provide a user interface to import jQuery UI themes and associated them to Drupal themes. ' .
+                       'CSS files and PNG from the jQuery UI theme are extracted and store in default public directory. If a drupal ' .
+                       'theme have been associated with a jQuery UI theme, when the page is loaded, CSS files are loaded in addition. ' .
+                       'In that way, you just have to add your javascript files manipulating DOM element and add library needed. ' .
+                       'See <a href="http://jqueryui.com/themeroller/">jqueryui.com</a>') . '</p>';
+             '<p>' . t('This module also provide a block to let\'s the end-user choose which jQuery UI theme he want to use. ' .
+                       'Please note that allow anonymous users to switch between different jQuery UI theme will decrease performance due to sessions/cookies usage. ' .
+                       '(Unable to serve up cached pages from a reverse proxy server, like Varnish). ') . '</p>';
+    case 'admin/build/themes/jqueryui-theme' :
+      return '<p>' . t('This page provide a user interface to interact with jQuery UI Theme imported. ' .
+                       'Note that there is no preview for drupal theme that have not been actived. ' .
+                       'A drupal theme can be attach with only one jQuery UI Theme.') . '</p>' .
+             '<p>' . t('This module require both jQuery UI and jQuery Update in order to use ' .
+                        'jQuery UI library depending on current jQuery UI theme version.') . '</p>';
+  }
+}
+
+/**
+ * Implements hook_menu()
+ */
+function jqueryui_theme_menu() {
+  $items['admin/build/themes/jqueryui-theme'] = array(
+    'title' => 'jQuery UI theme settings',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('jqueryui_theme_settings_form'),
+    'access arguments' => array('select different theme'),
+    'type' => MENU_LOCAL_TASK,
+    'file' => 'jqueryui_theme.admin.inc',
+  );
+  
+  $items['admin/build/themes/jqueryui-theme/global'] = array(
+    'title' => 'Global settings',
+    'type' => MENU_DEFAULT_LOCAL_TASK,
+    'weight' => -1,
+  );
+  
+  $items['admin/build/themes/jqueryui-theme/import'] = array(
+    'title' => 'Import jQuery UI theme',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('jqueryui_theme_import_form'),
+    'access arguments' => array('select different theme'),
+    'type' => MENU_LOCAL_TASK,
+    'file' => 'jqueryui_theme.admin.inc',
+    'weight' => 0,
+  );
+  
+  $theme_used = _jqueryui_theme_drupal_themes_used();
+  if (!empty($theme_used)) {
+    foreach ($theme_used as $theme) {
+      if ($theme['status']) {
+        $items['admin/build/themes/jqueryui-theme/example/' . $theme['name']] = array(
+          'title' => "@theme's preview",
+          'title arguments' => array('@theme' => $theme['name']),
+          'page callback' => 'jqueryui_theme_example',
+          'page arguments' => array(4, 5),
+          'access arguments' => array('select different theme'),
+          'type' => MENU_LOCAL_TASK,
+          'file' => 'jqueryui_theme.admin.inc',
+          'weight' => 1,
+        );
+      }
+    }
+  }
+  return $items;
+}
+
+/**
+ * Implements hook_block()
+ */
+function jqueryui_theme_block($op = 'list', $delta = 0, $edit = array()) {
+  $blocks = array();
+  switch ($op) {
+    case 'list' :
+      $blocks['jqueryui_theme_switch'] = array(
+        'info' => t('Switch jQuery UI themes'),
+        'cache' => DRUPAL_NO_CACHE,
+        'visibility' => BLOCK_VISIBILITY_NOTLISTED,
+        'pages' => 'admin/build/themes/jqueryui-theme/example/*',
+      );
+      return $blocks;
+      
+    case 'view' :
+      if ($delta == 'jqueryui_theme_switch') {
+        $blocks['subject'] = t('Switch jQuery UI themes');
+        $blocks['content'] = drupal_get_form('jqueryui_theme_switch_form');
+      }
+      return $blocks;
+      
+    case 'configure' :
+      $form = array();
+      if ($delta == 'jqueryui_theme_switch') {
+        $form['jqueryui_theme_switch_method'] = array(
+          '#type' => 'radios',
+          '#title' => t('Method to keep track on user\'s preference'),
+          '#description' => t('Note that lifetime session is shorter than cookie. ' .
+                              'If this block is display to anonymous user, it \'ll unable to serve up cached pages from a reverse proxy server.'),
+          '#default_value' => variable_get('jqueryui_theme_switch_method', 'session'),
+          '#options' => array('session' => t('Use session'), 'cookie' => t('Use cookie')),
+          '#element_validate' => array('jqueryui_theme_block_switch_validate'),
+        );
+      }
+      return $form;
+
+    case 'save' :
+      if ($delta == 'jqueryui_theme_switch') {
+        variable_set('jqueryui_theme_switch_method', $edit['jqueryui_theme_switch_method']);
+      }
+      break;
+  }
+}
+
+/**
+ * Form validation handler for jqueryui_block_configure().
+ *
+ * @see jqueryui_theme_block()
+ */
+function jqueryui_theme_block_switch_validate($element) {
+  if ($element['#value'] != 'session' && $element['#value'] != 'cookie') {
+    form_error($element, t('Invalid method for switching jQuery UI themes.'));
+  }
+}
+
+/**
+ * Implements hook_init()
+ */
+function jqueryui_theme_init() {
+  $path = drupal_get_normal_path(trim($_GET['q'], '/'));
+  if (FALSE !== (strpos($path, 'admin/build/themes/jqueryui-theme/example/'))) {
+    $themename = array_pop(explode('/', $path));
+    if (array_key_exists($themename, list_themes())) {
+      global $custom_theme;
+      $custom_theme = $themename;
+    }
+  }
+}
+
+/**
+ * Implements hook_preprocess()
+ */
+function jqueryui_theme_preprocess(&$variables) {
+  global $theme;
+  static $loaded = FALSE;
+
+  if (!$loaded) {
+    if (_jqueryui_theme_block_is_loaded($theme, 'jqueryui_theme', 'jqueryui_theme_switch')) {
+      if ($user_theme = _jqueryui_theme_get_user_theme()) {
+        $files = _jqueryui_theme_get_css_files($user_theme);
+      }
+    }
+
+    if (!isset($files) || empty($files)) {
+      $files = _jqueryui_theme_get_theme_files($theme);
+    }
+
+    if ($files) {
+      foreach ($files as $file) {
+        $css = drupal_add_css($file->filename, 'theme');
+      }
+    }
+    $loaded = TRUE;
+  }
+}
+
+/**
+ * Defines if a block is loaded
+ * on the current page for the
+ * current user.
+ *
+ * @param $theme
+ *   Drupal theme name
+ * @param $module
+ *   Module which declare a block
+ * @param $delta
+ *   Block delta
+ *
+ * @return
+ *   TRUE if block is loaded
+ *   FALSE otherwise
+ *
+ * @see block_list()
+ */
+function _jqueryui_theme_block_is_loaded($theme, $module, $delta) {
+  global $user;
+  $page_match = FALSE;
+  $regions = system_region_list($theme);
+
+  $rids = array_keys($user->roles);
+  $query = "SELECT region, pages, visibility " .
+           "FROM {blocks} b " .
+           "LEFT JOIN {blocks_roles} r ON b.module = r.module AND b.delta = r.delta " .
+           "WHERE b.theme = '%s' AND b.module = '%s' AND b.delta = '%s' AND b.status = 1 AND (r.rid IN (". db_placeholders($rids) .") OR r.rid IS NULL)";
+  $block = db_fetch_object(db_query(db_rewrite_sql($query, 'b', 'bid'), array_merge(array($theme, $module, $delta), $rids)));
+
+  if ($block && array_key_exists($block->region, $regions)) {
+    if ($block->pages) {
+      if ($block->visibility < 2) {
+        $path = drupal_get_path_alias($_GET['q']);
+        $page_match = drupal_match_path($path, $block->pages);
+        if ($path != $_GET['q']) {
+          $page_match = $page_match || drupal_match_path($_GET['q'], $block->pages);
+        }
+        $page_match = !($block->visibility xor $page_match);
+      }
+      else {
+        $page_match = drupal_eval($block->pages);
+      }
+    }
+  }
+  return $page_match;
+}
+
+/**
+ * Implements hook_theme()
+ */
+function jqueryui_theme_theme($existing, $type, $theme, $path) {
+  return array(
+    'jqueryui_theme_settings' => array(
+      'render element' => 'element',
+    ),
+    'jqueryui_theme_import_confirm' => array(
+      'render element' => 'element',
+    ),
+    'jqueryui_theme_example' => array(
+      'template' => 'jqueryui-theme-example',
+    ),
+  );
+}
+
+/**
+ * Returns HTML for a list of Jquery UI themes
+ * associated with drupal themes.
+ * 
+ * @param $variables
+ *   An associative array containing:
+ *   - form : An array of form element theme.
+ * 
+ * @return 
+ *   A table containing informations about
+ *   jQuery UI theme.
+ * 
+ * @ingroup themeable
+ */
+function theme_jqueryui_theme_settings($variables) {
+  $form = &$variables['themes'];
+  
+  $box_all['box_all'] = array(
+    '#type' => 'checkbox',
+    '#attributes' => array('class' => 'box-all'),
+  );
+  $header = array(
+    'select'        => drupal_render($box_all),
+    'name'          => t('Name'), 
+    'association'   => t('Associated with'),
+    'path'          => t('Directory'),
+    'version'       => t('Version'),
+    'params'        => t('Parameters'),
+  );
+  
+  $rows = array();
+  if ($form) {
+    foreach (element_children($form) as $key) {
+      $row = array();
+      $row[] = drupal_render($form[$key]['checkbox']);
+      $row[] = drupal_render($form[$key]['name']);
+      $row[] = drupal_render($form[$key]['assoc']);
+      $row[] = drupal_render($form[$key]['path']);
+      $row[] = drupal_render($form[$key]['version']);
+      $row[] = drupal_render($form[$key]['params']);
+      $rows[] = $row;
+    }
+  }
+  
+  if (empty($rows)) {
+    $rows[] = array(
+      'data' => array(
+        array(
+          'data' => t('No jQuery UI themes available.'), 
+          'colspan' => count($header),
+          'style' => 'text-align:center;',
+        ),
+      )
+    );
+  }
+  
+  $output = '';
+  foreach (element_children($variables) as $key) {
+    if ($key != 'themes' && !empty($variables[$key])) {
+      $output .= drupal_render($variables[$key]);
+    }
+  }
+  return theme('table', $header, $rows) . $output;
+}
+
+/**
+ * Returns HTML for a list of Jquery UI themes
+ * detected in archive uploaded.
+ * 
+ * @param $variables
+ *   An associative array containing:
+ *   - form : An array of form element theme.
+ * 
+ * @return 
+ *   A table containing informations about
+ *   jQuery UI theme.
+ * 
+ * @ingroup themeable
+ */
+function theme_jqueryui_theme_import_confirm($variables) {
+  $form = &$variables['themes'];
+  
+  $box_all['box_all'] = array(
+    '#type' => 'checkbox',
+    '#attributes' => array('class' => 'box-all'),
+  );
+  $caption = t('Select jQuery UI themes you want to import');
+  $header = array(
+    'select'  => drupal_render($box_all),
+    'name'    => t('Name'),
+    'version' => t('Version'),
+  );
+  
+  $rows = array();
+  foreach (element_children($form) as $key) {
+    $row = array();
+    $row[] = drupal_render($form[$key]['checkbox']);
+    $row[] = drupal_render($form[$key]['human_name']) . drupal_render($form[$key]['machine_name']);
+    $row[] = drupal_render($form[$key]['display_version']);
+    $rows[] = $row;
+  }
+  
+  if (empty($rows)) {
+    $rows[] = array(
+      'data' => array(
+        array(
+          'data' => t('No jQuery UI themes found.'), 
+          'colspan' => count($header),
+          'style' => 'text-align:center;',
+        ),
+      )
+    );
+  }
+  
+  $output = '';
+  foreach (element_children($variables) as $key) {
+    if ($key != 'themes' && !empty($variables[$key])) {
+      $output .= drupal_render($variables[$key]);
+    }
+  }
+  return theme('table', $header, $rows, $caption) . $output;
+}
+
+/**
+ * Retrieves jQuery UI css files per Drupal Theme.
+ * 
+ * @param $drupal_theme
+ *   A string containing a Drupal theme name.
+ * 
+ * @return 
+ *   An associative array of jQuery UI theme objects files.
+ *   NULL otherwise.
+ */
+function _jqueryui_theme_get_theme_files($drupal_theme) {
+  $machine_name = db_result(db_query("SELECT machine_name FROM {jqueryui_theme_assoc} WHERE drupal_theme = '%s'", $drupal_theme));
+  if (!empty($machine_name)) {
+    if ($files = _jqueryui_theme_get_css_files($machine_name)) {
+      return $files;
+    }
+  }
+  return ;
+}
+
+/**
+ * Returns CSS from a Jquery UI themes imported.
+ * 
+ * @param $machine_name
+ *   A string containing a jQuery UI theme machine name.
+ * 
+ * @see file_scan_directory.
+ */
+function _jqueryui_theme_get_css_files($machine_name) {
+  $public = file_directory_path() . '/jqueryui_theme/' . $machine_name;
+  return file_scan_directory($public, '^[-A-Za-z0-9_.]*\.css$');
+}
+
+/**
+ * Returns Drupal themes use by jQuery UI themes.
+ * 
+ * @param $drupal_theme
+ *   A string containing a Drupal theme name.
+ *   If omitted, all Drupal themes will be fetch.
+ * @return 
+ *   An associative array (keyed by Drupal theme containing
+ *   name, status about Drupal theme and jQuery UI
+ *   machine name associated.
+ */
+function _jqueryui_theme_drupal_themes_used($drupal_theme = NULL) {
+  $themes = array();
+  $drupal_themes = list_themes();
+  
+  $query = "SELECT drupal_theme, machine_name FROM {jqueryui_theme_assoc}";
+  if ($drupal_theme) {
+    $query .= " WHERE drupal_theme = '%s'";
+  }
+  $result = db_query(db_distinct_field('jqueryui_theme_assoc', 'drupal_theme', $query), $drupal_theme);
+  
+  $admin_theme = variable_get('admin_theme', FALSE);
+  while ($theme = db_fetch_object($result)) {
+    if (array_key_exists($theme->drupal_theme, $drupal_themes)) {
+      $themes[$theme->drupal_theme]['name'] = $theme->drupal_theme;
+      $themes[$theme->drupal_theme]['status'] = $theme->drupal_theme == $admin_theme ? 1 : $drupal_themes[$theme->drupal_theme]->status;
+      $themes[$theme->drupal_theme]['jqueryui_theme'] = $theme->machine_name;
+      unset($drupal_themes[$theme->drupal_theme]);
+    }
+  }
+  return $themes;
+}
+
+/**
+ * Returns an array containing informations on jQuery UI themes.
+ * 
+ * @return
+ *  An association array keyed by jQuery UI machine name
+ *  containing Drupal theme name.
+ */
+function _jqueryui_theme_get_themes_infos() {
+  static $themes = array();
+
+  if (!$themes) {
+    $options = array();
+    
+    $result = db_query("SELECT machine_name, human_name, version, params FROM {jqueryui_theme}");
+    while ($theme = db_fetch_object($result)) {
+      $theme->path = file_directory_path() . '/jqueryui_theme/' . $theme->machine_name;
+      
+      $drupal_themes = array();
+      $assoc = db_query("SELECT drupal_theme FROM {jqueryui_theme_assoc} WHERE machine_name = '%s'", $theme->machine_name);
+      while ($drupal_theme = db_fetch_array($assoc)) {
+        $drupal_themes[] = $drupal_theme['drupal_theme'];
+      }
+      $theme->drupal_theme_attach = $drupal_themes;
+      
+      $themes[$theme->machine_name] = $theme;
+    }
+  }
+  return $themes;
+}
+
+/**
+ * Returns a list of Drupal themes availables.
+ * 
+ * @param $all
+ *   Boolean to render only Drupal theme which
+ *   are not used or all Drupal themes with an attribute
+ *   to indicating if they are used or not
+ * 
+ * @return
+ *   An associative array of drupal theme
+ *   available keyed by name.
+ * 
+ */
+function _jqueryui_theme_drupal_themes_availables($all = FALSE) {
+  $themes = array();
+  $admin_theme = variable_get('admin_theme', FALSE);
+  foreach (list_themes() as $theme) {
+    if (!isset($theme->info['hidden'])) {
+      $themes[$theme->name]['name']   = $theme->name;
+      //Admin theme have always a disable status
+      $themes[$theme->name]['status'] = $theme->name == $admin_theme ? 1 : $theme->status;
+    } 
+  }
+  
+  $themes_used = _jqueryui_theme_drupal_themes_used();
+  if (!$all) {
+    return array_diff_assoc($themes, $themes_used);
+  }
+  else {
+    foreach ($themes as $key => $theme) {
+      if (array_key_exists($theme['name'], $themes_used)) {
+        $themes[$key]['attach'] = TRUE;
+      }
+      else {
+        $themes[$key]['attach'] = FALSE;
+      }
+    }
+    return $themes;
+  }
+}
+
+/**
+ * Renames human name jQuery UI theme.
+ * 
+ * @param $machine_name
+ *   A string for jQuery UI machine name.
+ * @param $new_name
+ *   A string for the new human name.
+ */
+function _jqueryui_theme_rename($machine_name, $new_name) {
+  return (bool)db_query("UPDATE {jqueryui_theme} SET human_name = '%s' WHERE machine_name = '%s'", $new_name, $machine_name);
+}
+
+/**
+ * Deletes a jQuery UI theme.
+ * 
+ * @param $machine_name
+ *   A string for jQuery UI machine name.
+ * @param $path
+ *   Path to the public jQuery UI theme.
+ * 
+ * @return
+ *   TRUE if success, FALSE otherwise.
+ */
+function _jqueryui_theme_delete($machine_name, $path) {
+  db_query("DELETE FROM {jqueryui_theme_assoc} WHERE machine_name = '%s'", $machine_name);
+  $res1 = (bool)db_query("DELETE FROM {jqueryui_theme} WHERE machine_name = '%s'", $machine_name);
+  
+  $res2 = _jqueryui_theme_delete_recursive($path);
+  return $res1 && $res2;
+}
+
+/**
+ * Detachs a jQuery UI theme to a Drupal theme.
+ * 
+ * @param $machine_name
+ *   A string for jQuery UI machine name.
+ * @param $drupal_theme
+ *   A string containing the Drupal theme name.
+ */
+function _jqueryui_theme_dissoc($machine_name, $drupal_theme) {
+  return (bool)db_query("DELETE FROM {jqueryui_theme_assoc} WHERE machine_name = '%s' AND drupal_theme = '%s'", $machine_name, $drupal_theme);
+}
+
+/**
+ * Attach a jQuery Ui theme to a Drupal theme.
+ */
+function _jqueryui_theme_assoc($machine_name, $drupal_theme) {
+  return (bool)db_query("INSERT INTO {jqueryui_theme_assoc} (drupal_theme, machine_name) VALUES ('%s', '%s')", $drupal_theme, $machine_name);
+}
+
+/**
+ * Inserts jQuery UI theme in database
+ * 
+ * @param $machine_name
+ *   A string containing jQuery UI machine name.
+ * @param $human_name
+ *   A string containing jQuery UI human name.
+ * @param $version
+ *   A string containing the jQuery UI theme's version.
+ * @param $params
+ *   An url containing jQuery UI theme parameters.
+ * 
+ * @return
+ *   TRUE on success.
+ *   FALSE otherwise.
+ */
+function _jqueryui_theme_insert_theme($machine_name, $human_name, $version, $params) {
+  return (bool)db_query("INSERT INTO {jqueryui_theme} (machine_name, human_name, version, params) " .
+             "VALUES ('%s', '%s', '%s', '%s')", $machine_name, $human_name, $version, $params);
+}
+
+/**
+ * Attempts to get a file object uploaded from url.
+ * 
+ * @param $url
+ *   The URL of the file to grab.
+ * @param $destination
+ *   A string file path directory.
+ * 
+ * @return
+ *   On success the location the file was saved to. 
+ *   
+ * @see _jqueryui_theme_retrieve_file()
+ */
+function _jqueryui_theme_get_file_url($url, $destination) {
+  $parsed_url = parse_url($url);
+  $remote_schemes = array('http', 'https', 'ftp', 'ftps', 'smb', 'nfs');
+  if (!in_array($parsed_url['scheme'], $remote_schemes)) {
+    // local file
+    $local_cache = realpath($url);
+  }
+  else {
+    $local_cache = _jqueryui_theme_retrieve_file($url, $destination, TRUE, FILE_EXISTS_REPLACE);
+  }
+  return $local_cache;   
+}
+
+/**
+ * Determines if files extracted temporary 
+ * containing jQuery UI themes as expected and
+ * provide informations on it.
+ * 
+ * @param $files
+ *   An array containing filepaths of a jQuery UI theme
+ *   previously extracted in temporary directory.
+ * @param $directory
+ *   A string containing a directory path.
+ * 
+ * @return
+ *   On success, an array containing infos on 
+ *   the jQuery UI files extracted.
+ *   NULL otherwise.
+ */
+function _jqueryui_theme_detect_themes($files, $directory) {
+  $tracks = preg_grep('#.*\.all\.css$#', $files);
+  if (!empty($tracks)) {
+    $dir = array();
+    foreach ($tracks as $key => $track) {
+      $search = explode('/', $track);
+      array_pop($search);
+      $dir[$key]['name'] = $search[sizeof($search)-1];
+      $dir[$key]['path'] = implode('/', $search);
+    }
+    
+    $themes = array();
+    foreach ($dir as $key => $element) {
+      $themes[$key]['name']      = $element['name'];
+      $themes[$key]['directory'] = $directory;
+      $themes[$key]['version']   = NULL;
+      foreach (preg_grep('#(' . $element['path'] . '\/?.*(\.(css|png))$)|(\/version\.txt)$#', $files) as $filepath) {
+        if (basename($filepath) == 'version.txt') {
+          $themes[$key]['version'] = $filepath;
+        }
+        else {
+          $themes[$key]['files'][] = $filepath;
+        }
+      }
+    }
+    return $themes;
+  }
+  return;
+}
+
+/**
+ * Try to get jQuery UI theme version
+ * from only *.theme.css file despite
+ * more possibilities.
+ * 
+ * @param $directory
+ *   A string indicating main directory to a jQuery UI theme.
+ * @param $files
+ *   An array containing filepath.
+ * @param $filepath_version
+ *   A path to a version.txt file.
+ * 
+ * @return
+ *   A string containing version of the jQuery UI theme.
+ *   An empty string otherwise.
+ */
+function _jqueryui_theme_get_version($directory, $files, $filepath_version = NULL) {
+  $version = FALSE;
+  
+  if ($filepath_version) {
+    $version = file_get_contents($directory . '/' . $filepath_version, FALSE, NULL, NULL, 10);
+  }
+  elseif ($searches = preg_grep('#\.theme\.css$#', $files)) {
+    $header = _jqueryui_theme_get_comment_header_files($directory . '/' . reset($searches));
+    foreach ($header as $line) {
+      if (strstr($line, '* jQuery UI CSS Framework ')) {
+        $version = str_replace('* jQuery UI CSS Framework ', '', $line);
+        break;
+      }
+    }
+  }
+  
+  if ($version === FALSE || empty($version) || !preg_match('/^[0-9\.]*$/', $version)) {
+    return '';
+  }
+  return trim($version);
+}
+
+/**
+ * Try to get paramaters to a jQuery UI theme
+ * from *.theme.css file.
+ * 
+ * @param $directory
+ *   A string indicating main directory to a jQuery UI theme.
+ * 
+ * @param $filepath
+ *   An array containing filepath to a jQuery UI theme.
+ * 
+ * @return
+ *   An url containing jQuery UI theme parameters.
+ *   An empty string otherwise.
+ */
+function _jqueryui_theme_get_params($directory, $files) {
+  $params = '';
+  if ($searches = preg_grep('#\.theme\.css$#', $files)) {
+    $header = _jqueryui_theme_get_comment_header_files($directory . '/' . reset($searches));
+    
+    foreach ($header as $line) {
+      if (strstr($line, 'To view and modify this theme, visit ')) {
+        $tmp = explode('visit ', $line);
+        $url = trim($tmp[1]);
+        if (valid_url($url, TRUE)) {
+          $parsed_url = parse_url($url);
+          if (isset($parsed_url['query']) && !empty($parsed_url['query'])) {
+            $params = $url;
+          }
+        }
+        break;
+      }
+    }
+  }
+  return $params;
+}
+
+/**
+ * Returns an array containing strings of a comment
+ * header file.
+ * 
+ * @param $filepath
+ *   A filepath to read and return comment header.
+ * 
+ * @return
+ *   An array containing each lines of the comment header.
+ */
+function _jqueryui_theme_get_comment_header_files($filepath) {
+  $text = array(); $line = '';
+  $fp = fopen($filepath, 'r');
+  while (!feof($fp) && !strstr($line, '*/')) {
+    $line = trim(fgets($fp, 4096));
+    if (!empty($line) && !in_array($line, array('*', '/*', '*/'))) {
+      $text[] = $line;
+    }
+  }
+  fclose($fp);
+  return $text;
+}
+
+/**
+ * Moves jQuery UI themes from temporary 
+ * directory to default public location.
+ * 
+ * @param $theme
+ *   An associate array containing infos on jQuery UI theme:
+ *    - Machine name
+ *    - Human name
+ *    - Current directory
+ *    - An array of filepaths to move
+ * 
+ * @return
+ *   TRUE on success.
+ *   FALSE otherwise. All previous extracted files
+ *   will be deleted.
+ */
+function _jqueryui_theme_move_tmp($theme) {
+  $destination = file_directory_path() . '/jqueryui_theme/' . $theme['machine_name'];
+  foreach (array($destination, $destination . '/images') as $dir) {
+    if (FALSE === (file_check_directory($dir, FILE_CREATE_DIRECTORY | FILE_MODIFY_PERMISSIONS))) {
+      drupal_set_message(t('Unable to create @dir', array('@dir' => $dir)), 'error');
+      return FALSE;
+    } 
+  }
+  
+  foreach ($theme['files'] as $file) {
+    $filepath = $theme['directory'] . '/' . $file;
+    $dir = $destination;
+    if (substr(strrchr(basename($file), '.'), 1) == 'png') {
+      $dir .= '/images';
+    }
+    if (!file_move($filepath, $dir, FILE_EXISTS_REPLACE)) {
+      _jqueryui_theme_delete_recursive($destination);
+      return FALSE;
+    }
+  }
+  return TRUE;
+}
+
+/**
+ * Checks if URL to jQuery UI default theme
+ * are still available and tarballs could be retrieve.
+ * 
+ * @return
+ *   An array keyed by url to default jQuery UI theme default version
+ *   as options expected by Form API.
+ *   NULL otherwise.
+ */
+function _jqueryui_theme_default_jqueryui_themes_exist() {
+  $options = array('none' => t('None'));
+  $sources = array(
+    'jQuery UI 1.7' => 'http://jquery-ui.googlecode.com/files/jquery-ui-themes-1.7.zip',
+  );
+  
+  if (jquery_update_get_version() >= '1.3.2' && jquery_ui_get_version() >= '1.8') {
+    $sources['jQuery UI 1.8'] = 'http://jquery-ui.googlecode.com/files/jquery-ui-themes-1.8.zip';
+  }
+  
+  foreach ($sources as $key => $src) {
+    if (@preg_match('/200/', reset(@get_headers($src))) > 0) {
+      $options[$src] = $key;
+    }
+  }
+  
+  if (sizeof($options) > 1) {
+    return $options;
+  }
+  return;
+}
+
+/**
+ * Function callback to get form array options
+ * containing jQuery UI theme machine name
+ * and human name associate with a Drupal theme given.
+ *
+ * @param $drupal_theme
+ *   A string containing a Drupal theme name.
+ * @param $default_value
+ *   A variable which will be the default value
+ *   of the form element.
+ * @return
+ *   An association array containing jQuery UI human name
+ *   and keyed by machine name.
+ *
+ * @see jqueryui_theme_form_system_theme_settings_alter()
+ * @see jqueryui_theme_switch_form()
+ */
+function _jqueryui_theme_get_options_themes($drupal_theme, &$default_value) {
+  $query = db_query("SELECT machine_name, human_name FROM {jqueryui_theme}");
+  $jqthemes = array();
+  while ($theme = db_fetch_object($query)) {
+    $jqthemes[] = $theme;
+  }
+  $attach = db_result(db_query("SELECT machine_name FROM {jqueryui_theme_assoc} WHERE drupal_theme = '%s'", $drupal_theme));
+
+  $options['none'] = t('None');
+  $default_value = 'none';
+  foreach ($jqthemes as $theme) {
+    $options[$theme->machine_name] = $theme->human_name;
+    if ($theme->machine_name == $attach) {
+      $default_value = $theme->machine_name;
+    }
+  }
+  return $options;
+}
+
+/**
+ * Retrieve user's preference jQuery UI theme
+ * of the current user for the current Drupal theme.
+ *
+ * @return
+ *   A string containing an available jQuery UI theme.
+ *   NULL otherwise.
+ */
+function _jqueryui_theme_get_user_theme() {
+  global $theme;
+  static $user_theme = NULL;
+
+  if (!$user_theme) {
+    $method = variable_get('jqueryui_theme_switch_method', NULL);
+
+    if ($method == 'session' && isset($_SESSION['jqueryui_theme_default'])) {
+      $user_theme = $_SESSION['jqueryui_theme_default'];
+    }
+    elseif ($method == 'cookie' && isset($_COOKIE['Drupal_visitor_jqueryui_theme_default'])) {
+      $user_theme = @unserialize($_COOKIE['Drupal_visitor_jqueryui_theme_default']);
+    }
+    else {
+      watchdog('jqueryui_theme', t('No method define to keep track on user s preference.'), NULL, WATCHDOG_WARNING, l("Set method tracking user's preference", 'admin/build/block/configure/jqueryui_theme/jqueryui_theme_switch'));
+    }
+
+    if (isset($user_theme[$theme]) && array_key_exists($user_theme[$theme], _jqueryui_theme_get_themes_infos())) {
+      $user_theme = $user_theme[$theme];
+    }
+  }
+  return $user_theme;
+}
+
+/**
+ * Form constructor for end-user to switch jQuery UI themes
+ *
+ * @see jqueryui_theme_switch_form_validate()
+ * @see jqueryui_theme_switch_form_submit()
+ * @ingroup $forms
+ */
+function jqueryui_theme_switch_form() {
+  global $theme;
+  $default_value = NULL;
+  $options = _jqueryui_theme_get_options_themes($theme, $default_value);
+  if (isset($options['none'])) {
+    $options['none'] = t('Default');
+  }
+
+  if ($user_theme = _jqueryui_theme_get_user_theme()) {
+    $default_value = $user_theme;
+  }
+
+  $form['machine_name'] = array(
+    '#type' => 'select',
+    '#title' => t('Switch jQuery UI themes'),
+    '#default_value' => $default_value,
+    '#options' => $options,
+  );
+  $form['submit'] = array(
+    '#type' => 'submit',
+    '#value' => t('Submit'),
+  );
+  return $form;
+}
+
+/**
+ * Form validation handler for jqueryui_theme_switch_form().
+ *
+ * @see jqueryui_theme_switch_form()
+ * @see jqueryui_theme_switch_form_submit()
+ */
+function jqueryui_theme_switch_form_validate($form, &$form_state) {
+  if ($form_state['values']['machine_name'] != 'none' && !array_key_exists($form_state['values']['machine_name'], _jqueryui_theme_get_themes_infos())) {
+    form_set_error('machine_name', t('jQuery UI themes given doesn\'t exist.'));
+  }
+}
+
+/**
+ * Form submission handler for jqueryui_theme_switch_form().
+ *
+ * @see jqueryui_theme_switch_form()
+ * @see jqueryui_theme_switch_form_validate()
+ */
+function jqueryui_theme_switch_form_submit($form, &$form_state) {
+  global $theme;
+  $method = variable_get('jqueryui_theme_switch_method', 'session');
+  if ($form_state['values']['machine_name']) {
+    if ($method == 'session') {
+      $data = _jqueryui_theme_user_switch_merge_data($method, array($theme => $form_state['values']['machine_name']));
+      $_SESSION['jqueryui_theme_default'] = $data;
+    }
+    elseif ($method == 'cookie') {
+      $data = serialize(_jqueryui_theme_user_switch_merge_data($method, array($theme => $form_state['values']['machine_name'])));
+      setrawcookie('Drupal.visitor.jqueryui_theme_default', rawurlencode($data), time() + 31536000, '/');
+    }
+  }
+}
+
+/**
+ * Checks and merges data store in session or cookie
+ * with the data submitted by the switch form block.
+ *
+ * @param $method
+ *   Method used to store data.
+ *   It could be 'session' or 'cookie'
+ * @param $edit
+ *   The data to merge with current data.
+ * @return
+ *   A merged array keyed by Drupal theme
+ *   and containing jQuery UI theme preference.
+ *   Edit array only otherwise.
+ *
+ * @see jqueryui_theme_switch_form_submit()
+ */
+function _jqueryui_theme_user_switch_merge_data($method, $edit) {
+  $data = array();
+  $themes = _jqueryui_theme_get_themes_infos();
+  $drupal_themes = _jqueryui_theme_drupal_themes_used();
+
+  if ($method == 'session' && isset($_SESSION['jqueryui_theme_default'])) {
+    $data = $_SESSION['jqueryui_theme_default'];
+  }
+  elseif ($method == 'cookie' && isset($_COOKIE['Drupal_visitor_jqueryui_theme_default'])) {
+    $data = @unserialize($_COOKIE['Drupal_visitor_jqueryui_theme_default']);
+  }
+
+  $valid = TRUE;
+  if (is_array($data)) {
+    foreach ($data as $drupal_themename => $jtheme) {
+      if (!array_key_exists($drupal_themename, $drupal_themes) || !array_key_exists($jtheme, $themes)) {
+        $valid = FALSE;
+        break;
+      }
+    }
+    if ($valid) {
+      return $edit + $data;
+    }
+  }
+  return $edit;
+}
+
+/**
+ * Recursively delete all files and folders in the specified filepath, then
+ * delete the containing folder.
+ *
+ * Note that this only deletes visible files with write permission.
+ *
+ * @param string $path
+ *   A filepath relative to file_directory_path.
+ * 
+ * @param $succeed
+ *   Must not be used, internal parameter.
+ * 
+ * @return
+ *   TRUE on succes
+ *   FALSE otherwise.
+ * 
+ * @see _imagecache_recursive_delete()
+ */
+function _jqueryui_theme_delete_recursive($path, $succeed = TRUE) {
+  if (is_file($path) || is_link($path)) {
+    unlink($path);
+  }
+  elseif (is_dir($path)) {
+    $d = dir($path);
+    while (($entry = $d->read()) !== FALSE) {
+      if ($entry == '.' || $entry == '..') continue;
+      $entry_path = $path .'/'. $entry;
+      _jqueryui_theme_delete_recursive($entry_path, $succeed);
+    }
+    $d->close();
+    rmdir($path);
+  }
+  else {
+    $succeed = FALSE;
+  }
+  return $succeed;
+}
+
+/**
+ * Attempts to get a file using drupal_http_request and to store it locally.
+ *
+ * @param $url
+ *   The URL of the file to grab.
+ *
+ * @param $destination
+ *   A string containing the destination location. If a directory path is provided, 
+ *   the file is saved into that directory under its original name. If the path 
+ *   contains a filename as well, that one will be used instead.
+ *   If this value is omitted, the site's default files path will be used.
+ * 
+ * @param $filename
+ *   Boolean to enforce temporary filename if destination path provided
+ *   doesn't contain a filepath.
+ * 
+ * @param $replace boolean
+ *   Replace behavior when the destination file already exists:
+ *   - FILE_EXISTS_REPLACE: Replace the existing file.
+ *   - FILE_EXISTS_RENAME: Append _{incrementing number} until the filename is
+ *     unique.
+ *   - FILE_EXISTS_ERROR: Do nothing and return FALSE.
+ * 
+ * @return
+ *   On success the location the file was saved to, FALSE on failure.
+ */
+function _jqueryui_theme_retrieve_file($url, $destination = NULL, $filename = FALSE, $replace = FILE_EXISTS_RENAME) {
+  $parsed_url = parse_url($url);
+  if (!isset($destination)) {
+    $path = file_directory_path() . '/' . basename($parsed_url['path']);
+  }
+  elseif ($filename === TRUE) {
+    $path = str_replace('//', '/', $destination . '/' . basename($parsed_url['path']));
+  }
+  else {
+    $path = $destination;
+  }
+  
+  $result = drupal_http_request($url);
+  if ($result->code != 200) {
+    return FALSE;
+  }
+  return file_save_data($result->data, $path, $replace);
+}
+
+
+
+/**
+ * Determine the maximum file upload size by querying the PHP settings.
+ *
+ * @return
+ *   A file size limit in bytes based on the PHP upload_max_filesize and
+ *   post_max_size
+ */
+function _jqueryui_theme_get_file_upload_max_size() {
+  $max_size = parse_size(ini_get('post_max_size'));
+  $upload_max = parse_size(ini_get('upload_max_filesize'));
+  if ($upload_max > 0 && $upload_max < $max_size) {
+    $max_size = $upload_max;
+  }
+  return $max_size;
+}
+
+/**
+ * An element form validate for machine name.
+ * Ensures the element does not contain any
+ * invalid characters and is unique.
+ * 
+ * @see jqueryui_theme_import_form()
+ */
+function _jqueryui_theme_machine_name_validate(&$element, &$form_state) {
+  $themename = $element['#parents'][1];
+  if ($form_state['values']['themes'][$themename]['checkbox']) {
+    if ($errors = _jqueryui_theme_check_machine_name($element['#value'])) {
+      foreach ($errors as $err) {
+        form_error($element, $err);
+      }
+    }
+  }
+}
+
+/**
+ * 
+ * A function callback to check that the value
+ * passed does not contain any invalid characters 
+ * and is unique.
+ * 
+ * @param $value
+ *   An element value.
+ * 
+ * @return 
+ *   An array containing errors messages.
+ * 
+ * @see _jqueryui_theme_machine_name_validate()
+ * @see _jqueryui_theme_import()
+ */
+function _jqueryui_theme_check_machine_name($value) {
+  $errors = array();
+  // Verify that the machine name not only consists of replacement tokens.
+  if (preg_match('@^_+$@', $value)) {
+    $errors[] = t('The machine-readable name must contain unique characters.');
+  }
+  // Verify that the machine name contains no disallowed characters.
+  if (preg_match('@[^a-z0-9_]+@', $value)) {
+    $errors[] = t('The machine-readable name must contain only lowercase letters, numbers, and underscores.');
+  }
+  // Verify that the machine name is unique.
+  if ((bool)db_result(db_query("SELECT machine_name FROM {jqueryui_theme} WHERE machine_name = '%s'", $value))) { 
+    $errors[] = t('The machine-readable name is already in use. It must be unique.');
+  }
+  return $errors;
+}
+
+/**
+ * Implements hook_form_FORM_ID_alter()
+ */
+function jqueryui_theme_form_system_theme_settings_alter(&$form, &$form_state) {
+  $theme_name = preg_replace(array('/theme_/', '/_?settings/'), '', $form['var']['#value']);
+  
+  if (!empty($theme_name)) {
+    $form['jqueryui_theme'] = array(
+      '#type' => 'fieldset',
+      '#title' => t('Attach one jqueryui theme import to !theme', array('!theme' => $theme_name)),
+      '#weight' => 0,
+    );
+    
+    $default_value = '';
+    $options = _jqueryui_theme_get_options_themes($theme_name, $default_value);
+    if (empty($options)) {
+      $form['jqueryui_theme']['markup'] = array(
+        '#type' => 'markup',
+        '#value' => t('There is no jQuery UI themes imported.'),
+      );
+    }
+    else {
+      $form['jqueryui_theme']['radios'] = array(
+        '#type' => 'radios',
+        '#options' => $options,
+        '#default_value' => $default_value,
+      );
+      if ($default_value != 'none') {
+        $form['jqueryui_theme']['example_link'] = array(
+          '#type' => 'markup',
+          '#value' => l(t('See on @theme with @jquery_theme', array('@theme' => $theme_name, '@jquery_theme' => $default_value)),  
+                           'admin/appearance/jqueryui-theme/example/' . $theme_name),
+        );
+      }
+    }
+    
+    $form_state['storage']['default_radio'] = $default_value;
+    $form['jqueryui_theme']['theme_name'] = array(
+      '#type' => 'value',
+      '#value' => $theme_name,
+    );
+    $form['#submit'][] = 'jqueryui_theme_attach_submit';
+  }
+}
+
+/**
+ * Form submission handler for jqueryui_theme_form_system_theme_settings_alter().
+ * 
+ * @see jqueryui_theme_form_system_theme_settings_alter()
+ */
+function jqueryui_theme_attach_submit($form, &$form_state) {
+  $theme_name   = $form_state['values']['theme_name'];
+  $radio        = $form_state['values']['radios'];
+  $default      = $form_state['storage']['default_radio'];
+  
+  if ($radio != $default) {
+    db_query("DELETE FROM {jqueryui_theme_assoc} WHERE drupal_theme = '%s'", $theme_name);
+    if ($radio != 'none') {
+      db_query("INSERT INTO {jqueryui_theme_assoc} (drupal_theme, machine_name) VALUES ('%s', '%s')", $theme_name, $radio);
+    }
+    menu_rebuild();
+  }
+}
+
+/**
+ * Create the appropriate archiver for the specified file.
+ *
+ * @param $file
+ *   The full path of the archive file.  Note that remote
+ *   paths are not supported.
+ * @return
+ *   A newly created instance of the archiver class appropriate
+ *   for the specified file, already bound to that file.
+ *   If no appropriate archiver class was found, will return FALSE.
+ */
+function _jqueryui_theme_get_archiver($file) {
+  // Archivers can only work on local paths
+  $filepath = realpath($file);
+  if (!is_file($filepath)) {
+    throw new Exception(t('Archivers can only operate on local files: %file not supported', array('%file' => $file)));
+  }
+  
+  $archiver_info = _jqueryui_theme_get_archiver_info();
+  foreach ($archiver_info as $key => $implementation) {
+    foreach ($implementation['extensions'] as $extension) {
+      if (strrpos($filepath, '.' . $extension) === strlen($filepath) - strlen('.' . $extension)) {
+        require_once 'archiver/archiver.inc';
+        if ($key == 'tar') {
+          require_once 'archiver/system.tar.inc';
+        }
+        require_once 'archiver/system.archiver.inc';
+        return new $implementation['class']($filepath);
+      }
+    }
+  }
+}
+
+/**
+ * Retrieves a list of all available archivers.
+ */
+function _jqueryui_theme_get_archiver_info() {
+  //@todo listContent() do the job but _extractList() failed
+  //@see system.tar.inc
+  
+  //$archivers['tar'] = array(
+  //  'class' => 'ArchiverTar',
+  //  'extensions' => array('tar', 'tgz', 'tar.gz', 'tar.bz2'),
+  //);
+  
+  if (function_exists('zip_open')) {
+    $archivers['zip'] = array(
+      'class' => 'ArchiverZip',
+      'extensions' => array('zip'),
+    );
+  }
+  return $archivers;
+}
+
+/**
+ * Returns a string of supported archive extensions.
+ *
+ * @return
+ *   A space-separated string of extensions suitable for use by the file
+ *   validation system.
+ */
+function _jqueryui_theme_get_archiver_extensions() {
+  $valid_extensions = array();
+  foreach (_jqueryui_theme_get_archiver_info() as $archive) {
+    foreach ($archive['extensions'] as $extension) {
+      foreach (explode('.', $extension) as $part) {
+        if (!in_array($part, $valid_extensions)) {
+          $valid_extensions[] = $part;
+        }
+      }
+    }
+  }
+  return implode(' ', $valid_extensions);
+}
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/jqueryui_theme_example.css b/sites/all/modules/jqueryui_theme/jqueryui_theme_example.css
new file mode 100644
index 0000000..e288754
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/jqueryui_theme_example.css
@@ -0,0 +1,13 @@
+ul#icons {
+  margin: 0;
+  padding: 0;
+}
+
+ul#icons li {
+  cursor: pointer;
+  float: left;
+  list-style: none;
+  margin: 2px;
+  padding: 4px 0;
+  position: relative;
+}
diff --git a/sites/all/modules/jqueryui_theme/jqueryui_theme_example.js b/sites/all/modules/jqueryui_theme/jqueryui_theme_example.js
new file mode 100644
index 0000000..6305aed
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/jqueryui_theme_example.js
@@ -0,0 +1,45 @@
+;(function ($) {
+  Drupal.behaviors.jqueryui_theme_example = function(context) {
+    // Accordion
+    $("#accordion").accordion({ header: "h3" });
+    //$("#radioset").buttonset();
+    // Tabs
+    $('#tabs').tabs();
+    // Dialog     
+    $('#dialog').dialog({
+      autoOpen: false,
+      width: 600,
+      buttons: {
+        "Ok": function() { 
+          $(this).dialog("close"); 
+        }, 
+        "Cancel": function() { 
+          $(this).dialog("close"); 
+        } 
+      }
+    });
+    // Dialog Link
+    $('#dialog_link').click(function(){
+      $('#dialog').dialog('open');
+      return false;
+    });
+    // Datepicker
+    $('#datepicker').datepicker({
+      inline: true
+    });
+    // Slider
+    $('#slider').slider({
+      range: true,
+      values: [17, 67]
+    });
+    // Progressbar
+    $("#progressbar").progressbar({
+      value: 20 
+    });
+    //hover states on the static widgets
+    $('#dialog_link, ul#icons li').hover(
+      function() { $(this).addClass('ui-state-hover'); },
+      function() { $(this).removeClass('ui-state-hover'); }
+    );
+  };
+})(jQuery);
\ No newline at end of file
diff --git a/sites/all/modules/jqueryui_theme/jqueryui_theme_settings.js b/sites/all/modules/jqueryui_theme/jqueryui_theme_settings.js
new file mode 100644
index 0000000..0dcd11c
--- /dev/null
+++ b/sites/all/modules/jqueryui_theme/jqueryui_theme_settings.js
@@ -0,0 +1,66 @@
+;(function ($) {
+  Drupal.behaviors.jqueryui_theme_settings = function(context) {
+
+    $('.submit-jqueryui-settings').hide();
+
+    $(document).change(function() {
+      if ($('.box-row').is(':checked')) {
+        $('.submit-jqueryui-settings').show();
+      }
+      else {
+        $('.submit-jqueryui-settings').hide();
+      }
+    });
+
+    $('.box-all').change(function(){
+      if ($(this).is(':checked')) {
+        $('.box-row').attr('checked', true);
+      }
+      else {
+        $('.box-row').attr('checked', false);
+      }
+    });
+
+    $(".box-drupal-theme, .textfield-name").change(function(){
+      var ele_class = $(this).attr('class');
+      var theme = getTheme('jqueryui', ele_class);
+      $('.box-row-' + theme).attr('checked', true);
+    });
+
+    $(".box-drupal-theme").change(function(){
+      if ($(this).is(':checked')) {
+        var box_class = $(this).attr('class');
+        var drupal_theme = getTheme('drupal', box_class);
+
+        var elem = $('.box-cell-' + drupal_theme).not(this);
+        $.each(elem, function(){
+          if (this.checked) {
+            var theme = getTheme('jqueryui', this.className);
+            this.checked = false;
+            $('.box-row-' + theme).attr('checked', true);
+          }
+        });
+      }
+    });
+  };
+
+  function getTheme(type, ele_class) {
+    var ele_class = ele_class.split(' ');
+    var i = 0, theme = '', reg = '';
+    if (type == 'jqueryui') {
+      reg = /^(box|textfield)-jqueryui-[a-z_]*/;
+    }
+    else if (type == 'drupal') {
+      reg = /^box-cell-[a-z0-9_]*/;
+    }
+
+    while(i < ele_class.length && theme == '') {
+      if (ele_class[i].match(reg)) {
+        theme = ele_class[i].split('-');
+        theme = theme[2];
+      }
+      i++;
+    }
+    return theme;
+  }
+})(jQuery);
\ No newline at end of file
diff --git a/sites/all/modules/logintoboggan/README.txt b/sites/all/modules/logintoboggan/README.txt
old mode 100755
new mode 100644
diff --git a/sites/all/modules/logintoboggan/logintoboggan.module b/sites/all/modules/logintoboggan/logintoboggan.module
old mode 100755
new mode 100644
diff --git a/sites/all/modules/modalframe/js/parent.js b/sites/all/modules/modalframe/js/parent.js
index 4e895b3..62320ad 100644
--- a/sites/all/modules/modalframe/js/parent.js
+++ b/sites/all/modules/modalframe/js/parent.js
@@ -184,8 +184,9 @@ Drupal.modalFrame.create = function() {
 
     // Hide the dialog, center it on the viewport and then fade it in with
     // the iframe still hidden, until the child document is loaded.
-    self.iframe.$element.hide();
-    $('.modalframe').hide().css({top: dialogPosition.top, left: dialogPosition.left});
+//    self.iframe.$element.hide();
+//    $('.modalframe').hide().css({top: dialogPosition.top, left: dialogPosition.left});
+    $('.modalframe').css({top: dialogPosition.top, left: dialogPosition.left});
     $('.modalframe').fadeIn('slow', function() {
       // Load the document on the hidden iframe (see bindChild method).
       self.load(self.options.url);
diff --git a/sites/all/modules/node_export/LICENSE.txt b/sites/all/modules/node_export/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/node_export/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/node_export/README.txt b/sites/all/modules/node_export/README.txt
new file mode 100644
index 0000000..66673c1
--- /dev/null
+++ b/sites/all/modules/node_export/README.txt
@@ -0,0 +1,58 @@
+$Id: README.txt,v 1.2.2.2.2.5 2010/02/03 07:09:46 danielb Exp $
+
+Node Export README
+
+CONTENTS OF THIS FILE
+----------------------
+
+  * Introduction
+  * Installation
+  * Configuration
+  * Usage
+
+
+INTRODUCTION
+------------
+The export module allows users to export a node and then import it to another 
+website. The authorship is set to the current user, the menu and url aliases 
+are reset.
+
+This module makes reasonable checks on access permissions.  A user cannot export 
+a node unless they can use the input format of that node, and unless they have
+permission to create new nodes of that type based on a call to node_access().
+
+Maintainer: Daniel Braksator (http://drupal.org/user/134005)
+Project page: http://drupal.org/project/node_export.
+
+Note: this module was originally built upon code from the node_clone module
+maintained by Peter Wolanin (http://drupal.org/user/49851) at 
+http://drupal.org/project/node_clone which was derived from code posted by
+Steve Ringwood (http://drupal.org/user/12856) at 
+http://drupal.org/node/73381#comment-137714
+
+
+INSTALLATION
+------------
+1. Copy node_export folder to modules directory (usually sites/all/modules).
+2. At admin/build/modules enable the Node Export module.
+
+
+CONFIGURATION
+-------------
+1. Enable permissions at admin/user/permissions.
+   Security Warning: Users with the permission "use PHP to import nodes"
+   will be able to change nodes as they see fit before an import, as well as 
+   being able to execute PHP scripts on the server.  It is advisable not to
+   give this permission to a typical node author, only the administrator or
+   developer should use this feature.  You may even like to turn this module
+   off when it is no longer required.
+2. Configure module at admin/settings/node_export.
+
+
+USAGE
+-----
+1. To export nodes, either:
+   a) click the 'Export' tab on a node page or,
+   b) use the Content page (admin/content/node) to filter the nodes you wish to
+      export and then choose 'Export nodes' under the 'Update options'.
+2. To import nodes go to 'Node Export: Import' (admin/content/import).
\ No newline at end of file
diff --git a/sites/all/modules/node_export/modules/node_export_file/js/node_export_file_admin.js b/sites/all/modules/node_export/modules/node_export_file/js/node_export_file_admin.js
new file mode 100644
index 0000000..0bdd00a
--- /dev/null
+++ b/sites/all/modules/node_export/modules/node_export_file/js/node_export_file_admin.js
@@ -0,0 +1,80 @@
+// $Id: node_export_file_admin.js,v 1.1.2.5 2010/10/29 00:17:30 danielb Exp $
+
+/**
+ * @file node_export_file_admin.js
+ *  Admin DHTML for node_export_file module.
+ **/
+
+Drupal.behaviors.nodeExportFileAdmin = function () {
+  var assets_state = false; // Start hidden
+  var file_mode = null;
+  var assets_div = $('div#edit-node-export-file-assets-path-wrapper');
+
+  // On load, hide or show the assets path
+  file_mode = $('input[name="node_export_file_mode"]:checked').val();
+  assets_state = _node_export_file_get_state(file_mode);
+
+  _node_export_file_toggle_export_mode_warning(file_mode);
+  _node_export_file_assets_toggle(assets_state, assets_div, 'hide');
+
+  $('input[name="node_export_file_mode"]').change(function () {
+    assets_state = _node_export_file_get_state($(this).val())
+    _node_export_file_assets_toggle(assets_state, assets_div, 'slide');
+    _node_export_file_toggle_export_mode_warning($(this).val());
+  });
+
+  $('input[name="node_export_node_code"],input[name="node_export_bulk_code"]').change(function () {
+    _node_export_file_toggle_export_mode_warning($('input[name="node_export_file_mode"]').val());
+  });
+};
+
+/**
+ * Get state based on input value.
+ **/
+function _node_export_file_get_state(value) {
+  switch (value) {
+    default:
+    case 'remote':
+      return false;
+
+    case 'local':
+      return true;
+  }
+}
+
+/**
+ * Basic show/hide controller.
+ **/
+function _node_export_file_assets_toggle(state, div, effect) {
+  if (state) {
+    if (effect == 'hide') {
+      div.show();
+    } else {
+      div.slideDown();
+    }
+  } else {
+    if (effect == 'hide') {
+      div.hide();
+    } else {
+      div.slideUp();
+    }
+  }
+}
+
+/**
+ * Toggles the file mode warning message.
+ */
+function _node_export_file_toggle_export_mode_warning(state) {
+  if (state == 'inline') {
+    if ($('#edit-node-export-node-code-copy:checked').add('#edit-node-export-bulk-code-copy:checked').length == 0) {
+      $('#node-export-file-mode-message').slideUp();
+    }
+    else {
+      $('#node-export-file-mode-message').slideDown();
+    }
+  }
+  else {
+    $('#node-export-file-mode-message').slideUp();
+  }
+}
+
diff --git a/sites/all/modules/node_export/modules/node_export_file/node_export_file.info b/sites/all/modules/node_export/modules/node_export_file/node_export_file.info
new file mode 100644
index 0000000..21a90b1
--- /dev/null
+++ b/sites/all/modules/node_export/modules/node_export_file/node_export_file.info
@@ -0,0 +1,12 @@
+; $Id: node_export_file.info,v 1.1.2.4 2009/09/08 10:14:13 danielb Exp $
+name = Node Export Files
+description = "Export helper module for handling files (CCK FileField, Upload, and Image)."
+dependencies[] = node_export
+version = VERSION
+core = 6.x
+; Information added by drupal.org packaging script on 2010-12-09
+version = "6.x-2.24"
+core = "6.x"
+project = "node_export"
+datestamp = "1291874138"
+
diff --git a/sites/all/modules/node_export/modules/node_export_file/node_export_file.install b/sites/all/modules/node_export/modules/node_export_file/node_export_file.install
new file mode 100644
index 0000000..2d7be69
--- /dev/null
+++ b/sites/all/modules/node_export/modules/node_export_file/node_export_file.install
@@ -0,0 +1,15 @@
+<?php
+// $Id: node_export_file.install,v 1.1.2.2 2009/09/08 10:14:13 danielb Exp $
+
+/**
+ * @file
+ * The Node Export File install file.
+ */
+
+/**
+ * Implementation of hook_install().
+ */
+function node_export_file_install() {
+  // Weight the module light to ensure it runs before all CCK modules
+  db_query("UPDATE {system} SET weight = -10 WHERE name = 'node_export_file'");
+}
diff --git a/sites/all/modules/node_export/modules/node_export_file/node_export_file.module b/sites/all/modules/node_export/modules/node_export_file/node_export_file.module
new file mode 100644
index 0000000..26875a4
--- /dev/null
+++ b/sites/all/modules/node_export/modules/node_export_file/node_export_file.module
@@ -0,0 +1,484 @@
+<?php
+// $Id: node_export_file.module,v 1.1.2.7 2010/10/29 00:20:48 danielb Exp $
+
+/**
+ * @file
+ * The Node Export File module.
+ *
+ * Export helper module for handling CCK FileFields, Uploaded files, and Images.
+ */
+
+define('EXPORT_FILE_FILES_DIR_SUBSTITUTION', '#FILES_DIRECTORY_PATH#');
+
+/**
+ * Implementation of hook_help().
+ */
+function node_export_file_help($path, $arg) {
+  switch ($path) {
+    case 'admin/help#node_export_file':
+      return '<p>'. t('Export helper module for handling files: CCK FileField, Upload, and Image.') .'</p>';
+  }
+}
+
+/**
+ * Implementation of hook_form_alter().
+ */
+function node_export_file_form_alter(&$form, $form_state, $form_id) {
+  if ($form_id == 'node_export_form') {
+  // TODO: Add extra options to the export form?
+  }
+  elseif ($form_id == 'node_export_settings') {
+    drupal_add_js(drupal_get_path('module', 'node_export_file') .'/js/node_export_file_admin.js');
+
+    $form['node_export_file'] = array(
+      '#type' => 'fieldset',
+      '#title' => t('Export Files'),
+      '#weight' => -1,
+    );
+
+    $types = node_get_types('names');
+    $form['node_export_file']['node_export_file_types'] = array(
+      '#type' => 'checkboxes',
+      '#title' => t('Files exported for content types'),
+      '#default_value' => variable_get('node_export_file_types', array()),
+      '#options' => $types,
+      '#description' => t('Which content types should export file attachments and uploads?'),
+    );
+
+    $textarea_delivery = $form['basic']['node_export_node_code']['#default_value'];
+    $bulk_delivery = $form['basic']['node_export_bulk_code']['#default_value'];
+
+    $mode_message_display = ($textarea_delivery != 'file' || $bulk_delivery != 'file');
+
+    $form['node_export_file']['node_export_file_mode'] = array(
+      '#type' => 'radios',
+      '#title' => t('File export mode'),
+      '#default_value' => variable_get('node_export_file_mode', 'inline'),
+      '#options' => array('inline' => t('Inside export code (base 64 encoded string)'), 'local' => t('Local file export'), 'remote' => t('Remote file export, URL')),
+      '#description' => t('Should file exports be inline inside the export code, a local path to the file or a URL?  "Inside export code" is the easiest option to use, local and remote modes are more useful for power users.  <em>NOTE: Remote mode only works with a public files directory.</em>'),
+      '#prefix' => '<div id="node-export-file-mode-message"><div class="message warning" style="display: ' . ($mode_message_display ? 'block' : 'none') . ';">' . t('Warning, "Inside export code (base 64 encoded string)" mode generates much larger exports.  For this reason it is recommended you set the export code delivery methods to "Text file download" (both <strong>Node export code delivery</strong> and <strong>Bulk node export code delivery</strong>).') . '</div></div>',
+    );
+
+    $form['node_export_file']['node_export_file_assets_path'] = array(
+      '#type' => 'textfield',
+      '#title' => t('Export FileField Assets Path'),
+      '#size' => 60,
+      '#maxlength' => 255,
+      '#default_value' => variable_get('node_export_file_assets_path', ''),
+      '#description' => t(
+        'Optionally, copy file uploads to this path when the node is exported.
+         The primary advantage of this is to divert exported files into a
+         safe location so they can be commmitted to source control (eg: Subversion,
+         CVS, git).  <em>Tip: For install profile developers, setting this
+         path to <code>profiles/my_profile/node_export_assets</code> may be
+         useful.</em>'
+      ),
+      '#required' => FALSE,
+    );
+  }
+}
+
+/**
+ * Implementation of hook_node_export_node_alter().
+ *
+ * Handles importing and exporting CCK FileFields
+ *
+ * @param $module
+ *   An extra paramater that allows this hook implementation to do work
+ *   for other modules that are very similar to filefield (eg: upload).
+ */
+function filefield_node_export_node_alter(&$node, $original_node, $method) {
+  _node_export_file_node_alter($node, $original_node, $method, '_filefield_field_filter');
+}
+
+/**
+ * FileField field filter callback used in _node_export_file_node_alter().
+ */
+function _filefield_field_filter($attribute, $field) {
+  return (drupal_substr($attribute, 0, 6) == 'field_' && is_array($field));
+}
+
+/**
+ * Implementation of hook_node_export_node_alter().
+ *
+ * Handles importing and exporting CCK FileFields
+ */
+function upload_node_export_node_alter(&$node, $original_node, $method) {
+  if (isset($original_node->files) && count($original_node->files) > 0) {
+    // Re-attach files, node_export module strips them off
+    $node->files = $original_node->files;
+
+    if ($method == 'export') {
+      // Mark all file uploads as "new", this is required by the upload module
+      foreach ($node->files as $fid => $file) {
+        $node->files[$fid]->new = TRUE;
+      }
+    }
+
+    _node_export_file_node_alter($node, $original_node, $method, '_upload_field_filter');
+  }
+}
+
+/**
+ * Upload module field filter callback used in _node_export_file_node_alter().
+ */
+function _upload_field_filter($attribute, $field) {
+  return ($attribute == 'files' && is_array($field));
+}
+
+/**
+ * Implementation of hook_node_export_node_alter().
+ *
+ * Handles importing and exporting photos uploaded to image nodes.  This
+ * is more complicated than for filefields or upload attachments because
+ * the image module doesn't attach the file objects for images to the node.
+ * To get around this we create a special 'image_export_files' attribute
+ * on the node.  This will be stripped off when the node is imported.
+ */
+function image_node_export_node_alter(&$node, $original_node, $method) {
+  // Only act on image nodes
+  if ($node->type != 'image') {
+    return;
+  }
+
+  if ($method == 'export') {
+    // Only export the original image, the build-derivatives attribute
+    // is set later to rebuild all image sizes on the import side
+    $result = db_query(
+      "SELECT f.*
+       FROM {image} AS i
+       INNER JOIN {files} AS f ON i.fid = f.fid
+       WHERE i.nid = %d AND f.filename = '%s'",
+      $original_node->nid, IMAGE_ORIGINAL
+    );
+    $node->image_export_files = array(db_fetch_object($result));
+
+    // Unset the images array, this will cause problems during the
+    // 'prepopulate' step during import
+    $node->images = array();
+
+    $node->rebuild_images = TRUE;
+  }
+
+  _node_export_file_node_alter($node, $original_node, $method, '_image_field_filter');
+
+  // The file objects have been saved to the database but the rest of the
+  // image tables have not been hooked up yet.
+  if (($method == 'save-edit' || $method == 'prepopulate') && !empty($node->image_export_files)) {
+    $node->images = array();
+
+    // Create the images array based on the imported files
+    foreach ($node->image_export_files as $file) {
+      $node->images[$file->filename] = $file->filepath;
+    }
+  }
+}
+
+/**
+ * Upload module field filter callback used in _node_export_file_node_alter().
+ */
+function _image_field_filter($attribute, $field) {
+  return ($attribute == 'image_export_files' && is_array($field));
+}
+
+/**
+ * Abstract hook_node_export_node_alter() used by filefield, upload, and image.
+ */
+function _node_export_file_node_alter(&$node, $original_node, $method, $attribute_filter_callback) {
+  $assets_path = variable_get('node_export_file_assets_path', '');
+  $export_mode = variable_get('node_export_file_mode', 'inline');
+
+  switch ($export_mode) {
+    case 'local':
+      $export_var = 'node_export_file_path'; break;
+    case 'remote':
+      $export_var = 'node_export_file_url';  break;
+    default:
+    case 'inline':
+      $export_var = 'node_export_file_data'; break;
+  }
+
+  if ($method == 'export') {
+    if (_node_export_file_check_assets_path($export_mode, $assets_path) === FALSE) {
+      // Don't continue if the assets path is not ready
+      return;
+    }
+  }
+
+  foreach ($node as $attr => $value) {
+    $field = &$node->$attr;
+
+    // Filter this attribute by callback
+    if (!call_user_func_array($attribute_filter_callback, array('attribute' => $attr, 'field' => $field))) {
+      continue;
+    }
+
+    // Strip off anything that isn't a file, if no files are found skip to
+    // the next attribute
+    if (($files = _node_export_file_check_files($field)) == FALSE) {
+      continue;
+    }
+
+
+    foreach ($files as $i => $file) {
+      // When exporting a node ...
+      if ($method == 'export') {
+        if (!isset($file->filepath) || !is_file($file->filepath)) {
+          drupal_set_message(t("CCK file upload found on node, but doesn't exist on disk? '!path'", array('!path' => $file->filepath)), 'error');
+          continue;
+        }
+
+        $export_data = _node_export_file_get_export_data($file, $export_mode, $assets_path);
+
+        if (is_object($field[$i])) {
+          $field[$i]->{$export_var} = $export_data;
+          $field[$i]->fid = NULL;
+          _node_export_file_clean_local_file_path($field[$i]->filepath);
+        }
+        elseif (is_array($field[$i])) {
+          $field[$i][$export_var] = $export_data;
+          $field[$i]['fid'] = NULL;
+          _node_export_file_clean_local_file_path($field[$i]['filepath']);
+        }
+      }
+      // When importing a node ...
+      elseif ($method == 'save-edit' || $method == 'prepopulate') {
+        $result = _node_export_file_import_file($file);
+
+        // The file was saved successfully, update the file field (by reference)
+        if ($result == TRUE && isset($file->fid)) {
+          if (is_object($field[$i])) {
+            $field[$i]->fid = $file->fid;
+            $field[$i]->filepath = $file->filepath;
+          }
+          elseif (is_array($field[$i])) {
+            $field[$i]['fid'] = $file->fid;
+            $field[$i]['filepath'] = $file->filepath;
+          }
+        }
+      }
+    }
+  }
+}
+
+/**
+ * Ensure the assets path is exists and is writeable.
+ *
+ * @param $export_mode
+ *   The files export mode, 'local' or 'remote'
+ * @param $assets_path
+ *   The assets path, should be empty ('') if assets are not supposed to
+ *   be copied.
+ * @return TRUE or FALSE or NULL
+ *   TRUE  if the assets path is ready, and files should be copied there
+ *   FALSE if the assets path is not ready, and files should be copied there
+ *   NULL  if files shouldn't be copied to the assets path
+ */
+function _node_export_file_check_assets_path($export_mode, $assets_path) {
+  // If files are supposed to be copied to the assets path.
+  if ($export_mode == 'local' && $assets_path) {
+    // Ensure the assets path is created
+    if (!is_dir($assets_path) && mkdir($assets_path, 0777, TRUE) == FALSE) {
+      drupal_set_message(t("Could not create assets path! '!path'", array('!path' => $assets_path)), 'error');
+      return FALSE;
+    }
+
+    // Ensure it is writable
+    if (!is_writable($assets_path)) {
+      drupal_set_message(t("Assets path is not writable! '!path'", array('!path' => $assets_path)), 'error');
+      return FALSE;
+    }
+
+    return TRUE;
+  }
+
+  return NULL;
+}
+
+/**
+ * Checks an array of files, removing any that are invalid.
+ *
+ * @return $files or FALSE
+ *   Returns an array of $files objects, or FALSE if there are no files.
+ */
+function _node_export_file_check_files($original_files) {
+  $files = array();
+
+  foreach ($original_files as $i => $file) {
+    $file = (object) $file;
+
+    if (isset($file->filepath)) {
+      // NOTE: Preserving the $i key is important for later manipulation
+      $files[$i] = $file;
+    }
+  }
+
+  return (count($files) > 0) ? $files : FALSE;
+}
+
+/**
+ * Handles the file copying parts and local/remote parts of the file export.
+ *
+ * @param $file
+ *   The file object to handle.
+ * @param $export_mode
+ *   The mode, 'inline' / 'local' / 'remote'
+ * @param $assets_path
+ *   Either empty ('') if files should not be copied to the assets path, or
+ *   the path to a writable directory.
+ */
+function _node_export_file_get_export_data($file, $export_mode, $assets_path) {
+  if ($export_mode == 'local') {
+    if ($assets_path) {
+      $export_data = $assets_path .'/'. basename($file->filepath);
+      if (!copy($file->filepath, $export_data)) {
+        drupal_set_message(t("Export file error, could not copy '%filepath' to '%exportpath'.", array('%filepath' => $file->filepath, '%exportpath' => $export_data)), 'error');
+        return FALSE;
+      }
+    }
+    else {
+      $export_data = $file->filepath;
+    }
+  }
+  // Remote export mode
+  elseif ($export_mode == 'remote') {
+    $export_data = url($file->filepath, array('absolute' => TRUE));
+  }
+  // Default is 'inline' export mode
+  else {
+    $export_data = base64_encode(file_get_contents($file->filepath));
+  }
+
+  return $export_data;
+}
+
+/**
+ * Replaces the files directory portion of a path with a substition
+ * this forces clients decoding the node export to use their own
+ * files directory path.  This helps get around issues with multi-site
+ * installations and non-standard files directory locations.
+ */
+function _node_export_file_clean_local_file_path(&$path) {
+  $path = preg_replace('/^'. preg_quote(file_directory_path(), '/') .'/', EXPORT_FILE_FILES_DIR_SUBSTITUTION, $path);
+}
+
+/**
+ * Replaces the EXPORT_FILE_FILES_DIR_SUBSTITUTION with the files directory
+ * path, wherever found.
+ */
+function _node_export_file_unclean_local_file_path(&$path) {
+  $path = strtr($path, array(EXPORT_FILE_FILES_DIR_SUBSTITUTION => file_directory_path()));
+}
+
+/**
+ * Detects remote and local file exports and imports accordingly.
+ *
+ * @param &$file
+ *   The file, passed by reference.
+ * @return TRUE or FALSE
+ *   Depending on success or failure.  On success the $file object will
+ *   have a valid $file->fid attribute.
+ */
+function _node_export_file_import_file(&$file) {
+  // Ensure the filepath is set correctly relative to this Drupal site's
+  // files directory
+  _node_export_file_unclean_local_file_path($file->filepath);
+
+  // The file is already in the right location AND either the
+  // node_export_file_path is not set or the node_export_file_path and filepath
+  // contain the same file
+  // FIXME: same filesize does NOT mean "same file".
+  if (is_file($file->filepath) &&
+    (
+      !is_file($file->node_export_file_path) ||
+      (
+        is_file($file->node_export_file_path) &&
+        filesize($file->filepath) == filesize($file->node_export_file_path)
+      )
+    )
+  ) {
+    drupal_write_record('files', $file);
+  }
+  elseif (isset($file->node_export_file_data)) {
+    $directory = file_create_path(dirname($file->filepath));
+
+    if (file_check_directory($directory, TRUE)) {
+      if (file_put_contents($file->filepath, base64_decode($file->node_export_file_data))) {
+        drupal_write_record('files', $file);
+      }
+    }
+  }
+  // The file is in a local location, move it to the
+  // destination then finish the save
+  elseif (isset($file->node_export_file_path) && is_file($file->node_export_file_path)) {
+    $directory = file_create_path(dirname($file->filepath));
+
+    if (file_check_directory($directory, TRUE)) {
+      // The $file->node_export_file_path is passed to reference, and modified
+      // by file_copy().  Making a copy to avoid tainting the original.
+      $node_export_file_path = $file->node_export_file_path;
+      file_copy($node_export_file_path, $directory, FILE_EXISTS_REPLACE);
+
+      // At this point the $file->node_export_file_path will contain the
+      // destination of the copied file
+      $file->filepath = $node_export_file_path;
+
+      drupal_write_record('files', $file);
+    }
+  }
+  // The file is in a remote location, attempt to download it
+  elseif (isset($file->node_export_file_url)) {
+    // Need time to do the download
+    ini_set('max_execution_time', 900);
+
+    $temp_path = file_directory_temp() . '/' . md5(mt_rand()) .'.txt';
+    if (($source = fopen($file->node_export_file_url, 'r')) == FALSE) {
+      drupal_set_message(t("Could not open '@file' for reading.", array('@file' => $file->node_export_file_url)));
+      return FALSE;
+    }
+    elseif (($dest = fopen($temp_path, 'w')) == FALSE) {
+      drupal_set_message(t("Could not open '@file' for writing.", array('@file' => $file->filepath)));
+      return FALSE;
+    }
+    else {
+      // PHP5 specific, downloads the file and does buffering
+      // automatically.
+      $bytes_read = @stream_copy_to_stream($source, $dest);
+
+      // Flush all buffers and wipe the file statistics cache
+      @fflush($source);
+      @fflush($dest);
+      clearstatcache();
+
+      if ($bytes_read != filesize($temp_path)) {
+        drupal_set_message(t("Remote export '!url' could not be fully downloaded, '@file' to temporary location '!temp'.", array('!url' => $file->node_export_file_url, '@file' => $file->filepath, '!temp' => $temp_path)));
+        return FALSE;
+      }
+      // File was downloaded successfully!
+      else {
+        if (!@copy($temp_path, $file->filepath)) {
+          unlink($temp_path);
+          drupal_set_message(t("Could not move temporary file '@temp' to '@file'.", array('@temp' => $temp_path, '@file' => $file->filepath)));
+          return FALSE;
+        }
+
+        unlink($temp_path);
+        $file->filesize = filesize($file->filepath);
+        $file->filemime = file_get_mimetype($file->filepath);
+      }
+    }
+
+    fclose($source);
+    fclose($dest);
+
+    drupal_write_record('files', $file);
+  }
+  // Unknown error
+  else {
+    drupal_set_message(t("Unknown error occurred attempting to import file: {$file->filepath}"), 'error');
+    return FALSE;
+  }
+
+  return TRUE;
+}
+
diff --git a/sites/all/modules/node_export/node_export.api.php b/sites/all/modules/node_export/node_export.api.php
new file mode 100644
index 0000000..b07250a
--- /dev/null
+++ b/sites/all/modules/node_export/node_export.api.php
@@ -0,0 +1,163 @@
+<?php
+// $Id: node_export.api.php,v 1.1.2.8 2010/11/30 01:43:16 danielb Exp $
+
+/**
+ * @file
+ * Documents node_export's hooks for api reference.
+ */
+
+/**
+ * Override export access on a node.
+ *
+ * Let other modules alter this - for example to only allow some users to
+ * export specific nodes or types.
+ *
+ * @param &$access
+ *   Boolean access value for current user.
+ * @param $node
+ *   The node to determine access for.
+ */
+function hook_node_export_access_alter(&$access, $node) {
+  // no example code
+}
+
+/**
+ * Manipulate a node on import/export.
+ *
+ * @param &$node
+ *   The node to alter.
+ * @param $original_node
+ *   The unaltered node.
+ * @param $method
+ *   'export' for exports, and 'prepopulate' or 'save-edit' for imports
+ *   depending on the method used.
+ */
+function hook_node_export_node_alter(&$node, $original_node, $method) {
+  // no example code
+}
+
+/**
+ * Override one line of the export code output.
+ *
+ * @param &$out
+ *   The line of output.
+ * @param $tab
+ *   The $tab variable from node_export_node_encode().
+ * @param $key
+ *   The $key variable from node_export_node_encode().
+ * @param $value
+ *   The $value variable from node_export_node_encode().
+ * @param $iteration
+ *   The $iteration variable from node_export_node_encode().
+ */
+function hook_node_export_node_encode_line_alter(&$out, $tab, $key, $value, $iteration) {
+  // Start with something like this, and work on it:
+  $out = $tab ."  '". $key ."' => ". node_export_node_encode($value, $iteration) .",\n";
+}
+
+/**
+ * Manipulate node array before bulk export or import.
+ *
+ * The purpose of this is to allow a module to check nodes in the array for
+ * two or more nodes that must retain a relationship, and to add/remove other
+ * data to the array to assist with maintaining dependencies, relationships,
+ * references, and additional data required by the nodes.
+ *
+ * @param &$nodes
+ *   The node array to alter.
+ * @param $op
+ *   'import', 'after import', or 'export'.
+ */
+function hook_node_export_node_bulk_alter(&$nodes, $op) {
+  // no example code
+}
+
+/**
+ * Circumvent the default node export output method.
+ *
+ * @param &$return
+ *   The node export code.  Leave as FALSE for no change.
+ * @param $var
+ *   The node.
+ * @param $format
+ *   A string indicating what the export format is, and whether to do anything.
+ */
+function hook_node_export_node_encode_alter(&$return, $var, $format) {
+  // your code here
+
+  /*
+   Initially $return will be FALSE, if you change $return to something else,
+   you will override node_export's default node code to whatever that value is.
+   $var contains the node object.
+   Now you could either decide to always override the $return value (which
+   would be a problem if multiple modules decided to do that as only one of
+   them would work), but it would be better to only intervene when $format is
+   set to some string that your module recognises. The idea is that if we went
+   to the URL node/40/node_export/xml it would try to export node 40 with 'xml'
+   as the $format.
+   (You do not need to actually return anything)
+   */
+}
+
+/**
+ * Circumvent the default node import method.
+ *
+ * @param &$return
+ *   The array/object to return to node export.
+ * @param $string
+ *   The node code.
+ */
+function hook_node_export_node_decode_alter(&$return, $string) {
+  // your code here
+
+  /*
+   This goes hand-in-hand with hook_node_export_node_encode_alter().
+   You would have to autodetect the format in the $string and change the
+   $return value if required.
+   (Don't return anything)
+  */
+}
+
+/**
+ * Circumvent the default bulk node export output method.
+ *
+ * @param &$node_code
+ *   The node export code.  Leave as FALSE for no change.
+ * @param $nodes
+ *   The node.
+ * @param $format
+ *   A string indicating what the export format is, and whether to do anything.
+ */
+function hook_node_export_node_bulk_encode_alter(&$node_code, $nodes, $format) {
+  // your code here
+
+  /*
+   Again, $node_code starts off as FALSE, if you change it you override it
+   Your code would ideally loop through $nodes, pass them off to the function
+   you created earlier to export single nodes, and then somehow concatenate all
+   the returns from that function into $node_code.
+   (again, you don't actually return anything)
+
+   You should also implement your own hook_node_operations() following what
+   node_export did, but changing the label slightly, and adding the 2nd callback
+   argument that is your $format string. But keep the callback the same as
+   node_export, don't replace that.
+  */
+}
+
+/**
+ * Register a format handler, for exporting code using other methods.
+ *
+ * @return
+ *   An array keyed by format names containing an array with keys #title and
+ *   #module, where the value for #title is the display name of the format, and
+ *   the value for #module is the module that implements it.
+ */
+function hook_node_export_format_handlers() {
+  return array(
+    'format_short_name' => array(
+      '#title' => t('Format Title'),
+      '#module' => 'format_module_name',
+    ),
+  );
+}
\ No newline at end of file
diff --git a/sites/all/modules/node_export/node_export.drush.inc b/sites/all/modules/node_export/node_export.drush.inc
new file mode 100644
index 0000000..036d1b2
--- /dev/null
+++ b/sites/all/modules/node_export/node_export.drush.inc
@@ -0,0 +1,263 @@
+<?php
+// $Id: node_export.drush.inc,v 1.1.2.15 2010/12/09 05:53:56 danielb Exp $
+
+/**
+ * @file
+ *   Drush support for node_export.
+ */
+
+/**
+ * Implementation of hook_drush_command().
+ */
+function node_export_drush_command() {
+  $items = array();
+
+  $items['node-export-export'] = array(
+    'callback' => 'node_export_drush_callback_export',
+    'description' => "Export nodes by Node ID.",
+    'arguments' => array(
+      'nids' => "A list of space-separated node IDs to export.",
+    ),
+    'options' => array(
+      '--file' => "The filename of the output file.  If supplied, the node code will be exported to that file, otherwise it will export to stdout.",
+      '--status' => "Filter for 'status'; A boolean value (0 or 1) indicating whether the node is published (visible to non-administrators).",
+      '--promote' => "Filter for 'promote'; A boolean value (0 or 1) indicating whether the node should be displayed on the front page.",
+      '--sticky' => "Filter for 'sticky'; A boolean value (0 or 1) indicating whether the node should be displayed at the top of lists in which it appears.",
+      '--translate' => "Filter for 'translate'; A boolean value (0 or 1) indicating whether the node translation needs to be updated.",
+      '--language' => "Filter for 'language'; The language code (e.g. de or en-US) of this node.",
+      '--type' => "Filter for 'type'; The machine-readable name (e.g. story or page) of the type of this node.",
+    ),
+    'examples' => array(
+      'drush node-export-export 45 46 47 --file=filename' =>
+        "Export nodes with node IDs 45, 46, and 47 to the file with the supplied filename.",
+      'drush node-export-export --type=story,page --file=filename' =>
+        "Export nodes of type story and page to the file with the supplied filename.",
+      //'drush node-export-export 45 46 47 > filename' =>
+      //  "Export nodes with node IDs 45, 46, and 47 to the file with the supplied filename.  NOTE: Error messages may be output to the file.",
+    ),
+  );
+  $items['node-export-import'] = array(
+    'callback' => 'node_export_drush_callback_import',
+    'description' => "Import nodes from a previous export.",
+    'options' => array(
+      '--uid' => "User ID of user to save nodes as. If not given will use the user with an ID of 1. You may specify 0 for the Anonymous user.",
+      '--file' => "The filename of the input file.  If supplied, the node code will be imported from that file, otherwise it will import to stdin.",
+    ),
+    'examples' => array(
+      'drush node-export-import --file=filename' =>
+        'Import nodes from the file with the given filename.',
+      'drush node-export-import --uid=2 --file=filename' =>
+        "Import nodes from the file with the given filename.  The author of the nodes will be set to the user that has the user ID of 2.",
+      //'drush node-export-import < filename' =>
+      //  'Import nodes from the file with the given filename.',
+    ),
+  );
+
+  // Add aliases for usability.
+  node_export_drush_command_add_alias($items, 'node-export-export', 'node-export');
+  node_export_drush_command_add_alias($items, 'node-export-export', 'ne-export');
+  node_export_drush_command_add_alias($items, 'node-export-import', 'ne-import');
+
+  return $items;
+}
+
+/**
+ * A function to help alias commands as other commands.
+ */
+function node_export_drush_command_add_alias(&$items, $command, $alias) {
+   // Create a property on the command for adding aliases, if not there.
+   if (!isset($items[$command]['node_export command aliases'])) {
+      $items[$command]['node_export command aliases'] = array();
+   }
+   // Record the alias into that property.
+   $items[$command]['node_export command aliases'][] = $alias;
+   // Create the alias as a new command.
+   $items[$alias] = $items[$command];
+   // Indicate what this new command is an alias for.
+   $items[$alias]['node_export alias for'] = $command;
+}
+
+/**
+ * Implementation of hook_drush_help().
+ *
+ * This function is called whenever a drush user calls
+ * 'drush help <name-of-your-command>'
+ *
+ * @param
+ *   A string with the help section (prepend with 'drush:')
+ *
+ * @return
+ *   A string with the help text for your command.
+ */
+function node_export_drush_help($section) {
+  // This is to prevent duplication of information from hook_drush_command().
+  $commands = node_export_drush_command();
+  foreach ($commands as $command => $command_info) {
+    if ($section == 'drush:'. $command) {
+      $out = $command_info['description'];
+      if (isset($command_info['node_export alias for'])) {
+        $output .= "\nThis command is an alias for ";
+        $output .= $command_info['node_export alias for'] .".";
+      }
+      if (isset($command_info['node_export command aliases'])) {
+        if (count($command_info['node_export command aliases']) == 1) {
+          $output .= "\nThis command can be called by it's alias; ";
+          $output .= $command_info['node_export command aliases'] .".";
+        }
+        else {
+          $last_alias = array_pop($command_info['node_export command aliases']);
+          $output .= "\nThis command can be called by it's aliases; ";
+          $output .= implode(", ", $command_info['node_export command aliases']);
+          $output .= ", or ". $last_alias .".";
+        }
+      }
+      $out .= "\n\nArguments:";
+      if (isset($command_info['arguments'])) {
+        foreach ($command_info['arguments'] as $k => $v) {
+          $out .= "\n  ". $k ." : ". $v;
+        }
+      }
+      $out .= "\n\nOptions:";
+      if (isset($command_info['options'])) {
+        foreach ($command_info['options'] as $k => $v) {
+          $out .= "\n  ". $k ." : ". $v;
+        }
+      }
+      $out .= "\n\nExamples:";
+      if (isset($command_info['examples'])) {
+        foreach ($command_info['examples'] as $k => $v) {
+          $out .= "\n  \'". $k ."\' : ". $v;
+        }
+      }
+      return dt($out);
+    }
+  }
+}
+
+/**
+ * Drush command callback.
+ *
+ * Export nodes.
+ */
+function node_export_drush_callback_export() {
+
+  // Set up an array of nid_filters.
+  $nid_filters = array();
+
+  // The base nids.
+  $args = array_filter(func_get_args(), 'is_numeric');
+  if ($args) {
+    $nid_filters['base'] = $args;
+  }
+
+  // Filter for values in the node table (except for nids).
+  $filters = array(
+    'status' => "%d",
+    'promote' => "%d",
+    'sticky' => "%d",
+    'translate' => "%d",
+    'language' => "'%s'",
+    'type' => "'%s'",
+  );
+  $wheres = array();
+  $args = array();
+  foreach ($filters as $filter => $filter_type) {
+    $filter_option = drush_get_option($filter);
+    if ($filter_option) {
+      $filter_option_values = explode(",", $filter_option);
+      $filter_option_placeholders = array();
+      foreach ($filter_option_values as $v) {
+        $filter_option_placeholders[] = $filter_type;
+      }
+      $wheres[] = $filter ." IN (". implode(", ", $filter_option_placeholders) .")";
+      $args = $args + $filter_option_values;
+    }
+  }
+  if (!empty($wheres)) {
+    $query = "SELECT nid FROM {node} WHERE (". implode(") AND (", $wheres) .")";
+    $result = db_query($query, $args);
+    while ($row = db_fetch_array($result)) {
+      $nid_filters['filters'][] = $row['nid'];
+    }
+  }
+
+  if (count($nid_filters) > 1) {
+     // Compute the intersect of all $nid_filters if there are more than one.
+    $nids = call_user_func_array('array_intersect', $nid_filters);
+  }
+  else if (count($nid_filters) == 1) {
+    // Use the only filter if there is only one.
+    $nids = reset($nid_filters);
+  }
+  else {
+    // Is there are no filters at all, do a query to get all nids.
+    $query = "SELECT nid FROM {node}";
+    $result = db_query($query);
+    $nids = array();
+    while ($row = db_fetch_array($result)) {
+      $nids[] = $row['nid'];
+    }
+  }
+
+  if (empty($nids)) {
+    drush_set_error('DRUSH_NOT_COMPLETED', "No nodes found.");
+  }
+
+  $data = node_export_node_bulk($nids, TRUE);
+
+  $filename = drush_get_option('file');
+
+  if ($filename) {
+    // Output data to file. Note this only takes a flat filename for the current directory.
+    // If file exists, ask for whether to overwrite.
+    if (file_exists($filename)) {
+      if (!drush_confirm(dt("File $filename exists. Do you really want to overwrite?"))) {
+        return;
+      }
+    }
+    // Write the file.
+    file_put_contents($filename, $data);
+  }
+  else {
+    // stdout.
+    drush_print_r($data);
+  }
+}
+
+/**
+ * Drush command callback.
+ *
+ * Import nodes from data.
+ */
+function node_export_drush_callback_import() {
+  // Switch to admin or the specified user so imported nodes are not anonymous.
+  $uid = drush_get_option('uid');
+  // Test on NULL so uid may be given as 0.
+  if (is_null($uid)) {
+    $uid = 1;
+  }
+  // User 0 is already loaded.
+  if ($uid != 0) {
+    global $user;
+    $user = user_load($uid);
+  }
+
+  $filename = drush_get_option('file');
+
+  if ($filename) {
+    $node_code = file_get_contents($filename, "r");
+  }
+  else {
+    $node_code = file_get_contents("php://stdin", "r");
+  }
+
+  if (!empty($node_code)) {
+    $result = node_export_import($node_code, 'save-edit', FALSE, 'drush_print', 'dt');
+    if ($result === FALSE) {
+      // There was a problem with types?
+      drush_set_error('DRUSH_NOT_COMPLETED', "A problem was found with the import data. Check that the node types and all the required modules exist.");
+    }
+  }
+
+}
+
diff --git a/sites/all/modules/node_export/node_export.info b/sites/all/modules/node_export/node_export.info
new file mode 100644
index 0000000..4db36f8
--- /dev/null
+++ b/sites/all/modules/node_export/node_export.info
@@ -0,0 +1,10 @@
+; $Id: node_export.info,v 1.1.2.7 2010/02/18 02:23:38 danielb Exp $
+name = Node Export
+description = "Allows users to export a node and the import into another Drupal installation."
+core = 6.x
+; Information added by drupal.org packaging script on 2010-12-09
+version = "6.x-2.24"
+core = "6.x"
+project = "node_export"
+datestamp = "1291874138"
+
diff --git a/sites/all/modules/node_export/node_export.install b/sites/all/modules/node_export/node_export.install
new file mode 100644
index 0000000..ef35511
--- /dev/null
+++ b/sites/all/modules/node_export/node_export.install
@@ -0,0 +1,30 @@
+<?php
+// $Id: node_export.install,v 1.1.2.5 2010/12/01 02:27:00 danielb Exp $
+
+/**
+ * @file
+ * The Node Export install file.
+ */
+
+/**
+ * Implementation of hook_uninstall().
+ */
+function node_export_uninstall() {
+  variable_del('node_export_method');
+  variable_del('node_export_code');
+  variable_del('node_export_filename');
+  variable_del('node_export_file_list');
+  variable_del('node_export_bulk_code');
+  variable_del('node_export_bulk_filename');
+  variable_del('node_export_omitted');
+  variable_del('node_export_nodes_without_confirm');
+  $types = node_get_types('names');
+  foreach ($types as $type => $name) {
+    variable_del('node_export_reset_'. $type);
+    variable_del('node_export_reset_created_'. $type);
+    variable_del('node_export_reset_menu_'. $type);
+    variable_del('node_export_reset_path_'. $type);
+    variable_del('node_export_reset_book_mlid_'. $type);
+  }
+}
+
diff --git a/sites/all/modules/node_export/node_export.module b/sites/all/modules/node_export/node_export.module
new file mode 100644
index 0000000..c75f680
--- /dev/null
+++ b/sites/all/modules/node_export/node_export.module
@@ -0,0 +1,1054 @@
+<?php
+// $Id: node_export.module,v 1.1.2.33 2010/12/01 00:57:31 danielb Exp $
+
+/**
+ * @file
+ * The Node Export module.
+ *
+ * Allows users to export nodes and then import them into another Drupal installation.
+ */
+
+// Define the files subdirectory
+define("NODE_EXPORT", "node-export");
+
+/**
+ * Implementation of hook_help().
+ */
+function node_export_help($path, $arg) {
+  switch ($path) {
+    case 'admin/help#node_export':
+      $output = '<p>'. t('The Node export module allows users to export an existing node and then import it into another Drupal installation.') .'</p>';
+      $output .= '<p>'. t('Users with the "export node" permission can utilize this functionality. A new tab will appear on node pages with the word "Export".') .'</p>';
+      $output .= '<p>'. t('It is also possible to do bulk exports, with the "export bulk nodes" permission, via Content admin (admin/content/node) or using "Views Bulk Operations".') .'</p>';
+      $output .= '<p>'. t('Importing nodes is done via the "Node Export: Import" page (admin/content/import) and can be done by those with the "use PHP to import nodes" permission.') .'</p>';
+      return $output;
+  }
+}
+
+/**
+ * Implementation of hook_perm().
+ */
+function node_export_perm() {
+  return array('export node', 'export bulk nodes', 'export own nodes', 'use PHP to import nodes');
+}
+
+/**
+ * Implementation of hook_menu().
+ */
+function node_export_menu() {
+  $items['admin/settings/node_export'] = array(
+    'access arguments' => array('administer site configuration'),
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('node_export_settings'),
+    'title' => 'Node Export',
+    'description' => 'Configure the settings for Node Export.',
+  );
+  $items['node/%node/node_export'] = array(
+    'access callback' => 'node_export_access',
+    'access arguments' => array(1),
+    'page callback' => 'node_export_node_export',
+    'page arguments' => array(1, 3),
+    'title' => 'Export',
+    'weight' => 5,
+    'type' => MENU_LOCAL_TASK,
+  );
+  $items['admin/content/import'] = array(
+    'access arguments' => array('use PHP to import nodes'),
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('node_export_import_form'),
+    'title' => 'Node Export: Import',
+    'type' => MENU_NORMAL_ITEM,
+    'description' => 'Import nodes that were exported with <em>Node Export</em>.',
+  );
+  return $items;
+}
+
+/**
+ * Check menu access to export a node.
+ */
+function node_export_access($node) {
+  global $user;
+  // Check basic permissions first.
+  $access = (user_access('export node') || ($user->uid && ($node->uid == $user->uid) && user_access('export own nodes')));
+  // Make sure the user can view the original node content.
+  $access = $access && node_access('view', $node);
+  // Check additional conditions
+  $access = $access && (node_export_is_permitted($node->type) && filter_access($node->format) && node_access('create', $node->type));
+  // Let other modules alter this - for exmple to only allow some users
+  // to export specific nodes or types.
+  drupal_alter("node_export_access", $access, $node);
+  return $access;
+}
+
+/**
+ * Check whether exporting this type is permitted.
+ */
+function node_export_is_permitted($type) {
+  $omitted = variable_get('node_export_omitted', array());
+  return empty($omitted[$type]);
+}
+
+/**
+ * Implementation of hook_node_type().
+ */
+function node_export_node_type($op, $type_obj) {
+
+  switch ($op) {
+    case 'delete':
+      variable_del('node_export_reset_'. $type_obj->type);
+      break;
+    case 'update':
+      if (!empty($type_obj->old_type) && $type_obj->old_type != $type_obj->type) {
+        if (variable_get('node_export_reset_'. $type_obj->old_type, FALSE)) {
+          variable_del('node_export_reset_'. $type_obj->old_type);
+          variable_set('node_export_reset_'. $type_obj->type, TRUE);
+        }
+      }
+      break;
+  }
+}
+
+/**
+ * Implementation of hook_views_api().
+ */
+function node_export_views_api() {
+  return array(
+    'api' => 2,
+    'path' => drupal_get_path('module', 'node_export') .'/views',
+  );
+}
+
+/**
+ * Implementation of hook_node_operations().
+ */
+function node_export_node_operations() {
+  $operations = array();
+  if (user_access('export bulk nodes')) {
+    $operations = array(
+      'node_export' => array(
+        'label' => t('Export nodes'),
+        'callback' => 'node_export_node_bulk',
+        'callback arguments' => array(FALSE),
+      ),
+    );
+  }
+  return $operations;
+}
+
+/**
+ * Callback for 'node_export' node operation.
+ */
+function node_export_node_bulk($nids, $return_code = FALSE, $format = NULL) {
+
+  $nodes = array();
+  foreach ($nids as $nid) {
+    $nodes[] = node_load($nid);
+  }
+
+  // Let other modules do special fixing up.
+  // The function signature is: hook_node_export_node_bulk_alter(&$nodes, $op).
+  // Where $op is 'export'.
+  drupal_alter('node_export_node_bulk', $nodes, 'export', $format);
+
+  // Allow other modules to take over this entire process. Typically the module
+  // would respond if $format was set to something it recognises.
+  $node_code = FALSE;
+  drupal_alter('node_export_node_bulk_encode', $node_code, $nodes, $format);
+
+  // Default handling of bulk node code.
+  if ($node_code === FALSE) {
+    $node_codes = array();
+    foreach ($nodes as $node) {
+      $node_codes[] = node_export_node_export($node, TRUE, 1);
+    }
+    $node_code = "array(\n  ". implode(",\n  ", $node_codes) .",\n)";
+  }
+
+  if ($return_code) {
+    return $node_code;
+  }
+  if (variable_get('node_export_bulk_code', 'copy') == 'copy') {
+    drupal_set_message(drupal_get_form('node_export_form', $node_code));
+  }
+  else {
+    node_export_get_file($nids, $node_code, TRUE);
+  }
+}
+
+/**
+ * Generate text file.
+ * @param $nodes
+ *   An array of nids.
+ * @param $node_code
+ *   The text output.
+ */
+function node_export_get_file($nodes, $node_code, $bulk = FALSE) {
+  $filename_data = array();
+  $filename_data['count'] = count($nodes);
+  $filename_data['time'] = time();
+
+  // Add a list of nids
+  if (count($nodes) <= variable_get('node_export_file_list', 10)) {
+    $filename_data['list'] = '['. implode(',', $nodes) .']';
+  }
+  if ($bulk) {
+    $name = variable_get('node_export_bulk_filename', 'node-export[nid-list]([node-count]-nodes).[timestamp].export');
+  }
+  else {
+    $name = variable_get('node_export_node_filename', 'node-export[nid-list].[timestamp].export');
+  }
+  if (module_exists('token')) {
+    $name = token_replace($name, 'Node export filename', $filename_data, '[', ']');
+  }
+  else {
+    // So it works without token.
+    $name = str_replace('[nid-list]', $filename_data['list'], $name);
+    $name = str_replace('[node-count]', $filename_data['count'], $name);
+    $name = str_replace('[timestamp]', $filename_data['time'], $name);
+  }
+  header('Content-type: text/plain');
+  header('Content-Disposition: attachment; filename="'. $name .'"');
+  print($node_code);
+  // Clean exit.
+  module_invoke_all('exit');
+  exit;
+}
+
+/**
+ * Implementation of hook_token_values().
+ */
+function node_export_token_values($type, $object = NULL, $options = array()) {
+  if ($type == 'Node export filename') {
+    $tokens['nid-list']      = $object['list'];
+    $tokens['node-count']    = $object['count'];
+    $tokens['timestamp']     = $object['time'];
+    return $tokens;
+  }
+}
+
+/**
+ * Implementation of hook_token_list().
+ */
+function node_export_token_list($type = 'all') {
+  if ($type == 'Node export filename') {
+    $tokens['Node export filename']['nid-list']      = t("Comma seperated list of node ids in square brackets (if available).");
+    $tokens['Node export filename']['node-count']    = t("The number of nodes exported.");
+    $tokens['Node export filename']['timestamp']     = t("The timestamp when the file was generated.");
+    return $tokens;
+  }
+}
+
+/**
+ * Handles the bits of the form that are specific to the token module.
+ */
+function node_export_settings_token_bits(&$form, $key, $group = 'basic') {
+  if (module_exists('token')) {
+    $form[$group][$key .'_token_help'] = array(
+      '#title' => t('Replacement patterns'),
+      '#type' => 'fieldset',
+      '#collapsible' => TRUE,
+      '#collapsed' => TRUE,
+    );
+    $form[$group][$key .'_token_help']['help'] = array(
+      '#value' => theme('token_help', 'Node export filename'),
+    );
+  }
+  else {
+    $form[$group][$key]['#description'] = t('Get the <a href="@token">token</a> module for more options.', array('@token' => url('http://www.drupal.org/project/token')));
+  }
+}
+
+/**
+ * Menu callback to configure module settings.
+ */
+function node_export_settings() {
+
+  $form['basic'] = array(
+    '#type' => 'fieldset',
+    '#title' => t('General settings'),
+  );
+
+  $format_handlers = node_export_format_handlers();
+  if (!empty($format_handlers)) {
+    $format_options = array(NULL => t('Default node code'));
+    foreach ($format_handlers as $format_handler => $format) {
+      $format_options[$format_handler] = $format['#title'];
+    }
+    $form['basic']['node_export_format'] = array(
+      '#type' => 'radios',
+      '#title' => t('Format to use when exporting a node'),
+      '#options' => $format_options,
+      '#default_value' => variable_get('node_export_format', NULL),
+    );
+  }
+
+  $form['basic']['node_export_method'] = array(
+    '#type' => 'radios',
+    '#title' => t('Method to use when importing a node'),
+    '#options' => array('save-edit' => t('Save as a new node then edit'), 'prepopulate' => t('Prepopulate the node form fields (Incompatible with some modules)')),
+    '#default_value' => variable_get('node_export_method', 'save-edit'),
+  );
+  $form['basic']['node_export_node_code'] = array(
+    '#type' => 'radios',
+    '#title' => t('Node export code delivery'),
+    '#options' => array('copy' => t('Textarea filled with export code'), 'file' => t('Text file download')),
+    '#default_value' => variable_get('node_export_node_code', 'copy'),
+  );
+  $form['basic']['node_export_node_filename'] = array(
+    '#type' => 'textfield',
+    '#title' => t('Filename pattern'),
+    '#default_value' => variable_get('node_export_node_filename', 'node-export[nid-list].[timestamp].export'),
+    '#size' => 120,
+  );
+  node_export_settings_token_bits($form, 'node_export_node_filename');
+  $form['basic']['node_export_bulk_code'] = array(
+    '#type' => 'radios',
+    '#title' => t('Bulk node export code delivery'),
+    '#options' => array('copy' => t('Textarea filled with export code'), 'file' => t('Text file download')),
+    '#default_value' => variable_get('node_export_bulk_code', 'copy'),
+  );
+  $form['basic']['node_export_bulk_filename'] = array(
+    '#type' => 'textfield',
+    '#title' => t('Filename pattern (bulk)'),
+    '#default_value' => variable_get('node_export_bulk_filename', 'node-export[nid-list]([node-count]-nodes).[timestamp].export'),
+    '#size' => 120,
+  );
+  node_export_settings_token_bits($form, 'node_export_bulk_filename');
+  $form['basic']['node_export_file_list'] = array(
+    '#type' => 'textfield',
+    '#title' => t('Nid list limit max'),
+    '#default_value' => variable_get('node_export_file_list', 10),
+    '#size' => 6,
+    '#maxlength' => 30,
+    '#description' => t('If there are more than this many nodes, the list of node ids for the filename will not be built.'),
+  );
+
+  $form['publishing'] = array(
+    '#type' => 'fieldset',
+    '#title' => t('Reset values on import'),
+  );
+  $types = node_get_types('names');
+
+  foreach ($types as $type => $name) {
+    $form['publishing'][$type] = array(
+      '#type' => 'fieldset',
+      '#title' => $name,
+      '#description' => t('Reset these values when importing nodes of type @s.', array('@s' => $name)),
+    );
+    $form['publishing'][$type]['node_export_reset_'. $type] = array(
+      '#type' => 'checkbox',
+      '#title' => t('Publishing options (status, moderate, promote, sticky, and revision)'),
+      '#default_value' => variable_get('node_export_reset_'. $type, FALSE),
+    );
+    $form['publishing'][$type]['node_export_reset_created_'. $type] = array(
+      '#type' => 'checkbox',
+      '#title' => t('Created time (<em>Authored on</em> date/time)'),
+      '#default_value' => variable_get('node_export_reset_created_'. $type, TRUE),
+    );
+    $form['publishing'][$type]['node_export_reset_changed_'. $type] = array(
+      '#type' => 'checkbox',
+      '#title' => t('Changed time (<em>Last updated</em> date/time)'),
+      '#default_value' => variable_get('node_export_reset_changed_'. $type, TRUE),
+    );
+    $form['publishing'][$type]['node_export_reset_menu_'. $type] = array(
+      '#type' => 'checkbox',
+      '#title' => t('Menu link'),
+      '#default_value' => variable_get('node_export_reset_menu_'. $type, TRUE),
+    );
+    $form['publishing'][$type]['node_export_reset_path_'. $type] = array(
+      '#type' => 'checkbox',
+      '#title' => t('URL path'),
+      '#default_value' => variable_get('node_export_reset_path_'. $type, TRUE),
+    );
+    $form['publishing'][$type]['node_export_reset_book_mlid_'. $type] = array(
+      '#type' => 'checkbox',
+      '#title' => t('Book menu link'),
+      '#default_value' => variable_get('node_export_reset_book_mlid_'. $type, TRUE),
+    );
+  }
+  // Need the variable default key to be something that's never a valid node type.
+  $form['omit'] = array(
+    '#type' => 'fieldset',
+    '#title' => t('Content types that are not to be exported - omitted due to incompatibility'),
+  );
+  $form['omit']['node_export_omitted'] = array(
+    '#type' => 'checkboxes',
+    '#title' => t('Omitted content types'),
+    '#default_value' => variable_get('node_export_omitted', array()),
+    '#options' => $types,
+    '#description' => t('Select any node types which should <em>never</em> be exported. Typically you should will want to select here all node types for which importing fails (e.g. image nodes).'),
+  );
+
+  return system_settings_form($form);
+}
+
+/**
+ *  Exports a node - populate a node code form
+ *  set $return_code to TRUE to not return form but the code instead.
+ *  set $format to some string if encoding should be handled by some module that
+ *  will recognise the string.
+ */
+function node_export_node_export($original_node, $return_code = FALSE, $iteration = 0, $format = NULL) {
+  if (isset($original_node->nid)) {
+    global $user;
+
+    if (node_export_is_permitted($original_node->type)) {
+      $node = drupal_clone($original_node);
+
+      drupal_set_title(t('Export of !title', array('!title' => check_plain($node->title))));
+
+      // Fix taxonomy array
+      if (isset($node->taxonomy) && count($node->taxonomy)) {
+        $vocabularies = taxonomy_get_vocabularies();
+        $new_taxonomy = array();
+        foreach ($node->taxonomy as $term) {
+          // Free-tagging vocabularies need a different format
+          if ($vocabularies[$term->vid]->tags) {
+            $new_taxonomy['tags'][$term->vid][] = $term->name;
+          }
+          else {
+            $new_taxonomy[$term->vid][$term->tid] = $term->tid;
+          }
+        }
+        if (isset($new_taxonomy['tags']) && count($new_taxonomy['tags'])) {
+          // Comma seperate the tags
+          foreach ($new_taxonomy['tags'] as $vid => $tags) {
+            $new_taxonomy['tags'][$vid] = implode(', ', $tags);
+          }
+        }
+        $node->taxonomy = $new_taxonomy;
+      }
+
+      // Fix menu array
+      $node->menu = node_export_get_menu($original_node);
+
+      // Let other modules do special fixing up.
+      // The function signature is: hook_node_export_node_alter(&$node, $original_node, $method)
+      // Where $method is 'export'
+      drupal_alter('node_export_node', $node, $original_node, 'export', $format);
+      $node = node_export_remove_recursion($node);
+      $node_code = node_export_node_encode($node, $iteration, $format);
+      if ($return_code) {
+        return $node_code;
+      }
+      if (variable_get('node_export_node_code', 'copy') == 'copy') {
+        return drupal_get_form('node_export_form', $node_code);
+      }
+      else {
+        node_export_get_file(array($original_node->nid), $node_code);
+      }
+    }
+  }
+}
+
+/**
+ *  Export Form
+ */
+function node_export_form($form_state, $code) {
+  $form = array();
+  $form['export'] = array(
+    '#type' => 'textarea',
+    '#title' => t('Node Code'),
+    '#default_value' => $code,
+    '#rows' => 30,
+    '#description' => t('Copy this code and then on the site you want to import to, go to the Import Node link under Content Management, and paste it in there.'),
+    '#attributes' => array(
+      'style' => 'width: 97%;',
+    ),
+  );
+  return $form;
+}
+
+/**
+ *  Check if all types in the import exist.  Return TRUE/FALSE.
+ */
+function node_export_import_types_check($import) {
+  $types_exist = TRUE;
+  if (is_array($import)) {
+    foreach ($import as $new_node) {
+      if (node_get_types('name', $new_node) == FALSE) {
+        $types_exist = $new_node->type;
+      }
+    }
+  }
+  else {
+    $new_node = $import;
+    if (node_get_types('name', $new_node) == FALSE) {
+      $types_exist = $new_node->type;
+    }
+  }
+
+  if ($types_exist !== TRUE) {
+    drupal_set_message(t('Error encountered during import.  Node type %t unknown on this site.  No nodes imported.', array('%t' => $types_exist)), 'error');
+    $types_exist = FALSE;
+  }
+
+  return $types_exist;
+}
+
+/**
+ *  Implementation of hook_theme().
+ */
+function node_export_theme() {
+  return array(
+    'node_export_node_prepopulate' => array(
+      'arguments' => array(
+        'element' => NULL,
+      ),
+    ),
+  );
+}
+
+/**
+ * Import Function
+ *
+ * @param $node_code
+ *   The string of node code.
+ * @param $method
+ *   If set will override the variable table settings
+ * @param $redirect
+ *   Whether to allow redirects
+ * @param $msg_func
+ *   Function used to output status message
+ * @param $msg_t
+ *   Function used to translate
+ * @return
+ *   FALSE is the types check failed
+ *   Returns the HTML of a node form if required to prepopulate
+ *   Otherwise returns TRUE, or may redirect.
+ */
+function node_export_import($node_code, $method = NULL, $redirect = TRUE, $msg_func = 'drupal_set_message', $msg_t = 't') {
+  $import = node_export_node_decode($node_code);
+  $import = node_export_restore_recursion($import);
+  $types_exist = node_export_import_types_check($import);
+  if ($types_exist) {
+    $count = 0;
+    if (is_array($import)) {
+      // This is a bulk import.
+      $total = count($import);
+      // Let other modules do special fixing up.
+      // The function signature is: hook_node_export_node_bulk_alter(&$nodes, $op).
+      // Where $op is 'import'.
+      drupal_alter('node_export_node_bulk', $import, 'import');
+      $new_nodes = array();
+      foreach ($import as $new_node) {
+        $new_nid = node_export_node_save($new_node);
+        $new_node->nid = $new_nid;
+        $new_nodes[] = $new_node;
+        $msg_func($msg_t("Imported node !nid: !node", array('!nid' => $new_nid, '!node' => l($new_node->title, 'node/'. $new_nid))));
+        $count++;
+      }
+      drupal_alter('node_export_node_bulk', $new_nodes, 'after import');
+      $msg_func($msg_t("!count of !total nodes were imported.  Some values may have been reset depending on Node Export's configuration", array('!total' => $total, '!count' => $count)));
+      if ($redirect) {
+        drupal_goto('admin/content/node');
+      }
+      return TRUE;
+    }
+    else {
+      // We are importing a single node.
+      $node = &$import;
+      $total = 1;
+      $method = !is_null($method) ? $method : variable_get('node_export_method', 'save-edit');
+
+      if ($method == 'save-edit') {
+        $new_nid = node_export_node_save($node);
+        $msg_func($msg_t("Imported node !nid: !node", array('!nid' => $new_nid, '!node' => l($new_node->title, 'node/'. $new_nid))));
+        $count++;
+        $msg_func($msg_t("!count of !total nodes were imported.  Some values may have been reset depending on Node Export's configuration", array('!total' => $total, '!count' => $count)));
+        if ($redirect) {
+          drupal_goto('node/'. $new_nid .'/edit');
+        }
+        return TRUE;
+      }
+      else if ($method == 'prepopulate') {
+        include_once(drupal_get_path('module', 'node') .'/node.pages.inc');
+        return node_export_node_prepopulate($node);
+      }
+    }
+  }
+  return FALSE;
+}
+
+/**
+ * Import Form
+ */
+function node_export_import_form($form_state) {
+
+  // Initialise to prevent notices
+  $values = array(
+    'file' => FALSE,
+    'code' => FALSE,
+  );
+
+  if (isset($form_state['storage']['values'])) {
+    $values = &$form_state['storage']['values'];
+    if ($values['file']) {
+      $file = unserialize($values['file']);
+      if (file_exists($file->filepath)) {
+        $node_code = file_get_contents($file->filepath);
+        unlink($file->filepath);
+      }
+    }
+    elseif ($values['code']) {
+      $node_code = trim($values['code']);
+    }
+  }
+
+  if (isset($node_code)) {
+    $result = node_export_import($node_code);
+    if (!empty($result)) {
+      return $result;
+    }
+  }
+
+  $form = array();
+  $form['#attributes'] = array(
+    'enctype' => "multipart/form-data",
+  );
+  $form['#prefix'] = "<p>". t('You may import nodes by pasting or uploading the results of exported nodes.') ."</p>";
+  $method = variable_get('node_export_method', 'save-edit');
+  if ($method == 'prepopulate') {
+    $form['#prefix'] .= "<p>". t('If you are importing a single node, you will be given a prepopulated node add form which you must save to create the node.') ."</p>";
+  }
+  elseif ($method == 'save-edit') {
+    $form['#prefix'] .= "<p>". t('If you are importing a single node, the node will be created and you will then be taken to the node edit page.') ."</p>";
+  }
+  $form['#prefix'] .= "<p>". t("Some node values may be reset during imports depending on Node Export's configuration.") ."</p>";
+  $form['#prefix'] .= "<p>" . t('To change this behaviour, <a href="@configure">configure the settings</a>.', array('@configure' => url('admin/settings/node_export'))) . "</p>";
+
+  $form['upload'] = array(
+    '#type' => 'fieldset',
+    '#title' => t('Upload file'),
+    '#collapsible' => TRUE,
+    '#collapsed' => !$values['file'],
+  );
+  $form['upload']['file'] = array(
+    '#type' => 'file',
+    '#description' => t('To clear this field, <a href="@reset">reset the form</a>.', array('@reset' => url($_GET['q'])))
+  );
+  $form['paste'] = array(
+    '#type' => 'fieldset',
+    '#title' => t('Paste code'),
+    '#collapsible' => TRUE,
+    '#collapsed' => !$values['code'],
+  );
+  $form['paste']['code'] = array(
+    '#type' => 'textarea',
+    '#default_value' => '',
+    '#rows' => 30,
+    '#description' => t('Cut and paste the results of an <em>Export Node</em> here.'),
+  );
+  $form['#redirect'] = FALSE;
+  $form['submit'] = array(
+    '#type' => 'submit',
+    '#value' => t('Import'),
+    '#suffix' => l(t('Reset the form'), $_GET['q']),
+  );
+  return $form;
+}
+
+/**
+ * Validate function for beautifer form.
+ */
+function node_export_import_form_validate($form, &$form_state) {
+  if ($form_state['clicked_button']['#id'] == 'edit-submit' &&
+     !$_FILES['files']['name']['file'] &&
+     !$form_state['values']['code']) {
+    drupal_set_message(t('Please upload a file or paste code to import.'), 'error');
+    form_set_error('', NULL);
+  }
+}
+
+/**
+ * Submit function for import form.
+ */
+function node_export_import_form_submit($form, &$form_state) {
+  if ($_FILES['files']['name']['file']) {
+    $original = $_FILES['files']['name']['file'];
+    $directory = file_directory_path() .'/'. NODE_EXPORT;
+    if (file_check_directory($directory, FILE_CREATE_DIRECTORY)) {
+      $save = file_save_upload('file', array(), $directory, FILE_EXISTS_RENAME);
+      if (!$save) {
+        drupal_set_message(t('Error: Node export could not save file.'), 'error');
+      }
+      else {
+        $save->original = $original;
+        form_set_value($form['upload']['file'], serialize($save), $form_state);
+      }
+    }
+    else {
+      drupal_set_message(t('Error: Node export could not access files directory.'), 'error');
+    }
+  }
+  $form_state['storage']['values'] = $form_state['values'];
+}
+
+/**
+ * Exports a node - prepopulate a node editing form
+ * @return
+ *   A prepopulate form.
+ */
+function node_export_node_prepopulate($original_node) {
+  if (node_export_is_permitted($original_node->type)) {
+    $node = node_export_node_clone($original_node, "prepopulate");
+    $form_id = $node->type .'_node_form';
+    $form = array();
+    $form['node_form']['#value'] = drupal_get_form($form_id, $node);
+    $form['#theme'] = 'node_export_node_prepopulate';
+    $form['#action'] = url('node/add/'. $node->type);
+    return $form;
+  }
+}
+
+/**
+ * Theme function facilitates rendering of prepopulate form.
+ */
+function theme_node_export_node_prepopulate($element) {
+  return $element['node_form']['#value'];
+}
+
+/**
+ * Exports a node by directly saving it.
+ */
+function node_export_node_save($original_node) {
+  if (node_export_is_permitted($original_node->type)) {
+    $node = node_export_node_clone($original_node, "save-edit");
+    node_export_save($node);
+    return $node->nid;
+  }
+}
+
+/**
+ * Save a node object into the database.
+ *
+ * A modified version of node_save().
+ */
+function node_export_save(&$node) {
+  // Let modules modify the node before it is saved to the database.
+  node_invoke_nodeapi($node, 'presave');
+  global $user;
+
+  $node->is_new = FALSE;
+
+  // Apply filters to some default node fields:
+  if (empty($node->nid)) {
+    // Insert a new node.
+    $node->is_new = TRUE;
+
+    // When inserting a node, $node->log must be set because
+    // {node_revisions}.log does not (and cannot) have a default
+    // value.  If the user does not have permission to create
+    // revisions, however, the form will not contain an element for
+    // log so $node->log will be unset at this point.
+    if (!isset($node->log)) {
+      $node->log = '';
+    }
+
+    // For the same reasons, make sure we have $node->teaser and
+    // $node->body.  We should consider making these fields nullable
+    // in a future version since node types are not required to use them.
+    if (!isset($node->teaser)) {
+      $node->teaser = '';
+    }
+    if (!isset($node->body)) {
+      $node->body = '';
+    }
+  }
+  elseif (!empty($node->revision)) {
+    $node->old_vid = $node->vid;
+  }
+  else {
+    // When updating a node, avoid clobberring an existing log entry with an empty one.
+    if (empty($node->log)) {
+      unset($node->log);
+    }
+  }
+
+  // Set some required fields:
+  if (empty($node->created)) {
+    $node->created = time();
+  }
+
+  // The update of the changed value is forced in the original node_export().
+  if (empty($node->changed)) {
+    $node->changed = time();
+  }
+
+  $node->timestamp = time();
+  $node->format = isset($node->format) ? $node->format : FILTER_FORMAT_DEFAULT;
+
+  // Generate the node table query and the node_revisions table query.
+  if ($node->is_new) {
+    _node_save_revision($node, $user->uid);
+    drupal_write_record('node', $node);
+    db_query('UPDATE {node_revisions} SET nid = %d WHERE vid = %d', $node->nid, $node->vid);
+    $op = 'insert';
+  }
+  else {
+    drupal_write_record('node', $node, 'nid');
+    if (!empty($node->revision)) {
+      _node_save_revision($node, $user->uid);
+      db_query('UPDATE {node} SET vid = %d WHERE nid = %d', $node->vid, $node->nid);
+    }
+    else {
+      _node_save_revision($node, $user->uid, 'vid');
+    }
+    $op = 'update';
+  }
+
+  // Call the node specific callback (if any).
+  node_invoke($node, $op);
+  node_invoke_nodeapi($node, $op);
+
+  // Update the node access table for this node.
+  node_access_acquire_grants($node);
+
+  // Clear the page and block caches.
+  cache_clear_all();
+}
+
+/**
+ * Prepare a clone of the node during import.
+ */
+function node_export_node_clone($original_node, $mode) {
+    global $user;
+
+    $node = drupal_clone($original_node);
+
+    $node->nid = NULL;
+    $node->vid = NULL;
+    $node->name = $user->name;
+    $node->uid = $user->uid;
+
+    if (variable_get('node_export_reset_created_'. $node->type, TRUE)) {
+      $node->created = NULL;
+    }
+
+    if (variable_get('node_export_reset_changed_'. $node->type, TRUE)) {
+      $node->changed = NULL;
+    }
+
+    if (variable_get('node_export_reset_menu_'. $node->type, TRUE)) {
+      $node->menu = NULL;
+    }
+
+    if (variable_get('node_export_reset_path_'. $node->type, TRUE)) {
+      $node->path = NULL;
+    }
+    elseif (module_exists('pathauto')) {
+      // Prevent pathauto from creating a new path alias.
+      $node->pathauto_perform_alias = FALSE;
+    }
+
+    if (variable_get('node_export_reset_book_mlid_'. $node->type, TRUE) && isset($node->book['mlid'])) {
+      $node->book['mlid'] = NULL;
+    }
+
+    $node->files = array();
+
+    if (variable_get('node_export_reset_'. $node->type, FALSE)) {
+      $node_options = variable_get('node_options_'. $node->type, array('status', 'promote'));
+      // Fill in the default values.
+      foreach (array('status', 'moderate', 'promote', 'sticky', 'revision') as $key) {
+        $node->$key = in_array($key, $node_options);
+      }
+    }
+    // Let other modules do special fixing up.
+    // The function signature is: hook_node_export_node_alter(&$node, $original_node, $method)
+    // Where $method is either 'prepopulate' or 'save-edit'.
+    drupal_alter('node_export_node', $node, $original_node, $mode);
+
+    return $node;
+
+}
+
+/**
+ * Build node code string recursively
+ */
+function node_export_node_encode($var, $iteration = 0, $format = NULL) {
+
+  // Allow other modules to take over this entire process before the first
+  // iteration.  Typically the module would respond if $format was set to
+  // something it recognises.
+  if ($iteration == 0) {
+    $return = FALSE;
+    drupal_alter('node_export_node_encode', $return, $var, $format);
+    if ($return !== FALSE) {
+      return $return;
+    }
+  }
+
+  // Default node encoding.
+  $tab = '';
+  for ($i = 0; $i < $iteration; $i++) {
+    $tab = $tab ."  ";
+  }
+  $iteration++;
+  if (is_object($var)) {
+    $var = (array)$var;
+    $var['#_export_node_encode_object'] = '1';
+  }
+  if (is_array($var)) {
+    $empty = empty($var);
+    $code = "array(". ($empty ? '' : "\n");
+    foreach ($var as $key => $value) {
+      $out = $tab ."  '". $key ."' => ". node_export_node_encode($value, $iteration) .",\n";
+      drupal_alter('node_export_node_encode_line', $out, $tab, $key, $value, $iteration);
+      $code .= $out;
+    }
+    $code .= ($empty ? '' : $tab) .")";
+    return $code;
+  }
+  else {
+    if (is_string($var)) {
+      // Escape single quotes so we don't accidentally exit the string.
+      return "'". strtr($var, array("'" => "\\'")) ."'";
+    }
+    elseif (is_numeric($var)) {
+      return $var;
+    }
+    elseif (is_bool($var)) {
+      return ($var ? 'TRUE' : 'FALSE');
+    }
+    else {
+      return 'NULL';
+    }
+  }
+}
+
+/**
+ * Evaluate and return decoded string.
+ */
+function node_export_node_decode($string) {
+
+  // Allow other modules to take over this entire process.
+  $return = FALSE;
+  drupal_alter('node_export_node_decode', $return, $string);
+  if ($return !== FALSE) {
+    return $return;
+  }
+
+  // Default node decoding.
+  $array = eval('return '. $string .';');
+  $return = node_export_node_decode_objects($array);
+  return $return;
+}
+
+/**
+ * Recursively convert arrays back to objects.
+ */
+function node_export_node_decode_objects($array) {
+  foreach ($array as $k => $v) {
+    if (is_array($v)) {
+      $array[$k] = node_export_node_decode_objects($v);
+    }
+  }
+  if ($array['#_export_node_encode_object']) {
+    unset($array['#_export_node_encode_object']);
+    $array = (object)$array;
+  }
+  return $array;
+}
+
+/**
+ * Create a new menu entry with title, parent and weight exported from
+ * another nodes menu. Returns NULL if the node has no menu title.
+ */
+function node_export_get_menu($node) {
+  // This will fetch the existing menu item if the node had one.
+  node_invoke_nodeapi($node, 'prepare');
+
+  // Only keep the values we care about.
+  if (!empty($node->menu)) {
+
+    // Store a copy of the old menu
+    $old_menu = $node->menu;
+
+    // Now fetch the defaults for a new menu entry.
+    $node = NULL;
+    node_invoke_nodeapi($node, 'prepare');
+
+    // Make a list of values to attempt to copy.
+    $menu_fields = array(
+      'link_title', 'plid', 'menu_name', 'weight', // These should import properly always.
+      'hidden', 'expanded', 'has_children', // These will only import properly on 'Save as a new node then edit' imports.
+    );
+
+    // Copy those fields from the old menu over the new menu defaults.
+    foreach ($menu_fields as $menu_field) {
+      $node->menu[$menu_field] = $old_menu[$menu_field];
+    }
+
+    // Return the menu.
+    return $node->menu;
+  }
+
+}
+
+
+/**
+ * Remove recursion problem from an object or array.
+ */
+function node_export_remove_recursion($o) {
+   static  $replace;
+   if (!isset($replace)) {
+   $replace = create_function(
+         '$m',
+         '$r="\x00{$m[1]}ecursion_export_node_";return \'s:\'.strlen($r.$m[2]).\':"\'.$r.$m[2].\'";\';'
+      );
+   }
+   if (is_array($o) || is_object($o)) {
+      $re = '#(r|R):([0-9]+);#';
+      $serialize = serialize($o);
+      if (preg_match($re, $serialize)) {
+         $last = $pos = 0;
+         while (false !== ($pos = strpos($serialize, 's:', $pos))) {
+            $chunk = substr($serialize, $last, $pos - $last);
+            if (preg_match($re, $chunk)) {
+               $length = strlen($chunk);
+               $chunk = preg_replace_callback($re, $replace, $chunk);
+               $serialize = substr($serialize, 0, $last) . $chunk . substr($serialize, $last + ($pos - $last));
+               $pos += strlen($chunk) - $length;
+            }
+            $pos += 2;
+            $last = strpos($serialize, ':', $pos);
+            $length = substr($serialize, $pos, $last - $pos);
+            $last += 4 + $length;
+            $pos = $last;
+         }
+         $serialize = substr($serialize, 0, $last) . preg_replace_callback($re, $replace, substr($serialize, $last));
+         $o = unserialize($serialize);
+      }
+   }
+   return $o;
+}
+
+
+/**
+ * Restore recursion to an object or array.
+ */
+function node_export_restore_recursion($o) {
+    return unserialize(
+        preg_replace(
+            '#s:[0-9]+:"\x00(r|R)ecursion_export_node_([0-9]+)";#',
+            '\1:\2;',
+            serialize($o)
+        )
+    );
+}
+
+/**
+ * Get a list of possible format handlers (other than the default).
+ *
+ * @return
+ *   An array of format handlers from hook implementations.
+ * @see hook_node_export_format_handlers()
+ */
+function node_export_format_handlers() {
+  static $format_handlers;
+  if (empty($format_handlers)) {
+    $format_handlers = module_invoke_all('node_export_format_handlers');
+  }
+  return $format_handlers;
+}
\ No newline at end of file
diff --git a/sites/all/modules/node_export/views/node_export.views.inc b/sites/all/modules/node_export/views/node_export.views.inc
new file mode 100644
index 0000000..ab3d816
--- /dev/null
+++ b/sites/all/modules/node_export/views/node_export.views.inc
@@ -0,0 +1,37 @@
+<?php
+// $Id: node_export.views.inc,v 1.1.2.6 2010/01/26 03:03:39 danielb Exp $
+
+/**
+ * @file
+ * The Node Export views include.
+ */
+
+/**
+ * Implementation of hook_views_handlers().
+ */
+function node_export_views_handlers() {
+  return array(
+    'info' => array(
+      'path' => drupal_get_path('module', 'node_export') .'/views',
+    ),
+    'handlers' => array(
+      'views_handler_field_node_link_export' => array(
+        'parent' => 'views_handler_field_node_link',
+      ),
+    ),
+  );
+}
+
+/**
+ * Implementation of hook_views_data_alter().
+ */
+function node_export_views_data_alter(&$views_data) {
+  $views_data['node']['export_node'] = array(
+    'field' => array(
+      'title' => t('export link'),
+      'help' => t('Provide a simple link to export the node.'),
+      'handler' => 'views_handler_field_node_link_export',
+    ),
+  );
+}
+
diff --git a/sites/all/modules/node_export/views/views_handler_field_node_link_export.inc b/sites/all/modules/node_export/views/views_handler_field_node_link_export.inc
new file mode 100644
index 0000000..2f96eae
--- /dev/null
+++ b/sites/all/modules/node_export/views/views_handler_field_node_link_export.inc
@@ -0,0 +1,37 @@
+<?php
+// $Id: views_handler_field_node_link_export.inc,v 1.1.2.2.2.6 2010/10/29 00:32:25 danielb Exp $
+
+/**
+ * @file
+ * The Node Export views field handler.
+ */
+
+/**
+ * Field handler to present a export node link.
+ *
+ * Closely modeled after views/modules/node/views_handler_field_node_link_edit.inc
+ */
+class views_handler_field_node_link_export extends views_handler_field_node_link {
+  function construct() {
+    parent::construct();
+    $this->additional_fields['uid'] = 'uid';
+    $this->additional_fields['type'] = 'type';
+    $this->additional_fields['format'] = array('table' => 'node_revisions', 'field' => 'format');
+  }
+
+  function render($values) {
+    // Insure that user has access to export this node.
+    $node = new stdClass();
+    $node->nid = $values->{$this->aliases['nid']};
+    $node->uid = $values->{$this->aliases['uid']};
+    $node->type = $values->{$this->aliases['type']};
+    $node->format = $values->{$this->aliases['format']};
+    $node->status = 1; // unpublished nodes ignore access control
+    if (!node_export_access($node)) {
+      return;
+    }
+
+    $text = !empty($this->options['text']) ? $this->options['text'] : t('export');
+    return l($text, "node/$node->nid/export", array('query' => drupal_get_destination()));
+  }
+}
diff --git a/sites/all/modules/nodeformcols/LICENSE.txt b/sites/all/modules/nodeformcols/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/nodeformcols/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/nodeformcols/css/nodeformcols.admin.css b/sites/all/modules/nodeformcols/css/nodeformcols.admin.css
new file mode 100644
index 0000000..c480fd4
--- /dev/null
+++ b/sites/all/modules/nodeformcols/css/nodeformcols.admin.css
@@ -0,0 +1,17 @@
+/* $Id: nodeformcols.admin.css,v 1.2 2009/03/04 20:14:55 hugowetterberg Exp $ */
+#fields td.region {
+  font-weight: bold;
+}
+#fields tr.region-message {
+  font-weight: normal;
+  color: #999;
+}
+#fields tr.region-populated {
+  display: none;
+}
+.field-region {
+  background-color: #ff6;
+  margin-top: 4px;
+  margin-bottom: 4px;
+  padding: 3px;
+}
diff --git a/sites/all/modules/nodeformcols/css/nodeformcols.css b/sites/all/modules/nodeformcols/css/nodeformcols.css
new file mode 100644
index 0000000..0e545a6
--- /dev/null
+++ b/sites/all/modules/nodeformcols/css/nodeformcols.css
@@ -0,0 +1,14 @@
+/* $Id: nodeformcols.css,v 1.2 2009/03/04 20:14:55 hugowetterberg Exp $ */
+.node-form .form-region-right {
+  width: 29%;
+  float: right;
+}
+
+.node-form-has-region-right .form-region-main {
+  float: left;
+  width: 70%;
+}
+
+.node-form-has-region-right .form-region-footer {
+  clear: both;
+}
\ No newline at end of file
diff --git a/sites/all/modules/nodeformcols/js/nodeformcols.js b/sites/all/modules/nodeformcols/js/nodeformcols.js
new file mode 100644
index 0000000..16925c4
--- /dev/null
+++ b/sites/all/modules/nodeformcols/js/nodeformcols.js
@@ -0,0 +1,95 @@
+// $Id: nodeformcols.js,v 1.3 2009/09/01 18:20:57 hugowetterberg Exp $
+
+/**
+ * Move a field in the fields table from one region to another via select list.
+ *
+ * This behavior is dependent on the tableDrag behavior, since it uses the
+ * objects initialized in that behavior to update the row.
+ */
+Drupal.behaviors.fieldDrag = function(context) {
+  var table = $('table#fields');
+  var tableDrag = Drupal.tableDrag.fields; // Get the fields tableDrag object.
+
+  // Add a handler for when a row is swapped, update empty regions.
+  tableDrag.row.prototype.onSwap = function(swappedRow) {
+    checkEmptyRegions(table, this);
+  };
+
+  // A custom message for the fields page specifically.
+  Drupal.theme.tableDragChangedWarning = function () {
+    return '<div class="warning">' + Drupal.theme('tableDragChangedMarker') + ' ' + Drupal.t("The changes to these fields will not be saved until the <em>Save fields</em> button is clicked.") + '</div>';
+  };
+
+  // Add a handler so when a row is dropped, update fields dropped into new regions.
+  tableDrag.onDrop = function() {
+    dragObject = this;
+    if ($(dragObject.rowObject.element).prev('tr').is('.region-message')) {
+      var regionRow = $(dragObject.rowObject.element).prev('tr').get(0);
+      var regionName = regionRow.className.replace(/([^ ]+[ ]+)*region-([^ ]+)-message([ ]+[^ ]+)*/, '$2');
+      var regionField = $('select.field-region-select', dragObject.rowObject.element);
+      var weightField = $('input.field-weight', dragObject.rowObject.element);
+      var oldRegionName = weightField[0].className.replace(/([^ ]+[ ]+)*field-weight-([^ ]+)([ ]+[^ ]+)*/, '$2');
+
+      if (!regionField.is('.field-region-'+ regionName)) {
+        regionField.removeClass('field-region-' + oldRegionName).addClass('field-region-' + regionName);
+        weightField.removeClass('field-weight-' + oldRegionName).addClass('field-weight-' + regionName);
+        regionField.val(regionName);
+      }
+    }
+  };
+
+  // Add the behavior to each region select list.
+  $('select.field-region-select:not(.fieldregionselect-processed)', context).each(function() {
+    $(this).change(function(event) {
+      // Make our new row and select field.
+      var row = $(this).parents('tr:first');
+      var select = $(this);
+      tableDrag.rowObject = new tableDrag.row(row);
+
+      // Find the correct region and insert the row as the first in the region.
+      $('tr.region-message', table).each(function() {
+        if ($(this).is('.region-' + select[0].value + '-message')) {
+          // Add the new row and remove the old one.
+          $(this).after(row);
+          // Manually update weights and restripe.
+          tableDrag.updateFields(row.get(0));
+          tableDrag.rowObject.changed = true;
+          if (tableDrag.oldRowElement) {
+            $(tableDrag.oldRowElement).removeClass('drag-previous');
+          }
+          tableDrag.oldRowElement = row.get(0);
+          tableDrag.restripeTable();
+          tableDrag.rowObject.markChanged();
+          tableDrag.oldRowElement = row;
+          $(row).addClass('drag-previous');
+        }
+      });
+
+      // Modify empty regions with added or removed fields.
+      checkEmptyRegions(table, row);
+      // Remove focus from selectbox.
+      select.get(0).blur();
+    });
+    $(this).addClass('fieldregionselect-processed');
+  });
+
+  var checkEmptyRegions = function(table, rowObject) {
+    $('tr.region-message', table).each(function() {
+      // If the dragged row is in this region, but above the message row, swap it down one space.
+      if ($(this).prev('tr').get(0) == rowObject.element) {
+        // Prevent a recursion problem when using the keyboard to move rows up.
+        if ((rowObject.method != 'keyboard' || rowObject.direction == 'down')) {
+          rowObject.swap('after', this);
+        }
+      }
+      // This region has become empty
+      if ($(this).next('tr').is(':not(.draggable)') || $(this).next('tr').size() == 0) {
+        $(this).removeClass('region-populated').addClass('region-empty');
+      }
+      // This region has become populated.
+      else if ($(this).is('.region-empty')) {
+        $(this).removeClass('region-empty').addClass('region-populated');
+      }
+    });
+  };
+};
diff --git a/sites/all/modules/nodeformcols/nfcbiblio.info b/sites/all/modules/nodeformcols/nfcbiblio.info
new file mode 100644
index 0000000..20289c6
--- /dev/null
+++ b/sites/all/modules/nodeformcols/nfcbiblio.info
@@ -0,0 +1,14 @@
+; $Id: nfcbiblio.info,v 1.1 2009/04/24 21:21:53 hugowetterberg Exp $
+name = Biblio compatability
+description = Adds support for biblio fields
+dependencies[] = nodeformcols
+dependencies[] = biblio
+core = 6.x
+package = Node form columns
+
+; Information added by drupal.org packaging script on 2009-09-21
+version = "6.x-1.6"
+core = "6.x"
+project = "nodeformcols"
+datestamp = "1253514044"
+
diff --git a/sites/all/modules/nodeformcols/nfcbiblio.module b/sites/all/modules/nodeformcols/nfcbiblio.module
new file mode 100644
index 0000000..1d0c846
--- /dev/null
+++ b/sites/all/modules/nodeformcols/nfcbiblio.module
@@ -0,0 +1,86 @@
+<?php
+// $Id: nfcbiblio.module,v 1.2 2009/07/20 13:37:16 hugowetterberg Exp $
+
+/**
+ * Implementation of hook_nodeformcols_variants_alter().
+ *
+ * Implement this hook to supply information about form variants that can be
+ * configured.
+ *
+ * @param array $variants
+ *  The current variants of the form
+ * @param string $type
+ *  The node type
+ * @return void
+ */
+function nfcbiblio_nodeformcols_variants_alter(&$variants, $type) {
+  if ($type == 'biblio') {
+    $res = db_query('SELECT tid, name
+      FROM {biblio_types}
+      WHERE tid >= 0
+        AND visible = 1
+      ORDER BY weight ASC');
+    while ($option = db_fetch_object($res)) {
+      $variants[$option->tid] = $option->name;
+    }
+  }
+}
+
+/**
+ * Utility function to get a default biblio type
+ *
+ * @return int
+ *  The id of a default biblio type
+ */
+function _nfcbiblio_top_visible_type() {
+  return db_result(db_query_range("SELECT tid
+    FROM {biblio_types}
+    WHERE visible = 1
+      AND tid>=0
+    ORDER BY weight ASC", 0, 1));
+}
+
+/**
+ * Implementation of hook_nodeformcols_pre_form_alter().
+ *
+ * Implement this hook to tell nodeformcols what variant the form is before
+ * any alterations to the form is made.
+ *
+ * @param array $form
+ *  The form.
+ * @return void
+ */
+function nfcbiblio_nodeformcols_pre_form_alter(&$form) {
+  if ($form['#node']->type == 'biblio') {
+    if (!empty($form['biblio_type']['#value'])) {
+      $form['#nodeformcols_variant'] = $form['biblio_type']['#value'];
+    }
+  }
+}
+
+/**
+ * Implementation of hook_nodeformcols_base_form_alter().
+ *
+ * Implement this hook if you want to alter the node creation form that
+ * nodeformcols uses to construct the configuration interface before
+ * nodeformcols reads field information from it.
+ *
+ * @param array $form
+ *  The programatically created node creation form.
+ * @param string $variant
+ *  The variant of the form that's being configured.
+ * @return void
+ */
+function nfcbiblio_nodeformcols_base_form_alter(&$form, $variant) {
+  if ($form['#node']->type == 'biblio') {
+    if ($variant == 'default') {
+      $variant = _nfcbiblio_top_visible_type();
+    }
+
+    $biblio_form_state = array();
+    $biblio_form_state['post']['biblio_type'] = $variant;
+    foreach(biblio_form($form['#node'], $biblio_form_state) as $name => $def) {
+      $form[$name] = $def;
+    }
+  }
+}
\ No newline at end of file
diff --git a/sites/all/modules/nodeformcols/nfccaptcha.info b/sites/all/modules/nodeformcols/nfccaptcha.info
new file mode 100644
index 0000000..7cc2e1c
--- /dev/null
+++ b/sites/all/modules/nodeformcols/nfccaptcha.info
@@ -0,0 +1,14 @@
+; $Id: nfccaptcha.info,v 1.1 2009/04/25 09:56:27 hugowetterberg Exp $
+name = CAPTCHA compatability
+description = Adds support for CAPTCHA in node forms
+dependencies[] = nodeformcols
+dependencies[] = captcha
+core = 6.x
+package = Node form columns
+
+; Information added by drupal.org packaging script on 2009-09-21
+version = "6.x-1.6"
+core = "6.x"
+project = "nodeformcols"
+datestamp = "1253514044"
+
diff --git a/sites/all/modules/nodeformcols/nfccaptcha.module b/sites/all/modules/nodeformcols/nfccaptcha.module
new file mode 100644
index 0000000..b785944
--- /dev/null
+++ b/sites/all/modules/nodeformcols/nfccaptcha.module
@@ -0,0 +1,28 @@
+<?php
+// $Id: nfccaptcha.module,v 1.1 2009/04/25 09:56:27 hugowetterberg Exp $
+
+/**
+ * Implementation of hook_nodeformcols_base_form_alter().
+ *
+ * Implement this hook if you want to alter the node creation form that
+ * nodeformcols uses to construct the configuration interface before
+ * nodeformcols reads field information from it.
+ *
+ * @param array $form
+ *  The programatically created node creation form.
+ * @param string $variant
+ *  The variant of the form that's being configured.
+ * @return void
+ */
+function nodeformcols_nodeformcols_base_form_alter(&$form, $variant) {
+  $using_captcha = db_result(db_query("SELECT COUNT(module)
+    FROM {captcha_points} WHERE form_id = '%s'", array(
+      ':form_id' => $form['#node']->type . '_node_form',
+  )));
+  if ($using_captcha) {
+    $form['captcha'] = array(
+      '#title' => t('CAPTCHA'),
+      '#weight' => $form['buttons']['#weight'] - 1,
+    );
+  }
+}
\ No newline at end of file
diff --git a/sites/all/modules/nodeformcols/node-form.tpl.php b/sites/all/modules/nodeformcols/node-form.tpl.php
new file mode 100644
index 0000000..2eb604b
--- /dev/null
+++ b/sites/all/modules/nodeformcols/node-form.tpl.php
@@ -0,0 +1,11 @@
+<?php
+// $Id: node-form.tpl.php,v 1.3 2009/09/21 06:09:54 hugowetterberg Exp $
+
+/**
+ * @file
+ * Template that renders a part of the node form
+ */
+?>
+<div class="<?php print $class; ?>">
+  <?php print drupal_render($form); ?>
+</div>
\ No newline at end of file
diff --git a/sites/all/modules/nodeformcols/nodeformcols-configuration.tpl.php b/sites/all/modules/nodeformcols/nodeformcols-configuration.tpl.php
new file mode 100644
index 0000000..bb259b3
--- /dev/null
+++ b/sites/all/modules/nodeformcols/nodeformcols-configuration.tpl.php
@@ -0,0 +1,54 @@
+<?php
+// $Id: nodeformcols-configuration.tpl.php,v 1.5 2009/09/21 06:09:54 hugowetterberg Exp $
+
+/**
+ * @file
+ * Template for the configuration table
+ */
+
+$regions = nodeformcols_form_regions();
+?>
+<table id="fields" class="sticky-enabled">
+  <thead>
+    <tr>
+      <th><?php print t('Field'); ?></th>
+      <th><?php print t('Options'); ?></th>
+      <th><?php print t('Region'); ?></th>
+      <th><?php print t('Weight'); ?></th>
+    </tr>
+  </thead>
+  <tbody>
+    <?php $row = 0; ?>
+    <?php foreach ($regions as $region => $title): ?>
+      <tr class="region region-<?php print $region?>">
+        <td colspan="4" class="region"><?php print $title; ?></td>
+      </tr>
+      <tr class="region-message region-<?php print $region?>-message <?php print empty($element[$region]) ? 'region-empty' : 'region-populated'; ?>">
+        <td colspan="4"><em><?php print t('No fields in this region'); ?></em></td>
+      </tr>
+      <?php if (!empty($element[$region])): ?>
+        <?php foreach ($element[$region] as $field => $data): ?>
+          <?php
+            if (substr($field, 0, 1) == '#') {
+              continue;
+            }
+          ?>
+        <tr class="draggable <?php print $row % 2 == 0 ? 'odd' : 'even'; ?>">
+          <td><?php print drupal_render($data[$field . '_name']) ?></td>
+          <td><?php
+            if ($data[$field . '_collapsed']) {
+              print drupal_render($data[$field . '_collapsed']);
+            }
+            if ($data[$field . '_hidden']) {
+              print drupal_render($data[$field . '_hidden']);
+            }
+          ?></td>
+          <td><?php print drupal_render($data[$field . '_region']) ?></td>
+          <td><?php print drupal_render($data[$field . '_weight']) ?></td>
+        </tr>
+        <?php $row++; ?>
+        <?php endforeach; ?>
+      <?php endif; ?>
+    <?php endforeach; ?>
+  </tbody>
+</table>
diff --git a/sites/all/modules/nodeformcols/nodeformcols.admin.inc b/sites/all/modules/nodeformcols/nodeformcols.admin.inc
new file mode 100644
index 0000000..b4b969e
--- /dev/null
+++ b/sites/all/modules/nodeformcols/nodeformcols.admin.inc
@@ -0,0 +1,236 @@
+<?php
+// $Id: nodeformcols.admin.inc,v 1.6 2009/09/21 06:09:54 hugowetterberg Exp $
+
+/**
+ * @file
+ * Contains the admin functions for Node form columns
+ */
+
+function _nodeformcols_get_node_type_form($type) {
+  module_load_include('inc', 'node', 'node.pages');
+
+  $node = array('uid' => $user->uid, 'name' => (isset($user->name) ? $user->name : ''), 'type' => $type, 'language' => '');
+  $nfid = $type . '_node_form';
+  $fs = array('storage' => NULL, 'submitted' => FALSE);
+  $nf = drupal_retrieve_form($nfid, $fs, $node);
+  drupal_prepare_form($nfid, $nf, $fs);
+  drupal_process_form($nfid, $nf, $fs);
+  return $nf;
+}
+
+function nodeformcols_update_placements($type, $variant, &$placements) {
+  $form = _nodeformcols_get_node_type_form($type);
+  drupal_alter('nodeformcols_base_form', $form, $variant);
+  $default_region = variable_get('nodeformcols_default_region', NODEFORMCOLS_DEFAULT_REGION);
+
+  foreach ($form as $key => $field) {
+    if (substr($key, 0, 1) == '#' || substr($key, 0, 8) == 'section_' ||
+        $field['#type']=='value' || $field['#type']=='hidden'|| $field['#type']=='token') {
+      continue;
+    }
+
+    // Ensure a weight so that we don't have to worry about it later
+    $field['#weight'] = isset($field['#weight']) ? $field['#weight'] : 0;
+
+    if (!isset($placements[$key])) {
+      // If the element is unknown we'll add it to
+      // the field placement list
+      $placements[$key] = array(
+        'region' => $default_region,
+        'weight' => $field['#weight'],
+      );
+      // Make sure that we don't auto-place the field below the buttons.
+      if ($placements['buttons']['region'] == $default_region && $placements[$key]['weight'] >= $placements['buttons']['weight']) {
+        $placements[$key]['weight'] = $placements['buttons']['weight'] - .1;
+      }
+    }
+    elseif (!isset($placements[$key]['weight'])) {
+      $placements[$key]['weight'] = $field['#weight'];
+    }
+
+    $placements[$key]['has_required'] = _nodeformcols_has_required($field);
+
+    // Get the element title
+    $placements[$key]['title'] = _nodeformcols_get_element_title($field);
+
+    if (isset($field['#collapsible']) && $field['#collapsible']) {
+      if (!isset($placements[$key]['collapsed'])) {
+        $placements[$key]['collapsed'] =  isset($field['#collapsed']) && $field['#collapsed'];
+      }
+    }
+    else {
+      unset($placements[$key]['collapsed']);
+    }
+  }
+
+  // Remove fields that have disappeared from
+  // the placements list.
+  foreach ($placements as $key => $info) {
+    if (!isset($form[$key])) {
+      unset($placements[$key]);
+    }
+  }
+}
+
+function _nodeformcols_get_element_title($element) {
+  if (!empty($element['#title'])) {
+    return $element['#title'];
+  }
+  if ($element['#type']=='submit') {
+    return $element['#value'];
+  }
+}
+
+function nodeformcols_configuration_form($form_state, $type, $variant='default') {
+  $variants = array();
+  drupal_alter('nodeformcols_variants', $variants, $type);
+
+  $form = array();
+  if (!empty($variants)) {
+    $variant_links = array(
+      'default' => array(
+        'title' => t('Default'),
+        'href' => 'admin/content/node-type/'. $type .'/form',
+      ),
+    );
+    foreach ($variants as $id => $title) {
+      $variant_links[] = array(
+        'title' => $title,
+        'href' => 'admin/content/node-type/'. $type .'/form/' . $id,
+      );
+    }
+
+    $form['variant'] = array(
+      '#type' => 'item',
+      '#title' => t('Select a form variant'),
+      '#value' => theme('links', $variant_links),
+    );
+  }
+
+  if (empty($variant)) {
+    $variant = 'default';
+  }
+  $form['#variant'] = $variant;
+
+  $placements = nodeformscols_field_placements($type, $variant);
+  nodeformcols_update_placements($type, $variant, $placements);
+
+  $regions = nodeformcols_form_regions();
+
+  $form['type'] = array(
+    '#type' => 'value',
+    '#value' => $type,
+  );
+  $form['#after_build'][] = '_nodeformcols_configuration_form_after_build';
+  $form['conf'] = array(
+    '#theme' => array('nodeformcols_configuration'),
+  );
+
+  foreach ($placements as $name => $info) {
+    $key = 'field_' . $name;
+    $weight = isset($info['weight']) ? $info['weight'] : 0;
+    $form['conf'][$info['region']][$key] = array(
+      '#weight' => $weight,
+      $key . '_name' => array(
+        '#type' => 'markup',
+        '#value' => !empty($info['title']) ? $info['title'] : $name,
+      ),
+      $key . '_region' => array(
+        '#type' => 'select',
+        '#options' => $regions,
+        '#default_value' => $info['region'],
+        '#attributes' => array(
+          'class' => 'field-region-select field-region-'. $info['region'],
+        ),
+      ),
+      $key . '_weight' => array(
+        '#type' => 'textfield',
+        '#default_value' => $weight,
+        '#size' => 3,
+        '#attributes' => array(
+          'class' => 'field-weight field-weight-'. $info['region'],
+        ),
+      ),
+    );
+
+    if (!$info['has_required']) {
+      $form['conf'][$info['region']][$key][$key . '_hidden'] = array(
+        '#type' => 'checkbox',
+        '#title' => t('Hide'),
+        '#default_value' => $info['hidden'],
+      );
+    }
+
+    if (isset($info['collapsed'])) {
+      $form['conf'][$info['region']][$key][$key . '_collapsed'] = array(
+        '#type' => 'checkbox',
+        '#title' => t('Show collapsed'),
+        '#default_value' => $info['collapsed'],
+      );
+    }
+  }
+
+  $form['submit'] = array(
+    '#type' => 'submit',
+    '#value' => t('Save'),
+  );
+
+  return $form;
+}
+
+/**
+ * Checks if a form element or any of it's children are required
+ *
+ * @param array $element
+ * @return bool
+ */
+function _nodeformcols_has_required($element) {
+  if (isset($element['#required']) && $element['#required']) {
+    return TRUE;
+  }
+  $children = element_children($element);
+  foreach ($children as $child) {
+    if (_nodeformcols_has_required($element[$child])) {
+      return TRUE;
+    }
+  }
+  return FALSE;
+}
+
+function _nodeformcols_configuration_form_after_build($form) {
+  drupal_add_js('misc/tableheader.js');
+  drupal_add_js(drupal_get_path('module', 'nodeformcols') . '/js/nodeformcols.js');
+  drupal_add_css(drupal_get_path('module', 'nodeformcols') . '/css/nodeformcols.admin.css');
+
+  $regions = nodeformcols_form_regions();
+  foreach ($regions as $region => $title) {
+    if (is_array($form['conf'][$region])) {
+      uasort($form['conf'][$region], "element_sort");
+    }
+    drupal_add_tabledrag('fields', 'match', 'sibling', 'field-region-select', 'field-region-'. $region, NULL, FALSE);
+    drupal_add_tabledrag('fields', 'order', 'sibling', 'field-weight', 'field-weight-'. $region);
+  }
+  return $form;
+}
+
+function nodeformcols_configuration_form_submit($form, $form_state) {
+  $values = $form_state['values'];
+  $type = $values['type'];
+  $placements = nodeformscols_field_placements($type, $form['#variant']);
+  nodeformcols_update_placements($type, $form['#variant'], $placements);
+
+  foreach ($placements as $name => &$opt) {
+    $field = 'field_' . $name;
+    $opt['region'] = $values[$field . '_region'];
+    $opt['weight'] = $values[$field . '_weight'];
+    if (isset($values[$field . '_hidden'])) {
+      $opt['hidden'] = $values[$field . '_hidden'];
+    }
+    if (isset($values[$field . '_collapsed'])) {
+      $opt['collapsed'] = $values[$field . '_collapsed'];
+    }
+  }
+
+  variable_set('nodeformscols_field_placements_' . $type .
+    '_' . $form['#variant'], $placements);
+}
\ No newline at end of file
diff --git a/sites/all/modules/nodeformcols/nodeformcols.info b/sites/all/modules/nodeformcols/nodeformcols.info
new file mode 100644
index 0000000..a447391
--- /dev/null
+++ b/sites/all/modules/nodeformcols/nodeformcols.info
@@ -0,0 +1,12 @@
+; $Id: nodeformcols.info,v 1.3 2009/04/24 21:21:53 hugowetterberg Exp $
+name = Node form columns
+description = Separates the node forms into two columns and a footer.
+core = 6.x
+package = Node form columns
+
+; Information added by drupal.org packaging script on 2009-09-21
+version = "6.x-1.6"
+core = "6.x"
+project = "nodeformcols"
+datestamp = "1253514044"
+
diff --git a/sites/all/modules/nodeformcols/nodeformcols.install b/sites/all/modules/nodeformcols/nodeformcols.install
new file mode 100644
index 0000000..234edff
--- /dev/null
+++ b/sites/all/modules/nodeformcols/nodeformcols.install
@@ -0,0 +1,63 @@
+<?php
+// $Id: nodeformcols.install,v 1.4 2009/09/21 06:09:54 hugowetterberg Exp $
+
+/**
+ * @file
+ * Install and update hooks
+ */
+
+/**
+ * Implementation of hook_install().
+ */
+function nodeformcols_install() {
+  // We need our hook_theme() to run after node.module's hook_theme().
+  db_query("UPDATE {system} SET weight = %d WHERE name = '%s' AND type = '%s'", 1, 'nodeformcols', 'module');
+}
+
+/**
+ * Implementation of hook_uninstall().
+ */
+function nodeformcols_uninstall() {
+  $res = db_query("SELECT name FROM {variable} WHERE name LIKE 'nodeformscols_field_placements_%'");
+  while ($v = db_fetch_object($res)) {
+    variable_del($v->name);
+  }
+}
+
+/**
+ * Updates the old-style placements that only defined region
+ * to the new-style that can specify weight and collapsed state.
+ *
+ * @return void
+ */
+function nodeformcols_update_1() {
+  $ret = array();
+  $res = db_query("SELECT name, value FROM {variable} WHERE name LIKE 'nodeformscols_field_placements_%'");
+  while ($v = db_fetch_object($res)) {
+    $placements = unserialize($v->value);
+    if ($placements) {
+      foreach ($placements as $key => $opt) {
+        if (!is_array($opt)) {
+          $placements[$key] = array('region' => $opt);
+        }
+      }
+
+      $result = db_query("UPDATE {variable} SET value='%s' WHERE name='%s'", array(
+        ':value' => serialize($placements),
+        ':name' => $v->name,
+      ));
+      $ret[] = array('success' => $result !== FALSE, 'query' => check_plain('Updated the variable ' . $v->name));
+    }
+  }
+  cache_clear_all('variables', 'cache');
+  return $ret;
+}
+
+function nodeformcols_update_6100() {
+  db_query("UPDATE {variable} SET name = CONCAT(name, '_default') WHERE name LIKE 'nodeformscols_field_placements_%'");
+  cache_clear_all('variables','cache');
+  return array(array(
+    'success' => TRUE,
+    'query' => 'Renamed nodeformcol variables',
+  ));
+}
diff --git a/sites/all/modules/nodeformcols/nodeformcols.module b/sites/all/modules/nodeformcols/nodeformcols.module
new file mode 100644
index 0000000..a215f37
--- /dev/null
+++ b/sites/all/modules/nodeformcols/nodeformcols.module
@@ -0,0 +1,236 @@
+<?php
+// $Id: nodeformcols.module,v 1.7 2009/09/21 06:09:54 hugowetterberg Exp $
+define('NODEFORMCOLS_DEFAULT_REGION', 'main');
+
+/**
+ * Implementation of hook_theme().
+ */
+function nodeformcols_theme($aExisting) {
+  return array(
+    // This needs to run after node.module's hook_theme(), which we ensure
+    // by setting this module's weight to 1 during install.
+    'node_form' => array(
+      'template' => 'node-form',
+    ),
+    'nodeformcols_configuration' => array(
+      'template' => 'nodeformcols-configuration',
+      'arguments' => array('element' => array()),
+    ),
+  );
+}
+
+/**
+ * Implementation of hook_menu().
+ */
+function nodeformcols_menu() {
+  $items = array();
+
+  if (!defined('MAINTENANCE_MODE')) {
+    foreach (node_get_types() as $type) {
+      $type_name = $type->type;
+      $type_url_str = str_replace('_', '-', $type_name);
+      $items['admin/content/node-type/'. $type_url_str .'/form'] = array(
+        'title' => 'Manage form',
+        'page callback' => 'drupal_get_form',
+        'page arguments' => array('nodeformcols_configuration_form', $type_name, 5),
+        'access arguments' => array('administer content types'),
+        'file' => 'nodeformcols.admin.inc',
+        'type' => MENU_LOCAL_TASK,
+        'weight' => 3
+      );
+    }
+  }
+
+  return $items;
+}
+
+/**
+ * Implementation of hook_ctools_plugin_directory().
+ */
+function nodeformcols_ctools_plugin_directory($module, $plugin) {
+  if ($module == 'ctools') {
+    return 'plugins/' . $plugin;
+  }
+}
+
+function nodeformcols_form_regions() {
+  return array(
+    'main' => t('Main column'),
+    'right' => t('Right'),
+    'footer' => t('Footer'),
+  );
+}
+
+/**
+ * Gets default placements for standard fields
+ *
+ * @return array
+ */
+function _nodeformscols_default_field_placements() {
+  return array(
+    'title' => array('region' => 'main'),
+    'body_field' => array('region' => 'main'),
+    'menu' => array('region' => 'right'),
+    'revision_information' => array('region' => 'right'),
+    'comment_settings' => array('region' => 'right'),
+    'path' => array('region' => 'right'),
+    'options' => array('region' => 'right'),
+    'author' => array('region' => 'right'),
+    'buttons' => array('region' => NODEFORMCOLS_DEFAULT_REGION, 'weight' => 100),
+  );
+}
+
+function nodeformscols_field_placements($content_type, $variant) {
+  $default = _nodeformscols_default_field_placements();
+  if ($variant != 'default') {
+    $default = variable_get('nodeformscols_field_placements_' .
+      $content_type . '_default', $default);
+  }
+
+  $placements = variable_get('nodeformscols_field_placements_' . $content_type .
+    '_' . $variant, $default);
+
+  return $placements;
+}
+
+function nodeformscols_content_extra_fields($type_name, $variant) {
+  return array(
+    'buttons' => array(
+      '#title' => t('Buttons'),
+      '#description' => t('Save, preview and delete buttons.'),
+      '#weight' => 50,
+    ),
+    'options' => array(
+      '#title' => t('Workflow options'),
+      '#description' => t('Options for publishing, sticky and publish on front page.'),
+      '#weight' => 0,
+    ),
+  );
+}
+
+/**
+ * Implementation of hook_form_alter().
+ */
+function nodeformcols_form_alter(&$form, $form_state, $form_id) {
+  if ('node-form' == $form['#id']) {
+    drupal_alter('nodeformcols_pre_form', $form);
+    $variant = isset($form['#nodeformcols_variant']) ? $form['#nodeformcols_variant'] : 'default';
+    $placements = nodeformscols_field_placements($form['#node']->type, $variant);
+    foreach ($placements as $key => $p) {
+      if (isset($p['hidden']) && $p['hidden']) {
+        $form[$key]['#access'] = FALSE;
+      }
+    }
+    drupal_alter('nodeformcols_post_form', $form);
+  }
+}
+
+/**
+ * Preprocess function to run ahead of other modules.
+ */
+function template_preprocess_node_form(&$aVars) {
+  drupal_add_css(drupal_get_path('module', 'nodeformcols') . '/css/nodeformcols.css');
+
+  $default_region = variable_get('nodeformcols_default_region', NODEFORMCOLS_DEFAULT_REGION);
+  $form = &$aVars['form'];
+  $class = array('node-form');
+
+  $regions = array();
+  $has_elements = array();
+  $weight = 0;
+  foreach (nodeformcols_form_regions() as $name => $title) {
+    $regions[$name] = array(
+      '#prefix' => '<div class="form-region-' . $name . '">',
+      '#suffix' => '</div>',
+      '#weight' => $weight,
+    );
+    $weight++;
+  }
+
+  drupal_alter('nodeformcols_pre_placement', $form);
+  $variant = isset($form['#nodeformcols_variant']) ? $form['#nodeformcols_variant'] : 'default';
+  $placements = nodeformscols_field_placements($form['#node']->type, $variant);
+
+  // Track if new fields should be adjusted above the buttons.
+  // TODO: This should be generalized to a way to tell nodeformcols where to place new fields (above below field X).
+  $adjust_to_buttons = $placements['buttons']['region'] == $default_region;
+
+  foreach ($form as $key => $field) {
+    if (substr($key, 0, 1)=='#' ||
+        $field['#type']=='value' || $field['#type']=='hidden'|| $field['#type']=='token') {
+      continue;
+    }
+
+    if (isset($placements[$key])) {
+      $p = $placements[$key];
+
+      if (isset($p['weight'])) {
+        $field['#weight'] = $p['weight'];
+      }
+      if (isset($p['collapsed']) && isset($field['#collapsible']) && $field['#collapsible']) {
+        $field['#collapsed'] = $p['collapsed'];
+      }
+      $regions[$p['region']][$key] = $field;
+      $has_elements[$p['region']] = TRUE;
+      unset($form[$key]);
+    }
+    else { // Set the default placement for unknown fields
+      $regions[$default_region][$key] = $field;
+      if ($adjust_to_buttons && $regions[$default_region][$key]['#weight'] >= $placements['buttons']['weight']) {
+        $regions[$default_region][$key]['#weight'] = $placements['buttons']['weight'] - .1;
+      }
+      $has_elements[$default_region] = TRUE;
+      unset($form[$key]);
+    }
+  }
+
+  // Ensure that we have the footer wrapper so that
+  // we clear the floating columns
+  if (!$has_elements['footer']) {
+    $has_elements['footer'] = TRUE;
+    $regions['footer'][] = array(
+      '#type' => 'markup',
+      '#value' => '&nbsp;',
+    );
+  }
+
+  foreach ($has_elements as $name => $has) {
+    if ($has) {
+      $class[] = 'node-form-has-region-' . $name;
+      $form['nodeformcols_region_' . $name] = $regions[$name];
+    }
+  }
+
+  $aVars['class'] = join($class, ' ');
+}
+
+/**
+ * Implementation of hook_node_type().
+ */
+function nodeformcols_node_type($op, $info) {
+  switch ($op) {
+    case 'delete':
+      db_query("DELETE FROM {variable} WHERE name LIKE '%s'", array(
+        ':name' => 'nodeformscols_field_placements_'. $info->type . '%',
+      ));
+      break;
+    case 'update':
+      if (!empty($info->old_type) && $info->old_type != $info->type) {
+        $base = 'nodeformscols_field_placements_'. $info->old_type;
+        $new_base = 'nodeformscols_field_placements_'. $info->type;
+        $res = db_query("SELECT name FROM {variable} WHERE name LIKE '%s'", array(
+          ':name' => $base . '%',
+        ));
+
+        while ($old_name = db_result($res)) {
+          $new_name = str_replace($base, $new_base, $old_name);
+          db_query("UPDATE {variable} SET name='%s' WHERE name='%s'", array(
+            ':new' => $new_name,
+            ':old' => $old_name,
+          ));
+        }
+        cache_clear_all('variables', 'cache');
+      }
+      break;
+  }
+}
diff --git a/sites/all/modules/nodeformcols/plugins/content_types/icon_form.png b/sites/all/modules/nodeformcols/plugins/content_types/icon_form.png
new file mode 100644
index 0000000..f0417cb
Binary files /dev/null and b/sites/all/modules/nodeformcols/plugins/content_types/icon_form.png differ
diff --git a/sites/all/modules/nodeformcols/plugins/content_types/nodeformcols.inc b/sites/all/modules/nodeformcols/plugins/content_types/nodeformcols.inc
new file mode 100644
index 0000000..403e617
--- /dev/null
+++ b/sites/all/modules/nodeformcols/plugins/content_types/nodeformcols.inc
@@ -0,0 +1,92 @@
+<?php
+// $Id: nodeformcols.inc,v 1.1 2009/09/21 06:09:54 hugowetterberg Exp $
+
+/**
+ * @file
+ * Renders the nodeformcols form in a panel pane. The entire panel is inside the
+ * <form> tag. Most of the code is from the CTools form.inc content type.
+ */
+
+/**
+ * Callback function to supply a list of content types.
+ */
+function nodeformcols_nodeformcols_ctools_content_types() {
+  return array(
+    // only provides a single content type
+    'single' => TRUE,
+    'render last' => TRUE,
+    'title' => t('Nodeformcols form'),
+    'icon' => 'icon_form.png',
+    'description' => t('A complete nodeformcols node form.'),
+    'required context' => new ctools_context_required(t('Form'), 'form'),
+    'category' => t('Form'),
+  );
+}
+
+/**
+ * Output function for the 'nodeformcols' content type. Outputs a node form
+ * as displayed by the nodeformcols module.
+ */
+function nodeformcols_nodeformcols_content_type_render($subtype, $conf, $panel_args, &$context) {
+  $block = new stdClass();
+  $block->module = 'nodeformcols';
+
+  $context->form['#theme'] = 'node_form';
+  unset($context->form['#theme_used']);
+
+  if (isset($context->form)) {
+    $block->title = $context->form_title;
+    if (!empty($context->form_id)) {
+      // If this is a form, drupal_render it.
+      $block->content = drupal_render($context->form);
+    }
+    else {
+      // Otherwise just spit back what we were given. This is probably an
+      // error message or something.
+      $block->content = $context->form;
+    }
+    $block->delta = $context->form_id;
+  }
+  else {
+    $block->title = t('Form');
+    $block->content = t('Form goes here.');
+    $block->delta   = 'unknown';
+  }
+
+  return $block;
+}
+
+/**
+ * Callback to provide the administrative title of the custom content.
+ */
+function nodeformcols_nodeformcols_content_type_admin_title($subtype, $conf, $context) {
+  return t('Nodeformcols node form');
+}
+
+/**
+ * Callback to provide administrative info.
+ */
+function nodeformcols_nodeformcols_content_type_admin_info($subtype, $conf) {
+  $block = new stdClass();
+  $block->title = t('Affected forms');
+
+  $types = node_get_types();
+  $forms = array();
+  foreach ($types as $type => $description) {
+    if (variable_get('nodeformscols_field_placements_' . $type . '_default', FALSE)) {
+      $forms[] = $description->name;
+    }
+  }
+
+  if (!empty($forms)) {
+    $block->content = theme('item_list', $forms);
+  }
+  else {
+    $block->content = '<p>'. t('No forms are using customized nodeformcols settings.') .'</p>';
+  }
+  return $block;
+}
+
+function nodeformcols_nodeformcols_content_type_edit_form(&$form, &$form_state) {
+  // provide a blank form so we have a place to add settings widgets
+}
diff --git a/sites/all/modules/orig_core_modules---hey-notice-this-folder b/sites/all/modules/orig_core_modules---hey-notice-this-folder
new file mode 100644
index 0000000..139597f
--- /dev/null
+++ b/sites/all/modules/orig_core_modules---hey-notice-this-folder
@@ -0,0 +1,2 @@
+
+
diff --git a/sites/all/modules/orig_core_modules/amazon/amazon.module b/sites/all/modules/orig_core_modules/amazon/amazon.module
index 8a58fb6..908a755 100644
--- a/sites/all/modules/orig_core_modules/amazon/amazon.module
+++ b/sites/all/modules/orig_core_modules/amazon/amazon.module
@@ -255,6 +255,8 @@ function amazon_http_request($operation, $parameters = array(), $locale = NULL)
   // Make the request and return a SimpleXML object.
   $results = drupal_http_request($url, array(), 'GET');
   if ($results->code == 200) {
+		// For testing, save Amazon dump in src directory 
+		// file_put_contents('AmazonResult.xml', $results->data);
     $xml = new SimpleXMLElement($results->data);
     return $xml;
   }
diff --git a/sites/all/modules/orig_core_modules/cck/includes/content.node_form.inc b/sites/all/modules/orig_core_modules/cck/includes/content.node_form.inc
index efd2742..5bfb498 100644
--- a/sites/all/modules/orig_core_modules/cck/includes/content.node_form.inc
+++ b/sites/all/modules/orig_core_modules/cck/includes/content.node_form.inc
@@ -221,7 +221,11 @@ function content_multiple_value_form(&$form, &$form_state, $field, $items) {
     $form_element[$field_name .'_add_more'] = array(
       '#type' => 'submit',
       '#name' => $field_name .'_add_more',
-      '#value' => t('Add another item'),
+      '#value' => t('Add another image'), 
+				//icky quick fix... is this the only time we use this code?
+				//  used to say Add another item.
+				//Should be handed to design team, and then this code overwritten
+
       '#weight' => $field['widget']['weight'] + $max + 1,
       // Submit callback for disabled JavaScript. drupal_get_form() might get
       // the form from the cache, so we can't rely on content_form_alter()
diff --git a/sites/all/modules/orig_core_modules/heartbeat/HACKED b/sites/all/modules/orig_core_modules/heartbeat/HACKED
new file mode 100644
index 0000000..d993130
--- /dev/null
+++ b/sites/all/modules/orig_core_modules/heartbeat/HACKED
@@ -0,0 +1,2 @@
+Lots of little changes, but especially:
+views/handlers/views_handler_filter_heartbeat_perms.inc
diff --git a/sites/all/modules/orig_core_modules/heartbeat/heartbeat-message-row.tpl.php b/sites/all/modules/orig_core_modules/heartbeat/heartbeat-message-row.tpl.php
index bb1fa1a..8c97729 100644
--- a/sites/all/modules/orig_core_modules/heartbeat/heartbeat-message-row.tpl.php
+++ b/sites/all/modules/orig_core_modules/heartbeat/heartbeat-message-row.tpl.php
@@ -19,9 +19,28 @@
 
 ?>
 <div class="heartbeat-message-block <?php print $message->message_id . ' ' . $zebra; ?>">
+<?php
+/* how do I pick the picture?
+uid_target  might be interesting?
+*/
 
+?>
   <div class="beat-item" id="beat-item-<?php print $message->uaid ?>">
 
+		<span class="heartbeat-pic-in-block"><?php
+			global $user;	
+			$notme = ($user->uid != $message->uid_target && $message->uid_target > 0 ) 
+				? $message->uid_target : $message->uid;
+
+			$u = user_load($notme);
+			//Load the correct user picture
+			!empty($u->picture) ? $user_picture = $u->picture : $user_picture = 'themes/vibio/images/icons/default_user_large.png';
+			$alt = $u->name . '\'s Picture';
+			$title = ''; // orname, if itsnot printed right below anyway
+			$attributes = ;
+			print theme('imagecache', "little_profile_pic", $user_picture, $alt,$title, $attributes);
+		?></span>
+
     <?php print $message->content['message']; ?>
     <?php if (!empty($message->content['time_info'])): ?>
     <span class="heartbeat_times"><?php print $message->content['time_info']; ?></span>
@@ -45,4 +64,4 @@
 
   </div>
 
-</div>
\ No newline at end of file
+</div>
diff --git a/sites/all/modules/orig_core_modules/imagefield/imagefield b/sites/all/modules/orig_core_modules/imagefield/imagefield
deleted file mode 120000
index f1fa771..0000000
--- a/sites/all/modules/orig_core_modules/imagefield/imagefield
+++ /dev/null
@@ -1 +0,0 @@
-imagefield
\ No newline at end of file
diff --git a/sites/all/modules/orig_core_modules/tweet/twitter.png b/sites/all/modules/orig_core_modules/tweet/twitter.png
index 2f24cae..4488f87 100644
Binary files a/sites/all/modules/orig_core_modules/tweet/twitter.png and b/sites/all/modules/orig_core_modules/tweet/twitter.png differ
diff --git a/sites/all/modules/orig_core_modules/user_relationships/user_relationship_blocks/user_relationship_blocks.module b/sites/all/modules/orig_core_modules/user_relationships/user_relationship_blocks/user_relationship_blocks.module
index 4c2cb40..a29dfb4 100644
--- a/sites/all/modules/orig_core_modules/user_relationships/user_relationship_blocks/user_relationship_blocks.module
+++ b/sites/all/modules/orig_core_modules/user_relationships/user_relationship_blocks/user_relationship_blocks.module
@@ -368,6 +368,8 @@ function template_preprocess_user_relationships_block(&$variables) {
   $query_opts = array('include_user_info' => TRUE);
 
   // select the appropriate set of relationships based on admin's configuration settings
+	// stephen: can we get rid of this?  Make the view work from the views admin
+	//  page?
   switch ($settings->sort) {
     case 'newest': $query_opts['order'] = 'updated_at DESC'; break;
     case 'oldest': $query_opts['order'] = 'updated_at ASC'; break;
diff --git a/sites/all/modules/orig_core_modules/user_relationships/user_relationship_mailer/user_relationship_mailer_defaults.inc b/sites/all/modules/orig_core_modules/user_relationships/user_relationship_mailer/user_relationship_mailer_defaults.inc
index 3e6bf81..1bf9b1c 100644
--- a/sites/all/modules/orig_core_modules/user_relationships/user_relationship_mailer/user_relationship_mailer_defaults.inc
+++ b/sites/all/modules/orig_core_modules/user_relationships/user_relationship_mailer/user_relationship_mailer_defaults.inc
@@ -135,7 +135,7 @@ MESSAGE;
  */
 function user_relationship_mailer_approve_default() {
   $subject = "[@site] You are @requestee_name's newest @relationship_name";
-  $message = <<<MESSAGE
+  $OLD_DELETE_SOON_message = <<<MESSAGE
 Dear @requester_name,
 
 @requestee_name has approved your request to be their @relationship_name.
@@ -150,6 +150,27 @@ This message was sent to you because you have user relationships email notificat
 If you no longer wish to receive these emails, you can turn them off at @site_url/user/@requester_uid/edit.
 MESSAGE;
 
+  $message = <<<MESSAGE
+Dear @requester_name,
+
+You and @requestee_name are now connected on Vibio! You are therefore considered as someone who is both trustworthy and stylish - congratulations!
+
+Please think carefully before you invite others to join your circle of trust or accept contact requests. 
+
+Here's a link to your relationships:
+  @requester_list_link
+
+Thanks!
+The Vibio team
+--
+Vibio (Your Style, Online)
+
+
+This message was sent to you because you have user relationships email notifications turned on.
+If you no longer wish to receive these emails, you can turn them off at @site_url/user/@requester_uid/edit.
+MESSAGE;
+
+
   return array(
     'subject' => $subject,
     'message' => $message,
diff --git a/sites/all/modules/orig_core_modules/user_relationships/user_relationships_api/user_relationships_api.module b/sites/all/modules/orig_core_modules/user_relationships/user_relationships_api/user_relationships_api.module
index c352c80..717126f 100644
--- a/sites/all/modules/orig_core_modules/user_relationships/user_relationships_api/user_relationships_api.module
+++ b/sites/all/modules/orig_core_modules/user_relationships/user_relationships_api/user_relationships_api.module
@@ -134,15 +134,22 @@ function _user_relationships_generate_query($param = array(), $options = array()
   $cond = $cond ? 'WHERE '. implode(' AND ', $cond) : '';
 
   $extra = array();
+
+	// stephen: where does this come from?  order not in this file!
   if (!empty($order)) {
     $extra[] = "ORDER BY {$order}";
   }
+	// stephen: I apologize for sticking this here.
+	$extra[] = "ORDER BY requestee_name";
+
+
+
   if (!empty($limit)) {
     $extra[] = "LIMIT {$limit}";
   }
-  $extra = is_array($extra) ? implode(' ', $extra) : $extra;
-
-  return array(
+	  $extra = is_array($extra) ? implode(' ', $extra) : $extra;
+  
+	return array(
     //331692 remove improper GROUP BY rid for Postgre
     'query'     => "SELECT {$selects} FROM {user_relationships} ur {$joins} {$cond} {$extra}",
     'count'     => "SELECT COUNT(DISTINCT rid) AS count FROM {user_relationships} ur {$count_joins} {$cond}",
@@ -348,4 +355,4 @@ function user_relationships_api_token_values($type, $data = NULL, $options = arr
   }
  
   return isset($token_values) ? $token_values : NULL;
-}
\ No newline at end of file
+}
diff --git a/sites/all/modules/orig_core_modules/user_relationships/user_relationships_ui/templates/user_relationships.tpl.php b/sites/all/modules/orig_core_modules/user_relationships/user_relationships_ui/templates/user_relationships.tpl.php
index 48a0c27..e845743 100644
--- a/sites/all/modules/orig_core_modules/user_relationships/user_relationships_ui/templates/user_relationships.tpl.php
+++ b/sites/all/modules/orig_core_modules/user_relationships/user_relationships_ui/templates/user_relationships.tpl.php
@@ -1,4 +1,5 @@
 <?php
+/* Print your friends=contacts on the Contacts page */
 if ($relationships) 
 {
 	$table = "<table class='user-relationships-listing-table'>";
diff --git a/sites/all/modules/orig_core_modules/user_relationships/user_relationships_ui/user_relationships_ui.module b/sites/all/modules/orig_core_modules/user_relationships/user_relationships_ui/user_relationships_ui.module
index 234b451..2b27b7b 100644
--- a/sites/all/modules/orig_core_modules/user_relationships/user_relationships_ui/user_relationships_ui.module
+++ b/sites/all/modules/orig_core_modules/user_relationships/user_relationships_ui/user_relationships_ui.module
@@ -827,6 +827,17 @@ function template_preprocess_user_relationships(&$variables) {
     $variables['relationships'][$relationship->rid] = $relationship;
   }
 
+	// Sort somehow ... by stephen
+	/*dsm($variables['relationships']);
+   	array by rid = stdClass->requestee->name  
+		
+		Too late to sort, because pagination already happened
+		_user_relationships_generate_query
+
+
+	*/  
+
+
   if ($account->uid == $user->uid) {
     $msg = isset($relationship_type) 
            ? t("My %relationships", array('%relationships' => $relationship_type->plural_name ? ur_tt("user_relationships:rtid:$relationship_type->rtid:plural_name", $relationship_type->plural_name) : ur_tt("user_relationships:rtid:$relationship_type->rtid:name", $relationship_type->name))) 
diff --git a/sites/all/modules/orig_core_modules/views-6.x-3.0-alpha4.tar.gz b/sites/all/modules/orig_core_modules/views-6.x-3.0-alpha4.tar.gz
new file mode 100644
index 0000000..a9e9296
Binary files /dev/null and b/sites/all/modules/orig_core_modules/views-6.x-3.0-alpha4.tar.gz differ
diff --git a/sites/all/modules/orig_core_modules/views-6.x-3.x-dev.tar.gz b/sites/all/modules/orig_core_modules/views-6.x-3.x-dev.tar.gz
deleted file mode 100644
index 8cae6eb..0000000
Binary files a/sites/all/modules/orig_core_modules/views-6.x-3.x-dev.tar.gz and /dev/null differ
diff --git a/sites/all/modules/orig_core_modules/views/LICENSE.txt b/sites/all/modules/orig_core_modules/views/LICENSE.txt
index 2c095c8..d159169 100644
--- a/sites/all/modules/orig_core_modules/views/LICENSE.txt
+++ b/sites/all/modules/orig_core_modules/views/LICENSE.txt
@@ -1,274 +1,339 @@
-GNU GENERAL PUBLIC LICENSE
-
-              Version 2, June 1991
-
-Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
-Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
-verbatim copies of this license document, but changing it is not allowed.
-
-                  Preamble
-
-The licenses for most software are designed to take away your freedom to
-share and change it. By contrast, the GNU General Public License is
-intended to guarantee your freedom to share and change free software--to
-make sure the software is free for all its users. This General Public License
-applies to most of the Free Software Foundation's software and to any other
-program whose authors commit to using it. (Some other Free Software
-Foundation software is covered by the GNU Library General Public License
-instead.) You can apply it to your programs, too.
-
-When we speak of free software, we are referring to freedom, not price. Our
-General Public Licenses are designed to make sure that you have the
-freedom to distribute copies of free software (and charge for this service if
-you wish), that you receive source code or can get it if you want it, that you
-can change the software or use pieces of it in new free programs; and that
-you know you can do these things.
-
-To protect your rights, we need to make restrictions that forbid anyone to
-deny you these rights or to ask you to surrender the rights. These restrictions
-translate to certain responsibilities for you if you distribute copies of the
-software, or if you modify it.
-
-For example, if you distribute copies of such a program, whether gratis or for
-a fee, you must give the recipients all the rights that you have. You must make
-sure that they, too, receive or can get the source code. And you must show
-them these terms so they know their rights.
-
-We protect your rights with two steps: (1) copyright the software, and (2)
-offer you this license which gives you legal permission to copy, distribute
-and/or modify the software.
-
-Also, for each author's protection and ours, we want to make certain that
-everyone understands that there is no warranty for this free software. If the
-software is modified by someone else and passed on, we want its recipients
-to know that what they have is not the original, so that any problems
-introduced by others will not reflect on the original authors' reputations.
-
-Finally, any free program is threatened constantly by software patents. We
-wish to avoid the danger that redistributors of a free program will individually
-obtain patent licenses, in effect making the program proprietary. To prevent
-this, we have made it clear that any patent must be licensed for everyone's
-free use or not licensed at all.
-
-The precise terms and conditions for copying, distribution and modification
-follow.
-
-           GNU GENERAL PUBLIC LICENSE
- TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
-               MODIFICATION
-
-0. This License applies to any program or other work which contains a notice
-placed by the copyright holder saying it may be distributed under the terms
-of this General Public License. The "Program", below, refers to any such
-program or work, and a "work based on the Program" means either the
-Program or any derivative work under copyright law: that is to say, a work
-containing the Program or a portion of it, either verbatim or with
-modifications and/or translated into another language. (Hereinafter, translation
-is included without limitation in the term "modification".) Each licensee is
-addressed as "you".
-
-Activities other than copying, distribution and modification are not covered
-by this License; they are outside its scope. The act of running the Program is
-not restricted, and the output from the Program is covered only if its contents
-constitute a work based on the Program (independent of having been made
-by running the Program). Whether that is true depends on what the Program
-does.
-
-1. You may copy and distribute verbatim copies of the Program's source
-code as you receive it, in any medium, provided that you conspicuously and
-appropriately publish on each copy an appropriate copyright notice and
-disclaimer of warranty; keep intact all the notices that refer to this License
-and to the absence of any warranty; and give any other recipients of the
-Program a copy of this License along with the Program.
-
-You may charge a fee for the physical act of transferring a copy, and you
-may at your option offer warranty protection in exchange for a fee.
-
-2. You may modify your copy or copies of the Program or any portion of it,
-thus forming a work based on the Program, and copy and distribute such
-modifications or work under the terms of Section 1 above, provided that you
-also meet all of these conditions:
-
-a) You must cause the modified files to carry prominent notices stating that
-you changed the files and the date of any change.
-
-b) You must cause any work that you distribute or publish, that in whole or in
-part contains or is derived from the Program or any part thereof, to be
-licensed as a whole at no charge to all third parties under the terms of this
-License.
-
-c) If the modified program normally reads commands interactively when run,
-you must cause it, when started running for such interactive use in the most
-ordinary way, to print or display an announcement including an appropriate
-copyright notice and a notice that there is no warranty (or else, saying that
-you provide a warranty) and that users may redistribute the program under
-these conditions, and telling the user how to view a copy of this License.
-(Exception: if the Program itself is interactive but does not normally print such
-an announcement, your work based on the Program is not required to print
-an announcement.)
-
-These requirements apply to the modified work as a whole. If identifiable
-sections of that work are not derived from the Program, and can be
-reasonably considered independent and separate works in themselves, then
-this License, and its terms, do not apply to those sections when you distribute
-them as separate works. But when you distribute the same sections as part
-of a whole which is a work based on the Program, the distribution of the
-whole must be on the terms of this License, whose permissions for other
-licensees extend to the entire whole, and thus to each and every part
-regardless of who wrote it.
-
-Thus, it is not the intent of this section to claim rights or contest your rights to
-work written entirely by you; rather, the intent is to exercise the right to
-control the distribution of derivative or collective works based on the
-Program.
+                    GNU GENERAL PUBLIC LICENSE
+                       Version 2, June 1991
+
+ Copyright (C) 1989, 1991 Free Software Foundation, Inc.,
+ 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
+ Everyone is permitted to copy and distribute verbatim copies
+ of this license document, but changing it is not allowed.
+
+                            Preamble
+
+  The licenses for most software are designed to take away your
+freedom to share and change it.  By contrast, the GNU General Public
+License is intended to guarantee your freedom to share and change free
+software--to make sure the software is free for all its users.  This
+General Public License applies to most of the Free Software
+Foundation's software and to any other program whose authors commit to
+using it.  (Some other Free Software Foundation software is covered by
+the GNU Lesser General Public License instead.)  You can apply it to
+your programs, too.
+
+  When we speak of free software, we are referring to freedom, not
+price.  Our General Public Licenses are designed to make sure that you
+have the freedom to distribute copies of free software (and charge for
+this service if you wish), that you receive source code or can get it
+if you want it, that you can change the software or use pieces of it
+in new free programs; and that you know you can do these things.
+
+  To protect your rights, we need to make restrictions that forbid
+anyone to deny you these rights or to ask you to surrender the rights.
+These restrictions translate to certain responsibilities for you if you
+distribute copies of the software, or if you modify it.
+
+  For example, if you distribute copies of such a program, whether
+gratis or for a fee, you must give the recipients all the rights that
+you have.  You must make sure that they, too, receive or can get the
+source code.  And you must show them these terms so they know their
+rights.
+
+  We protect your rights with two steps: (1) copyright the software, and
+(2) offer you this license which gives you legal permission to copy,
+distribute and/or modify the software.
+
+  Also, for each author's protection and ours, we want to make certain
+that everyone understands that there is no warranty for this free
+software.  If the software is modified by someone else and passed on, we
+want its recipients to know that what they have is not the original, so
+that any problems introduced by others will not reflect on the original
+authors' reputations.
+
+  Finally, any free program is threatened constantly by software
+patents.  We wish to avoid the danger that redistributors of a free
+program will individually obtain patent licenses, in effect making the
+program proprietary.  To prevent this, we have made it clear that any
+patent must be licensed for everyone's free use or not licensed at all.
+
+  The precise terms and conditions for copying, distribution and
+modification follow.
+
+                    GNU GENERAL PUBLIC LICENSE
+   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
+
+  0. This License applies to any program or other work which contains
+a notice placed by the copyright holder saying it may be distributed
+under the terms of this General Public License.  The "Program", below,
+refers to any such program or work, and a "work based on the Program"
+means either the Program or any derivative work under copyright law:
+that is to say, a work containing the Program or a portion of it,
+either verbatim or with modifications and/or translated into another
+language.  (Hereinafter, translation is included without limitation in
+the term "modification".)  Each licensee is addressed as "you".
+
+Activities other than copying, distribution and modification are not
+covered by this License; they are outside its scope.  The act of
+running the Program is not restricted, and the output from the Program
+is covered only if its contents constitute a work based on the
+Program (independent of having been made by running the Program).
+Whether that is true depends on what the Program does.
+
+  1. You may copy and distribute verbatim copies of the Program's
+source code as you receive it, in any medium, provided that you
+conspicuously and appropriately publish on each copy an appropriate
+copyright notice and disclaimer of warranty; keep intact all the
+notices that refer to this License and to the absence of any warranty;
+and give any other recipients of the Program a copy of this License
+along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and
+you may at your option offer warranty protection in exchange for a fee.
+
+  2. You may modify your copy or copies of the Program or any portion
+of it, thus forming a work based on the Program, and copy and
+distribute such modifications or work under the terms of Section 1
+above, provided that you also meet all of these conditions:
+
+    a) You must cause the modified files to carry prominent notices
+    stating that you changed the files and the date of any change.
+
+    b) You must cause any work that you distribute or publish, that in
+    whole or in part contains or is derived from the Program or any
+    part thereof, to be licensed as a whole at no charge to all third
+    parties under the terms of this License.
+
+    c) If the modified program normally reads commands interactively
+    when run, you must cause it, when started running for such
+    interactive use in the most ordinary way, to print or display an
+    announcement including an appropriate copyright notice and a
+    notice that there is no warranty (or else, saying that you provide
+    a warranty) and that users may redistribute the program under
+    these conditions, and telling the user how to view a copy of this
+    License.  (Exception: if the Program itself is interactive but
+    does not normally print such an announcement, your work based on
+    the Program is not required to print an announcement.)
+
+These requirements apply to the modified work as a whole.  If
+identifiable sections of that work are not derived from the Program,
+and can be reasonably considered independent and separate works in
+themselves, then this License, and its terms, do not apply to those
+sections when you distribute them as separate works.  But when you
+distribute the same sections as part of a whole which is a work based
+on the Program, the distribution of the whole must be on the terms of
+this License, whose permissions for other licensees extend to the
+entire whole, and thus to each and every part regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest
+your rights to work written entirely by you; rather, the intent is to
+exercise the right to control the distribution of derivative or
+collective works based on the Program.
 
 In addition, mere aggregation of another work not based on the Program
-with the Program (or with a work based on the Program) on a volume of a
-storage or distribution medium does not bring the other work under the scope
-of this License.
-
-3. You may copy and distribute the Program (or a work based on it, under
-Section 2) in object code or executable form under the terms of Sections 1
-and 2 above provided that you also do one of the following:
-
-a) Accompany it with the complete corresponding machine-readable source
-code, which must be distributed under the terms of Sections 1 and 2 above
-on a medium customarily used for software interchange; or,
-
-b) Accompany it with a written offer, valid for at least three years, to give
-any third party, for a charge no more than your cost of physically performing
-source distribution, a complete machine-readable copy of the corresponding
-source code, to be distributed under the terms of Sections 1 and 2 above on
-a medium customarily used for software interchange; or,
-
-c) Accompany it with the information you received as to the offer to distribute
-corresponding source code. (This alternative is allowed only for
-noncommercial distribution and only if you received the program in object
-code or executable form with such an offer, in accord with Subsection b
-above.)
+with the Program (or with a work based on the Program) on a volume of
+a storage or distribution medium does not bring the other work under
+the scope of this License.
+
+  3. You may copy and distribute the Program (or a work based on it,
+under Section 2) in object code or executable form under the terms of
+Sections 1 and 2 above provided that you also do one of the following:
+
+    a) Accompany it with the complete corresponding machine-readable
+    source code, which must be distributed under the terms of Sections
+    1 and 2 above on a medium customarily used for software interchange; or,
+
+    b) Accompany it with a written offer, valid for at least three
+    years, to give any third party, for a charge no more than your
+    cost of physically performing source distribution, a complete
+    machine-readable copy of the corresponding source code, to be
+    distributed under the terms of Sections 1 and 2 above on a medium
+    customarily used for software interchange; or,
+
+    c) Accompany it with the information you received as to the offer
+    to distribute corresponding source code.  (This alternative is
+    allowed only for noncommercial distribution and only if you
+    received the program in object code or executable form with such
+    an offer, in accord with Subsection b above.)
 
 The source code for a work means the preferred form of the work for
-making modifications to it. For an executable work, complete source code
-means all the source code for all modules it contains, plus any associated
-interface definition files, plus the scripts used to control compilation and
-installation of the executable. However, as a special exception, the source
-code distributed need not include anything that is normally distributed (in
-either source or binary form) with the major components (compiler, kernel,
-and so on) of the operating system on which the executable runs, unless that
-component itself accompanies the executable.
-
-If distribution of executable or object code is made by offering access to
-copy from a designated place, then offering equivalent access to copy the
-source code from the same place counts as distribution of the source code,
-even though third parties are not compelled to copy the source along with the
-object code.
-
-4. You may not copy, modify, sublicense, or distribute the Program except as
-expressly provided under this License. Any attempt otherwise to copy,
-modify, sublicense or distribute the Program is void, and will automatically
-terminate your rights under this License. However, parties who have received
-copies, or rights, from you under this License will not have their licenses
-terminated so long as such parties remain in full compliance.
-
-5. You are not required to accept this License, since you have not signed it.
-However, nothing else grants you permission to modify or distribute the
-Program or its derivative works. These actions are prohibited by law if you
-do not accept this License. Therefore, by modifying or distributing the
-Program (or any work based on the Program), you indicate your acceptance
-of this License to do so, and all its terms and conditions for copying,
-distributing or modifying the Program or works based on it.
-
-6. Each time you redistribute the Program (or any work based on the
-Program), the recipient automatically receives a license from the original
-licensor to copy, distribute or modify the Program subject to these terms and
-conditions. You may not impose any further restrictions on the recipients'
-exercise of the rights granted herein. You are not responsible for enforcing
-compliance by third parties to this License.
-
-7. If, as a consequence of a court judgment or allegation of patent
-infringement or for any other reason (not limited to patent issues), conditions
-are imposed on you (whether by court order, agreement or otherwise) that
-contradict the conditions of this License, they do not excuse you from the
-conditions of this License. If you cannot distribute so as to satisfy
-simultaneously your obligations under this License and any other pertinent
-obligations, then as a consequence you may not distribute the Program at all.
-For example, if a patent license would not permit royalty-free redistribution
-of the Program by all those who receive copies directly or indirectly through
-you, then the only way you could satisfy both it and this License would be to
+making modifications to it.  For an executable work, complete source
+code means all the source code for all modules it contains, plus any
+associated interface definition files, plus the scripts used to
+control compilation and installation of the executable.  However, as a
+special exception, the source code distributed need not include
+anything that is normally distributed (in either source or binary
+form) with the major components (compiler, kernel, and so on) of the
+operating system on which the executable runs, unless that component
+itself accompanies the executable.
+
+If distribution of executable or object code is made by offering
+access to copy from a designated place, then offering equivalent
+access to copy the source code from the same place counts as
+distribution of the source code, even though third parties are not
+compelled to copy the source along with the object code.
+
+  4. You may not copy, modify, sublicense, or distribute the Program
+except as expressly provided under this License.  Any attempt
+otherwise to copy, modify, sublicense or distribute the Program is
+void, and will automatically terminate your rights under this License.
+However, parties who have received copies, or rights, from you under
+this License will not have their licenses terminated so long as such
+parties remain in full compliance.
+
+  5. You are not required to accept this License, since you have not
+signed it.  However, nothing else grants you permission to modify or
+distribute the Program or its derivative works.  These actions are
+prohibited by law if you do not accept this License.  Therefore, by
+modifying or distributing the Program (or any work based on the
+Program), you indicate your acceptance of this License to do so, and
+all its terms and conditions for copying, distributing or modifying
+the Program or works based on it.
+
+  6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the
+original licensor to copy, distribute or modify the Program subject to
+these terms and conditions.  You may not impose any further
+restrictions on the recipients' exercise of the rights granted herein.
+You are not responsible for enforcing compliance by third parties to
+this License.
+
+  7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues),
+conditions are imposed on you (whether by court order, agreement or
+otherwise) that contradict the conditions of this License, they do not
+excuse you from the conditions of this License.  If you cannot
+distribute so as to satisfy simultaneously your obligations under this
+License and any other pertinent obligations, then as a consequence you
+may not distribute the Program at all.  For example, if a patent
+license would not permit royalty-free redistribution of the Program by
+all those who receive copies directly or indirectly through you, then
+the only way you could satisfy both it and this License would be to
 refrain entirely from distribution of the Program.
 
-If any portion of this section is held invalid or unenforceable under any
-particular circumstance, the balance of the section is intended to apply and
-the section as a whole is intended to apply in other circumstances.
-
-It is not the purpose of this section to induce you to infringe any patents or
-other property right claims or to contest validity of any such claims; this
-section has the sole purpose of protecting the integrity of the free software
-distribution system, which is implemented by public license practices. Many
-people have made generous contributions to the wide range of software
-distributed through that system in reliance on consistent application of that
-system; it is up to the author/donor to decide if he or she is willing to
-distribute software through any other system and a licensee cannot impose
-that choice.
-
-This section is intended to make thoroughly clear what is believed to be a
-consequence of the rest of this License.
-
-8. If the distribution and/or use of the Program is restricted in certain
-countries either by patents or by copyrighted interfaces, the original copyright
-holder who places the Program under this License may add an explicit
-geographical distribution limitation excluding those countries, so that
-distribution is permitted only in or among countries not thus excluded. In such
-case, this License incorporates the limitation as if written in the body of this
-License.
-
-9. The Free Software Foundation may publish revised and/or new versions
-of the General Public License from time to time. Such new versions will be
-similar in spirit to the present version, but may differ in detail to address new
-problems or concerns.
-
-Each version is given a distinguishing version number. If the Program specifies
-a version number of this License which applies to it and "any later version",
-you have the option of following the terms and conditions either of that
-version or of any later version published by the Free Software Foundation. If
-the Program does not specify a version number of this License, you may
-choose any version ever published by the Free Software Foundation.
-
-10. If you wish to incorporate parts of the Program into other free programs
-whose distribution conditions are different, write to the author to ask for
-permission. For software which is copyrighted by the Free Software
-Foundation, write to the Free Software Foundation; we sometimes make
-exceptions for this. Our decision will be guided by the two goals of
-preserving the free status of all derivatives of our free software and of
-promoting the sharing and reuse of software generally.
-
-               NO WARRANTY
-
-11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
-THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
-PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
-STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
-OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
-WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
-INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
-OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
-PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
-PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
-PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
-NECESSARY SERVICING, REPAIR OR CORRECTION.
-
-12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
-AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
-ANY OTHER PARTY WHO MAY MODIFY AND/OR
-REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
-LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
-SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
-ARISING OUT OF THE USE OR INABILITY TO USE THE
-PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
-OR DATA BEING RENDERED INACCURATE OR LOSSES
-SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
-PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
-IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
-THE POSSIBILITY OF SUCH DAMAGES.
-
-          END OF TERMS AND CONDITIONS
+If any portion of this section is held invalid or unenforceable under
+any particular circumstance, the balance of the section is intended to
+apply and the section as a whole is intended to apply in other
+circumstances.
+
+It is not the purpose of this section to induce you to infringe any
+patents or other property right claims or to contest validity of any
+such claims; this section has the sole purpose of protecting the
+integrity of the free software distribution system, which is
+implemented by public license practices.  Many people have made
+generous contributions to the wide range of software distributed
+through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing
+to distribute software through any other system and a licensee cannot
+impose that choice.
+
+This section is intended to make thoroughly clear what is believed to
+be a consequence of the rest of this License.
+
+  8. If the distribution and/or use of the Program is restricted in
+certain countries either by patents or by copyrighted interfaces, the
+original copyright holder who places the Program under this License
+may add an explicit geographical distribution limitation excluding
+those countries, so that distribution is permitted only in or among
+countries not thus excluded.  In such case, this License incorporates
+the limitation as if written in the body of this License.
+
+  9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time.  Such new versions will
+be similar in spirit to the present version, but may differ in detail to
+address new problems or concerns.
+
+Each version is given a distinguishing version number.  If the Program
+specifies a version number of this License which applies to it and "any
+later version", you have the option of following the terms and conditions
+either of that version or of any later version published by the Free
+Software Foundation.  If the Program does not specify a version number of
+this License, you may choose any version ever published by the Free Software
+Foundation.
+
+  10. If you wish to incorporate parts of the Program into other free
+programs whose distribution conditions are different, write to the author
+to ask for permission.  For software which is copyrighted by the Free
+Software Foundation, write to the Free Software Foundation; we sometimes
+make exceptions for this.  Our decision will be guided by the two goals
+of preserving the free status of all derivatives of our free software and
+of promoting the sharing and reuse of software generally.
+
+                            NO WARRANTY
+
+  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
+FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
+OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
+PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
+OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
+MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
+TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
+REPAIR OR CORRECTION.
+
+  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
+WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
+INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
+OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
+TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
+YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
+PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
+POSSIBILITY OF SUCH DAMAGES.
+
+                     END OF TERMS AND CONDITIONS
+
+            How to Apply These Terms to Your New Programs
+
+  If you develop a new program, and you want it to be of the greatest
+possible use to the public, the best way to achieve this is to make it
+free software which everyone can redistribute and change under these terms.
+
+  To do so, attach the following notices to the program.  It is safest
+to attach them to the start of each source file to most effectively
+convey the exclusion of warranty; and each file should have at least
+the "copyright" line and a pointer to where the full notice is found.
+
+    <one line to give the program's name and a brief idea of what it does.>
+    Copyright (C) <year>  <name of author>
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; either version 2 of the License, or
+    (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License along
+    with this program; if not, write to the Free Software Foundation, Inc.,
+    51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
+
+Also add information on how to contact you by electronic and paper mail.
+
+If the program is interactive, make it output a short notice like this
+when it starts in an interactive mode:
+
+    Gnomovision version 69, Copyright (C) year name of author
+    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
+    This is free software, and you are welcome to redistribute it
+    under certain conditions; type `show c' for details.
+
+The hypothetical commands `show w' and `show c' should show the appropriate
+parts of the General Public License.  Of course, the commands you use may
+be called something other than `show w' and `show c'; they could even be
+mouse-clicks or menu items--whatever suits your program.
+
+You should also get your employer (if you work as a programmer) or your
+school, if any, to sign a "copyright disclaimer" for the program, if
+necessary.  Here is a sample; alter the names:
+
+  Yoyodyne, Inc., hereby disclaims all copyright interest in the program
+  `Gnomovision' (which makes passes at compilers) written by James Hacker.
+
+  <signature of Ty Coon>, 1 April 1989
+  Ty Coon, President of Vice
+
+This General Public License does not permit incorporating your program into
+proprietary programs.  If your program is a subroutine library, you may
+consider it more useful to permit linking proprietary applications with the
+library.  If this is what you want to do, use the GNU Lesser General
+Public License instead of this License.
diff --git a/sites/all/modules/orig_core_modules/views/handlers/views_handler_field.inc b/sites/all/modules/orig_core_modules/views/handlers/views_handler_field.inc
index 3591ddd..99cfb77 100644
--- a/sites/all/modules/orig_core_modules/views/handlers/views_handler_field.inc
+++ b/sites/all/modules/orig_core_modules/views/handlers/views_handler_field.inc
@@ -932,7 +932,7 @@ If you would like to have the characters %5B and %5D please use the html entity
     // If the path is empty do not build a link around the given text and return
     // it as is.
     // http://www.example.com URLs will not have a $url['path'], so check host as well.
-    if (empty($url['path']) && empty($url['host'])) {
+    if (empty($url['path']) && empty($url['host']) && empty($url['fragment'])) {
       return $text;
     }
 
diff --git a/sites/all/modules/orig_core_modules/views/includes/admin.inc b/sites/all/modules/orig_core_modules/views/includes/admin.inc
index fd02efd..f092081 100644
--- a/sites/all/modules/orig_core_modules/views/includes/admin.inc
+++ b/sites/all/modules/orig_core_modules/views/includes/admin.inc
@@ -1135,7 +1135,7 @@ function template_preprocess_views_ui_edit_tab(&$vars) {
         $title = t('Description');
         break;
     }
-    $value = empty($view->{$property}) ? t('None') : check_plain($view->{$property});
+    $value = empty($view->{$property}) ? t('None') : $view->{$property};
     $vars['details'][$property] = $title . ': ' . l($value, "admin/build/views/nojs/$property/$view->name", array('attributes' => array('class' => 'views-ajax-link')));
   }
 
diff --git a/sites/all/modules/orig_core_modules/views/includes/convert.inc b/sites/all/modules/orig_core_modules/views/includes/convert.inc
index 590e58d..866682a 100644
--- a/sites/all/modules/orig_core_modules/views/includes/convert.inc
+++ b/sites/all/modules/orig_core_modules/views/includes/convert.inc
@@ -324,31 +324,49 @@ function views1_import($imported) {
   }
   $actions = array('ignore', 'not found', 'ignore', 'summary asc', 'summary asc', 'summary desc', 'summary asc', 'empty');
   foreach ($imported->argument as $id => $field) {
-    if (!empty($imported->view_args_php)) {
-      $field['argoptions']['default_action'] = 'default';
-      $field['argoptions']['default_argument_type'] = 'php';
-      $field['argoptions']['default_argument_php'] = '$args = eval(\''. str_replace("'", "\\'", $imported->view_args_php) .'\');'."\n";
-      $field['argoptions']['default_argument_php'] .= 'if (isset($args['. $field['position'] .'])) {'."\n";
-      $field['argoptions']['default_argument_php'] .= '  return $args['. $field['position'] .'];'."\n";
-      $field['argoptions']['default_argument_php'] .= '}';
-      $field['argoptions']['validate_fail'] = $actions[$field['argdefault']];
+    if ($field['type'] == 'rss_feed') {
+      $feed_display = $view->new_display('feed');
+      $feed_display->set_option('style_plugin', 'rss');
+      $feed_display->set_option('row_plugin', 'node_rss');
+      $feed_display->set_option('path', $view->display[$page_display]->handler->get_option('path') .'/feed');
+      $feed_display->set_option('page', $view->display[$page_display]->handler->get_option('pager'));
+
+      $displays = array();
+      if (!empty($page_display)) {
+        $displays[$page_display] = $page_display;
+      }
+      if (!empty($block_display)) {
+        $displays[$block_display] = $block_display;
+      }
+      $feed_display->set_option('displays', $displays);
     }
     else {
-      $field['argoptions']['default_action'] = $actions[$field['argdefault']];
-    }
-    if (!empty($field['title'])) {
-      $field['argoptions']['title'] = $field['title'];
-    }
-    if (!empty($field['wildcard'])) {
-      $field['argoptions']['wildcard'] = $field['wildcard'];
-    }
-    if (!empty($field['wildcard_substitution'])) {
-      $field['argoptions']['wildcard_substitution'] = $field['wildcard_substitution'];
-    }
-    // Arguments didn't used to be identified by table.name so we just have to
-    // leave that out.
-    foreach (module_implements('views_convert') as $module) {
-      module_invoke($module, 'views_convert', 'default', 'argument', $view, $field, NULL);
+      if (!empty($imported->view_args_php)) {
+        $field['argoptions']['default_action'] = 'default';
+        $field['argoptions']['default_argument_type'] = 'php';
+        $field['argoptions']['default_argument_php'] = '$args = eval(\''. str_replace("'", "\\'", $imported->view_args_php) .'\');'."\n";
+        $field['argoptions']['default_argument_php'] .= 'if (isset($args['. $field['position'] .'])) {'."\n";
+        $field['argoptions']['default_argument_php'] .= '  return $args['. $field['position'] .'];'."\n";
+        $field['argoptions']['default_argument_php'] .= '}';
+        $field['argoptions']['validate_fail'] = $actions[$field['argdefault']];
+      }
+      else {
+        $field['argoptions']['default_action'] = $actions[$field['argdefault']];
+      }
+      if (!empty($field['title'])) {
+        $field['argoptions']['title'] = $field['title'];
+      }
+      if (!empty($field['wildcard'])) {
+        $field['argoptions']['wildcard'] = $field['wildcard'];
+      }
+      if (!empty($field['wildcard_substitution'])) {
+        $field['argoptions']['wildcard_substitution'] = $field['wildcard_substitution'];
+      }
+      // Arguments didn't used to be identified by table.name so we just have to
+      // leave that out.
+      foreach (module_implements('views_convert') as $module) {
+        module_invoke($module, 'views_convert', 'default', 'argument', $view, $field, NULL);
+      }
     }
   }
   foreach ($imported->filter as $key => $field) {
@@ -415,6 +433,14 @@ function views1_convert_style(&$view, &$handler, $type) {
       $handler->set_option('style_plugin', 'table');
       $handler->set_option('style_options', $options);
       break;
+    case 'views_rss':
+      $feed_display = $view->add_display('feed');
+      $feed_display->set_option('style_plugin', 'rss');
+      $feed_display->set_option('row_plugin', 'node_rss');
+      $feed_display->set_option('path', $handler->get_option('path'));
+      $feed_display->set_options('displays', array($handler->id));
+      $feed_display->set_option('page', $handler->get_option('pager'));
+      break;
     default:
       // Ask around if anybody else knows.
       foreach (module_implements('views_convert') as $module) {
diff --git a/sites/all/modules/orig_core_modules/views/includes/handlers.inc b/sites/all/modules/orig_core_modules/views/includes/handlers.inc
index 7f59c0b..21b150a 100644
--- a/sites/all/modules/orig_core_modules/views/includes/handlers.inc
+++ b/sites/all/modules/orig_core_modules/views/includes/handlers.inc
@@ -294,7 +294,7 @@ class views_handler extends views_object {
       $display_id,
       $this->handler_type,
       $options['table'],
-      $options['field']
+      $options['id']
     );
 
     $this->unpack_options($this->options, $options);
@@ -1157,7 +1157,10 @@ function views_get_timezone() {
       if ($GLOBALS['db_type'] == 'pgsql') {
         db_query("SET TIME ZONE INTERVAL '$offset' HOUR TO MINUTE");
       }
-      elseif ($GLOBALS['db_type'] == 'mysqli' || version_compare(mysql_get_server_info(), '4.1.3', '>=')) {
+      elseif ($GLOBALS['db_type'] == 'mysqli') {
+        db_query("SET @@session.time_zone = '$offset'");
+      }
+      elseif ($GLOBALS['db_type'] == 'mysql' && version_compare(db_version, '4.1.3', '>=')) {
         db_query("SET @@session.time_zone = '$offset'");
       }
 
diff --git a/sites/all/modules/orig_core_modules/views/modules/locale/views_handler_argument_locale_language.inc b/sites/all/modules/orig_core_modules/views/modules/locale/views_handler_argument_locale_language.inc
index 00fafdc..379f6f9 100644
--- a/sites/all/modules/orig_core_modules/views/modules/locale/views_handler_argument_locale_language.inc
+++ b/sites/all/modules/orig_core_modules/views/modules/locale/views_handler_argument_locale_language.inc
@@ -25,7 +25,7 @@ class views_handler_argument_locale_language extends views_handler_argument {
   }
 
   function locale_language($langcode) {
-    $languages = locale_language_list();
+    $languages = views_language_list();
     return isset($languages[$langcode]) ? $languages[$langcode] : t('Unknown language');
   }
 }
diff --git a/sites/all/modules/orig_core_modules/views/modules/locale/views_handler_filter_locale_language.inc b/sites/all/modules/orig_core_modules/views/modules/locale/views_handler_filter_locale_language.inc
index fe49688..a013f7c 100644
--- a/sites/all/modules/orig_core_modules/views/modules/locale/views_handler_filter_locale_language.inc
+++ b/sites/all/modules/orig_core_modules/views/modules/locale/views_handler_filter_locale_language.inc
@@ -8,7 +8,7 @@ class views_handler_filter_locale_language extends views_handler_filter_in_opera
     if (!isset($this->value_options)) {
       $this->value_title = t('Language');
       $languages = array('***CURRENT_LANGUAGE***' => t("Current user's language"), '***DEFAULT_LANGUAGE***' => t("Default site language"), '***NO_LANGUAGE***' => t('No language'));
-      $languages = array_merge($languages, locale_language_list());
+      $languages = array_merge($languages, views_language_list());
       $this->value_options = $languages;
     }
   }
diff --git a/sites/all/modules/orig_core_modules/views/modules/node/views_handler_argument_node_language.inc b/sites/all/modules/orig_core_modules/views/modules/node/views_handler_argument_node_language.inc
index 85ff6c8..2fa5bb2 100644
--- a/sites/all/modules/orig_core_modules/views/modules/node/views_handler_argument_node_language.inc
+++ b/sites/all/modules/orig_core_modules/views/modules/node/views_handler_argument_node_language.inc
@@ -24,7 +24,7 @@ class views_handler_argument_node_language extends views_handler_argument {
   }
 
   function node_language($langcode) {
-    $languages = locale_language_list();
+    $languages = views_language_list();
     return isset($languages[$langcode]) ? $languages[$langcode] : t('Unknown language');
   }
 }
diff --git a/sites/all/modules/orig_core_modules/views/modules/node/views_plugin_argument_validate_node.inc b/sites/all/modules/orig_core_modules/views/modules/node/views_plugin_argument_validate_node.inc
index 67f3e17..dc137df 100644
--- a/sites/all/modules/orig_core_modules/views/modules/node/views_plugin_argument_validate_node.inc
+++ b/sites/all/modules/orig_core_modules/views/modules/node/views_plugin_argument_validate_node.inc
@@ -62,9 +62,9 @@ class views_plugin_argument_validate_node extends views_plugin_argument_validate
 
   function convert_options(&$options) {
     if (!isset($options['types']) && !empty($this->argument->options['validate_argument_node_type'])) {
-      $options['types'] = $this->argument->options['validate_argument_node_type'];
+      $options['types'] = isset($this->argument->options['validate_argument_node_type']) ? $this->argument->options['validate_argument_node_type'] : array();
       $options['access'] = !empty($this->argument->options['validate_argument_node_access']);
-      $options['access_op'] = $this->argument->options['validate_argument_node_access_op'];
+      $options['access_op'] = isset($this->argument->options['validate_argument_node_access_op']) ? $this->argument->options['validate_argument_node_access_op'] : 'view';
       $options['nid_type'] = $this->argument->options['validate_argument_nid_type'];
     }
   }
diff --git a/sites/all/modules/orig_core_modules/views/modules/taxonomy.views.inc b/sites/all/modules/orig_core_modules/views/modules/taxonomy.views.inc
index 09a4c2a..b143fa0 100644
--- a/sites/all/modules/orig_core_modules/views/modules/taxonomy.views.inc
+++ b/sites/all/modules/orig_core_modules/views/modules/taxonomy.views.inc
@@ -61,6 +61,10 @@ function taxonomy_views_data() {
   $data['vocabulary']['vid'] = array(
     'title' => t('Vocabulary ID'), // The item it appears as on the UI,
     'help' => t('The taxonomy vocabulary ID'),
+    'field' => array(
+      'handler' => 'views_handler_field_numeric',
+      'click sortable' => TRUE,
+    ),
     'argument' => array(
       'handler' => 'views_handler_argument_vocabulary_vid',
       'name field' => 'name',
diff --git a/sites/all/modules/orig_core_modules/views/modules/translation/views_handler_field_node_language.inc b/sites/all/modules/orig_core_modules/views/modules/translation/views_handler_field_node_language.inc
index 3177ce4..93bd883 100644
--- a/sites/all/modules/orig_core_modules/views/modules/translation/views_handler_field_node_language.inc
+++ b/sites/all/modules/orig_core_modules/views/modules/translation/views_handler_field_node_language.inc
@@ -22,7 +22,7 @@ class views_handler_field_node_language extends views_handler_field_node {
   }
 
   function render($values) {
-    $languages = locale_language_list(empty($this->options['native_language']) ? 'name' : 'native');
+    $languages = views_language_list(empty($this->options['native_language']) ? 'name' : 'native');
     $value = $this->get_value($values);
     $value = isset($languages[$value]) ? $languages[$value] : '';
     return $this->render_link($value, $values);
diff --git a/sites/all/modules/orig_core_modules/views/modules/translation/views_handler_filter_node_language.inc b/sites/all/modules/orig_core_modules/views/modules/translation/views_handler_filter_node_language.inc
index 27e8cae..6a1bf4a 100644
--- a/sites/all/modules/orig_core_modules/views/modules/translation/views_handler_filter_node_language.inc
+++ b/sites/all/modules/orig_core_modules/views/modules/translation/views_handler_filter_node_language.inc
@@ -7,7 +7,7 @@ class views_handler_filter_node_language extends views_handler_filter_in_operato
     if (!isset($this->value_options)) {
       $this->value_title = t('Language');
       $languages = array('***CURRENT_LANGUAGE***' => t("Current user's language"), '***DEFAULT_LANGUAGE***' => t("Default site language"), '***NO_LANGUAGE***' => t('No language'));
-      $languages = array_merge($languages, locale_language_list());
+      $languages = array_merge($languages, views_language_list());
       $this->value_options = $languages;
     }
   }
diff --git a/sites/all/modules/orig_core_modules/views/plugins/views_plugin_display.inc b/sites/all/modules/orig_core_modules/views/plugins/views_plugin_display.inc
index 9d60d1d..8cabbe9 100644
--- a/sites/all/modules/orig_core_modules/views/plugins/views_plugin_display.inc
+++ b/sites/all/modules/orig_core_modules/views/plugins/views_plugin_display.inc
@@ -1880,7 +1880,7 @@ class views_plugin_display extends views_plugin {
       break;
       case 'display_id':
         if ($form_state['values']['display_id']) {
-          if (preg_match('/[^a-zA-Z0-9_]/', $form_state['values']['display_id'])) {
+          if (preg_match('/[^a-z0-9_]/', $form_state['values']['display_id'])) {
             form_error($form['display_id'], t('Display name must be letters, numbers, or underscores only.'));
           }
 
@@ -2670,7 +2670,7 @@ class views_plugin_display extends views_plugin {
       $handler = views_get_handler($info['table'], $info['field'], $handler_type);
       if ($handler) {
         $handler->init($this->view, $info);
-        $handler->unpack_translatables($translatable, array_merge($parents, array($handler_type, $info['table'], $info['field'])));
+        $handler->unpack_translatables($translatable, array_merge($parents, array($type, $info['table'], $info['id'])));
       }
 
       // Prevent reference problems.
diff --git a/sites/all/modules/orig_core_modules/views/plugins/views_plugin_display_block.inc b/sites/all/modules/orig_core_modules/views/plugins/views_plugin_display_block.inc
index 7ff35cb..89bc788 100644
--- a/sites/all/modules/orig_core_modules/views/plugins/views_plugin_display_block.inc
+++ b/sites/all/modules/orig_core_modules/views/plugins/views_plugin_display_block.inc
@@ -191,6 +191,9 @@ class views_plugin_display_block extends views_plugin_display {
    * exists in the blocks table. Dirty fix untill http://drupal.org/node/235673 gets in.
    */
   function save_block_cache($delta, $cache_setting) {
+    if (strlen($delta) >= 32) {
+      $delta = md5($delta);
+    }
     if ($bid = db_fetch_object(db_query("SELECT bid, cache FROM {blocks} WHERE module = 'views' AND delta = '%s'", $delta))) {
       db_query("UPDATE {blocks} set cache = %d WHERE module = 'views' AND delta = '%s'", $cache_setting, $delta);
     }
diff --git a/sites/all/modules/orig_core_modules/views/plugins/views_plugin_style_grid.inc b/sites/all/modules/orig_core_modules/views/plugins/views_plugin_style_grid.inc
index 91722f2..08fbc9c 100644
--- a/sites/all/modules/orig_core_modules/views/plugins/views_plugin_style_grid.inc
+++ b/sites/all/modules/orig_core_modules/views/plugins/views_plugin_style_grid.inc
@@ -33,6 +33,8 @@ class views_plugin_style_grid extends views_plugin_style {
       '#type' => 'textfield',
       '#title' => t('Number of columns'),
       '#default_value' => $this->options['columns'],
+      '#required' => TRUE,
+      '#element_validate' => array('views_element_validate_integer'),
     );
     $form['alignment'] = array(
       '#type' => 'radios',
diff --git a/sites/all/modules/orig_core_modules/views/tests/views_analyze.test b/sites/all/modules/orig_core_modules/views/tests/views_analyze.test
index f349f21..b98a017 100644
--- a/sites/all/modules/orig_core_modules/views/tests/views_analyze.test
+++ b/sites/all/modules/orig_core_modules/views/tests/views_analyze.test
@@ -1,10 +1,12 @@
 <?php
+module_load_include('test', 'views', 'tests/views_query');
+
 /**
  * @file
  * Tests the views analyse system.
  */
 
-class ViewsAnalyzeTest extends viewsSqlTest {
+class ViewsAnalyzeTest extends ViewsSqlTest {
   public static function getInfo() {
     return array(
       'name' => 'Views Analyze',
@@ -44,4 +46,4 @@ class ViewsAnalyzeTest extends viewsSqlTest {
     // This redirects the user back to the main views edit page.
     $this->drupalPost(NULL, array(), t('Ok'));
   }
-}
\ No newline at end of file
+}
diff --git a/sites/all/modules/orig_core_modules/views/tests/views_exposed_form.test b/sites/all/modules/orig_core_modules/views/tests/views_exposed_form.test
index 0bfe42e..bb95c47 100644
--- a/sites/all/modules/orig_core_modules/views/tests/views_exposed_form.test
+++ b/sites/all/modules/orig_core_modules/views/tests/views_exposed_form.test
@@ -1,4 +1,6 @@
 <?php
+module_load_include('test', 'views', 'tests/views_query');
+
 /**
  * @file
  * Test exposed forms.
@@ -7,7 +9,7 @@ class ViewsExposedFormTest extends ViewsSqlTest {
   public static function getInfo() {
     return array(
       'name' => 'Exposed forms',
-      'description' => 'Test exosed forms functionality.',
+      'description' => 'Test exposed forms functionality.',
       'group' => 'Views',
     );
   }
@@ -15,6 +17,7 @@ class ViewsExposedFormTest extends ViewsSqlTest {
   public function setUp() {
     parent::setUp('views', 'views_ui', 'views_test');
     module_enable(array('views_ui', 'views_test'));
+    views_include_default_views(TRUE);
   }
 
   /**
@@ -30,7 +33,7 @@ class ViewsExposedFormTest extends ViewsSqlTest {
     // Look at the page and check the label "reset".
     $this->drupalGet('test_rename_reset_button');
     // Rename the label of the reset button.
-    $view = views_get_view('test_rename_reset_button');
+    $view = views_get_view('test_rename_reset_button', TRUE);
     $view->set_display('default');
 
     $exposed_form = $view->display_handler->get_option('exposed_form');
@@ -59,14 +62,14 @@ class ViewsExposedFormTest extends ViewsSqlTest {
     $this->drupalGet('admin/build/views/nojs/config-item/test_exposed_admin_ui/default/filter/type');
     // Be sure that the button is called exposed
     $this->helperButtonHasLabel('edit-options-expose-button-button', t('Expose'));
-    
-    
+
+
     // Check the validations of the filter handler.
     $edit = array();
     $edit['options[expose][identifier]'] = '';
     $this->drupalPost(NULL, $edit, t('Update'));
     $this->assertText(t('The identifier is required if the filter is exposed.'));
-    
+
     $edit = array();
     $edit['options[expose][identifier]'] = 'value';
     $this->drupalPost(NULL, $edit, t('Update'));
@@ -89,4 +92,3 @@ class ViewsExposedFormTest extends ViewsSqlTest {
     $this->assertFieldById('edit-options-expose-label', '', t('Take sure a label field is shown'));
   }
 }
-
diff --git a/sites/all/modules/orig_core_modules/views/tests/views_test.info b/sites/all/modules/orig_core_modules/views/tests/views_test.info
index 84c5c91..18c9978 100644
--- a/sites/all/modules/orig_core_modules/views/tests/views_test.info
+++ b/sites/all/modules/orig_core_modules/views/tests/views_test.info
@@ -7,9 +7,9 @@ hidden = TRUE
 files[] = views_test.module
 files[] = views_test.install
 
-; Information added by drupal.org packaging script on 2011-09-15
-version = "6.x-3.x-dev"
+; Information added by drupal.org packaging script on 2011-10-07
+version = "6.x-3.0-alpha4"
 core = "6.x"
 project = "views"
-datestamp = "1316047692"
+datestamp = "1318005707"
 
diff --git a/sites/all/modules/orig_core_modules/views/tests/views_view.test b/sites/all/modules/orig_core_modules/views/tests/views_view.test
index 98eb171..60972d5 100644
--- a/sites/all/modules/orig_core_modules/views/tests/views_view.test
+++ b/sites/all/modules/orig_core_modules/views/tests/views_view.test
@@ -1,4 +1,6 @@
 <?php
+module_load_include('test', 'views', 'tests/views_query');
+
 /**
  * Test the view class.
  */
@@ -60,7 +62,7 @@ class viewsViewTest extends ViewsSqlTest {
   }
 
   function testValidate() {
-    // Test a view with multiple displays. 
+    // Test a view with multiple displays.
     // Validating a view shouldn't change the active display.
     // @todo: Create an extra validation view.
     $view = $this->view_test_destroy();
@@ -274,4 +276,4 @@ class viewsViewTest extends ViewsSqlTest {
 
     return $view;
   }
-}
\ No newline at end of file
+}
diff --git a/sites/all/modules/orig_core_modules/views/translations/fr.po b/sites/all/modules/orig_core_modules/views/translations/fr.po
old mode 100755
new mode 100644
diff --git a/sites/all/modules/orig_core_modules/views/views.info b/sites/all/modules/orig_core_modules/views/views.info
index f6505a2..b5c6fce 100644
--- a/sites/all/modules/orig_core_modules/views/views.info
+++ b/sites/all/modules/orig_core_modules/views/views.info
@@ -2,9 +2,9 @@ name = Views
 description = Create customized lists and queries from your database.
 package = Views
 core = 6.x
-; Information added by drupal.org packaging script on 2011-09-15
-version = "6.x-3.x-dev"
+; Information added by drupal.org packaging script on 2011-10-07
+version = "6.x-3.0-alpha4"
 core = "6.x"
 project = "views"
-datestamp = "1316047692"
+datestamp = "1318005707"
 
diff --git a/sites/all/modules/orig_core_modules/views/views.module b/sites/all/modules/orig_core_modules/views/views.module
index 338354b..37c82a1 100644
--- a/sites/all/modules/orig_core_modules/views/views.module
+++ b/sites/all/modules/orig_core_modules/views/views.module
@@ -559,6 +559,35 @@ function views_block($op = 'list', $delta = 0, $edit = array()) {
   }
 }
 
+ /**
++ * Returns an array of language names.
++ *
++ * This is a one to one copy of locale_language_list because we can't rely on enabled locale module.
++ *
++ * @param $field
++ *   'name' => names in current language, localized
++ *   'native' => native names
++ * @param $all
++ *   Boolean to return all languages or only enabled ones
++ *
++ * @see locale_language_list
++ */
+function views_language_list($field = 'name', $all = FALSE) {
+  if ($all) {
+    $languages = language_list();
+  }
+  else {
+    $languages = language_list('enabled');
+    $languages = $languages[1];
+  }
+  $list = array();
+  foreach ($languages as $language) {
+    $list[$language->language] = ($field == 'name') ? t($language->name) : $language->$field;
+  }
+  return $list;
+}
+
+
 /**
  * Implementation of hook_flush_caches().
  */
diff --git a/sites/all/modules/orig_core_modules/views/views_export/views_export.info b/sites/all/modules/orig_core_modules/views/views_export/views_export.info
index 78c6263..2200b9a 100644
--- a/sites/all/modules/orig_core_modules/views/views_export/views_export.info
+++ b/sites/all/modules/orig_core_modules/views/views_export/views_export.info
@@ -5,9 +5,9 @@ package = "Views"
 dependencies[] = views
 core = 6.x
 
-; Information added by drupal.org packaging script on 2011-09-15
-version = "6.x-3.x-dev"
+; Information added by drupal.org packaging script on 2011-10-07
+version = "6.x-3.0-alpha4"
 core = "6.x"
 project = "views"
-datestamp = "1316047692"
+datestamp = "1318005707"
 
diff --git a/sites/all/modules/orig_core_modules/views/views_ui.info b/sites/all/modules/orig_core_modules/views/views_ui.info
index be9458d..bb09224 100644
--- a/sites/all/modules/orig_core_modules/views/views_ui.info
+++ b/sites/all/modules/orig_core_modules/views/views_ui.info
@@ -4,9 +4,9 @@ package = Views
 core = 6.x
 dependencies[] = views
 
-; Information added by drupal.org packaging script on 2011-09-15
-version = "6.x-3.x-dev"
+; Information added by drupal.org packaging script on 2011-10-07
+version = "6.x-3.0-alpha4"
 core = "6.x"
 project = "views"
-datestamp = "1316047692"
+datestamp = "1318005707"
 
diff --git a/sites/all/modules/privatemsg/pm_block_user/pm_block_user.install b/sites/all/modules/privatemsg/pm_block_user/pm_block_user.install
old mode 100755
new mode 100644
diff --git a/sites/all/modules/privatemsg/pm_block_user/pm_block_user.module b/sites/all/modules/privatemsg/pm_block_user/pm_block_user.module
old mode 100755
new mode 100644
diff --git a/sites/all/modules/privatemsg/privatemsg.module b/sites/all/modules/privatemsg/privatemsg.module
index dce0512..73c086c 100644
--- a/sites/all/modules/privatemsg/privatemsg.module
+++ b/sites/all/modules/privatemsg/privatemsg.module
@@ -135,9 +135,13 @@ function privatemsg_menu() {
   );
   $items['messages/view/%privatemsg_thread'] = array(
     'title'            => 'Read message',
+    // Set the third argument to TRUE so that we can show access denied instead
+    // of not found.
+    'load arguments'   => array(NULL, NULL, TRUE),
     'page callback'    => 'privatemsg_view',
     'page arguments'   => array(2),
     'access callback'  => 'privatemsg_view_access',
+    'access arguments' => array(2),
     'type'             => MENU_LOCAL_TASK,
     'weight'           => -5,
   );
@@ -235,10 +239,19 @@ function privatemsg_user_access($permission = 'read privatemsg', $account = NULL
  * Function to restrict the access of the view messages page to just the
  * messages/view/% pages and not to leave tabs artifact on other lower
  * level pages such as the messages/new/%.
- *
+ * 
+ * @param $thread
+ *   A array containing all information about a specific thread, generated by
+ *   privatemsg_thread_load().
+ * 
  * @ingroup api
  */
-function privatemsg_view_access() {
+function privatemsg_view_access($thread) {
+  // Do not allow access to threads without messages.
+  if (empty($thread['messages'])) {
+    // Count all messages, if there
+    return FALSE;
+  }
   if (privatemsg_user_access('read privatemsg') && arg(1) == 'view') {
     return TRUE;
   }
@@ -258,7 +271,11 @@ function privatemsg_view_access() {
  *   the current user.
  * @param $start
  *   Message offset from the start of the thread.
- *
+ * @param $useAccessDenied
+ *   Set to TRUE if the function should forward to the access denied page
+ *   instead of not found. This is used by the menu system because that does
+ *   load arguments before access checks are made. Defaults to FALSE.
+ * 
  * @return
  *   $thread object, with keys messages, participants, title and user. messages
  *   contains an array of messages, participants an array of user, subject the
@@ -269,7 +286,7 @@ function privatemsg_view_access() {
 
  * @ingroup api
  */
-function privatemsg_thread_load($thread_id, $account = NULL, $start = NULL) {
+function privatemsg_thread_load($thread_id, $account = NULL, $start = NULL, $useAccessDenied = FALSE) {
   static $threads = array();
   if ((int)$thread_id > 0) {
     $thread = array('thread_id' => $thread_id);
@@ -372,7 +389,18 @@ function privatemsg_thread_load($thread_id, $account = NULL, $start = NULL) {
 
       // If there are no messages, don't allow access to the thread.
       if (empty($thread['messages'])) {
-        $thread = FALSE;
+        if ($useAccessDenied) {
+          // Generate new query with read all to see if the thread does exist.
+          $query = _privatemsg_assemble_query('messages', array($thread_id), NULL);
+          $exists = db_result(db_query($query['count']));
+          if (!$exists) {
+            // Thread does not exist, display 404.
+            $thread = FALSE;
+          }
+        }
+        else {
+          $thread = FALSE;
+        }
       }
       else {
         // General data, assume subject is the same for all messages of that thread.
diff --git a/sites/all/modules/privatemsg/privatemsg.module.orig b/sites/all/modules/privatemsg/privatemsg.module.orig
new file mode 100644
index 0000000..dce0512
--- /dev/null
+++ b/sites/all/modules/privatemsg/privatemsg.module.orig
@@ -0,0 +1,2535 @@
+<?php
+
+/**
+ * @file
+ * Allows users to send private messages to other users.
+ */
+
+/**
+ * Status constant for read messages.
+ */
+define('PRIVATEMSG_READ', 0);
+/**
+ * Status constant for unread messages.
+ */
+define('PRIVATEMSG_UNREAD', 1);
+/**
+ * Show unlimited messages in a thread.
+ */
+define('PRIVATEMSG_UNLIMITED', 'unlimited');
+
+/**
+ * Implements hook_perm().
+ */
+function privatemsg_perm() {
+  return array(
+    'read privatemsg',
+    'read all private messages',
+    'administer privatemsg settings',
+    'write privatemsg',
+    'delete privatemsg',
+  );
+}
+
+/**
+ * Generate aray of user objects based on a string.
+ *
+ *
+ * @param $userstring
+ *   A string with user id, for example 1,2,4. Returned by the list query
+ *
+ * @return
+ *   Array with user objects.
+ */
+function _privatemsg_generate_user_array($userstring, $slice = NULL) {
+  static $user_cache = array();
+
+  // Convert user uid list (uid1,uid2,uid3) into an array. If $slice is not NULL
+  // pass that as argument to array_slice(). For example, -4 will only load the
+  // last four users.
+  // This is done to avoid loading user objects that are not displayed, for
+  // obvious performance reasons.
+  $users = explode(',', $userstring);
+  if (!is_null($slice)) {
+    $users = array_slice($users, $slice);
+  }
+  $participants = array();
+  foreach ($users as $uid) {
+    if (!array_key_exists($uid, $user_cache)) {
+      $user_cache[$uid] = user_load($uid);
+    }
+    if (is_object($user_cache[$uid])) {
+      $participants[$uid] = $user_cache[$uid];
+    }
+  }
+  return $participants;
+}
+
+/**
+ * Format an array of user objects.
+ *
+ * @param $part_array
+ *   Array with user objects, for example the one returnd by
+ *   _privatemsg_generate_user_array.
+ *
+ * @param $limit
+ *   Limit the number of user objects which should be displayed.
+ * @param $no_text
+ *   When TRUE, don't display the Participants/From text.
+ * @return
+ *   String with formated user objects, like user1, user2.
+ */
+function _privatemsg_format_participants($part_array, $limit = NULL, $no_text = FALSE) {
+  if (count($part_array) > 0) {
+    $to = array();
+    $limited = FALSE;
+    foreach ($part_array as $account) {
+      if (is_int($limit) && count($to) >= $limit) {
+        $limited = TRUE;
+        break;
+      }
+      $to[] = theme('username', $account);
+    }
+
+    $limit_string = '';
+    if ($limited) {
+      $limit_string = t(' and others');
+    }
+
+
+    if ($no_text) {
+      return implode(', ', $to) . $limit_string;
+    }
+
+    $last = array_pop($to);
+    if (count($to) == 0) { // Only one participant
+      return t("From !last", array('!last' => $last));
+    }
+    else { // Multipe participants..
+      $participants = implode(', ', $to);
+      return t('Participants: !participants and !last', array('!participants' => $participants, '!last' => $last));
+    }
+  }
+  return '';
+}
+
+/**
+ * Implements hook_menu().
+ */
+function privatemsg_menu() {
+  $items['messages'] = array(
+    'title'            => 'Messages',
+    'title callback'  => 'privatemsg_title_callback',
+    'page callback'    => 'drupal_get_form',
+    'page arguments'   => array('privatemsg_list', 'list'),
+    'access callback'  => 'privatemsg_user_access',
+    'type'             => MENU_NORMAL_ITEM,
+  );
+  $items['messages/list'] = array(
+    'title'            => 'Messages',
+    'page callback'    => 'drupal_get_form',
+    'page arguments'   => array('privatemsg_list', 'list'),
+    'access callback'  => 'privatemsg_user_access',
+    'type'             => MENU_DEFAULT_LOCAL_TASK,
+    'weight'           => -10,
+  );
+  $items['messages/view/%privatemsg_thread'] = array(
+    'title'            => 'Read message',
+    'page callback'    => 'privatemsg_view',
+    'page arguments'   => array(2),
+    'access callback'  => 'privatemsg_view_access',
+    'type'             => MENU_LOCAL_TASK,
+    'weight'           => -5,
+  );
+  $items['messages/delete/%privatemsg_thread/%privatemsg_message'] = array(
+    'title'            => 'Delete message',
+    'page callback'    => 'drupal_get_form',
+    'page arguments'   => array('privatemsg_delete', 2, 3),
+    'access callback'  => 'privatemsg_user_access',
+    'access arguments' => array('delete privatemsg'),
+    'type'             => MENU_CALLBACK,
+  );
+  $items['messages/new'] = array(
+    'title'            => 'Write new message',
+    'page callback'    => 'drupal_get_form',
+    'page arguments'   => array('privatemsg_new', 2, 3, NULL),
+    'access callback'  => 'privatemsg_user_access',
+    'access arguments' => array('write privatemsg'),
+    'type'             => MENU_LOCAL_TASK,
+    'weight'           => -3,
+  );
+  // Auto-completes available user names & removes duplicates.
+  $items['messages/user-name-autocomplete'] = array(
+    'page callback'    => 'privatemsg_user_name_autocomplete',
+    'access callback'  => 'privatemsg_user_access',
+    'access arguments' => array('write privatemsg'),
+    'type'             => MENU_CALLBACK,
+    'weight'           => -10,
+  );
+  $items['admin/settings/messages'] = array(
+    'title'            => 'Private messages',
+    'description'      => 'Configure private messaging settings.',
+    'page callback'    => 'drupal_get_form',
+    'page arguments'   => array('private_message_settings'),
+    'access arguments' => array('administer privatemsg settings'),
+    'type'             => MENU_NORMAL_ITEM,
+  );
+  $items['admin/settings/messages/default'] = array(
+    'title'            => 'Private messages',
+    'description'      => 'Configure private messaging settings.',
+    'page callback'    => 'drupal_get_form',
+    'page arguments'   => array('private_message_settings'),
+    'access arguments' => array('administer privatemsg settings'),
+    'type'             => MENU_DEFAULT_LOCAL_TASK,
+    'weight'           => -10,
+  );
+  $items['messages/undo/action'] = array(
+    'title'            => 'Private messages',
+    'description'      => 'Undo last thread action',
+    'page callback'    => 'privatemsg_undo_action',
+    'access arguments' => array('read privatemsg'),
+    'type'             => MENU_CALLBACK,
+  );
+  $items['user/%/messages'] = array(
+    'title' => 'Messages',
+    'page callback'    => 'drupal_get_form',
+    'page arguments'   => array('privatemsg_list', 'list', 1),
+    'access callback'  => 'privatemsg_user_access',
+    'access arguments' => array('read all private messages'),
+    'type' => MENU_LOCAL_TASK,
+  );
+
+  return $items;
+}
+
+/**
+ * Privatemsg  wrapper for user_access.
+ *
+ * Never allows anonymous user access as that doesn't makes sense.
+ *
+ * @param $permission
+ *   Permission string, defaults to read privatemsg
+ *
+ * @return
+ *   TRUE if user has access, FALSE if not
+ *
+ * @ingroup api
+ */
+function privatemsg_user_access($permission = 'read privatemsg', $account = NULL) {
+  if ( $account === NULL ) {
+    global $user;
+    $account = $user;
+  }
+  if (!$account->uid) { // Disallow anonymous access, regardless of permissions
+    return FALSE;
+  }
+  if (!user_access($permission, $account)) {
+    return FALSE;
+  }
+  return TRUE;
+}
+
+/**
+ * Check access to the view messages page.
+ *
+ * Function to restrict the access of the view messages page to just the
+ * messages/view/% pages and not to leave tabs artifact on other lower
+ * level pages such as the messages/new/%.
+ *
+ * @ingroup api
+ */
+function privatemsg_view_access() {
+  if (privatemsg_user_access('read privatemsg') && arg(1) == 'view') {
+    return TRUE;
+  }
+  return FALSE;
+}
+
+/**
+ * Load a thread with all the messages and participants.
+ *
+ * This function is called by the menu system through the %privatemsg_thread
+ * wildcard.
+ *
+ * @param $thread_id
+ *   Thread id, pmi.thread_id or pm.mid of the first message in that thread.
+ * @param $account
+ *   User object for which the thread should be loaded, defaults to
+ *   the current user.
+ * @param $start
+ *   Message offset from the start of the thread.
+ *
+ * @return
+ *   $thread object, with keys messages, participants, title and user. messages
+ *   contains an array of messages, participants an array of user, subject the
+ *   subject of the thread and user the user viewing the thread.
+ *
+ *   If no messages are found, or the thread_id is invalid, the function returns
+ *   FALSE.
+
+ * @ingroup api
+ */
+function privatemsg_thread_load($thread_id, $account = NULL, $start = NULL) {
+  static $threads = array();
+  if ((int)$thread_id > 0) {
+    $thread = array('thread_id' => $thread_id);
+
+    if (is_null($account)) {
+      global $user;
+      $account = drupal_clone($user);
+    }
+
+    if (!isset($threads[$account->uid])) {
+      $threads[$account->uid] = array();
+    }
+
+    if (!array_key_exists($thread_id, $threads[$account->uid])) {
+      // Load the list of participants.
+      $query = _privatemsg_assemble_query('participants', $thread_id);
+      $participants = db_query($query['query']);
+      $thread['participants'] = array();
+      while ($participant = db_fetch_object($participants)) {
+        $thread['participants'][$participant->uid] = $participant;
+      }
+      $thread['read_all'] = FALSE;
+      if (!array_key_exists($account->uid, $thread['participants']) && privatemsg_user_access('read all private messages', $account)) {
+        $thread['read_all'] = TRUE;
+      }
+
+      // Load messages returned by the messages query with privatemsg_message_load_multiple().
+      $query = _privatemsg_assemble_query('messages', array($thread_id), $thread['read_all'] ? NULL : $account);
+      $thread['message_count'] = $thread['to'] = db_result(db_query($query['count']));
+      $thread['from'] = 1;
+      // Check if we need to limit the messages.
+      $max_amount = variable_get('privatemsg_view_max_amount', 20);
+
+      // If there is no start value, select based on get params.
+      if (is_null($start)) {
+        if (isset($_GET['start']) && $_GET['start'] < $thread['message_count']) {
+          $start = $_GET['start'];
+        }
+        elseif (!variable_get('privatemsg_view_use_max_as_default', FALSE) && $max_amount == PRIVATEMSG_UNLIMITED) {
+          $start = PRIVATEMSG_UNLIMITED;
+        }
+        else {
+          $start = $thread['message_count'] - (variable_get('privatemsg_view_use_max_as_default', FALSE) ? variable_get('privatemsg_view_default_amount', 10) : $max_amount);
+        }
+      }
+
+      if ($start != PRIVATEMSG_UNLIMITED) {
+        if ($max_amount == PRIVATEMSG_UNLIMITED) {
+          $last_page = 0;
+          $max_amount = $thread['message_count'];
+        }
+        else {
+          // Calculate the number of messages on the "last" page to avoid
+          // message overlap.
+          // Note - the last page lists the earliest messages, not the latest.
+          $paging_count = variable_get('privatemsg_view_use_max_as_default', FALSE) ? $thread['message_count'] - variable_get('privatemsg_view_default_amount', 10) : $thread['message_count'];
+          $last_page = $paging_count % $max_amount;
+        }
+
+        // Sanity check - we cannot start from a negative number.
+        if ($start < 0) {
+          $start = 0;
+        }
+        $thread['start'] = $start;
+
+        //If there are newer messages on the page, show pager link allowing to go to the newer messages.
+        if (($start + $max_amount + 1) < $thread['message_count']) {
+          $thread['to'] = $start + $max_amount;
+          $thread['newer_start'] = $start + $max_amount;
+        }
+        if ($start - $max_amount >= 0) {
+          $thread['older_start'] = $start - $max_amount;
+        }
+        elseif ($start > 0) {
+          $thread['older_start'] = 0;
+        }
+
+        // Do not show messages on the last page that would show on the page
+        // before. This will only work when using the visual pager.
+        if ($start < $last_page && $max_amount != PRIVATEMSG_UNLIMITED && $max_amount < $thread['message_count']) {
+          unset($thread['older_start']);
+          $thread['to'] = $thread['newer_start'] = $max_amount = $last_page;
+          // Start from the first message - this is a specific hack to make sure
+          // the message display has sane paging on the last page.
+          $start = 0;
+        }
+        // Visual counts start from 1 instead of zero, so plus one.
+        $thread['from'] = $start + 1;
+        $conversation = db_query_range($query['query'], $start, $max_amount);
+      }
+      else {
+        $conversation = db_query($query['query']);
+      }
+      $mids = array();
+      while ($result = db_fetch_array($conversation)) {
+        $mids[] = $result['mid'];
+      }
+      // Load messages returned by the messages query.
+      $thread['messages'] = privatemsg_message_load_multiple($mids, $thread['read_all'] ? NULL : $account);
+
+      // If there are no messages, don't allow access to the thread.
+      if (empty($thread['messages'])) {
+        $thread = FALSE;
+      }
+      else {
+        // General data, assume subject is the same for all messages of that thread.
+        $thread['user'] = $account;
+        $message = current($thread['messages']);
+        $thread['subject'] = $message['subject'];
+      }
+      $threads[$account->uid][$thread_id] = $thread;
+    }
+
+    return $threads[$account->uid][$thread_id];
+  }
+  return FALSE;
+}
+
+function private_message_view_options() {
+  $options = module_invoke_all('privatemsg_view_template');
+  return $options;
+}
+
+/**
+ * Implements hook_privatemsg_view_template().
+ *
+ * Allows modules to define different message view template.
+ *
+ * This hook returns information about available themes for privatemsg viewing.
+ *
+ * array(
+ *  'machine_template_name' => 'Human readable template name',
+ *  'machine_template_name_2' => 'Human readable template name 2'
+ * };
+ */
+function privatemsg_privatemsg_view_template() {
+  return array(
+    'privatemsg-view' => 'Default view',
+  );
+}
+
+function private_message_settings() {
+  $form = array();
+
+  $form['theming_settings'] = array(
+    '#type'        => 'fieldset',
+    '#collapsible' => TRUE,
+    '#collapsed'   => TRUE,
+    '#title'       => t('Theming settings'),
+  );
+  $form['theming_settings']['private_message_view_template'] = array(
+    '#type'          => 'radios',
+    '#title'         => t('Private message display template'),
+    '#default_value' => variable_get('private_message_view_template', 'privatemsg-view'),
+    '#options'       => private_message_view_options(),
+  );
+  $form['privatemsg_display_loginmessage'] = array(
+    '#type' => 'checkbox',
+    '#title' => t('Inform the user about new messages on login'),
+    '#default_value' => variable_get('privatemsg_display_loginmessage', TRUE),
+    '#description' => t('This option can safely be disabled if the "New message indication" block is used instead.'),
+  );
+
+  $form['flush_deleted'] = array(
+    '#type'        => 'fieldset',
+    '#collapsible' => TRUE,
+    '#collapsed'   => TRUE,
+    '#title'       => t('Flush deleted messages'),
+    '#description' => t('By default, deleted messages are only hidden from the user but still stored in the database. These settings control if and when messages should be removed.'),
+  );
+
+  $form['flush_deleted']['privatemsg_flush_enabled'] = array(
+    '#type'          => 'checkbox',
+    '#title'         => t('Flush deleted messages'),
+    '#default_value' => variable_get('privatemsg_flush_enabled', FALSE),
+    '#description'   => t('Enable the flushing of deleted messages. Requires that cron is enabled'),
+  );
+
+  $form['flush_deleted']['privatemsg_flush_days'] = array(
+    '#type' => 'select',
+    '#title' => t('Flush messages after they have been deleted for more days than'),
+    '#default_value' => variable_get('privatemsg_flush_days', 30),
+    '#options' => drupal_map_assoc(array(0, 1, 2, 5, 10, 30, 100)),
+  );
+
+  $form['flush_deleted']['privatemsg_flush_max'] = array(
+    '#type' => 'select',
+    '#title' => t('Maximum number of messages to flush per cron run'),
+    '#default_value' => variable_get('privatemsg_flush_max', 200),
+    '#options' => drupal_map_assoc(array(50, 100, 200, 500, 1000)),
+  );
+
+  $form['privatemsg_listing'] = array(
+    '#type' => 'fieldset',
+    '#title' => t('Configure listings'),
+    '#collapsible' => TRUE,
+    '#collapsed' => FALSE,
+  );
+
+  $form['privatemsg_listing']['privatemsg_per_page'] = array(
+    '#type' => 'select',
+    '#title' => t('Threads per page'),
+    '#default_value' => variable_get('privatemsg_per_page', 25),
+    '#options' => drupal_map_assoc(array(10, 25, 50, 75, 100)),
+    '#description' => t('Choose the number of conversations that should be listed per page.'),
+  );
+
+  $form['privatemsg_listing']['privatemsg_display_fields'] = array(
+    '#type' => 'checkboxes',
+    '#title' => t('Configure fields'),
+    '#description' => t('Select which columns/fields should be displayed in the message listings. Subject and Last updated cannot be disabled.'),
+    '#options' => array(
+      'participants'    => t('Participants'),
+      'thread_started'  => t('Started'),
+      'count'           => t('Messages'),
+    ),
+    '#default_value' => variable_get('privatemsg_display_fields', array('participants')),
+  );
+
+  $amounts = drupal_map_assoc(array(5, 10, 20, 30, 50, 70, 90, 150, 200, 250, 300));
+  $form['privatemsg_listing']['privatemsg_view_max_amount'] = array(
+    '#type'          => 'select',
+    '#title'         => t('Number of messages on thread pages'),
+    '#options'       => $amounts + array(PRIVATEMSG_UNLIMITED => t('Unlimited')),
+    '#default_value' => variable_get('privatemsg_view_max_amount', 20),
+    '#description'   => t('Threads will not show more than this number of messages on a single page.'),
+    '#weight'        => 10,
+  );
+
+  $form['privatemsg_listing']['privatemsg_view_use_max_as_default'] = array(
+    '#type'          => 'checkbox',
+    '#title'         => t('Display different amount of messages on first thread page'),
+    '#default_value' => variable_get('privatemsg_view_use_max_as_default', FALSE),
+    '#description'   => t('By default, the first thread page shows the maximally allowed amount of messages. Enable this checkbox to set a different value.'),
+    '#weight'        => 15,
+  );
+
+  $form['privatemsg_listing']['privatemsg_view_default_amount'] = array(
+    '#prefix'        => '<div id="privatemsg-view-default-button">',
+    '#suffix'        => '</div>',
+    '#type'          => 'select',
+    '#title'         => t('Number of messages on first thread page'),
+    '#default_value' => variable_get('privatemsg_view_default_amount', 10),
+    '#description'   => t('The number of messages to be displayed on first thread page. Displays the newest messages.'),
+    '#options'       => $amounts,
+    '#weight'        => 20,
+  );
+  drupal_add_js(drupal_get_path('module', 'privatemsg') .'/privatemsg-admin.js');
+
+  $form['#submit'][] = 'private_message_settings_submit';
+  return system_settings_form($form);
+}
+
+function private_message_settings_submit() {
+  drupal_rebuild_theme_registry();
+}
+
+/**
+ * Implements hook_cron().
+ *
+ * If the flush feature is enabled, a given amount of deleted messages that are
+ * old enough are flushed.
+ */
+function privatemsg_cron() {
+  if (variable_get('privatemsg_flush_enabled', FALSE)) {
+    $query = _privatemsg_assemble_query('deleted', variable_get('privatemsg_flush_days', 30));
+    $result = db_query($query['query']);
+
+    $flushed = 0;
+    while (($row = db_fetch_array($result)) && ($flushed < variable_get('privatemsg_flush_max', 200))) {
+      $message = privatemsg_message_load($row['mid']);
+      module_invoke_all('privatemsg_message_flush', $message);
+
+      // Delete recipients of the message.
+      db_query('DELETE FROM {pm_index} WHERE mid = %d', $row['mid']);
+      // Delete message itself.
+      db_query('DELETE FROM {pm_message} WHERE mid = %d', $row['mid']);
+      $flushed++;
+    }
+  }
+}
+
+function privatemsg_theme() {
+  return array(
+    'privatemsg_view'    => array(
+      'arguments'        => array('message' => NULL),
+      'template'         => variable_get('private_message_view_template', 'privatemsg-view'), // 'privatemsg',
+    ),
+    'privatemsg_from'    => array(
+      'arguments'        => array('author' => NULL),
+      'template'         => 'privatemsg-from',
+    ),
+    'privatemsg_recipients' => array(
+      'arguments'        => array('message' => NULL),
+      'template'         => 'privatemsg-recipients',
+    ),
+    'privatemsg_between' => array(
+      'arguments'        => array('recipients' => NULL),
+      'template'         => 'privatemsg-between',
+    ),
+    'privatemsg_list'    => array(
+      'file'                  => 'privatemsg.theme.inc',
+      'path'                  => drupal_get_path('module', 'privatemsg'),
+      'arguments'        => array('form'),
+    ),
+    // Define pattern for header/field templates. The theme system will register all
+    // theme functions that start with the defined pattern.
+    'privatemsg_list_header'  => array(
+      'file'                  => 'privatemsg.theme.inc',
+      'path'                  => drupal_get_path('module', 'privatemsg'),
+      'pattern'               => 'privatemsg_list_header__',
+      'arguments'             => array(),
+    ),
+    'privatemsg_list_field'   => array(
+      'file'                  => 'privatemsg.theme.inc',
+      'path'                  => drupal_get_path('module', 'privatemsg'),
+      'pattern'               => 'privatemsg_list_field__',
+      'arguments'             => array('thread'),
+    ),
+    'privatemsg_new_block'  => array(
+      'file'                  => 'privatemsg.theme.inc',
+      'path'                  => drupal_get_path('module', 'privatemsg'),
+      'arguments'             => array('count'),
+    ),
+  );
+}
+
+function template_preprocess_privatemsg_view(&$vars) {
+//  drupal_set_message('<pre>'. print_r($vars,1 ) . '</pre>');
+
+  $message = $vars['message'];
+  $vars['mid'] = isset($message['mid']) ? $message['mid'] : NULL;
+  $vars['thread_id'] = isset($message['thread_id']) ? $message['thread_id'] : NULL;
+  $vars['author_picture'] = theme('user_picture', $message['author']);
+  $vars['author_name_link'] = theme('username', $message['author']);
+  /**
+   * @todo perhaps make this timestamp configurable via admin UI?
+   */
+  $vars['message_timestamp'] = format_date($message['timestamp'], 'small');
+  $vars['message_body'] = check_markup($message['body'], $message['format'], FALSE);
+  if (isset($vars['mid']) && isset($vars['thread_id']) && privatemsg_user_access('delete privatemsg')) {
+    $vars['message_actions'][] = array('title' => t('Delete message'), 'href' => 'messages/delete/' . $vars['thread_id'] . '/' . $vars['mid']);
+  }
+  $vars['message_anchors'][] = 'privatemsg-mid-' . $vars['mid'];
+  if (!empty($message['is_new'])) {
+    $vars['message_anchors'][] = 'new';
+    $vars['new'] = drupal_ucfirst(t('new'));
+  }
+
+  // call hook_privatemsg_message_view_alter
+  drupal_alter('privatemsg_message_view', $vars);
+
+  $vars['message_actions'] = !empty($vars['message_actions']) ? theme('links', $vars['message_actions'], array('class' => 'message-actions')) : '';
+
+  $vars['anchors'] = '';
+  foreach ($vars['message_anchors'] as $anchor) {
+    $vars['anchors'] .= '<a name="' . $anchor . '"></a>';
+  }
+}
+
+function template_preprocess_privatemsg_recipients(&$vars) {
+  $vars['participants'] = ''; // assign a default empty value
+  if (isset($vars['message']['participants'])) {
+    $vars['participants'] = _privatemsg_format_participants($vars['message']['participants']);
+  }
+}
+
+/**
+ * List messages.
+ *
+ * @param $form_state
+ *   Form state array
+ * @param $argument
+ *   An argument to pass through to the query builder.
+ * @param $uid
+ *   User id messages of another user should be displayed
+ *
+ * @return
+ *   Form array
+ */
+function privatemsg_list(&$form_state, $argument = 'list', $uid = NULL) {
+  global $user;
+
+  // Setting default behavior...
+  $account = $user;
+  // Because uid is submitted by the menu system, it's a string not a integer.
+  if ((int)$uid > 0 && $uid != $user->uid) {
+    // Trying to view someone else's messages...
+    if (!privatemsg_user_access('read all private messages')) {
+      drupal_set_message(t("You do not have sufficient rights to view someone else's messages"), 'warning');
+    }
+    elseif ($account_check = user_load(array('uid' => $uid))) {
+      // Has rights and user_load return an array so user does exist
+      $account = $account_check;
+    }
+  }
+  // By this point we have figured out for which user we are listing messages and now it is safe to use $account->uid in the listing query.
+
+  $query = _privatemsg_assemble_query('list', $account, $argument);
+  $result = pager_query($query['query'], variable_get('privatemsg_per_page', 25), 0, $query['count']);
+
+  $threads = array();
+  $form['#data'] = array();
+  while ($row = db_fetch_array($result)) {
+    // Store the raw row data.
+    $form['#data'][$row['thread_id']] = $row;
+    // store thread id for the checkboxes array
+    $threads[$row['thread_id']] = '';
+  }
+  if (!empty($form['#data'])) {
+    $form['actions'] = _privatemsg_action_form();
+  }
+
+  // Save the currently active account, used for actions.
+  $form['account'] = array('#type' => 'value', '#value' => $account);
+
+  // Define checkboxes, pager and theme
+  $form['threads'] = array('#type' => 'checkboxes', '#options' => $threads);
+  $form['pager'] = array('#value' => theme('pager'), '#weight' => 20);
+  $form['#theme'] = 'privatemsg_list';
+
+  // Store the account for which the threads are displayed.
+  $form['#account'] = $account;
+  return $form;
+}
+
+/**
+ * Changes the read/new status of a single message.
+ *
+ * @param $pmid
+ *   Message id
+ * @param $status
+ *   Either PRIVATEMSG_READ or PRIVATEMSG_UNREAD
+ * @param $account
+ *   User object, defaults to the current user
+ */
+function privatemsg_message_change_status($pmid, $status, $account = NULL) {
+  if (!$account) {
+    global $user;
+    $account = $user;
+  }
+  $query = "UPDATE {pm_index} SET is_new = %d WHERE mid = %d AND uid = %d";
+  db_query($query, $status, $pmid, $account->uid);
+}
+
+/**
+ * Return number of unread messages for an account.
+ *
+ * @param $account
+ *   Specifiy the user for which the unread count should be loaded.
+ *
+ * @ingroup api
+ */
+function privatemsg_unread_count($account = NULL) {
+  static $counts = array();
+  if (!$account || $account->uid == 0) {
+    global $user;
+    $account = $user;
+  }
+  if ( !isset($counts[$account->uid])) {
+    $query = _privatemsg_assemble_query('unread_count', $account);
+    $counts[$account->uid] = db_result(db_query($query['query']));
+  }
+  return $counts[$account->uid];
+}
+
+/**
+ * Menu callback for viewing a thread.
+ *
+ * @param $thread
+ *   A array containing all information about a specific thread, generated by
+ *   privatemsg_thread_load().
+ * @return
+ *   The page content.
+ * @see privatemsg_thread_load()
+ */
+function privatemsg_view($thread) {
+  drupal_set_title(check_plain($thread['subject']));
+
+  // Generate paging links.
+  $older = '';
+  if (isset($thread['older_start'])) {
+    $options = array(
+      'query' => array('start' => $thread['older_start']),
+      'title' => t('Display older messages'),
+    );
+     $older = l(t('<<'), 'messages/view/' . $thread['thread_id'], $options);
+  }
+  $newer = '';
+  if (isset($thread['newer_start'])) {
+    $options = array(
+      'query' => array('start' => $thread['newer_start']),
+      'title' => t('Display newer messages'),
+    );
+    $newer = l(t('>>'), 'messages/view/' . $thread['thread_id'], $options);
+  }
+  $substitutions = array('@from' => $thread['from'], '@to' => $thread['to'], '@total' => $thread['message_count'], '!previous_link' => $older, '!newer_link' => $newer);
+  $title = t('!previous_link Displaying messages @from - @to of @total !newer_link', $substitutions);
+  $content['pager_top'] = array(
+    '#value'  => trim($title),
+    '#prefix' => '<div class="privatemsg-view-pager">',
+    '#suffix' => '</div>',
+    '#weight' => -10,
+  );
+
+  // Display a copy at the end.
+  $content['pager_bottom'] = $content['pager_top'];
+  $content['pager_bottom']['#weight'] = 3;
+
+  // Render the participants.
+  $content['participants']['#value'] = theme('privatemsg_recipients', $thread);
+  $content['participants']['#weight'] = -5;
+
+  // Render the messages.
+  $output = '';
+  foreach ($thread['messages'] as $pmid => $message) {
+    // Set message as read and theme it.
+    if (!empty($message['is_new'])) {
+      privatemsg_message_change_status($pmid, PRIVATEMSG_READ, $thread['user']);
+    }
+    $output .= theme('privatemsg_view', $message);
+  }
+  $content['messages']['#value'] = $output;
+  $content['messages']['#weight'] = 0;
+
+  // Display the reply form if user is allowed to use it.
+  if (privatemsg_user_access('write privatemsg')) {
+    $content['reply']['#value'] = drupal_get_form('privatemsg_new', $thread['participants'], $thread['subject'], $thread['thread_id'], $thread['read_all']);
+    $content['reply']['#weight'] = 5;
+  }
+
+  // Check after calling the privatemsg_new form so that this message is only
+  // displayed when we are not sending a message.
+  if ($thread['read_all']) {
+    // User has permission to read all messages AND is not a participant of the current thread.
+    drupal_set_message(t('This conversation is being viewed with escalated priviledges and may not be the same as shown to normal users.'), 'warning');
+  }
+
+  // Allow other modules to hook into the $content array and alter it.
+  drupal_alter('privatemsg_view_messages', $content, $thread);
+  return drupal_render($content);
+}
+
+
+function privatemsg_new(&$form_state, $recipients = array(), $subject = '', $thread_id = NULL, $read_all = FALSE) {
+  global $user;
+
+  $recipients_string = '';
+  $body      = '';
+
+  // convert recipients to array of user objects
+  if (!empty($recipients) && is_string($recipients) || is_int($recipients)) {
+    $recipients = _privatemsg_generate_user_array($recipients);
+  }
+  elseif (is_object($recipients)) {
+    $recipients = array($recipients);
+  }
+  elseif (empty($recipients) && is_string($recipients)) {
+    $recipients = array();
+  }
+
+  $usercount = 0;
+  $to = array();
+  $to_themed = array();
+  $blocked = FALSE;
+  foreach ($recipients as $recipient) {
+    if (in_array($recipient->name, $to)) {
+      // We already added the recipient to the list, skip him.
+      continue;
+    }
+    // Check if another module is blocking the sending of messages to the recipient by current user.
+    $user_blocked = module_invoke_all('privatemsg_block_message', $user, array($recipient->uid => $recipient));
+    if (!count($user_blocked) <> 0 && $recipient->uid) {
+      if ($recipient->uid == $user->uid) {
+        $usercount++;
+        // Skip putting author in the recipients list for now.
+        continue;
+      }
+      $to[] = $recipient->name;
+      $to_themed[$recipient->uid] = theme('username', $recipient);
+    }
+    else {
+      // Recipient list contains blocked users.
+      $blocked = TRUE;
+    }
+  }
+
+  if (empty($to) && $usercount >= 1 && !$blocked) {
+    // Assume the user sent message to own account as if the usercount is one or less, then the user sent a message but not to self.
+    $to[] = $user->name;
+    $to_themed[$user->uid] = theme('username', $user);
+  }
+
+  if (!empty($to)) {
+    $recipients_string = implode(', ', $to);
+  }
+  if (isset($form_state['values'])) {
+    if (isset($form_state['values']['recipient'])) {
+      $recipients_string = $form_state['values']['recipient'];
+
+    }
+    $subject   = $form_state['values']['subject'];
+    $body      = $form_state['values']['body'];
+  }
+  if (!$thread_id && !empty($recipients_string)) {
+    drupal_set_title(t('Write new message to %recipient', array('%recipient' => $recipients_string)));
+  }
+  elseif (!$thread_id) {
+    drupal_set_title(t('Write new message'));
+  }
+
+  $form = array();
+  if (isset($form_state['privatemsg_preview'])) {
+    $form['message_header'] = array(
+      '#type' => 'fieldset',
+      '#attributes' => array('class' => 'preview'),
+    );
+    $form['message_header']['message_preview'] = array(
+      '#value'  => $form_state['privatemsg_preview'],
+    );
+  }
+  $form['privatemsg'] = array(
+    '#type'               => 'fieldset',
+    '#access'             => privatemsg_user_access('write privatemsg'),
+  );
+  $form['privatemsg']['author'] = array(
+    '#type' => 'value',
+    '#value' => $user,
+  );
+  if (is_null($thread_id)) {
+    $form['privatemsg']['recipient'] = array(
+      '#type'               => 'textfield',
+      '#title'              => t('To'),
+      '#description'        => t('Separate multiple names with commas.'),
+      '#default_value'      => $recipients_string,
+      '#required'           => TRUE,
+      '#weight'             => -10,
+      '#size'               => 50,
+      '#autocomplete_path'  => 'messages/user-name-autocomplete',
+      // Do not hardcode #maxlength, make it configurable by number of recipients, not their name length.
+    );
+  }
+  $form['privatemsg']['subject'] = array(
+    '#type'               => 'textfield',
+    '#title'              => t('Subject'),
+    '#size'               => 50,
+    '#maxlength'          => 255,
+    '#default_value'      => $subject,
+    '#weight'             => -5,
+  );
+  $form['privatemsg']['body'] = array(
+    '#type'               => 'textarea',
+    '#title'              => t('Message'),
+    '#rows'               => 6,
+    '#weight'             => 0,
+    '#default_value'      => $body,
+    '#resizable'          => TRUE,
+  );
+  $format = FILTER_FORMAT_DEFAULT;
+  // The input filter widget looses the format during preview, specify it
+  // explicitly.
+  if (isset($form_state['values']) && array_key_exists('format', $form_state['values'])) {
+    $format = $form_state['values']['format'];
+  }
+  $form['privatemsg']['format'] = filter_form($format);
+  $form['privatemsg']['preview'] = array(
+    '#type'               => 'submit',
+    '#value'              => t('Preview message'),
+    '#submit'             => array('pm_preview'),
+    '#validate'           => array('pm_send_validate'),
+    '#weight'             => 10,
+  );
+  $form['privatemsg']['submit'] = array(
+    '#type'               => 'submit',
+    '#value'              => t('Send message'),
+    '#submit'             => array('pm_send'),
+    '#validate'           => array('pm_send_validate'),
+    '#weight'             => 15,
+  );
+  $url = 'messages';
+  $title = t('Cancel');
+  if (isset($_REQUEST['destination'])) {
+    $url = $_REQUEST['destination'];
+  }
+  elseif (!is_null($thread_id)) {
+    $url = $_GET['q'];
+    $title = t('Clear');
+  }
+
+  $form['privatemsg']['cancel'] = array(
+    '#value'              => l($title, $url, array('attributes' => array('id' => 'edit-cancel'))),
+    '#weight'             => 20,
+  );
+
+  if (!is_null($thread_id)) {
+    $form['privatemsg']['thread_id'] = array(
+      '#type' => 'value',
+      '#value' => $thread_id,
+    );
+    $form['privatemsg']['subject'] = array(
+          '#type' => 'value',
+          '#default_value' => $subject,
+    );
+    $recipients_string_themed = implode(', ', $to_themed);
+    $form['privatemsg']['recipient_display'] = array(
+      '#value' =>  '<p>'. t('<strong>Reply to thread</strong>:<br /> Recipients: !to', array('!to' => $recipients_string_themed)) .'</p>',
+      '#weight' => -10,
+    );
+    if (empty($recipients_string)) {
+      // If there are no valid recipients, unset the message reply form.
+      $form['privatemsg']['#access'] = FALSE;
+    }
+  }
+  $form['privatemsg']['read_all'] = array(
+    '#type'  => 'value',
+    '#value' => $read_all,
+  );
+  return $form;
+}
+
+function pm_send_validate($form, &$form_state) {
+  // The actual message that is being sent, we create this during validation and pass to submit to send out.
+  $message = $form_state['values'];
+  $message['timestamp'] = time();
+  // Avoid subjects which only consist of a space as these can not be clicked.
+  $message['subject'] = trim($message['subject']);
+
+
+  $trimed_body = trim(truncate_utf8(strip_tags($message['body']), 50, TRUE, TRUE));
+  if (empty($message['subject']) && !empty($trimed_body)) {
+    $message['subject'] = $trimed_body;
+  }
+  // Only parse the user string for a new thread.
+  if (!isset($message['thread_id'])) {
+    list($message['recipients'], $invalid) = _privatemsg_parse_userstring($message['recipient']);
+  }
+  else {
+    // Load participants.
+    $message['recipients'] = _privatemsg_load_thread_participants($message['thread_id']);
+    // Remove author.
+    if (isset($message['recipients'][$message['author']->uid]) && count($message['recipients']) > 1) {
+      unset($message['recipients'][$message['author']->uid]);
+    }
+  }
+
+  $validated = _privatemsg_validate_message($message, TRUE);
+  foreach ($validated['messages'] as $type => $text) {
+    drupal_set_message($text, $type);
+  }
+  $form_state['validate_built_message'] = $message;
+  if (!empty($invalid)) {
+    drupal_set_message(t('The following users will not receive this private message: @invalid', array('@invalid' => implode(", ", $invalid))), 'error');
+  }
+}
+
+/**
+ * Load all participants of a thread, optionally without author.
+ *
+ * @param $thread_id
+ *   Thread ID for wich the participants should be loaded.
+ */
+function _privatemsg_load_thread_participants($thread_id) {
+  $query = _privatemsg_assemble_query('participants', $thread_id);
+  $result = db_query($query['query']);
+  $participants = array();
+  while ($uid = db_fetch_object($result)) {
+    if (($recipient = user_load($uid->uid))) {
+      $participants[$recipient->uid] = $recipient;
+    }
+  }
+  return $participants;
+}
+
+/**
+ * Extract the valid usernames of a string and loads them.
+ *
+ * This function is used to parse a string supplied by a username autocomplete
+ * field and load all user objects.
+ *
+ * @param $string
+ *   A string in the form "usernameA, usernameB, ...".
+ * @return
+ *   Array, first element is an array of loaded user objects, second an array
+ *   with invalid names.
+ */
+function _privatemsg_parse_userstring($input) {
+  if (is_string($input)) {
+    $input = explode(',', $input);
+  }
+
+  // Start working through the input array.
+  $invalid = array();
+  $recipients = array();
+  foreach ($input as $string) {
+    $string = trim($string);
+    if (!empty($string)) { // We don't care about white space names.
+
+      // First, check if another module is able to resolve the string into an
+      // user object.
+      foreach (module_implements('privatemsg_name_lookup') as $module) {
+        $function = $module . '_privatemsg_name_lookup';
+        if (($recipient = $function($string)) && is_object($recipient)) {
+          // If there is a match, continue with the next input string.
+          $recipients[$recipient->uid] = $recipient;
+          continue 2;
+        }
+      }
+      // Fall back to the default username lookup.
+      if (!$error = module_invoke('user', 'validate_name', $string)) {
+        // String is a valid username, look it up.
+        if ($recipient = user_load(array('name' => $string))) {
+          $recipients[$recipient->uid] = $recipient;
+          continue;
+        }
+      }
+      $invalid[$string] = $string;
+    }
+  }
+
+  return array($recipients, $invalid);
+}
+
+/**
+ * Submit callback for the privatemsg_new form.
+ */
+function pm_send($form, &$form_state) {
+  $status = _privatemsg_send($form_state['validate_built_message']);
+  // Load usernames to which the message was sent to.
+  $recipient_names = array();
+  foreach ($form_state['validate_built_message']['recipients'] as $recipient) {
+    $recipient_names[] = theme('username', $recipient);
+  }
+  if ($status !== FALSE )  {
+    drupal_set_message(t('A message has been sent to !recipients.', array('!recipients' => implode(', ', $recipient_names))));
+  }
+  else {
+    drupal_set_message(t('An attempt to send a message <em>may have failed</em> when sending to !recipients.', array('!recipients' => implode(', ', $recipient_names))), 'error');
+  }
+}
+
+function pm_preview($form, &$form_state) {
+
+    drupal_validate_form($form['form_id']['#value'], $form, $form_state);
+    if (!form_get_errors()) {
+      $form_state['privatemsg_preview'] = theme('privatemsg_view', $form_state['validate_built_message']);
+    }
+
+  $form_state['rebuild'] = TRUE; // this forces our form to be rebuilt instead of being submitted.
+}
+
+/**
+ * @addtogroup sql
+ * @{
+ */
+
+/**
+ * Query definition to load a list of threads.
+ *
+ * @param $fragments
+ *   Query fragments array.
+ * @param $account
+ *   User object for which the messages are being loaded.
+ * @param $argument
+ *   String argument which can be used in the query builder to modify the
+ *   thread listing.
+ */
+
+function privatemsg_sql_list(&$fragments, $account, $argument = 'list') {
+  $fragments['primary_table'] = '{pm_message} pm';
+
+  // Load enabled columns.
+  $fields = array_filter(variable_get('privatemsg_display_fields', array('participants')));
+
+  // Required columns.
+  $fragments['select'][]      = 'pmi.thread_id';
+  // We have to use MIN as the subject might not be the same in some threads.
+  // MIN() does not have a useful meaning except that it helps to correctly
+  // aggregate the thread on PostgreSQL.
+  $fragments['select'][]      = 'MIN(pm.subject) as subject';
+  $fragments['select'][]      = 'MAX(pm.timestamp) as last_updated';
+  // We use SUM so that we can count the number of unread messages.
+  $fragments['select'][]      = 'SUM(pmi.is_new) as is_new';
+
+  // Select number of messages in the thread if the count is
+  // set to be displayed.
+  if (in_array('count', $fields)) {
+    $fragments['select'][]      = 'COUNT(distinct pmi.mid) as count';
+  }
+  if (in_array('participants', $fields)) {
+    // Query for a string with uid's, for example "1,6,7".
+    // @todo: Replace this with a single query similiar to the tag list.
+    if ($GLOBALS['db_type'] == 'pgsql') {
+      // PostgreSQL does not know GROUP_CONCAT, so a subquery is required.
+      $fragments['select'][]      = "array_to_string(array(SELECT DISTINCT textin(int4out(pmia.uid))
+                                                            FROM {pm_index} pmia
+                                                            WHERE pmia.thread_id = pmi.thread_id), ',') AS participants";
+    }
+    else {
+      $fragments['select'][]      = '(SELECT GROUP_CONCAT(DISTINCT pmia.uid SEPARATOR ",")
+                                                            FROM {pm_index} pmia
+                                                            WHERE pmia.thread_id = pmi.thread_id) AS participants';
+    }
+  }
+  if (in_array('thread_started', $fields)) {
+    $fragments['select'][]      = 'MIN(pm.timestamp) as thread_started';
+  }
+
+  $fragments['inner_join'][]  = 'INNER JOIN {pm_index} pmi ON pm.mid = pmi.mid';
+
+  // Only load undeleted messages of the current user and group by thread.
+  $fragments['where'][]       = 'pmi.uid = %d';
+  $fragments['query_args']['where'][]  = $account->uid;
+  $fragments['where'][]       = 'pmi.deleted = 0';
+  $fragments['group_by'][]    = 'pmi.thread_id';
+
+  $order_by_first = 'MAX(pmi.is_new) DESC, ';
+  // MySQL 4.1 does not allow to order by aggregate functions. MAX() is used
+  // to avoid a ordering bug with multiple new messages.
+  if ($GLOBALS['db_type'] != 'pgsql' && version_compare(db_version(), '5.0.0') < 0) {
+    $order_by_first = 'is_new DESC, ';
+  }
+
+  // tablesort_sql() generates a ORDER BY string. However, the "ORDER BY " part 
+  // is not needed and added by the query builder. Discard the first 9
+  // characters of the string.
+  $order_by = drupal_substr(tablesort_sql(_privatemsg_list_headers( FALSE, array_merge(array('subject', 'last_updated'), $fields)), $order_by_first), 9);
+  $fragments['order_by'][]  = $order_by;
+}
+
+/**
+ * Query function for loading a single or multiple messages.
+ *
+ * @param $fragments
+ *   Query fragments array.
+ * @param $pmids
+ *   Array of pmids.
+ * @param $account
+ *   Account for which the messages should be loaded.
+ */
+function privatemsg_sql_load(&$fragments, $pmids, $account = NULL) {
+  $fragments['primary_table'] = '{pm_message} pm';
+
+  $fragments['select'][]      = "pm.mid";
+  $fragments['select'][]      = "pm.author";
+  $fragments['select'][]      = "pm.subject";
+  $fragments['select'][]      = "pm.body";
+  $fragments['select'][]      = "pm.timestamp";
+  $fragments['select'][]      = "pm.format";
+  $fragments['select'][]      = "pmi.is_new";
+  $fragments['select'][]      = "pmi.thread_id";
+
+  $fragments['inner_join'][]  = 'INNER JOIN {pm_index} pmi ON pm.mid = pmi.mid';
+  // Use IN() to load multiple messages at the same time.
+  $fragments['where'][]       = 'pmi.mid IN (' . db_placeholders($pmids) . ')';
+  $fragments['query_args']['where']  += $pmids;
+  if ($account) {
+    $fragments['where'][]       = 'pmi.uid = %d';
+    $fragments['query_args']['where'][]  = $account->uid;
+  }
+  $fragments['order_by'][] = 'pm.timestamp ASC';
+  $fragments['order_by'][] = 'pm.mid ASC';
+}
+
+/**
+ * Query definition to load messages of one or multiple threads.
+ *
+ * @param $fragments
+ *   Query fragments array.
+ * @param $threads
+ *   Array with one or multiple thread id's.
+ * @param $account
+ *   User object for which the messages are being loaded.
+ * @param $load_all
+ *   Deleted messages are only loaded if this is set to TRUE.
+ */
+function privatemsg_sql_messages(&$fragments, $threads, $account = NULL, $load_all = FALSE) {
+  $fragments['primary_table'] = '{pm_index} pmi';
+
+  $fragments['select'][]      = 'pmi.mid';
+  $fragments['where'][]       = 'pmi.thread_id IN ('. db_placeholders($threads) .')';
+  $fragments['query_args']['where']   += $threads;
+  $fragments['inner_join'][]  = 'INNER JOIN {pm_message} pm ON (pm.mid = pmi.mid)';
+  if ($account) {
+    // Only load the user's messages.
+    $fragments['where'][]     = 'pmi.uid = %d';
+    $fragments['query_args']['where'][]  = $account->uid;
+  }
+  if (!$load_all) {
+    // Also load deleted messages when requested.
+    $fragments['where'][]     = 'pmi.deleted = 0';
+  }
+  // Only load each mid once.
+  $fragments['group_by'][]    = 'pmi.mid';
+  $fragments['group_by'][]    = 'pm.timestamp';
+
+  // Order by timestamp first.
+  $fragments['order_by'][]    = 'pm.timestamp ASC';
+  // If there are multiple inserts during the same second (tests, for example)
+  // sort by mid second to have them in the same order as they were saved.
+  $fragments['order_by'][]    = 'pmi.mid ASC';
+
+}
+
+/**
+ * Load all participants of a thread.
+ *
+ * @param $fragments
+ *   Query fragments array.
+ * @param $thread_id
+ *   Thread id from which the participants should be loaded.
+ */
+function privatemsg_sql_participants(&$fragments, $thread_id) {
+  $fragments['primary_table'] = '{pm_index} pmi';
+
+  // Only load each participant once since they are listed as recipient for
+  // every message of that thread.
+  $fragments['select'][]      = 'DISTINCT(pmi.uid) AS uid';
+  $fragments['select'][]      = 'u.name AS name';
+
+  $fragments['inner_join'][]  = 'INNER JOIN {users} u ON (u.uid = pmi.uid)';
+  $fragments['where'][]       = 'pmi.thread_id = %d';
+  $fragments['query_args']['where'][]  = $thread_id;
+}
+
+/**
+ * Query definition to count unread messages.
+ *
+ * @param $fragments
+ *   Query fragments array.
+ * @param $account
+ *   User object for which the messages are being counted.
+ */
+function privatemsg_sql_unread_count(&$fragments, $account) {
+  $fragments['primary_table'] = '{pm_index} pmi';
+
+  $fragments['select'][]      = 'COUNT(DISTINCT thread_id) as unread_count';
+
+  // Only count new messages that have not been deleted.
+  $fragments['where'][]       = 'pmi.deleted = 0';
+  $fragments['where'][]       = 'pmi.is_new = 1';
+  $fragments['where'][]       = 'pmi.uid = %d';
+  $fragments['query_args']['where'][]  = $account->uid;
+}
+
+/**
+ * Query definition to search for username autocomplete suggestions.
+ *
+ * @param $fragments
+ *   Query fragments array.
+ * @param $search
+ *   Which search string is currently searched for.
+ * @param $names
+ *   Array of names not to be used as suggestions.
+ */
+function privatemsg_sql_autocomplete(&$fragments, $search, $names) {
+  $fragments['primary_table'] = '{users} u';
+  $fragments['select'][] = 'u.name';
+  // Escape the % to get it through the placeholder replacement.
+  $fragments['where'][] = "u.name LIKE '%s'";
+  $fragments['query_args']['where'][] = $search .'%%';
+  if (!empty($names)) {
+    // If there are already names selected, exclude them from the suggestions.
+    $fragments['where'][] = "u.name NOT IN (". db_placeholders($names, 'text') .")";
+    $fragments['query_args']['where'] += $names;
+  }
+  // Only load active users and sort them by name.
+  $fragments['where'][] = 'u.status <> 0';
+  $fragments['order_by'][] = 'u.name ASC';
+}
+
+/**
+ * Query Builder function to load all messages that should be flushed.
+ *
+ * @param $fragments
+ *   Query fragments array.
+ * @param $days
+ *   Select messages older than x days.
+ */
+function privatemsg_sql_deleted(&$fragments, $days) {
+  $fragments['primary_table'] = '{pm_message} pm';
+
+  $fragments['select'][] = 'pm.mid';
+  // The lowest value is higher than 0 if all recipients have deleted a message.
+  $fragments['select'][] = 'MIN(pmi.deleted) as is_deleted';
+  // The time the most recent deletion happened.
+  $fragments['select'][] = 'MAX(pmi.deleted) as last_deleted';
+
+  $fragments['inner_join'][] = 'INNER JOIN {pm_index} pmi ON (pmi.mid = pm.mid)';
+
+  $fragments['group_by'][] = 'pm.mid';
+
+  // Ignore messages that have not been deleted by all users.
+  $fragments['having'][] = 'MIN(pmi.deleted) > 0';
+
+  // Only select messages that have been deleted more than n days ago.
+  $fragments['having'][] = 'MAX(pmi.deleted) < %d';
+  $fragments['query_args']['having'][] = time() - $days * 86400;
+}
+
+/**
+ * @}
+ */
+
+/**
+ * Return autocomplete results for usernames.
+ *
+ * Prevents usernames from being used and/or suggested twice.
+ */
+function privatemsg_user_name_autocomplete($string) {
+  $names = array();
+  // 1: Parse $string and build list of valid user names.
+  $fragments = explode(',', $string);
+  foreach ($fragments as $index => $name) {
+    if ($name = trim($name)) {
+      $names[$name] = $name;
+    }
+  }
+  // By using user_validate_user we can ensure that names included in $names are at least logisticaly possible.
+  // 2: Find the next user name suggestion.
+  $fragment = array_pop($names);
+  $matches = array();
+  if (!empty($fragment)) {
+    $query = _privatemsg_assemble_query('autocomplete', $fragment, $names);
+    $result = db_query_range($query['query'], $fragment, 0, 10);
+    $prefix = count($names) ? implode(", ", $names) .", " : '';
+    // 3: Build proper suggestions and print.
+    while ($user = db_fetch_object($result)) {
+      $matches[$prefix . $user->name .", "] = $user->name;
+    }
+  }
+  // convert to object to prevent drupal bug, see http://drupal.org/node/175361
+  drupal_json((object)$matches);
+}
+
+function privatemsg_user($op, &$edit, &$account, $category = NULL) {
+  global $user;
+
+  switch ($op) {
+    case 'view':
+      if ($url = privatemsg_get_link(array($account))) {
+        $account->content['privatemsg_send_new_message'] = array(
+          '#type'   => 'markup',
+          '#value'  => l(t('Send this user a message'), $url, array('query' => drupal_get_destination())),
+          '#weight' => 10,
+        );
+      }
+      break;
+    case 'login':
+      if (variable_get('privatemsg_display_loginmessage', TRUE) && privatemsg_user_access()) {
+        $count = privatemsg_unread_count();
+        if ($count) {
+          drupal_set_message(format_plural($count, 'You have <a href="@messages">1 unread message</a>.', 'You have <a href="@messages">@count unread messages</a>', array('@messages' => url('messages'))));
+        }
+      }
+      break;
+    case 'delete':
+
+      // Load all mids of the messages the user wrote.
+      $result = db_query("SELECT mid FROM {pm_message} WHERE author = %d", $account->uid);
+      $mids = array();
+      while ($row = db_fetch_array($result)) {
+        $mids[] = $row['mid'];
+      }
+
+      // Delete messages the user wrote.
+      db_query('DELETE FROM {pm_message} WHERE author = %d', $account->uid);
+
+      if (!empty($mids)) {
+        // Delete recipient entries in {pm_index} of the messages the user wrote.
+        db_query('DELETE FROM {pm_index} WHERE mid IN (' . db_placeholders($mids) . ')', $mids);
+      }
+
+      // Delete recipient entries of that user.
+      db_query('DELETE FROM {pm_index} WHERE uid = %d', $account->uid);
+      break;
+  }
+}
+
+function privatemsg_block($op = 'list', $delta = 0, $edit = array()) {
+  if ('list' == $op) {
+    $blocks = array();
+    $blocks['privatemsg-menu'] = array(
+      'info' => t('Privatemsg links'),
+      'cache' => BLOCK_NO_CACHE,
+    );
+    $blocks['privatemsg-new'] = array(
+      'info' => t('New message indication'),
+      'cache' => BLOCK_NO_CACHE,
+    );
+
+    return $blocks;
+  }
+  elseif ('view' == $op) {
+    $block = array();
+    switch ($delta) {
+      case 'privatemsg-menu':
+        $block = _privatemsg_block_menu();
+        break;
+      case 'privatemsg-new':
+        $block = _privatemsg_block_new();
+        break;
+    }
+    return $block;
+  }
+}
+
+function privatemsg_title_callback($title = NULL) {
+  $count = privatemsg_unread_count();
+
+  if ($count > 0) {
+    return format_plural($count, 'Messages (1 new)', 'Messages (@count new)');
+  }
+  return t('Messages');
+}
+
+
+function _privatemsg_block_new() {
+  $block = array();
+
+  if (!privatemsg_user_access()) {
+    return $block;
+  }
+
+  $count = privatemsg_unread_count();
+  if ($count) {
+    $block = array(
+      'subject' => format_plural($count, 'New message', 'New messages'),
+      'content' => theme('privatemsg_new_block', $count),
+    );
+    return $block;
+  }
+  return array();
+}
+
+function _privatemsg_block_menu() {
+  $block = array();
+
+  $links = array();
+  if (privatemsg_user_access('write privatemsg')) {
+    $links[] = l(t('Write new message'), 'messages/new');
+  }
+  if (privatemsg_user_access('read privatemsg') || privatemsg_user_access('read all private messages') ) {
+    $links[] = l(privatemsg_title_callback(), 'messages');
+  }
+  if ( count( $links ) ) {
+    $block = array(
+      'subject' => t('Private messages'),
+      'content' => theme('item_list', $links),
+    );
+  }
+  return $block;
+}
+
+function privatemsg_delete($form_state, $thread, $message) {
+  $form['pmid'] = array(
+    '#type' => 'value',
+    '#value' => $message['mid'],
+  );
+  $form['delete_destination'] = array(
+    '#type' => 'value',
+    '#value' => count($thread['messages']) > 1 ? 'messages/view/' . $message['thread_id'] : 'messages',
+  );
+
+  if (privatemsg_user_access('read all private messages')) {
+    $form['delete_options'] = array(
+      '#type' => 'checkbox',
+      '#title' => t('Delete this message for all users?'),
+      '#description' => t('Tick the box to delete the message for all users.'),
+      '#default_value' => FALSE,
+    );
+  }
+  return confirm_form($form,
+    t('Are you sure you want to delete this message?'),
+    isset($_GET['destination']) ? $_GET['destination'] : 'messages/view/'. $message['thread_id'],
+    t('This action cannot be undone.'),
+    t('Delete'),
+    t('Cancel')
+  );
+}
+
+function privatemsg_delete_submit($form, &$form_state) {
+  global $user;
+  $account = drupal_clone($user);
+
+  if ($form_state['values']['confirm']) {
+    if (isset($form_state['values']['delete_options']) && $form_state['values']['delete_options']) {
+      privatemsg_message_change_delete($form_state['values']['pmid'], 1);
+      drupal_set_message(t('Message has been deleted for all users.'));
+    }
+    else {
+      privatemsg_message_change_delete($form_state['values']['pmid'], 1, $account);
+      drupal_set_message(t('Message has been deleted.'));
+    }
+  }
+  $form_state['redirect'] = $form_state['values']['delete_destination'];
+}
+
+/**
+ * Delete or restore a message.
+ *
+ * @param $pmid
+ *   Message id, pm.mid field.
+ * @param $delete
+ *   Either deletes or restores the thread (1 => delete, 0 => restore)
+ * @param $account
+ *   User acccount for which the delete action should be carried out - Set to
+ *   NULL to delete for all users.
+ *
+ * @ingroup api
+ */
+function privatemsg_message_change_delete($pmid, $delete, $account = NULL) {
+  $delete_value = 0;
+  if ($delete == TRUE) {
+    $delete_value = time();
+  }
+
+  if ($account) {
+    db_query('UPDATE {pm_index} SET deleted = %d WHERE mid = %d AND uid = %d', $delete_value, $pmid, $account->uid);
+  }
+  else {
+    // Mark deleted for all users.
+    db_query('UPDATE {pm_index} SET deleted = %d WHERE mid = %d', $delete_value, $pmid);
+  }
+}
+
+/**
+ * Send a new message.
+ *
+ * This functions does send a message in a new thread.
+ * Example:
+ * @code
+ * privatemsg_new_thread(array(user_load(5)), 'The subject', 'The body text');
+ * @endcode
+ *
+ * @param $recipients
+ *   Array of recipients (user objects)
+ * @param $subject
+ *   The subject of the new message
+ * @param $body
+ *   The body text of the new message
+ * @param $options
+ *   Additional options, possible keys:
+ *     author => User object of the author
+ *     timestamp => Time when the message was sent
+ *
+ * @return
+ *   An array with a key success. If TRUE, it also contains a key 'message' with
+ *   the created $message array, the same that is passed to the insert hook.
+ *   If FALSE, it contains a key 'messages'. This key contains an array where
+ *   the key is the error type (error, warning, notice) and an array with
+ *   messages of that type.
+ *
+ *   It is theoretically possible for success to be TRUE and message to be
+ *   FALSE. For example if one of the privatemsg database tables become
+ *   corrupted. When testing for success of message being sent it is always
+ *   best to see if ['message'] is not FALSE as well as ['success'] is TRUE.
+ *
+ *   Example:
+ *   @code
+ *   array('error' => array('A error message'))
+ *   @endcode
+ *
+ * @ingroup api
+ */
+function privatemsg_new_thread($recipients, $subject, $body = NULL, $options = array()) {
+  global $user;
+  $author = drupal_clone($user);
+
+  $message = array();
+  $message['subject'] = $subject;
+  $message['body'] = $body;
+  // Make sure that recipients are keyed by user id and are not added
+  // multiple times.
+  foreach ($recipients as $recipient) {
+    $message['recipients'][$recipient->uid] = $recipient;
+  }
+
+  // Set custom options, if any.
+  if (!empty($options)) {
+    $message += $options;
+  }
+  // Apply defaults - this will not overwrite existing keys.
+  $message += array(
+    'author' => $author,
+    'timestamp' => time(),
+    'format' => filter_resolve_format(FILTER_FORMAT_DEFAULT),
+  );
+
+  $validated = _privatemsg_validate_message($message);
+  if ($validated['success']) {
+    $validated['message'] = _privatemsg_send($message);
+  }
+
+  return $validated;
+}
+
+/**
+ * Send a reply message
+ *
+ * This functions replies on an existing thread.
+ *
+ * @param $thread_id
+ *   Thread id
+ * @param $body
+ *   The body text of the new message
+ * @param $options
+ *   Additional options, possible keys:
+ *     author => User object of the author
+ *     timestamp => Time when the message was sent
+ *
+ * @return
+ *   An array with a key success and messages. This key contains an array where
+ *   the key is the error type (error, warning, notice) and an array with
+ *   messages of that type.. If success is TRUE, it also contains a key $message
+ *   with the created $message array, the same that is passed to
+ *   hook_privatemsg_message_insert().
+ *
+ *   It is theoretically possible for success to be TRUE and message to be
+ *   FALSE. For example if one of the privatemsg database tables become
+ *   corrupted. When testing for success of message being sent it is always
+ *   best to see if ['message'] is not FALSE as well as ['success'] is TRUE.
+ *
+ *   Example messages values:
+ *   @code
+ *   array('error' => array('A error message'))
+ *   @endcode
+ *
+ * @ingroup api
+ */
+function privatemsg_reply($thread_id, $body, $options = array()) {
+  global $user;
+  $author = drupal_clone($user);
+
+  $message = array();
+  $message['body'] = $body;
+
+  // set custom options, if any
+  if (!empty($options)) {
+    $message += $options;
+  }
+  // apply defaults
+  $message += array(
+    'author' => $author,
+    'timestamp' => time(),
+    'format' => filter_resolve_format(FILTER_FORMAT_DEFAULT),
+  );
+
+  // We don't know the subject and the recipients, so we need to load them..
+  // thread_id == mid on the first message of the thread
+  $first_message = privatemsg_message_load($thread_id, $message['author']);
+  if (!$first_message) {
+    return array(t('Thread %thread_id not found, unable to answer', array('%thread_id' => $thread_id)));
+  }
+
+  $message['thread_id'] = $thread_id;
+  // Load participants.
+  $message['recipients'] = _privatemsg_load_thread_participants($thread_id);
+  // Remove author.
+  if (isset($message['recipients'][$message['author']->uid]) && count($message['recipients']) > 1) {
+    unset($message['recipients'][$message['author']->uid]);
+  }
+  $message['subject'] = $first_message['subject'];
+
+  $validated = _privatemsg_validate_message($message);
+  if ($validated['success']) {
+    $validated['message'] = _privatemsg_send($message);
+  }
+  return $validated;
+}
+
+function _privatemsg_validate_message(&$message, $form = FALSE) {
+  $messages = array('error' => array(), 'warning' => array());
+  if (!privatemsg_user_access('write privatemsg', $message['author'])) {
+    // no need to do further checks in this case...
+    if ($form) {
+      form_set_error('author', t('User @user is not allowed to write messages', array('@user' => $message['author']->name)));
+      return array(
+        'success'  => FALSE,
+        'messages'   => $messages,
+      );
+    }
+    else {
+      $messages['error'][] = t('User @user is not allowed to write messages', array('@user' => $message['author']->name));
+      return array(
+         'success'  => FALSE,
+         'messages'   => $messages,
+      );
+    }
+  }
+
+  // Prevent subjects which only consist of a space as these can not be clicked.
+  $message['subject'] = trim($message['subject']);
+  if (empty($message['subject'])) {
+    if ($form) {
+      form_set_error('subject', t('Disallowed to send a message without subject'));
+    }
+    else {
+      $messages['error'][] = t('Disallowed to send a message without subject');
+    }
+  }
+
+  // Don't allow replies without a body.
+  if (!empty($message['thread_id']) && ($message['body'] === NULL || $message['body'] === '') ) {
+    if ($form) {
+      form_set_error('body', t('Disallowed to send reply without a message.'));
+    }
+    else {
+      $messages['error'][] = t('Disallowed to send reply without a message.');
+    }
+  }
+  // Check if an allowed format is used. global $user needs to be changed since
+  // it is not possible to do the check for a specific user.
+  global $user;
+  $original_user = drupal_clone($user);
+  session_save_session(FALSE);
+  $user = $message['author'];
+
+  if (!filter_access($message['format'])) {
+    if ($form) {
+      form_set_error('format', t('You are not allowed to use the specified input format.'));
+    }
+    else {
+      $messages['error'][] = t('User @user is not allowed to use the specified input format.', array('@user' => $message['author']->name));
+    }
+  }
+
+  $user = $original_user;
+  session_save_session(TRUE);
+
+  if (empty($message['recipients']) || !is_array($message['recipients'])) {
+    if ($form) {
+      form_set_error('to', t('Disallowed to send a message without at least one valid recipient'));
+    }
+    else {
+      $messages['error'][] = t('Disallowed to send a message without at least one valid recipient');
+    }
+  }
+
+  if (!empty($message['recipients']) && is_array($message['recipients'])) {
+    foreach (module_invoke_all('privatemsg_block_message', $message['author'], $message['recipients']) as $blocked) {
+      unset($message['recipients'][$blocked['uid']]);
+      if ($form) {
+        drupal_set_message($blocked['message'], 'warning');
+      }
+      else {
+        $messages['warning'][] = $blocked['message'];
+      }
+    }
+  }
+
+  // Check again, give another error message if all recipients are blocked
+  if (empty($message['recipients'])) {
+    if ($form) {
+      form_set_error('to', t('Disallowed to send message because all recipients are blocked'));
+    }
+    else {
+      $messages['error'][] = t('Disallowed to send message because all recipients are blocked');
+    }
+  }
+
+  $messages = array_merge_recursive(module_invoke_all('privatemsg_message_validate', $message, $form), $messages);
+
+  // Check if there are errors in $messages or if $form is TRUE, there are form errors.
+  $success = empty($messages['error']) || ($form && count((array)form_get_errors()) > 0);
+  return array(
+    'success'  => $success,
+    'messages'   => $messages,
+  );
+}
+
+/**
+ * Internal function to save a message.
+ *
+ * @param $message
+ *   A $message array with the data that should be saved. If a thread_id exists
+ *   it will be created as a reply to an existing thread. If not, a new thread
+ *   will be created.
+ *
+ * @return
+ *   The updated $message array.
+ */
+function _privatemsg_send($message) {
+
+  drupal_alter('privatemsg_message_presave', $message);
+
+  $index_sql = "INSERT INTO {pm_index} (mid, thread_id, uid, is_new, deleted) VALUES (%d, %d, %d, %d, 0)";
+  if (isset($message['read_all']) && $message['read_all']) {
+    // The message was sent in read all mode, add the author as recipient to all
+    // existing messages.
+    $query_messages = _privatemsg_assemble_query('messages', array($message['thread_id']), NULL);
+    $conversation = db_query($query_messages['query']);
+    while ($result = db_fetch_array($conversation)) {
+      if (!db_query($index_sql, $result['mid'], $message['thread_id'], $message['author']->uid, 0)) {
+        return FALSE;
+      }
+    }
+  }
+
+  // 1) Save the message body first.
+  $args = array();
+  $args[] = $message['subject'];
+  $args[] = $message['author']->uid;
+  $args[] = $message['body'];
+  $args[] = $message['format'];
+  $args[] = $message['timestamp'];
+  $message_sql = "INSERT INTO {pm_message} (subject, author, body, format, timestamp) VALUES ('%s', %d, '%s', %d, %d)";
+  db_query($message_sql, $args);
+  $mid = db_last_insert_id('pm_message', 'mid');
+  $message['mid'] = $mid;
+
+  // Thread ID is the same as the mid if it's the first message in the thread.
+  if (!isset($message['thread_id'])) {
+    $message['thread_id'] = $mid;
+  }
+
+  // 2) Save message to recipients.
+  // Each recipient gets a record in the pm_index table.
+  foreach ($message['recipients'] as $recipient) {
+    if (!db_query($index_sql, $mid, $message['thread_id'], $recipient->uid, 1) ) {
+      // We assume if one insert failed then the rest may fail too against the
+      // same table.
+      return FALSE;
+    }
+  }
+
+  // When author is also the recipient, we want to set message to UNREAD.
+  // All other times the message is set to READ.
+  $is_new = isset($message['recipients'][$message['author']->uid]) ? 1 : 0;
+
+  // Also add a record for the author to the pm_index table.
+  if (!db_query($index_sql, $mid, $message['thread_id'], $message['author']->uid, $is_new)) {
+    return FALSE;
+  }
+
+  module_invoke_all('privatemsg_message_insert', $message);
+
+  // If we reached here that means we were successful at writing all messages to db.
+  return $message;
+}
+
+/**
+ * Returns a link to send message form for a specific users.
+ *
+ * Contains permission checks of author/recipient, blocking and
+ * if a anonymous user is involved.
+ *
+ * @param $recipient
+ *   Recipient of the message
+ * @param $account
+ *   Sender of the message, defaults to the current user
+ *
+ * @return
+ *   Either FALSE or a URL string
+ *
+ * @ingroup api
+ */
+function privatemsg_get_link($recipients, $account = array(), $subject = NULL) {
+  if ($account == NULL) {
+    global $user;
+    $account = $user;
+  }
+
+  if (!is_array($recipients)) {
+    $recipients = array($recipients);
+  }
+
+  if (!privatemsg_user_access('write privatemsg', $account) || $account->uid == 0) {
+    return FALSE;
+  }
+
+  $validated = array();
+  foreach ($recipients as $recipient) {
+    if (!privatemsg_user_access('read privatemsg', $recipient)) {
+      continue;
+    }
+    if (count(module_invoke_all('privatemsg_block_message', $account, array($recipient->uid => $recipient))) > 0) {
+      continue;
+    }
+    $validated[] = $recipient->uid;
+  }
+  if (empty($validated)) {
+    return FALSE;
+  }
+  $url = 'messages/new/'. implode(',', $validated);
+  if (!is_null($subject)) {
+    $url .= '/'. $subject;
+  }
+  return $url;
+}
+
+/**
+ * Load a single message.
+ *
+ * @param $pmid
+ *   Message id, pm.mid field
+ * @param $account
+ *   For which account the message should be loaded.
+ *   Defaults to the current user.
+ *
+ * @ingroup api
+ */
+function privatemsg_message_load($pmid, $account = NULL) {
+  $messages = privatemsg_message_load_multiple(array($pmid), $account);
+  return current($messages);
+}
+
+/**
+ * Load multiple messages.
+ *
+ * @param $pmids
+ *   Array of Message ids, pm.mid field
+ * @param $account
+ *   For which account the message should be loaded.
+ *   Defaults to the current user.
+ *
+ * @ingroup api
+ */
+function privatemsg_message_load_multiple($pmids, $account = NULL) {
+  // Avoid SQL error that would happen with an empty pm.mid IN () clause.
+  if (empty($pmids)) {
+    return array();
+  }
+
+  $query = _privatemsg_assemble_query('load', $pmids, $account);
+  $result = db_query($query['query']);
+  $messages = array();
+  while ($message = db_fetch_array($result)) {
+    // Load author of message.
+    if (!($message['author'] = user_load($message['author']))) {
+      // If user does not exist, load anonymous user.
+      $message['author'] = user_load(array('uid' => 0));
+    }
+    $returned = module_invoke_all('privatemsg_message_load', $message);
+    if (!empty($returned)) {
+      $message = array_merge_recursive($returned, $message);
+    }
+    $messages[$message['mid']] = $message;
+  }
+  return $messages;
+}
+
+/**
+ * Generates a query based on a query id.
+ *
+ * @param $query
+ *   Either be a string ('some_id') or an array('group_name', 'query_id'),
+ *   if a string is supplied, group_name defaults to 'privatemsg'.
+ *
+ * @return
+ *    Array with the keys query and count. count can be used to count the
+ *    elements which would be returned by query. count can be used together
+ *    with pager_query().
+ *
+ * @ingroup sql
+ */
+function _privatemsg_assemble_query($query) {
+
+  // Modules will be allowed to choose the prefix for the querybuilder, but if there is not one supplied, 'privatemsg' will be taken by default.
+  if (is_array($query)) {
+    $query_id = $query[0];
+    $query_group = $query[1];
+  }
+  else {
+    $query_id = $query;
+    $query_group = 'privatemsg';
+  }
+
+  $SELECT = array();
+  $INNER_JOIN = array();
+  $WHERE = array();
+  $GROUP_BY = array();
+  $HAVING   = array();
+  $ORDER_BY = array();
+  $QUERY_ARGS = array('select' => array(), 'where' => array(), 'join' => array(), 'having' => array());
+  $primary_table = '';
+
+  $fragments = array(
+    'select'      => $SELECT,
+    'inner_join'  => $INNER_JOIN,
+    'where'       => $WHERE,
+    'group_by'    => $GROUP_BY,
+    'having'      => $HAVING,
+    'order_by'    => $ORDER_BY,
+    'query_args'  => $QUERY_ARGS,
+    'primary_table'  => $primary_table,
+  );
+
+  /**
+   * Begin: dynamic arguments
+   */
+  $args = func_get_args();
+  unset($args[0]);
+  // we do the merge because we call call_user_func_array and not drupal_alter
+  // this is necessary because otherwise we would not be able to use $args correctly (otherwise it doesnt unfold)
+  $alterargs = array(&$fragments);
+  $query_function = $query_group .'_sql_'. $query_id;
+  if (!empty($args)) {
+    $alterargs = array_merge($alterargs, $args);
+  }
+  /**
+   * END: Dynamic arguments
+   */
+  if (!function_exists($query_function)) {
+    drupal_set_message(t('Query function %function does not exist', array('%function' => $query_function)), 'error');
+    return FALSE;
+  }
+  call_user_func_array($query_function, $alterargs);
+
+  array_unshift($alterargs, $query_function);
+  call_user_func_array('drupal_alter', $alterargs);
+
+  $SELECT = $fragments['select'];
+  $INNER_JOIN = $fragments['inner_join'];
+  $WHERE = $fragments['where'];
+  $GROUP_BY = $fragments['group_by'];
+  $HAVING   = $fragments['having'];
+  $ORDER_BY = $fragments['order_by'];
+  $QUERY_ARGS = $fragments['query_args'];
+  $primary_table = $fragments['primary_table'];
+
+  // pgsql has a case sensitive LIKE - replace it with ILIKE. see http://drupal.org/node/462982
+  if ($GLOBALS['db_type'] == 'pgsql') {
+    $WHERE = str_replace('LIKE', 'ILIKE', $WHERE);
+  }
+
+  if (empty($primary_table)) {
+    $primary_table = '{privatemsg} pm';
+  }
+
+  // Perform the whole query assembly only if we have something to select.
+  if (!empty($SELECT)) {
+    $str_select = implode(", ", $SELECT);
+    $query = "SELECT {$str_select} FROM ". $primary_table;
+
+    // Also build a count query which can be passed to pager_query to get a "page count" as that does not play well with queries including "GROUP BY".
+    // In most cases,  "COUNT(*)" is enough to get the count query, but in queries involving a GROUP BY, we want a count of the number of groups we have, not the count of elements inside each group.
+    // So we test if there is GROUP BY and if there is, count the number of distinct groups. If not, we go the normal wal and do a plain COUNT(*).
+    if (!empty($GROUP_BY)) {
+      // PostgreSQL does not support COUNT(sometextfield, someintfield), so I'm only using the first one
+      // Works fine for thread_id/list but may generate an error when a more complex GROUP BY is used.
+      $str_group_by_count = current($GROUP_BY);
+      $count = "SELECT COUNT(DISTINCT {$str_group_by_count}) FROM ". $primary_table;
+    }
+    else {
+      $count = "SELECT COUNT(*) FROM ". $primary_table;
+    }
+
+    if (!empty($INNER_JOIN)) {
+      $str_inner_join = implode(' ', $INNER_JOIN);
+      $query .= " {$str_inner_join}";
+      $count .= " {$str_inner_join}";
+    }
+    if (!empty($WHERE)) {
+      $str_where = '('. implode(') AND (', $WHERE) .')';
+      $query .= " WHERE {$str_where}";
+      $count .= " WHERE {$str_where}";
+    }
+    if (!empty($GROUP_BY)) {
+      $str_group_by = ' GROUP BY '. implode(", ", $GROUP_BY) ;
+      $query .= " {$str_group_by}";
+    }
+    if (!empty($HAVING)) {
+      $str_having = '('. implode(') AND (', $HAVING) .')';
+      $query .= " HAVING {$str_having}";
+      // queries containing a HAVING break the count query on pgsql.
+      // In this case, use the subquery method as outlined in http://drupal.org/node/303087#comment-1370752 .
+      // The subquery method will work for all COUNT queries, but it is thought to be much slower, so we are only using it where other cross database approaches fail.
+      $count = 'SELECT COUNT(*) FROM ('. $query .') as count';
+    }
+    if (!empty($ORDER_BY)) {
+      $str_order_by = ' ORDER BY '. implode(", ", $ORDER_BY) ;
+      $query .= " {$str_order_by}";
+    }
+    $QUERY_ARGS = array_merge($QUERY_ARGS['select'], $QUERY_ARGS['join'], $QUERY_ARGS['where'], $QUERY_ARGS['having']);
+    if (!empty($QUERY_ARGS)) {
+      _db_query_callback($QUERY_ARGS, TRUE);
+      $query = preg_replace_callback(DB_QUERY_REGEXP, '_db_query_callback', $query);
+      _db_query_callback($QUERY_ARGS, TRUE);
+      $count = preg_replace_callback(DB_QUERY_REGEXP, '_db_query_callback', $count);
+    }
+    return array('query' => $query, 'count' => $count);
+  }
+  return FALSE;
+}
+
+/**
+ * Returns a form which handles and displays thread actions.
+ *
+ * Additional actions can be added with the privatemsg_thread_operations hook.
+ * It is also possible to extend this form with additional buttons or other
+ * elements, in that case, the definitions in the above hook need no label tag,
+ * instead, the submit button key needs to match with the key of the operation.
+ *
+ * @see hook_privatemsg_thread_operations()
+ *
+ * @return
+ *   The FAPI definitions for the thread action form.
+ */
+function _privatemsg_action_form() {
+  $form = array(
+      '#type'        => 'fieldset',
+      '#title'       => t('Actions'),
+      '#prefix'      => '<div class="container-inline">',
+      '#suffix'      => '</div>',
+      '#collapsible' => TRUE,
+      '#collapsed'   => FALSE,
+      '#weight'      => 15,
+  );
+  if (privatemsg_user_access('delete privatemsg')) {
+    $form['delete'] = array(
+        '#type'   => 'submit',
+        '#value'  => t('Delete'),
+    );
+  }
+  // Display all operations which have a label.
+  $options = array(0 => t('More actions...'));
+  foreach (module_invoke_all('privatemsg_thread_operations') as $operation => $array) {
+    if (isset($array['label'])) {
+      $options[$operation] = $array['label'];
+    }
+  }
+  $form['operation'] = array(
+      '#type'          => 'select',
+      '#options'       => $options,
+      '#default_value' => 0,
+  );
+  $form['submit'] = array(
+      '#prefix'     => '<div class="privatemsg-op-button">',
+      '#suffix'    => '</div>',
+      '#type'       => 'submit',
+      '#value'      => t('Execute'),
+      '#submit'     => array('privatemsg_list_submit'),
+      '#attributes' => array('class' => 'privatemsg-action-button'),
+  );
+  // JS for hiding the execute button.
+  drupal_add_js(drupal_get_path('module', 'privatemsg') .'/privatemsg-list.js');
+  return $form;
+}
+
+/**
+ * Marks one or multiple threads as (un)read.
+ *
+ * @param $threads
+ *   Array with thread id's or a single thread id.
+ * @param $status
+ *   Either PRIVATEMSG_READ or PRIVATEMSG_UNREAD, sets the new status.
+ * @param $account
+ *   User object for which the threads should be deleted, defaults to the
+ *   current user.
+ */
+function privatemsg_thread_change_status($threads, $status, $account = NULL) {
+  if (!is_array($threads)) {
+    $threads = array($threads);
+  }
+  if (empty($account)) {
+    global $user;
+    $account = drupal_clone($user);
+  }
+  // Merge status and uid with the threads list. array_merge() will not overwrite/ignore thread_id 1.
+  $params = array_merge(array($status, $account->uid), $threads);
+  db_query('UPDATE {pm_index} SET is_new = %d WHERE uid = %d AND thread_id IN ('. db_placeholders($threads) .')', $params);
+
+  if ($status == PRIVATEMSG_UNREAD) {
+    drupal_set_message(format_plural(count($threads), 'Marked 1 thread as unread.', 'Marked @count threads as unread.'));
+  }
+  else {
+    drupal_set_message(format_plural(count($threads), 'Marked 1 thread as read.', 'Marked @count threads as read.'));
+  }
+}
+/**
+ * Returns a table header definition based on the submitted keys.
+ *
+ * Uses @link theming theme patterns @endlink to theme single headers.
+ *
+ * @param $has_posts
+ *   TRUE when there is at least one row. Decides if the select all checkbox
+ *   should be displayed.
+ * @param $keys
+ *   Array with the keys which are present in the query/should be displayed.
+ * @return
+ *   Array with header defintions for tablesort_sql and theme('table').
+ */
+function _privatemsg_list_headers($has_posts, $keys) {
+  $select_header = $has_posts ? theme('table_select_header_cell') : '';
+  $select_header['#weight'] = -50;
+
+  // theme() doesn't include the theme file for patterns, we need to do it manually.
+  include_once drupal_get_path('module', 'privatemsg') .'/privatemsg.theme.inc';
+
+  $header = array($select_header);
+  foreach ($keys as $key) {
+    // First, try to load a specific theme for that header, if not present, use the default.
+    if ($return = theme(array('privatemsg_list_header__'. $key, 'privatemsg_list_header'))) {
+      // The default theme returns nothing, only store the value if we have something.
+      $header[$key] = $return;
+    }
+  }
+  if (count($header) == 1) {
+    // No header definition returned, fallback to the default.
+    $header += _privatemsg_list_headers_fallback($keys);
+  }
+  return $header;
+}
+
+/**
+ * Table header definition for themes that don't support theme patterns.
+ *
+ * @return
+ *   Array with the correct headers.
+ */
+function _privatemsg_list_headers_fallback($keys) {
+  $header = array();
+  foreach ($keys as $key) {
+    $theme_function = 'phptemplate_privatemsg_list_header__' . $key;
+    if (function_exists($theme_function)) {
+      $header[$key] = $theme_function();
+    }
+  }
+
+  return $header;
+}
+
+/**
+ * Formats a row in the message list.
+ *
+ * Uses @link theming theme patterns @endlink to theme single fields.
+ *
+ * @param $thread
+ *   Array with the row data returned by the database.
+ * @return
+ *   Row definition for use with theme('table')
+ */
+function _privatemsg_list_thread($thread) {
+  $row = array('data' => array());
+
+  if (!empty($thread['is_new'])) {
+    // Set the css class in the tr tag.
+    $row['class'] = 'privatemsg-unread';
+  }
+  foreach ($thread as $key => $data) {
+    // First, try to load a specific theme for that field, if not present, use the default.
+    if ($return = theme(array('privatemsg_list_field__'. $key, 'privatemsg_list_field'), $thread)) {
+      // The default theme returns nothing, only store the value if we have something.
+      $row['data'][$key] = $return;
+    }
+  }
+  if (empty($row['data'])) {
+    $row['data'] = _privatemsg_list_thread_fallback($thread);
+  }
+  return $row;
+}
+
+/**
+ * Table row definition for themes that don't support theme patterns.
+ *
+ * @return
+ *   Array with row data.
+ */
+function _privatemsg_list_thread_fallback($thread) {
+  $row_data = array();
+  foreach ($thread as $key => $data) {
+    $theme_function = 'phptemplate_privatemsg_list_field__' . $key;
+    if (function_exists($theme_function)) {
+      $row_data[$key] = $theme_function($thread);
+    }
+  }
+
+  return $row_data;
+}
+
+/**
+ * Menu callback for messages/undo/action.
+ *
+ * This function will test if an undo callback is stored in SESSION and
+ * execute it.
+ */
+function privatemsg_undo_action() {
+  // Check if a undo callback for that user exists.
+  if (isset($_SESSION['privatemsg']['undo callback']) && is_array($_SESSION['privatemsg']['undo callback'])) {
+    $undo = $_SESSION['privatemsg']['undo callback'];
+    // If the defined undo callback exists, execute it
+    if (isset($undo['function']) && isset($undo['args'])) {
+      // Load the user object.
+      if (isset($undo['args']['account']) && $undo['args']['account'] > 0) {
+        $undo['args']['account'] = user_load((int)$undo['args']['account']);
+      }
+      call_user_func_array($undo['function'], $undo['args']);
+    }
+    // Return back to the site defined by the destination GET param.
+    drupal_goto();
+  }
+}
+
+/**
+ * Process privatemsg_list form submissions.
+ *
+ * Execute the chosen action on the selected messages. This function is
+ * based on node_admin_nodes_submit().
+ */
+function privatemsg_list_submit($form, &$form_state) {
+  // Load all available operation definitions.
+  $operations = module_invoke_all('privatemsg_thread_operations');
+
+  // Default "default" operation, which won't do anything.
+  $operation = array('callback' => 0);
+
+  // Check if a valid operation has been submitted.
+  if (isset($form_state['values']['operation']) && isset($operations[$form_state['values']['operation']])) {
+    $operation = $operations[$form_state['values']['operation']];
+  }
+
+  // Load all keys where the value is the current op.
+  $keys = array_keys($form_state['values'], $form_state['values']['op']);
+
+  // The first one is op itself, we need to use the second.
+  if (isset($keys[1]) && isset($operations[$keys[1]])) {
+    $operation = $operations[$keys[1]];
+  }
+
+  // Only execute something if we have a valid callback and at least one checked thread.
+  if (!empty($operation['callback'])) {
+    privatemsg_operation_execute($operation, $form_state['values']['threads'], $form_state['values']['account']);
+  }
+}
+
+/**
+ * Execute an operation on a number of threads.
+ *
+ * @param $operation
+ *   The operation that should be executed.
+ *   @see hook_privatemsg_thread_operations()
+ * @param $threads
+ *   An array of thread ids. The array is filtered before used, a checkboxes
+ *   array can be directly passed to it.
+ */
+function privatemsg_operation_execute($operation, $threads, $account = null) {
+  // Filter out unchecked threads, this gives us an array of "checked" threads.
+  $threads = array_filter($threads);
+
+  if (empty($threads)) {
+    // Do not execute anything if there are no checked threads.
+    return;
+  }
+  // Add in callback arguments if present.
+  if (isset($operation['callback arguments'])) {
+    $args = array_merge(array($threads), $operation['callback arguments']);
+  }
+  else {
+    $args = array($threads);
+  }
+
+  // Add the user object to the arguments.
+  if ($account) {
+    $args[] = $account;
+  }
+
+  // Execute the chosen action and pass the defined arguments.
+  call_user_func_array($operation['callback'], $args);
+
+  // Check if that operation has defined an undo callback.
+  if (isset($operation['undo callback']) && $undo_function = $operation['undo callback']) {
+    // Add in callback arguments if present.
+    if (isset($operation['undo callback arguments'])) {
+      $undo_args = array_merge(array($threads), $operation['undo callback arguments']);
+    }
+    else {
+      $undo_args = array($threads);
+    }
+
+    // Avoid saving the complete user object in the session.
+    if ($account) {
+      $undo_args['account'] = $account->uid;
+    }
+    // Store the undo callback in the session and display a "Undo" link.
+    // @todo: Provide a more flexible solution for such an undo action, operation defined string for example.
+    $_SESSION['privatemsg']['undo callback'] = array('function' => $undo_function, 'args' => $undo_args);
+    $undo = url('messages/undo/action', array('query' => drupal_get_destination()));
+
+    drupal_set_message(t('The previous action can be <a href="!undo">undone</a>.', array('!undo' => $undo)));
+  }
+}
+
+/**
+ * Delete or restore one or multiple threads.
+ *
+ * @param $threads
+ *   Array with thread id's or a single thread id.
+ * @param $delete
+ *   Indicates if the threads should be deleted or restored.
+ *   1 => delete, 0 => restore.
+ * @param $account
+ *   User object for which the threads should be deleted,
+ *   defaults to the current user.
+ */
+function privatemsg_thread_change_delete($threads, $delete, $account = NULL) {
+  if (!is_array($threads)) {
+    $threads = array($threads);
+  }
+  if (empty($account)) {
+    global $user;
+    $account = drupal_clone($user);
+  }
+
+  // Merge status and uid with the threads list. array_merge() will not overwrite/ignore thread_id 1.
+  $params = array_merge(array($delete, $account->uid), $threads);
+
+  // Load all messages of those threads including the deleted.
+  $query = _privatemsg_assemble_query('messages', $threads, $account, TRUE);
+  $result = db_query($query['query']);
+
+  // Delete each message. We need to do that to trigger the delete hook.
+  while ($row = db_fetch_array($result)) {
+    privatemsg_message_change_delete($row['mid'], $delete, $account);
+  }
+
+  if ($delete) {
+    drupal_set_message(format_plural(count($threads), 'Deleted 1 thread.', 'Deleted @count threads.'));
+  }
+  else {
+    drupal_set_message(format_plural(count($threads), 'Restored 1 thread.', 'Restored @count threads.'));
+  }
+}
+
+/**
+ * Implements hook_privatemsg_thread_operations().
+ */
+function privatemsg_privatemsg_thread_operations() {
+  $operations = array(
+    'mark as read' => array(
+      'label' => t('Mark as read'),
+      'callback' => 'privatemsg_thread_change_status',
+      'callback arguments' => array('status' => PRIVATEMSG_READ),
+      'undo callback' => 'privatemsg_thread_change_status',
+      'undo callback arguments' => array('status' => PRIVATEMSG_UNREAD),
+    ),
+    'mark as unread' => array(
+      'label' => t('Mark as unread'),
+      'callback' => 'privatemsg_thread_change_status',
+      'callback arguments' => array('status' => PRIVATEMSG_UNREAD),
+      'undo callback' => 'privatemsg_thread_change_status',
+      'undo callback arguments' => array('status' => PRIVATEMSG_READ),
+    ),
+  );
+  if (privatemsg_user_access('delete privatemsg')) {
+    $operations['delete'] = array(
+      'callback' => 'privatemsg_thread_change_delete',
+      'callback arguments' => array('delete' => 1),
+      'undo callback' => 'privatemsg_thread_change_delete',
+      'undo callback arguments' => array('delete' => 0),
+    );
+  }
+  return $operations;
+}
+
+/**
+ * Implementation of hook_views_api().
+ */
+function privatemsg_views_api() {
+  return array(
+    'api' => 2,
+    'path' => drupal_get_path('module', 'privatemsg') . '/views',
+  );
+}
diff --git a/sites/all/modules/stringoverrides/LICENSE.txt b/sites/all/modules/stringoverrides/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/stringoverrides/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/stringoverrides/Readme.txt b/sites/all/modules/stringoverrides/Readme.txt
new file mode 100644
index 0000000..d85a2a3
--- /dev/null
+++ b/sites/all/modules/stringoverrides/Readme.txt
@@ -0,0 +1,17 @@
+{\rtf1\ansi\ansicpg1252\cocoartf1038\cocoasubrtf360
+{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
+{\colortbl;\red255\green255\blue255;}
+\margl1440\margr1440\vieww9000\viewh8400\viewkind0
+\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\ql\qnatural\pardirnatural
+
+\f0\fs24 \cf0 Using string overrides to alter text in drupal core.\
+\
+These are for drupal logins\
+\
+Username or e-mail\
+Returning user?\
+Request new password\
+\
+Forgot password?\
+Already a Member\
+Username}
\ No newline at end of file
diff --git a/sites/all/modules/stringoverrides/stringoverrides.admin.inc b/sites/all/modules/stringoverrides/stringoverrides.admin.inc
new file mode 100644
index 0000000..23b4e71
--- /dev/null
+++ b/sites/all/modules/stringoverrides/stringoverrides.admin.inc
@@ -0,0 +1,359 @@
+<?php
+// $Id: stringoverrides.admin.inc,v 1.1.2.14 2010/08/22 20:36:43 robloach Exp $
+
+/**
+ * @file
+ * Admin page callbacks for the String Overrides module.
+ */
+
+/**
+ * Menu callback for the String Overrides module to display its administration
+ */
+function stringoverrides_admin($form_state = NULL, $lang = NULL) {
+  // See which language we're modifying
+  if (empty($lang)) {
+    global $language;
+    $lang = $language->language;
+  }
+
+  // Setup the form
+  $form = array('#cache' => TRUE);
+  $form['lang'] = array(
+    '#type' => 'hidden',
+    '#value' => $lang,
+  );
+  $form['string'] = array(
+    '#theme' => 'stringoverrides_strings',
+  );
+
+  // Retrieve the words to display
+  $strings = array();
+  $custom_strings = array(
+    FALSE => variable_get('locale_custom_disabled_strings_'. $lang, array()),
+    TRUE => variable_get('locale_custom_strings_'. $lang, array())
+  );
+  foreach ($custom_strings as $enabled => $replacements) {
+    foreach ($replacements as $original => $replacement) {
+      $strings[] = array('enabled' => $enabled, 'original' => $original, 'replacement' => $replacement);
+    }
+  }
+
+  // Sort the strings and display them in the form
+  usort($strings, 'stringoverrides_admin_word_sort');
+  $delta = 0;
+  foreach($strings as $string){
+    $form['string'][$delta] = stringoverrides_textbox_combo($delta, $string['enabled'], $string['original'], $string['replacement']);
+    $delta++;
+  }
+  for ($index = 0; $index < 3; $index++) { // Add placeholder rows
+    $form['string'][$delta] = stringoverrides_textbox_combo($delta, -1);
+    $delta++;
+  }
+
+  // Add the buttons to the form
+  $form['more_strings'] = array(
+    '#type' => 'button',
+    '#value' => t('Add row'),
+    '#description' => t("If the amount of boxes above isn't enough, click here to add more choices."),
+    '#weight' => 2,
+    '#ahah' => array(
+      'path' => 'admin/settings/stringoverrides/js',
+      'wrapper' => 'stringoverrides-wrapper',
+      'method' => 'replace',
+      'effect' => 'none',
+    ),
+  );
+  $form['save'] = array(
+    '#type' => 'submit',
+    '#value' => t('Save configuration'),
+    '#weight' => 3,
+  );
+  $form['remove'] = array(
+    '#type' => 'submit',
+    '#value' => t('Remove disabled strings'),
+    '#weight' => 4,
+    '#access' => !empty($strings),
+  );
+  return $form;
+}
+
+/**
+ * Triggered when the user submits the administration page
+ */
+function stringoverrides_admin_submit($form, &$form_state) {
+  // Format the words correctly so that they're put into the database correctly
+  $words = array(FALSE => array(), TRUE => array());
+  foreach ($form_state['values']['string'] as $index => $string) {
+    if (!empty($string['original'])) {
+      // Get rid of carriage returns.
+      list($orig, $replace) = str_replace("\r", '', array($string['original'], $string['replacement']));
+      $words[$string['enabled']][$orig] = $replace;
+    }
+  }
+
+  // Save into the correct language definition
+  $lang = $form['lang']['#value'];
+  if (empty($lang)) {
+    global $language;
+    $lang = $language->language;
+  }
+  variable_set('locale_custom_strings_'. $lang, $words[1]);
+
+  // Save the values and display a message to the user depend
+  switch ($form_state['values']['op']) {
+  case t('Save configuration'):
+    variable_set('locale_custom_disabled_strings_'. $lang, $words[0]);
+    drupal_set_message(t('Your changes have been saved.'));
+  break;
+  case t('Remove disabled strings'):
+    variable_del('locale_custom_disabled_strings_'. $lang);
+    drupal_set_message(t('The disabled strings have been removed.'));
+  break;
+  }
+}
+
+/**
+ * Function to return a textbox combo form
+ */
+function stringoverrides_textbox_combo($delta = 0, $enabled = TRUE, $original = '', $replacement = '') {
+  $form = array(
+    '#tree' => TRUE,
+  );
+  $form['enabled'] = array(
+    '#type' => 'checkbox',
+    '#default_value' => ($enabled == -1) ? TRUE : $enabled,
+    '#parents' => array('string', $delta, 'enabled'),
+    '#access' => $enabled != -1, // Have access if it's not a placeholder value
+  );
+  $form['original'] = array(
+    '#type' => 'textarea',
+    '#default_value' => $original,
+    '#rows' => 1,
+    '#parents' => array('string', $delta, 'original'),
+  );
+  $form['replacement'] = array(
+    '#type' => 'textarea',
+    '#default_value' => $replacement,
+    '#rows' => 1,
+    '#parents' => array('string', $delta, 'replacement'),
+  );
+  return $form;
+}
+
+/**
+ * Theme the enabled box and the two text box strings
+ */
+function theme_stringoverrides_strings($form) {
+  drupal_add_css(drupal_get_path('module', 'stringoverrides') .'/stringoverrides.css', 'module', NULL, NULL, FALSE);
+
+  $rows = array();
+  foreach (element_children($form) as $key) {
+    // Build the table row.
+    $rows[$key] = array(
+      'data' => array(
+        array('data' => drupal_render($form[$key]['enabled']), 'class' => 'stringoverrides-enabled'),
+        array('data' => drupal_render($form[$key]['original']), 'class' => 'stringoverrides-original'),
+        array('data' => drupal_render($form[$key]['replacement']), 'class' => 'stringoverrides-replacement'),
+      ),
+    );
+    // Add any attributes on the element to the row, such as the ahah class.
+    if (array_key_exists('#attributes', $form[$key])) {
+      $rows[$key] = array_merge($rows[$key], $form[$key]['#attributes']);
+    }
+  }
+  $headers = array(
+    sizeof($rows) > 3 ? t('Enabled') : NULL, // theme('table_select_header_cell'),
+    t('Original'),
+    t('Replacement'),
+  );
+
+  $output  = '';
+  $output .= '<div id="stringoverrides-wrapper">';
+  $output .= theme('table', $headers, $rows);
+  $output .= '</div>';
+  $output .= drupal_render($form);
+  return $output;
+}
+
+/**
+ * Menu callback for the String Overrides module to display a new string override
+ */
+function stringoverrides_js() {
+  $delta = count($_POST['string']);
+
+  // Build our new form element.
+  $form_element = stringoverrides_textbox_combo($delta);
+  drupal_alter('form', $form_element, array(), 'stringoverrides_js');
+
+  // Build the new form.
+  $form_state = array('submitted' => FALSE);
+  $form_build_id = $_POST['form_build_id'];
+  // Add the new element to the stored form. Without adding the element to the
+  // form, Drupal is not aware of this new elements existence and will not
+  // process it. We retreive the cached form, add the element, and resave.
+  $form = form_get_cache($form_build_id, $form_state);
+  $form['string'][$delta] = $form_element;
+  form_set_cache($form_build_id, $form, $form_state);
+  $form += array(
+    '#post' => $_POST,
+    '#programmed' => FALSE,
+  );
+
+  // Rebuild the form.
+  $form = form_builder('stringoverrides_admin', $form, $form_state);
+
+  // Render the new output.
+  $string_form = $form['string'];
+  $string_form[$delta]['enabled']['#value'] = TRUE;
+  $string_form[$delta]['#attributes']['class'] = empty($string_form[$delta]['#attributes']['class']) ? 'ahah-new-content' : $string_form[$delta]['#attributes']['class'] .' ahah-new-content';
+  $output = theme('status_messages') . drupal_render($string_form);
+
+  drupal_json(array('status' => TRUE, 'data' => $output));
+}
+
+/**
+ * Menu callback for the String Overrides module to display the import administration
+ */
+function stringoverrides_admin_import() {
+  $form = array();
+  $form['#attributes'] = array('enctype' => "multipart/form-data");
+  $languages = module_exists('locale') ? locale_language_list() : array('en' => t('English'));
+  $form['file'] = array(
+    '#type' => 'file',
+    '#title' => t('File'),
+    '#description' => t('Attach your *.po file here to import the string overrides.'),
+  );
+  $form['lang'] = array(
+    '#type' => 'select',
+    '#title' => t('Language'),
+    '#description' => t('Which language to import the overrides to.'),
+    '#options' => $languages,
+  );
+  $form['import'] = array(
+    '#type' => 'submit',
+    '#value' => t('Import'),
+    '#weight' => 3,
+  );
+  return $form;
+}
+
+/**
+ * Triggered when the user imports data
+ */
+function stringoverrides_admin_import_submit($form, &$form_state) {
+  // Check if the file uploaded correctly
+  if ($file = file_save_upload('file')) {
+    $overrides = array();
+
+    // Start reading the file
+    $handle = @fopen($file->filepath, "r");
+    if ($handle) {
+      $currentoverride = NULL;
+      $currentstring = NULL;
+      $operation = 'msgstr';
+
+      // Loop through the whole file
+      while (!feof($handle)) {
+        // Retrieve a single line
+        $buffer = trim(fgets($handle));
+        // Skip empty or comment lines
+        if (empty($buffer) || $buffer[0] == '#') {
+          continue;
+        }
+        // Continued string
+        if ($buffer[0] == '"') {
+          // See what we're reading in
+          $string = trim(substr($buffer, 1, -1));
+          if ($operation == 'msgstr' && !empty($string)) {
+            $currentstring .= $string;
+          }
+          else {
+            $currentoverride .= $string;
+          }
+        }
+        else if (substr($buffer, 0, 6) == 'msgstr') {
+          // Retrieve the override string
+          $operation = 'msgstr';
+          $currentstring = substr($buffer, 8, -1);
+        }
+        else if (substr($buffer, 0, 5) == 'msgid') { // New string
+          // Save old string
+          if (!empty($currentoverride)) {
+            $overrides[$currentoverride] = $currentstring;
+            $currentoverride = $currentstring = '';
+          }
+          // Read what's next
+          $operation = 'msgid';
+          $currentoverride = substr($buffer, 7, -1);
+        }
+      }
+
+      // Save old string
+      if (!empty($currentstring) && !empty($currentoverride)) {
+        $overrides[$currentoverride] = $currentstring;
+      }
+
+      // Clean up and save the imported data
+      fclose($handle);
+      file_delete($file->filepath);
+      variable_set('locale_custom_strings_'. $form_state['values']['lang'], $overrides);
+      drupal_set_message(t('The overrides have been imported.'));
+    }
+  }
+  else {
+    form_set_error('file', t('A file to import is required.'));
+  }
+}
+
+/**
+ * Ability to export a *.po file.
+ */
+function stringoverrides_admin_export() {
+  $form = array();
+  $languages = module_exists('locale') ? locale_language_list() : array('en' => t('English'));
+  $form['lang'] = array(
+    '#type' => 'select',
+    '#title' => t('Language'),
+    '#description' => t('The language you would like to export.'),
+    '#options' => $languages,
+    '#required' => TRUE
+  );
+  $form['export'] = array(
+    '#type' => 'submit',
+    '#value' => t('Export'),
+    '#weight' => 3,
+  );
+  $form['#submit'][] = 'stringoverrides_admin_export_submit';
+  return $form;
+}
+
+/**
+ * Submit-handler for stringoverrides_admin_export.
+ */
+function stringoverrides_admin_export_submit($form, &$form_state) {
+  drupal_set_header('Content-Type: text/plain');
+  drupal_set_header('Content-Disposition: attachment; filename: "stringoverrides.po"');
+  $export = stringoverrides_admin_export_text($form_state['values']['lang']);
+  drupal_set_header('Content-Length: '. strlen($export));
+  echo $export;
+  exit;
+}
+
+/**
+ * Returns the exported *.po text from the given language.
+ */
+function stringoverrides_admin_export_text($lang = 'en') {
+  $export = "# String Overrides Export\n";
+  $overrides = variable_get('locale_custom_strings_'. $lang, array());
+  foreach ($overrides as $override => $string) {
+    $export .= 'msgid "'. $override ."\"\nmsgstr \"$string\"\n";
+  }
+  return $export;
+}
+
+/**
+ * Sorts two words based on their original text.
+ */
+function stringoverrides_admin_word_sort($word1, $word2) {
+  return strcasecmp($word1['original'], $word2['original']);
+}
diff --git a/sites/all/modules/stringoverrides/stringoverrides.css b/sites/all/modules/stringoverrides/stringoverrides.css
new file mode 100644
index 0000000..7f9847d
--- /dev/null
+++ b/sites/all/modules/stringoverrides/stringoverrides.css
@@ -0,0 +1,22 @@
+/* $Id: stringoverrides.css,v 1.1.4.4 2010/01/28 20:46:53 robloach Exp $ */
+
+#stringoverrides-admin textarea {
+  width: 100%;
+  height: 1.7em;
+}
+
+#stringoverrides-admin .stringoverrides-original {
+  width: 50%;
+}
+
+#stringoverrides-admin .stringoverrides-replacement {
+  width: 50%;
+}
+
+#stringoverrides-admin .stringoverrides-enabled {
+  text-align: center;
+}
+
+#stringoverrides-wrapper td {
+	vertical-align: top;
+}
diff --git a/sites/all/modules/stringoverrides/stringoverrides.info b/sites/all/modules/stringoverrides/stringoverrides.info
new file mode 100644
index 0000000..0012391
--- /dev/null
+++ b/sites/all/modules/stringoverrides/stringoverrides.info
@@ -0,0 +1,11 @@
+; $Id: stringoverrides.info,v 1.2 2007/11/21 09:41:32 robloach Exp $
+name = String Overrides
+description = Provides a quick and easy way of replacing text.
+core = 6.x
+
+; Information added by drupal.org packaging script on 2010-08-22
+version = "6.x-1.8"
+core = "6.x"
+project = "stringoverrides"
+datestamp = "1282510007"
+
diff --git a/sites/all/modules/stringoverrides/stringoverrides.install b/sites/all/modules/stringoverrides/stringoverrides.install
new file mode 100644
index 0000000..98bda3f
--- /dev/null
+++ b/sites/all/modules/stringoverrides/stringoverrides.install
@@ -0,0 +1,11 @@
+<?php
+// $Id: stringoverrides.install,v 1.3.2.4 2008/09/10 21:03:33 robloach Exp $
+
+/**
+ * Implementation of hook_uninstall()
+ */
+function stringoverrides_uninstall() {
+  // Remove all stored string replacements
+  db_query('DELETE FROM {variable} WHERE name LIKE "locale_custom_strings_%"');
+  db_query('DELETE FROM {variable} WHERE name LIKE "locale_custom_disabled_strings_%"');
+}
diff --git a/sites/all/modules/stringoverrides/stringoverrides.module b/sites/all/modules/stringoverrides/stringoverrides.module
new file mode 100644
index 0000000..2a7c547
--- /dev/null
+++ b/sites/all/modules/stringoverrides/stringoverrides.module
@@ -0,0 +1,128 @@
+<?php
+// $Id: stringoverrides.module,v 1.5.2.8 2009/02/18 19:59:57 robloach Exp $
+
+/**
+ * @file
+ * Configuration interface to provide a quick and easy way of replacing text.
+ */
+
+/**
+ * Implementation of hook_help()
+ */
+function stringoverrides_help($path, $arg) {
+  $output = '';
+  if ($path == 'admin/help#stringoverrides') {
+    $output = '<p>'. t('The <strong>String Overrides</strong> module provides a quick and easy way of replacing text.') .'</p>';
+    $output .= '<p>'. t('To replace a string, enter <strong>the complete string</strong> that is passed through the <a href="@t">t()</a> function. String Overrides cannot translate user-defined content, it can only replace strings wrapped in the t() function. To find the strings you can actually change, open up a module and look for t() function calls. Places where %, @, or ! are used means that the translation contains dynamic information (such as the node type or title in the above examples); these are not translated while the text around them is.', array('@t' => 'http://api.drupal.org/api/function/t')) .'</p>';
+    $output .= '<p>'. t('For example:') .'</p>';
+    $output .= theme('item_list', array(
+      '"The %post has been updated." &rarr; "You just updated the %post."',
+      '"Are you sure you want to delete %title?" &rarr; "Do you want to delete %title?"',
+    ));
+    $output .= '<p>'. t('Remember, you must replace the entire string, not just a portion of it.') .'</p>';
+  }
+  else if ($arg[0] == 'admin' && $arg[1] == 'settings' && $arg[2] == 'stringoverrides') {
+    switch ($arg[3]) {
+    case 'import':
+      $output = '<p>'.  t('Upload a *.po file here to import a collection of strings.') .'</p>';
+    break;
+    case 'export':
+      $output = '<p>'.  t('The following is a generated *.po file. You can use this feature to backup the current String Overrides.') .'</p>';
+    break;
+    case NULL:
+      $output = '<p>'.  t('The following provides a quick and easy way of replacing text.') .'</p>';
+      break;
+    default:
+      if (module_exists('locale')) {
+        $lang = locale_language_name($arg[3]);
+        $output = '<p>'.  t('The following provides a quick and easy way of replacing text in @lang.', array('@lang' => $lang)) .'</p>';
+      }
+    break;
+    }
+  }
+  return $output;
+}
+
+/**
+ * Implementation of hook_perm()
+ */
+function stringoverrides_perm() {
+  return array('administer string overrides');
+}
+
+/**
+ * Implementation of hook_menu()
+ */
+function stringoverrides_menu() {
+  $items = array();
+  $items['admin/settings/stringoverrides'] = array(
+    'title' => 'String overrides',
+    'description' => 'Provides a quick and easy way of replacing text on the site.',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('stringoverrides_admin', 3),
+    'access arguments' => array('administer string overrides'),
+    'type' => MENU_NORMAL_ITEM,
+    'file' => 'stringoverrides.admin.inc',
+  );
+  $items['admin/settings/stringoverrides/import'] = array(
+    'title' => 'Import',
+    'description' => 'Import a set of overrides from a *.po file.',
+    'page arguments' => array('stringoverrides_admin_import'),
+    'access arguments' => array('administer string overrides'),
+    'type' => MENU_LOCAL_TASK,
+    'weight' => 9,
+  );
+  $items['admin/settings/stringoverrides/export'] = array(
+    'title' => 'Export',
+    'description' => 'Import a set of overrides from a *.po file.',
+    'page arguments' => array('stringoverrides_admin_export'),
+    'access arguments' => array('administer string overrides'),
+    'type' => MENU_LOCAL_TASK,
+    'weight' => 10,
+  );
+  
+  // Add the language tabs if there are other languages
+  if (module_exists('locale')) {
+    global $language;
+    $languages = locale_language_list();
+    foreach ($languages as $code => $name) {
+      $items["admin/settings/stringoverrides/$code"] = array(
+        'title' => '@lang',
+        'title arguments' => array('@lang' => $name),
+        'page arguments' => array('stringoverrides_admin', $code),
+        'access arguments' => array('administer string overrides'),
+        'type' => $language->language == $code ? MENU_DEFAULT_LOCAL_TASK : MENU_LOCAL_TASK,
+      );
+    }
+  }
+  else {
+    $items['admin/settings/stringoverrides/en'] = array(
+      'title' => 'Overrides',
+      'page callback' => 'drupal_get_form',
+      'page arguments' => array('stringoverrides_admin', 'en'),
+      'access arguments' => array('administer string overrides'),
+      'type' => MENU_DEFAULT_LOCAL_TASK,
+      'file' => 'stringoverrides.admin.inc',
+    );
+  }
+  
+  $items['admin/settings/stringoverrides/js'] = array(
+    'title' => 'String Overrides Javascript',
+    'page callback' => 'stringoverrides_js',
+    'type' => MENU_CALLBACK,
+    'file' => 'stringoverrides.admin.inc',
+    'access arguments' => array('administer string overrides'),
+  );
+  return $items;
+}
+
+/**
+ * Implementation of hook_theme()
+ */
+function stringoverrides_theme() {
+  return array(
+    'stringoverrides_strings' => array(
+      'arguments' => array('form' => NULL),
+    ),
+  );
+}
diff --git a/sites/all/modules/vibio_form_beautifier/LICENSE.txt b/sites/all/modules/vibio_form_beautifier/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/vibio_form_beautifier/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/vibio_form_beautifier/css/custom.css b/sites/all/modules/vibio_form_beautifier/css/custom.css
new file mode 100644
index 0000000..3ef6ca6
--- /dev/null
+++ b/sites/all/modules/vibio_form_beautifier/css/custom.css
@@ -0,0 +1,204 @@
+/**
+	sexy-combo 2.1.3 : http://code.google.com/p/sexy-combo/
+	
+	This is an example custom skin.
+*/
+div.custom {
+	border-top-width: 0px;
+	padding-right: 0px;
+	padding-left: 0px;
+	border-left-width: 0px;
+	border-bottom-width: 0px;
+	padding-bottom: 0px;
+	margin: 0px;
+	width: 146px;
+	padding-top: 0px;
+	white-space: nowrap;
+	height: 24px;
+	border-right-width: 0px
+}
+
+div.custom input {
+	border-right: #3a3c6c 1px solid;
+	padding-right: 3px;
+	border-top: #3a3c6c 1px solid;
+	padding-left: 3px;
+	background: url(../images/sexy-input-bg.jpg) #fff repeat-x 0px 0px;
+	left: 0px;
+	padding-bottom: 0px;
+	margin: 0px;
+	font: 11px/ 19px tahoma, arial, helvetica, sans-serif;
+	vertical-align: middle;
+	border-left: #3a3c6c 1px solid;
+	width: 187px;
+	padding-top: 3px;
+	border-bottom: #3a3c6c 1px solid;
+	top: 0px;
+	height: 19px;
+}
+
+div.custom div.icon {
+	border-top-width: 0px;
+	border-left-width: 0px;
+	background: url(../images/arrow.jpg) no-repeat 0px 0px;
+	left: 187px;
+	border-bottom-width: 0px;
+	width: 24px;
+	cursor: pointer;
+	top: 0px;
+	height: 24px;
+	border-right-width: 0px
+}
+
+div.custom div.list-wrapper {
+	border-right: #3a3c6c 1px solid;
+	padding-right: 0px;
+	border-top: #3a3c6c 0px solid;
+	padding-left: 0px;
+	left: 0px;
+	padding-bottom: 0px;
+	margin: 0px;
+	border-left: #3a3c6c 1px solid;
+	width: 204px;
+	bottom: auto;
+	padding-top: 0px;
+	border-bottom: #3a3c6c 1px solid;
+	top: 24px;
+	background-color: #ffffff
+}
+
+div.custom div.list-wrapper-up {
+	border-right: #3a3c6c 1px solid;
+	border-top: #3a3c6c 1px solid;
+	border-left: #3a3c6c 1px solid;
+	bottom: 24px;
+	border-bottom: #3a3c6c 0px solid;
+	top: auto
+}
+
+div.custom ul {
+	padding-right: 0px;
+	padding-left: 0px;
+	padding-bottom: 0px;
+	margin: 0px;
+	padding-top: 0px;
+	list-style-type: none;
+	height: 200px;
+	text-align: left;
+}
+
+div.custom li {
+	padding-right: 0px;
+	padding-left: 5px;
+	padding-bottom: 0px;
+	margin: 0px;
+	font: 11px tahoma, arial, helvetica, sans-serif;
+	cursor: pointer;
+	padding-top: 4px;
+	background-color: #ffffff
+}
+
+div.custom li.active {
+	background-color: rgb(160, 169, 194)
+}
+
+div.custom input.empty {
+	color: gray;
+}
+
+/**
+	sexy-combo 2.1.3 : http://code.google.com/p/sexy-combo/
+	
+	This is a verbose backup of the base structure. Use sexy-combo.css unless you know what you are doing.
+*/
+
+
+div.combo {
+    position:relative;
+    white-space: nowrap;
+    height: 21px;
+    border: 0;
+    margin: 0;
+    padding: 0;
+    width: 146px;
+}
+
+.combo input {
+    margin: 0 0 0 0;
+    font:normal 12px tahoma, arial, helvetica, sans-serif;
+    padding:1px 3px;
+    background:#fff url(../images/text-bg.gif) repeat-x 0 0;
+    border:1px solid #B5B8C8;
+    height: 18px;
+    line-height:18px;
+    vertical-align:middle; 
+    position: absolute;
+    left: 0px;
+    top: 0px; 
+    width: 129px;  
+
+}
+
+.combo div.icon {
+    width:17px;
+    height:21px;
+    border: 0;
+
+    background:transparent url(../images/trigger.gif) no-repeat 0 0;
+    cursor:pointer;
+    border-bottom: 1px solid #B5B8C8;
+    position:absolute;
+    top:0px;
+    left: 129px; 
+
+}
+
+
+
+div.list-wrapper {
+    position: absolute;
+    left: 0px;
+    top: 21px;
+    border: 1px solid #D9D9D9;
+    background-color: #FFFFFF;
+    padding: 0;
+    overflow: hidden;
+    margin: 0;
+    height: 200px; 
+    max-height: 200px;
+    z-index: 99999;
+    width: 146px;
+}
+
+.combo ul {
+    list-style-type: none;
+    padding: 0;
+    margin: 0;
+    height: 200px;
+}
+
+.combo  li {
+    padding: 0;
+    padding-left: 5px;
+    font:normal 14px tahoma, arial, helvetica, sans-serif;
+    background-color: #FFFFFF;
+    height: 20px;
+    cursor: pointer;
+    margin: 0;
+}
+
+.combo li.active {
+    background-color: rgb(223, 232, 246);
+}
+
+
+.combo .visible {
+    display: block;
+}
+
+.combo .invisible {
+    display: none;
+}
+.combo input.empty {
+    color: gray;
+}
\ No newline at end of file
diff --git a/sites/all/modules/vibio_form_beautifier/css/fieldfocus.css b/sites/all/modules/vibio_form_beautifier/css/fieldfocus.css
new file mode 100644
index 0000000..f08ccdf
--- /dev/null
+++ b/sites/all/modules/vibio_form_beautifier/css/fieldfocus.css
@@ -0,0 +1,7 @@
+div.curFocus {
+  background: #fdecb2;
+	-moz-border-radius: 5px;
+	-webkit-border-radius: 5px;
+  -khtml-border-radius: 5px;
+	border-radius: 5px;
+}
\ No newline at end of file
diff --git a/sites/all/modules/vibio_form_beautifier/css/prettyCheckboxes.css b/sites/all/modules/vibio_form_beautifier/css/prettyCheckboxes.css
new file mode 100644
index 0000000..e210d02
--- /dev/null
+++ b/sites/all/modules/vibio_form_beautifier/css/prettyCheckboxes.css
@@ -0,0 +1,44 @@
+/* ------------------------------------------------------------------------
+	This you can customize
+------------------------------------------------------------------------- */
+
+	label.checkbox span.holder {
+		height: 61px; /* Total height of your checkbox image */
+		background: url(../images/checkbox.gif) 0 -1px no-repeat; /* Path to your checkbox image */
+	}
+	
+	label.radio span.holder {
+		height: 61px; /* Total height of your radio buttons image */
+		background: url(../images/radio.gif) 0 -1px no-repeat; /* Path to your radio button image */
+	}
+	
+	label.checkbox:hover span.holder,
+	label.radio:hover span.holder { top: -21px !important; } /* Background position on mouseover */
+	
+	label.checked span.holder,
+	label.checked span.holder,
+	label.checked:hover span.holder,
+	label.checked:hover span.holder { top: -42px !important; } /* Background position when checked */
+
+
+/* ------------------------------------------------------------------------
+	Customize at your own risk
+------------------------------------------------------------------------- */
+	
+		form input.hiddenCheckbox {
+			position: absolute; left: -10000px; /* Hide the input */
+		}
+	
+		form label.prettyCheckbox span.holderWrap {
+			display: block; float: left; 
+			position: relative;
+			margin-right: 5px;
+			text-align: center;
+			overflow: hidden;
+		}
+		
+		form label.prettyCheckbox span.holder {
+			display: block;
+			position: absolute;
+			top: 0; left: 0;
+		}
\ No newline at end of file
diff --git a/sites/all/modules/vibio_form_beautifier/css/sexy.css b/sites/all/modules/vibio_form_beautifier/css/sexy.css
new file mode 100644
index 0000000..18a066d
--- /dev/null
+++ b/sites/all/modules/vibio_form_beautifier/css/sexy.css
@@ -0,0 +1,164 @@
+/**
+	sexy-combo 2.1.3 : http://code.google.com/p/sexy-combo/
+	
+	This is the default skin.
+*/
+
+div.sexy {
+    white-space: nowrap;
+    height: 21px;
+    border: 0;
+    margin: 0;
+    padding: 0;
+    width: 146px;
+}
+
+div.sexy input {
+    margin: 0 0 0 0;
+    font:normal 12px tahoma, arial, helvetica, sans-serif;
+    padding:1px 3px;
+    background:#fff url(../images/text-bg.gif) repeat-x 0 0;
+    border:1px solid #B5B8C8;
+    height: 18px;
+    line-height:18px;
+    vertical-align:middle; 
+    left: 0px;
+    top: 0px; 
+    width: 129px;  
+
+}
+
+div.sexy div.icon {
+    width:17px;
+    height:21px;
+    border: 0;
+    background:transparent url(../images/trigger.gif) no-repeat 0 0;
+    cursor:pointer;
+    border-bottom: 1px solid #B5B8C8;
+    top:0px;
+    left: 129px; 
+
+}
+
+
+div.sexy div.list-wrapper {
+    left: 0px;
+    top: 21px;
+    border: 1px solid #D9D9D9;
+    background-color: #FFFFFF;
+    padding: 0;
+    margin: 0;
+    width: 146px;
+    bottom: auto;
+}
+
+div.sexy div.list-wrapper-up {
+    top: auto;
+    bottom: 21px;
+}
+
+div.sexy ul {
+    list-style-type: none;
+    padding: 0;
+    margin: 0;
+    height: 200px;
+}
+
+
+div.sexy  li {
+    padding: 0;
+    padding-left: 5px;
+    font:normal 14px tahoma, arial, helvetica, sans-serif;
+    background-color: #FFFFFF;
+    cursor: pointer;
+    margin: 0;
+}
+
+div.sexy li.active {
+    background-color: rgb(223, 232, 246);
+}
+
+/*for IE*/
+div.sexy a, div.sexy a:visited, div.sexy a:active {
+    display: block;
+	width: 100%;
+	width: 146px;
+	text-decoration: none;
+    font:normal 14px  tahoma, arial, helvetica, sans-serif;
+	color: #000000;
+    cursor: pointer;
+    margin: 0;	
+	height: 20px;
+}
+
+div.sexy input.empty {
+    color: gray;
+}
+
+a.to-highlight:hover {
+    background-color: rgb(223, 232, 246);
+}
+
+/**
+	sexy-combo 2.1.3 : http://code.google.com/p/sexy-combo/
+	
+	This is the base structure, a skin css file is also needed
+*/
+
+/*wrapper of all elements*/
+div.combo {
+    position:relative;
+    left: 0px;
+    top: 0px;
+}
+
+
+/*text input*/
+.combo input {
+    position: absolute;
+}
+
+
+/*icon*/
+.combo div.icon {
+    position:absolute;
+}
+
+
+/*list wrapper*/
+.combo div.list-wrapper {
+    position: absolute;
+    overflow: hidden;
+    /*we should set height and max-height explicitly*/
+    height: 200px; 
+    max-height: 200px;
+    /*should be always at the top*/
+    z-index: 99999;
+
+}
+
+/*"drop-up" list wrapper*/
+.combo div.list-wrapper-up {}
+
+/*dropdown list*/
+.combo ul {}
+
+/*dropdown list item*/
+.combo  li {
+    height: 20px;
+}
+
+/*active (hovered) list item*/
+.combo li.active {}
+
+
+.combo .visible {
+    display: block;
+}
+
+.combo .invisible {
+    display: none;
+}
+
+/*used when emptyText config opt is set. Applied to text input*/
+.combo input.empty {}
\ No newline at end of file
diff --git a/sites/all/modules/vibio_form_beautifier/css/ui.checkbox.css b/sites/all/modules/vibio_form_beautifier/css/ui.checkbox.css
new file mode 100755
index 0000000..3ef0391
--- /dev/null
+++ b/sites/all/modules/vibio_form_beautifier/css/ui.checkbox.css
@@ -0,0 +1,72 @@
+/*
+ * jQuery UI Checkbox 0.1
+ *
+ * Copyright (c) 2009 Jeremy Lea <reg@openpave.org>
+ * Dual licensed under the MIT and GPL licenses.
+ *
+ * http://docs.jquery.com/Licensing
+ *
+ * Based loosely on plugin by alexander.farkas.
+ * http://www.protofunc.com/scripts/jquery/checkbox-radiobutton/
+ */
+
+.ui-icon-empty { background-position: -160px 0; }
+
+/* Native widget or wrapped widget styles */
+.ui-checkbox, .ui-radio {
+	margin: 2px;
+	border-width: 1px;
+	width: 16px;
+	display: inline;
+	vertical-align: middle;
+	cursor: pointer;
+}
+/* wrapped widget only */
+span.ui-checkbox, span.ui-radio {
+	width: 12px;
+	height: 11px;
+	position: relative;
+	display: inline;
+	display: inline-block;
+	-moz-border-radius: 2px;
+	-webkit-border-radius: 2px;
+}
+span.ui-radio {
+	width:11px;
+	-moz-border-radius: 6px;
+	-webkit-border-radius: 6px;
+}
+/* ie specific */
+v\:roundrect, v\:fill, v\:stroke {
+	display: block;
+	position: absolute;
+	behavior: url(#default#VML);
+	background-color: transparent;
+}
+/* opera specific */
+.ui-checkbox svg, .ui-radio svg {
+	display: block;
+	position: absolute;
+	top: -1px;
+	left: -1px;
+}
+/* Icons */
+.ui-checkbox span.ui-icon, .ui-radio span.ui-icon {
+	position: absolute;
+	visibility: visible;
+	left: 6px;
+	top: 5px;
+	margin: -8px 0px 0px -8px;
+}
+/* Style the inner control so it doesn't affect webkit on focus */
+.ui-checkbox input, .ui-radio input {
+	position: absolute;
+	visibility: visible;
+	left: -99999999px;
+	top: -99999999px;
+	width: 14px;
+	height: 13px;
+	margin: 0px;
+	border: 0px none;
+	padding: 0px;
+}
diff --git a/sites/all/modules/vibio_form_beautifier/images/arrow.jpg b/sites/all/modules/vibio_form_beautifier/images/arrow.jpg
new file mode 100644
index 0000000..25ddaac
Binary files /dev/null and b/sites/all/modules/vibio_form_beautifier/images/arrow.jpg differ
diff --git a/sites/all/modules/vibio_form_beautifier/images/checkbox.gif b/sites/all/modules/vibio_form_beautifier/images/checkbox.gif
new file mode 100644
index 0000000..b075b4f
Binary files /dev/null and b/sites/all/modules/vibio_form_beautifier/images/checkbox.gif differ
diff --git a/sites/all/modules/vibio_form_beautifier/images/radio.gif b/sites/all/modules/vibio_form_beautifier/images/radio.gif
new file mode 100644
index 0000000..0dbcecb
Binary files /dev/null and b/sites/all/modules/vibio_form_beautifier/images/radio.gif differ
diff --git a/sites/all/modules/vibio_form_beautifier/images/sexy-input-bg.jpg b/sites/all/modules/vibio_form_beautifier/images/sexy-input-bg.jpg
new file mode 100644
index 0000000..de72d88
Binary files /dev/null and b/sites/all/modules/vibio_form_beautifier/images/sexy-input-bg.jpg differ
diff --git a/sites/all/modules/vibio_form_beautifier/images/text-bg.gif b/sites/all/modules/vibio_form_beautifier/images/text-bg.gif
new file mode 100644
index 0000000..4179607
Binary files /dev/null and b/sites/all/modules/vibio_form_beautifier/images/text-bg.gif differ
diff --git a/sites/all/modules/vibio_form_beautifier/images/trigger.gif b/sites/all/modules/vibio_form_beautifier/images/trigger.gif
new file mode 100644
index 0000000..b220bbe
Binary files /dev/null and b/sites/all/modules/vibio_form_beautifier/images/trigger.gif differ
diff --git a/sites/all/modules/vibio_form_beautifier/js/jquery.sexy-combo.js b/sites/all/modules/vibio_form_beautifier/js/jquery.sexy-combo.js
new file mode 100644
index 0000000..04f29a4
--- /dev/null
+++ b/sites/all/modules/vibio_form_beautifier/js/jquery.sexy-combo.js
@@ -0,0 +1,1109 @@
+/***************************************************************************
+
+	sexy-combo 2.1.3	: A jQuery date time picker.
+	
+	Authors: 
+		Kadalashvili.Vladimir@gmail.com - Vladimir Kadalashvili
+		thetoolman@gmail.com 
+		
+	Version: 2.1.3
+	
+	Website: http://code.google.com/p/sexy-combo/
+	
+
+ *   This program is free software; you can redistribute it and/or modify  *
+ *   it under the terms of the GNU General Public License as published by  *
+ *   the Free Software Foundation; either version 2 of the License, or     *
+ *   (at your option) any later version.                                   *
+ *                                                                         *
+ *   This program is distributed in the hope that it will be useful,       *
+ *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
+ *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
+ *   GNU General Public License for more details.                          *
+ *                                                                         *
+ *   You should have received a copy of the GNU General Public License     *
+ *   along with this program; if not, write to the                         *
+ *   Free Software Foundation, Inc.,                                       *
+ *   59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.             *
+ *                                                                         *
+ ***************************************************************************/
+
+
+;(function($) {
+    $.fn.sexyCombo = function(config) {
+        return this.each(function() {
+		if ("SELECT" != this.tagName.toUpperCase()) {
+		    return;	
+		}
+	    new $sc(this, config);
+	    });  
+    };
+    
+    //default config options
+    var defaults = {
+        //skin name
+        skin: "sexy",
+	
+	    //this suffix will be appended to the selectbox's name and will be text input's name
+	    suffix: "__sexyCombo",
+	
+	    //the same as the previous, but for hidden input
+	    hiddenSuffix: "__sexyComboHidden",
+	    
+	    //rename original select, and call the hidden field the original name attribute?
+	    renameOriginal: false,
+	    
+	   //initial / default hidden field value.
+	   //Also applied when user types something that is not in the options list
+	    initialHiddenValue: "",
+	
+	    //if provided, will be the value of the text input when it has no value and focus
+	    emptyText: "",
+	
+	    //if true, autofilling will be enabled
+	    autoFill: false,
+	
+	    //if true, selected option of the selectbox will be the initial value of the combo
+	    triggerSelected: true,
+	
+	    //function for options filtering
+	    filterFn: null,
+	
+	    //if true, the options list will be placed above text input
+	    dropUp: false,
+	
+	    //separator for values of multiple combos
+	    separator: ",",
+			
+		//key json name for key/value pair
+		key: "value",
+		
+		//value json for key/value pair
+		value: "text",
+
+	    //all callback functions are called in the scope of the current sexyCombo instance
+	
+	    //called after dropdown list appears
+	    showListCallback: null,
+	
+	    //called after dropdown list disappears
+	    hideListCallback: null,
+	
+	    //called at the end of constructor
+	    initCallback: null,
+	
+	    //called at the end of initEvents function
+	    initEventsCallback: null,
+		    
+	    //called when both text and hidden inputs values are changed
+	    changeCallback: null,
+	
+	    //called when text input's value is changed
+	    textChangeCallback: null,
+	    
+		checkWidth: true
+    };
+    
+    //constructor
+    //creates initial markup and does some initialization
+    $.sexyCombo = function(selectbox, config) {
+		
+        if (selectbox.tagName.toUpperCase() != "SELECT")
+	        return;
+	    
+	    this.config = $.extend({}, defaults, config || {}); 
+	
+	   
+	    
+	    this.selectbox = $(selectbox);
+	    this.options = this.selectbox.children().filter("option");
+	
+	    this.wrapper = this.selectbox.wrap("<div>").
+	    hide().
+	    parent().
+	    addClass("combo").
+	    addClass(this.config.skin); 
+		
+	    this.input = $("<input type='text' />").
+	    appendTo(this.wrapper).
+	    attr("autocomplete", "off").
+	    attr("value", "").
+	    attr("name", this.selectbox.attr("name") + this.config.suffix);
+	    
+	    var origName = this.selectbox.attr("name");
+	    var newName = origName + this.config.hiddenSuffix;
+	    if(this.config.renameOriginal) { 
+	    	this.selectbox.attr("name", newName);
+	    }
+	    	
+	    this.hidden = $("<input type='hidden' />").
+	    appendTo(this.wrapper).
+	    attr("autocomplete", "off").
+	    attr("value", this.config.initialHiddenValue).
+	    attr("name", this.config.renameOriginal ? origName : newName);
+	
+        this.icon = $("<div />").
+	    appendTo(this.wrapper).
+	    addClass("icon"); 
+	
+	    this.listWrapper = $("<div />").
+	    appendTo(this.wrapper).
+	    //addClass("invisible").
+	    addClass("list-wrapper"); 
+
+	    this.updateDrop();
+	
+	    this.list = $("<ul />").appendTo(this.listWrapper); 
+	    var self = this;
+		var optWidths = [];
+	    this.options.each(function() {					   
+	        var optionText = $.trim($(this).text());
+			if (self.config.checkWidth) {
+			    optWidths.push($("<li />").
+	            appendTo(self.list).
+	            html("<span>" + optionText + "</span>").
+	            addClass("visible").find("span").outerWidth());	
+			}
+			else {
+	            $("<li />").
+	            appendTo(self.list).
+	            html("<span>" + optionText + "</span>").
+	            addClass("visible");
+			}
+	    });  
+		
+	
+	    this.listItems = this.list.children();
+		
+		
+		
+		
+		/*this.listItems.find("span").each(function() {
+		    optWidths.push($(this).outerWidth());										  
+		});*/
+		if (optWidths.length) {
+		    optWidths = optWidths.sort(function(a, b) {
+		        return a - b;									
+		    });
+		    var maxOptionWidth = optWidths[optWidths.length - 1];
+			
+			
+		}
+		
+
+        this.singleItemHeight = this.listItems.outerHeight();
+		//bgiframe causes some problems, let's remove it
+		/*if ("function" == typeof this.listWrapper.bgiframe) {
+		    this.listWrapper.bgiframe({height: this.singleItemHeight * this.wrapper.find("li").height()});
+		}*/
+		this.listWrapper.addClass("invisible");
+		
+       
+	    if ($.browser.opera) {
+	        this.wrapper.css({position: "relative", left: "0", top: "0"});
+	    } 
+	
+	
+	
+	    this.filterFn = ("function" == typeof(this.config.filterFn)) ? this.config.filterFn : this.filterFn;
+	
+	    this.lastKey = null;
+	    //this.overflowCSS = "overflow";
+	
+	    this.multiple = this.selectbox.attr("multiple");
+	
+	    var self = this;
+	
+	    this.wrapper.data("sc:lastEvent", "click");
+	
+	    this.overflowCSS = "overflowY";
+	
+	    if ((this.config.checkWidth) && (this.listWrapper.innerWidth() < maxOptionWidth)) {
+		    this.overflowCSS = "overflow";	
+			
+		}
+        
+		
+	    this.notify("init");
+	    this.initEvents();
+    };
+    
+    //shortcuts
+    var $sc = $.sexyCombo;
+    $sc.fn = $sc.prototype = {};
+    $sc.fn.extend = $sc.extend = $.extend;
+    
+    $sc.fn.extend({
+        //TOC of our plugin
+	    //initializes all event listeners
+        initEvents: function() {
+	        var self = this;
+			
+	        this.icon.bind("click", function(e) {
+	            if (!self.wrapper.data("sc:positionY"))	{
+		            self.wrapper.data("sc:positionY", e.pageY);	    	
+		        }
+	        });
+	
+	        this.input.bind("click", function(e) {
+	            if (!self.wrapper.data("sc:positionY"))	{
+		            self.wrapper.data("sc:positionY", e.pageY);	    	
+		        }								 
+	        });
+	
+
+	        this.wrapper.bind("click", function(e) {
+	            if (!self.wrapper.data("sc:positionY"))	{
+		            self.wrapper.data("sc:positionY", e.pageY);	 
+		        }									   
+	        });					
+	    
+	        this.icon.bind("click", function() {
+		        if (self.input.attr("disabled")) {
+			         self.input.attr("disabled", false);   
+		        }
+		        self.wrapper.data("sc:lastEvent", "click");
+		        self.filter();
+	            self.iconClick();
+	        }); 
+	    
+	        this.listItems.bind("mouseover", function(e) {
+	            //self.highlight(e.target);
+				if ("LI" == e.target.nodeName.toUpperCase()) {
+				    self.highlight(e.target);	
+				}
+				else {
+				    self.highlight($(e.target).parent());	
+				}
+	        });
+	    
+	        this.listItems.bind("click", function(e) {
+	            self.listItemClick($(e.target));
+	        });
+		
+			this.input.bind("keyup", function(e) {
+				self.wrapper.data("sc:lastEvent", "key");							                
+				//$sc.log(self.wrapper.data("sc:lastEvent"));
+				self.keyUp(e);
+			});		
+	    
+	      
+			
+
+	    
+	        this.input.bind("keypress", function(e) {
+	            if ($sc.KEY.RETURN == e.keyCode) {
+	                e.preventDefault();
+			    }
+		        if ($sc.KEY.TAB == e.keyCode)
+			        e.preventDefault();
+	        });
+	    
+	        $(document).bind("click", function(e) {
+	            if ((self.icon.get(0) == e.target) || (self.input.get(0) == e.target))
+		            return;
+		    
+		        self.hideList();    
+	        });
+	    
+	        this.triggerSelected();
+	        this.applyEmptyText();
+	    
+	        
+		
+		    this.input.bind("click", function(e) {
+			    self.wrapper.data("sc:lastEvent", "click");	
+			    self.icon.trigger("click");
+		    });
+			
+			
+			//here
+	        this.wrapper.bind("click", function() {
+	            self.wrapper.data("sc:lastEvent", "click");								
+	        });
+	
+	        this.input.bind("keydown", function(e) {
+	            if (9 == e.keyCode) {
+		            e.preventDefault();
+		        }
+	        });
+	
+	        this.wrapper.bind("keyup", function(e) {
+		        var k = e.keyCode;
+		        for (key in $sc.KEY) {
+		            if ($sc.KEY[key] == k) {
+			            return;	
+			        }
+		        }
+	            self.wrapper.data("sc:lastEvent", "key");	
+				//$sc.log("Last evt is key");
+	        });	
+	
+	        this.input.bind("click", function() {
+	            self.wrapper.data("sc:lastEvent", "click");		
+            });
+	
+	        this.icon.bind("click", function(e) {
+	            if (!self.wrapper.data("sc:positionY"))	{
+		            self.wrapper.data("sc:positionY", e.pageY);	    	
+		        }
+	        });
+	
+	        this.input.bind("click", function(e) {
+	            if (!self.wrapper.data("sc:positionY"))	{
+		            self.wrapper.data("sc:positionY", e.pageY);	    	
+		        }								 
+	        });
+	
+
+	        this.wrapper.bind("click", function(e) {
+	            if (!self.wrapper.data("sc:positionY"))	{
+		            self.wrapper.data("sc:positionY", e.pageY);	 
+		        }									   
+	        });				
+			
+			this.notify("initEvents");
+	    },
+	
+	
+	    getTextValue: function() {
+            return this.__getValue("input");
+	    },
+	
+	    getCurrentTextValue: function() {
+            return this.__getCurrentValue("input");
+	    },
+	
+	    getHiddenValue: function() {
+            return this.__getValue("hidden");
+	    },
+	
+	    getCurrentHiddenValue: function() {	    
+	        return this.__getCurrentValue("hidden");
+	    },
+	
+	    __getValue: function(prop) {
+	        prop = this[prop];
+	        if (!this.multiple)
+	            return $.trim(prop.val());
+		
+	        var tmpVals = prop.val().split(this.config.separator);
+	        var vals = [];
+	    
+	        for (var i = 0, len = tmpVals.length; i < len; ++i) {
+	            vals.push($.trim(tmpVals[i]));
+	        }	
+	    
+	        vals = $sc.normalizeArray(vals);
+	    
+	        return vals;
+	    },
+	
+	    __getCurrentValue: function(prop) {
+	        prop = this[prop];
+	        if (!this.multiple)
+	            return $.trim(prop.val());
+		 
+            return $.trim(prop.val().split(this.config.separator).pop());		 
+	    },
+	
+	    //icon click event listener
+	    iconClick: function() {
+	        if (this.listVisible()) { 
+	            this.hideList();
+			    this.input.blur();
+		    }
+	        else {			
+	            this.showList();
+			    this.input.focus();
+	            if (this.input.val().length) {
+		            this.selection(this.input.get(0), 0, this.input.val().length);    	
+		        }			
+		    }          
+	    },
+	
+	    //returns true when dropdown list is visible
+	    listVisible: function() {
+	        return this.listWrapper.hasClass("visible");
+	    },
+	
+	    //shows dropdown list
+	    showList: function() {
+	        if (!this.listItems.filter(".visible").length)
+	            return;
+
+	        this.listWrapper.removeClass("invisible").
+	        addClass("visible");
+	        this.wrapper.css("zIndex", "99999");
+	        this.listWrapper.css("zIndex", "99999");
+	        this.setListHeight();
+		
+		    var listHeight = this.listWrapper.height();
+		    var inputHeight = this.wrapper.height();
+		
+		    var bottomPos = parseInt(this.wrapper.data("sc:positionY")) + inputHeight + listHeight;
+		    var maxShown = $(window).height() + $(document).scrollTop();
+		    if (bottomPos > maxShown) {
+		        this.setDropUp(true); 
+		    }
+		    else {
+		        this.setDropUp(false);	
+		    }
+		
+		    if ("" == $.trim(this.input.val())) {
+	            this.highlightFirst();
+	            this.listWrapper.scrollTop(0);
+			}
+			else {
+			    this.highlightSelected();	
+			}
+	        this.notify("showList");
+	    },
+	
+	    //hides dropdown list
+	    hideList: function() {
+	        if (this.listWrapper.hasClass("invisible"))
+	            return;
+	        this.listWrapper.removeClass("visible").
+	        addClass("invisible");
+	        this.wrapper.css("zIndex", "0");
+	        this.listWrapper.css("zIndex", "99999");	
+	    
+	        this.notify("hideList");
+	    },
+	
+	    //returns sum of all visible items height
+	    getListItemsHeight: function() {
+	       
+			var itemHeight = this.singleItemHeight;
+	        return itemHeight * this.liLen();
+	    },
+	
+	    //changes list wrapper's overflow from hidden to scroll and vice versa (depending on list items height))
+	    setOverflow: function() {
+		    var maxHeight = this.getListMaxHeight();
+		    
+	        if (this.getListItemsHeight() > maxHeight)
+	            this.listWrapper.css(this.overflowCSS, "scroll");
+	        else
+	            this.listWrapper.css(this.overflowCSS, "hidden");	
+	    },
+	
+	    //highlights active item of the dropdown list
+	    highlight: function(activeItem) {
+	        if (($sc.KEY.DOWN == this.lastKey) || ($sc.KEY.UP == this.lastKey))
+	            return;
+		
+	        this.listItems.removeClass("active");   
+	        $(activeItem).addClass("active");
+	    },
+	
+
+	
+	    //sets text and hidden inputs value
+	    setComboValue: function(val, pop, hideList) {
+	        var oldVal = this.input.val();
+	    
+	        var v = "";
+	        if (this.multiple) {
+	            v = this.getTextValue();
+		        if (pop) 
+		            v.pop();
+		        v.push($.trim(val));
+		        v = $sc.normalizeArray(v);
+		        v = v.join(this.config.separator) + this.config.separator;   
+		 
+	        } else {
+	            v = $.trim(val);
+	        }
+	        this.input.val(v);
+	        this.setHiddenValue(val);
+	        this.filter();
+	        if (hideList)
+	            this.hideList();
+	        this.input.removeClass("empty");
+
+	    
+	        if (this.multiple)
+	            this.input.focus();
+		
+	        if (this.input.val() != oldVal)
+	            this.notify("textChange");	
+				
+	    },
+	
+	
+	
+	    //sets hidden inputs value
+	    //takes text input's value as a param
+	    setHiddenValue: function(val) {
+	        var set = false;
+	        val = $.trim(val);
+	        var oldVal = this.hidden.val();
+	    	    
+	        if (!this.multiple) {
+	            for (var i = 0, len = this.options.length; i < len; ++i){
+		            if (val == this.options.eq(i).text()) {
+		                this.hidden.val(this.options.eq(i).val());
+			            set = true;
+			            break;
+		            }
+		        }
+	         }
+	        else {
+	            var comboVals = this.getTextValue();
+		        var hiddenVals = [];
+		        for (var i = 0, len = comboVals.length; i < len; ++i) {
+		            for (var j = 0, len1 = this.options.length; j < len1; ++j) {
+		                if (comboVals[i] == this.options.eq(j).text()) {
+			                hiddenVals.push(this.options.eq(j).val());
+			            }      
+		            }
+		        }
+		
+		        if (hiddenVals.length) {
+		            set = true;
+		        this.hidden.val(hiddenVals.join(this.config.separator));
+		    }
+	     }
+	    
+	    if (!set) {
+	        this.hidden.val(this.config.initialHiddenValue);
+	    }
+	    
+	    if (oldVal != this.hidden.val())
+	        this.notify("change");
+		
+	    this.selectbox.val(this.hidden.val());
+		this.selectbox.trigger("change");
+	},
+	
+	
+	    listItemClick: function(item) {
+	        this.setComboValue(item.text(), true, true);
+	        this.inputFocus();
+	    },
+	
+	    //adds / removes items to / from the dropdown list depending on combo's current value
+	    filter: function() {
+		    if ("yes" == this.wrapper.data("sc:optionsChanged")) {
+		        var self = this;
+		        this.listItems.remove();
+                this.options = this.selectbox.children().filter("option");
+	            this.options.each(function() {
+	                var optionText = $.trim($(this).text());
+	                $("<li />").
+	                appendTo(self.list).
+	                text(optionText).
+	                addClass("visible");
+	    
+	            }); 
+	
+	            this.listItems = this.list.children();
+	
+	            this.listItems.bind("mouseover", function(e) {
+	                self.highlight(e.target);
+	            });
+	    
+	            this.listItems.bind("click", function(e) {
+	                self.listItemClick($(e.target));
+	            });
+			
+			    self.wrapper.data("sc:optionsChanged", "");
+		    }
+			
+	        var comboValue = this.input.val();
+	        var self = this;
+
+	        this.listItems.each(function() {
+	            var $this = $(this);
+	            var itemValue = $this.text();
+		        if (self.filterFn.call(self, self.getCurrentTextValue(), itemValue, self.getTextValue())) {
+		           $this.removeClass("invisible").
+		           addClass("visible");
+		        } else {
+		            $this.removeClass("visible").
+		            addClass("invisible");
+		        }
+	        });
+	     
+	        this.setOverflow();
+	        this.setListHeight();
+	    },
+	
+	//default dropdown list filtering function
+	filterFn: function(currentComboValue, itemValue, allComboValues) {
+		if ("click" == this.wrapper.data("sc:lastEvent")) {
+		    return true;	
+		}
+		//alert(currentComboValue.toSource());
+	    if (!this.multiple) {
+	        return itemValue.toLowerCase().indexOf(currentComboValue.toLowerCase()) == 0;
+	    }
+	    else {
+	        //exclude values that are already selected
+
+		for (var i = 0, len = allComboValues.length; i < len; ++i) {
+		    if (itemValue == allComboValues[i]) {
+		        return false;
+		    }
+		}
+		
+		return itemValue.toLowerCase().search(currentComboValue.toLowerCase()) == 0;
+	    }
+	},
+	
+	//just returns integer value of list wrapper's max-height property
+	getListMaxHeight: function() {
+			
+		var result = parseInt(this.listWrapper.css("maxHeight"), 10);
+		if (isNaN(result)) {
+		    result = this.singleItemHeight * 10;	
+		}
+		
+		return result;
+	},
+	
+	//corrects list wrapper's height depending on list items height
+	setListHeight: function() {
+	
+	    var liHeight = this.getListItemsHeight();
+		
+	    var maxHeight = this.getListMaxHeight();
+		
+	
+	    var listHeight = this.listWrapper.height();
+	    if (liHeight < listHeight) {
+	        this.listWrapper.height(liHeight); 
+			
+			return liHeight;
+	    }
+	    else if (liHeight > listHeight) {
+	        this.listWrapper.height(Math.min(maxHeight, liHeight));
+			
+			return Math.min(maxHeight, liHeight);
+	    }
+				
+	},
+	
+	//returns active (hovered) element of the dropdown list
+	getActive: function() {
+	    return this.listItems.filter(".active");
+	},
+	
+	keyUp: function(e) {
+	    this.lastKey = e.keyCode;
+	    var k = $sc.KEY;
+	    switch (e.keyCode) {
+	        case k.RETURN:
+			case k.TAB:
+			//this.input.focus();
+		    this.setComboValue(this.getActive().text(), true, true);
+		    if (!this.multiple)
+		        //this.input.blur(); //
+		    	
+		break;
+		case k.DOWN:
+		    this.highlightNext();
+		break;
+		case k.UP:
+		    this.highlightPrev();
+		break;
+		case k.ESC:
+		    this.hideList();
+		break;
+		default:
+		    this.inputChanged();
+		break;
+	    }
+	    
+	    
+	},
+	
+	//returns number of currently visible list items
+	liLen: function() {
+	    return this.listItems.filter(".visible").length;
+	},
+	
+	//triggered when the user changes combo value by typing
+	inputChanged: function() {
+	    this.filter();
+
+	    if (this.liLen()) {
+	        this.showList();
+		this.setOverflow();
+		this.setListHeight();
+	    } else {
+	        this.hideList();
+	    }
+	    
+	    this.setHiddenValue(this.input.val());
+	    this.notify("textChange");
+	    
+	},
+	
+	//highlights first item of the dropdown list
+	highlightFirst: function() {
+	    this.listItems.removeClass("active").filter(".visible:eq(0)").addClass("active");
+	    this.autoFill();
+	},
+	
+	highlightSelected: function() {
+        this.listItems.removeClass("active");
+		var val = $.trim(this.input.val());
+		
+		try {
+			this.listItems.each(function() {
+			    var $this = $(this);
+				if ($this.text() == val) {
+				    $this.addClass("active");	
+					self.listWrapper.scrollTop(0);
+					self.scrollDown();
+					
+				}
+			});
+			//no match, must be partial input string; highlight first item
+			this.highlightFirst();
+			
+		} catch (e) {}
+	},
+	
+	//highlights item of the dropdown list next to the currently active item
+	highlightNext: function() {
+	    var $next = this.getActive().next();
+	    
+	    while ($next.hasClass("invisible") && $next.length) {
+	        $next = $next.next();
+	    }
+	    
+	    if ($next.length) {
+	        this.listItems.removeClass("active");
+		$next.addClass("active");
+		this.scrollDown();
+	    }
+	},
+	
+	//scrolls list wrapper down when needed
+	scrollDown: function() {
+	    if ("scroll" != this.listWrapper.css(this.overflowCSS))
+	        return;
+		
+            var beforeActive = this.getActiveIndex() + 1;
+			/*if ($.browser.opera)
+			    ++beforeActive;*/
+	    
+	    var minScroll = this.listItems.outerHeight() * beforeActive - this.listWrapper.height();
+        
+		if ($.browser.msie)
+            minScroll += beforeActive;
+	    
+	    if (this.listWrapper.scrollTop() < minScroll)
+	        this.listWrapper.scrollTop(minScroll);
+	},
+	
+	
+	//highlights list item before currently active item
+	highlightPrev: function() {
+	    var $prev = this.getActive().prev();
+	    
+	    while ($prev.length && $prev.hasClass("invisible"))
+	        $prev = $prev.prev();
+		
+            if ($prev.length) {
+	        this.getActive().removeClass("active");
+		$prev.addClass("active");
+		this.scrollUp();
+	    }
+	},
+	
+	//returns index of currently active list item
+	getActiveIndex: function() {
+	    return $.inArray(this.getActive().get(0), this.listItems.filter(".visible").get());
+	},
+	
+	
+	//scrolls list wrapper up when needed
+	scrollUp: function() {
+	    
+	    if ("scroll" != this.listWrapper.css(this.overflowCSS))
+	        return;
+		
+	    var maxScroll = this.getActiveIndex() * this.listItems.outerHeight();
+	    
+	    if (this.listWrapper.scrollTop() > maxScroll) {
+	        this.listWrapper.scrollTop(maxScroll);
+	    }     
+	},
+	
+	//emptyText stuff
+	applyEmptyText: function() {
+	    if (!this.config.emptyText.length)
+	        return;
+		
+	    var self = this;	
+	    this.input.bind("focus", function() {
+                self.inputFocus();
+	    }).
+	    bind("blur", function() {
+                self.inputBlur();
+	    });	
+	    
+	    if ("" == this.input.val()) {
+	        this.input.addClass("empty").val(this.config.emptyText);
+	    }
+	},
+	
+	inputFocus: function() {
+	    if (this.input.hasClass("empty")) {
+		this.input.removeClass("empty").
+		val("");
+        }
+	},
+	
+	inputBlur: function() {
+	    if ("" == this.input.val()) {
+		this.input.addClass("empty").
+		val(this.config.emptyText);
+	    }
+	    
+	},
+	
+	//triggerSelected stuff
+	triggerSelected: function() {
+	    if (!this.config.triggerSelected)
+	        return;
+		
+	    var self = this;	
+		try {
+	    this.options.each(function() {
+	        if ($(this).attr("selected")) {
+		        self.setComboValue($(this).text(), false, true);
+				throw new Error();
+		    }
+	    });	
+		} catch (e) {
+		    return;	
+		}
+		
+        self.setComboValue(this.options.eq(0).text(), false, false);
+	},
+	
+	//autofill stuff
+	autoFill: function() {
+	    if (!this.config.autoFill || ($sc.KEY.BACKSPACE == this.lastKey) || this.multiple)
+	        return;
+		    	
+	    var curVal = this.input.val();
+	    var newVal = this.getActive().text();
+	    this.input.val(newVal);
+	    this.selection(this.input.get(0), curVal.length, newVal.length);
+	   
+	    	
+	},
+	
+	//provides selection for autofilling
+	//borrowed from jCarousel
+	selection: function(field, start, end) {
+	    if( field.createTextRange ){
+		var selRange = field.createTextRange();
+		selRange.collapse(true);
+		selRange.moveStart("character", start);
+		selRange.moveEnd("character", end);
+		selRange.select();
+	    } else if( field.setSelectionRange ){
+		field.setSelectionRange(start, end);
+	    } else {
+		if( field.selectionStart ){
+			field.selectionStart = start;
+			field.selectionEnd = end;
+		}
+	    }
+	   // field.focus();	
+	},
+	
+	
+	//for internal use
+	updateDrop: function() {
+	    if (this.config.dropUp)
+	        this.listWrapper.addClass("list-wrapper-up");
+	    else 
+	        this.listWrapper.removeClass("list-wrapper-up");		
+	},
+	
+	//updates dropUp config option
+	setDropUp: function(drop) {
+        this.config.dropUp = drop;   
+	    this.updateDrop(); 
+	},
+	
+	notify: function(evt) {
+	    if (!$.isFunction(this.config[evt + "Callback"]))
+	        return;
+		
+	    this.config[evt + "Callback"].call(this);	
+	}
+    });
+    
+    $sc.extend({
+        //key codes
+	//from jCarousel
+        KEY: {
+	    UP: 38,
+	    DOWN: 40,
+	    DEL: 46,
+	    TAB: 9,
+	    RETURN: 13,
+	    ESC: 27,
+	    COMMA: 188,
+	    PAGEUP: 33,
+	    PAGEDOWN: 34,
+	    BACKSPACE: 8	
+	},
+	
+	//for debugging
+	log: function(msg) {
+	    var $log = $("#log");
+	    $log.html($log.html() + msg + "<br />");
+	},
+	
+    createSelectbox: function(config) {
+	    var $selectbox = $("<select />").
+	    appendTo(config.container).
+	    attr({name: config.name, id: config.id, size: "1"});
+	    
+	    if (config.multiple)
+	        $selectbox.attr("multiple", true);
+	    
+	    var data = config.data;
+	    var selected = false;
+	    
+	    for (var i = 0, len = data.length; i < len; ++i) {
+	        selected = data[i].selected || false;
+	        $("<option />").appendTo($selectbox).
+			attr("value", data[i][config.key]).
+			text(data[i][config.value]).
+			attr("selected", selected);
+	    }
+	    
+	    return $selectbox.get(0);
+	},
+	
+	create: function(config) {
+            var defaults = {
+	        //the name of the selectbox
+	        name: "",
+		//the ID of the selectbox
+		id: "",
+		//data for the options
+		/*
+		This is an array of objects. The objects should contain the following properties:
+		(string)value - the value of the <option>
+		(string) text - text of the <option>
+		(bool) selected - if set to true, "selected" attribute of this <option> will be set to true
+		*/
+		data: [],
+		
+		//if true, combo with multiple choice will be created
+		multiple: false,
+		
+		//key json name for key/value pair
+		key: "value",
+		
+		//value json for key/value pair
+		value: "text",		
+		
+		//an element that will contain the widget
+		container: $(document),
+		//url that contains JSON object for options data
+		//format is the same as in data config option
+		//if passed, "data" config option will be ignored
+		url: "",
+		//params for AJAX request
+		ajaxData: {}
+	    };
+	    config = $.extend({}, defaults, config || {});
+	    
+            if (config.url) {
+	        return $.getJSON(config.url, config.ajaxData, function(data) {
+		    delete config.url;
+		    delete config.ajaxData;
+		    config.data = data;
+		    return $sc.create(config);
+		});
+	    }
+	    
+	    config.container = $(config.container);
+	    
+            var selectbox = $sc.createSelectbox(config);
+	    return new $sc(selectbox, config);
+	    
+	},
+	
+	deactivate: function($select) {
+	    $select = $($select);
+		$select.each(function() {
+		    if ("SELECT" != this.tagName.toUpperCase()) {
+			    return;	
+			}
+			var $this = $(this);
+			if (!$this.parent().is(".combo")) {
+			    return;	
+			}
+			//$this.parent().find("input[type='text']").attr("disabled", true);
+			
+		});
+	},
+	
+	activate: function($select) {
+	    $select = $($select);
+		$select.each(function() {
+		    if ("SELECT" != this.tagName.toUpperCase()) {
+			    return;	
+			}
+			var $this = $(this);
+			if (!$this.parent().is(".combo")) {
+			    return;	
+			}
+			$this.parent().find("input[type='text']").attr("disabled", false);
+		});		
+	},
+	
+	changeOptions: function($select) {
+		$select = $($select);
+        $select.each(function() {
+		    if ("SELECT" != this.tagName.toUpperCase()) {
+			    return;	
+			}
+			
+			var $this = $(this);
+			var $wrapper  = $this.parent();
+			var $input = $wrapper.find("input[type='text']");
+			var $listWrapper = $wrapper.find("ul").parent();
+			
+	        $listWrapper.removeClass("visible").
+	        addClass("invisible");
+	        $wrapper.css("zIndex", "0");
+	        $listWrapper.css("zIndex", "99999");			
+			
+			$input.val("");
+			$wrapper.data("sc:optionsChanged", "yes");
+			var $selectbox = $this;
+		    $selectbox.parent().find("input[type='text']").val($selectbox.find("option:eq(0)").text());
+		    $selectbox.parent().data("sc:lastEvent", "click");
+		    $selectbox.find("option:eq(0)").attr('selected','selected');
+		});
+	},
+	
+	normalizeArray: function(arr) {
+	    var result = [];
+	    for (var i = 0, len =arr.length; i < len; ++i) {
+	        if ("" == arr[i])
+		    continue;
+		    
+		result.push(arr[i]);    
+	    }
+	    
+	    return result;
+	}
+    });
+})(jQuery); 
diff --git a/sites/all/modules/vibio_form_beautifier/js/prettyCheckboxes.js b/sites/all/modules/vibio_form_beautifier/js/prettyCheckboxes.js
new file mode 100644
index 0000000..5e775e9
--- /dev/null
+++ b/sites/all/modules/vibio_form_beautifier/js/prettyCheckboxes.js
@@ -0,0 +1,101 @@
+/* ------------------------------------------------------------------------
+	prettyCheckboxes
+	
+	Developped By: Stephane Caron (http://www.no-margin-for-errors.com)
+	Inspired By: All the non user friendly custom checkboxes solutions ;)
+	Version: 1.1
+	
+	Copyright: Feel free to redistribute the script/modify it, as
+			   long as you leave my infos at the top.
+------------------------------------------------------------------------- */
+	
+	jQuery.fn.prettyCheckboxes = function(settings) {
+		settings = jQuery.extend({
+					checkboxWidth: 17,
+					checkboxHeight: 17,
+					className : 'prettyCheckbox',
+					display: 'list'
+				}, settings);
+
+		$(this).each(function(){
+			// Find the label
+			$label = $('label[for="'+$(this).attr('id')+'"]:first');
+
+			// Add the checkbox holder to the label
+			$label.prepend("<span class='holderWrap'><span class='holder'></span></span>");
+
+			// If the checkbox is checked, display it as checked
+			if($(this).is(':checked')) { $label.addClass('checked'); };
+			
+			// Move all checkboxes after the Label
+			if($label.find('input').is(':checkbox')){ 
+			  $label.after($label.find('input'));
+			}
+
+			// Assign the class on the label
+			$label.addClass(settings.className).addClass($(this).attr('type')).addClass(settings.display);
+
+			// Assign the dimensions to the checkbox display
+			$label.find('span.holderWrap').width(settings.checkboxWidth).height(settings.checkboxHeight);
+			$label.find('span.holder').width(settings.checkboxWidth);
+
+			// Hide the checkbox
+			$(this).addClass('hiddenCheckbox');
+
+			// Associate the click event
+			$label.bind('click',function(){
+				$('input#' + $(this).attr('for')).triggerHandler('click');
+
+				if($('input#' + $(this).attr('for')).is(':checkbox')){
+					$(this).toggleClass('checked');
+					$('input#' + $(this).attr('for')).checked = true;
+					
+					$(this).find('span.holder').css('top',0);
+				}else{
+					$toCheck = $('input#' + $(this).attr('for'));
+
+					// Uncheck all radio
+					$('input[name="'+$toCheck.attr('name')+'"]').each(function(){
+						$('label[for="' + $(this).attr('id')+'"]').removeClass('checked');	
+					});
+
+					$(this).addClass('checked');
+					$toCheck.checked = true;
+				};
+			});
+			
+			$('input#' + $label.attr('for')).bind('keypress',function(e){
+				if(e.keyCode == 32){
+					if($.browser.msie){
+						$('label[for="'+$(this).attr('id')+'"]').toggleClass("checked");
+					}else{
+						$(this).trigger('click');
+					}
+					return false;
+				};
+			});
+		});
+	};
+	
+	checkAllPrettyCheckboxes = function(caller, container){
+		if($(caller).is(':checked')){
+			// Find the label corresponding to each checkbox and click it
+			$(container).find('input[type=checkbox]:not(:checked)').each(function(){
+				$('label[for="'+$(this).attr('id')+'"]').trigger('click');
+				if($.browser.msie){
+					$(this).attr('checked','checked');
+				}else{
+					$(this).trigger('click');
+				};
+			});
+		}else{
+			$(container).find('input[type=checkbox]:checked').each(function(){
+				$('label[for="'+$(this).attr('id')+'"]').trigger('click');
+				if($.browser.msie){
+					$(this).attr('checked','');
+				}else{
+					$(this).trigger('click');
+				};
+			});
+		};
+	};
\ No newline at end of file
diff --git a/sites/all/modules/vibio_form_beautifier/js/ui.checkbox.js b/sites/all/modules/vibio_form_beautifier/js/ui.checkbox.js
new file mode 100755
index 0000000..d2954c8
--- /dev/null
+++ b/sites/all/modules/vibio_form_beautifier/js/ui.checkbox.js
@@ -0,0 +1,333 @@
+/*
+ * jQuery UI Checkbox 0.1
+ *
+ * Copyright (c) 2009 Jeremy Lea <reg@openpave.org>
+ * Dual licensed under the MIT and GPL licenses.
+ *
+ * http://docs.jquery.com/Licensing
+ *
+ * Based loosely on plugin by alexander.farkas.
+ * http://www.protofunc.com/scripts/jquery/checkbox-radiobutton/
+ */
+
+(function($){
+
+// Set up IE for VML if we have not done so already...
+if ($.browser.msie) {
+	// IE6 background flicker fix
+	try	{
+		document.execCommand('BackgroundImageCache', false, true);
+	} catch (e) {}
+
+	if (!document.namespaces["v"]) {
+		$("head").prepend("<xml:namespace ns='urn:schemas-microsoft-com:vml' prefix='v' />");
+		$("head").prepend("<?import namespace='v' implementation='#default#VML' ?>");
+	}
+}
+
+$.widget("ui.checkbox", {
+	_init: function() {
+		// XXX: UI widget will not actually fail...
+		if (!this.element.is(":radio,:checkbox")) {
+			return false;
+		}
+		// _radio stores the members of the radio group (if there is one).
+		if (this.element.is(":radio")) {
+			this._radio = $(this.element[0].form).find("input:radio")
+				.filter('[name="'+this.element[0].name+'"]');
+		} else {
+			this._radio = false;
+		}
+
+		var self = this, o = this.options; // closures for callbacks.
+		// Set the ARIA properties on the native input
+		this.element
+			.attr({
+				role: (this._radio ? "radio" : "checkbox"),
+				"aria-checked": !!this.element[0].checked
+			});
+		// Create the main wrapper element (which gives the background box)
+		this._wrapper = this.element.wrap($("<span />")).parent()
+			.addClass((this._radio ? "ui-radio" : "ui-checkbox") +
+				" ui-state-default");
+		// Create the icon element
+		this._wrapper.prepend($("<span/>")
+			.addClass("ui-icon " + this._icon(false))
+			.click(function(event) {
+				// The icon covers the entire box, but is not in a bubbling
+				// path, so use it to trigger the native event, and let it
+				// take care of the rest.  Gobble up this fake event.
+				self.element[0].click();
+				event.preventDefault();
+				event.stopImmediatePropagation();
+				return false;
+			}));
+		if ($.browser.msie) {
+			// IE does not support rounded corners...  We should check
+			// something to see if it does.   But anyway, we make another
+			// element which is a VML roundrect, and hide the normal wrapper.
+			//
+			// XXX: Check if we can use this in place of the span.
+			// XXX: Implement background images.
+			// XXX: Tidy this up to be more jQuery'ish
+			//
+			// Play tricks to get around arcsize bugs...
+			this._wrapper[0].insertAdjacentHTML("afterBegin",
+				"<v:roundrect arcsize='" + (this._radio ? "1" : "0.1") +
+				"'><v:stroke /><v:fill /></v:roundrect>");
+			this._vml = this._wrapper[0].childNodes[0];
+			var ss = this._wrapper[0].currentStyle;
+			this._vml.style.top = "-1px";
+			this._vml.style.left = "-1px";
+			this._vml.style.width = parseInt(ss.width)+1+"px";
+			this._vml.style.height = parseInt(ss.height)+1+"px";
+			this._doVML();
+			this._vml.style.visibility = "visible";
+			this._wrapper.css('visibility','hidden');
+			// Listen for class or other changes to recreate the elements.
+			this._wrapper[0].onpropertychange = function() {
+				switch (event.propertyName) {
+				case 'className':
+				case 'style.borderTopWidth':
+				case 'style.borderTopColor':
+				case 'style.backgroundColor':
+				case 'style.filter':
+					self._doVML();
+					break;
+				}
+			}
+			// Listen for the custom event from the theme switcher.
+			$().bind('ui-theme-switch', function() {
+				setTimeout(function() {
+					self._doVML();
+				}, 500);
+				return false;
+			});
+		}
+		if ($.browser.opera) {
+			// Opera also does not support rounded corners...  Use an SVG
+			// element instead.  Same as above, but a little simpler.
+			//
+			// XXX: Check if we can use this in place of the span.
+			// XXX: Implement background images.
+			// XXX: Tidy this up to be more jQuery'ish
+			var svg = document.createElementNS("http://www.w3.org/2000/svg","svg");
+			var rect = document.createElementNS("http://www.w3.org/2000/svg","rect");
+			var ss = this._wrapper[0].currentStyle;
+			rect.setAttributeNS(null, "x", "1px");
+			rect.setAttributeNS(null, "y", "1px");
+			rect.setAttributeNS(null, "width", ss.width);
+			rect.setAttributeNS(null, "height", ss.height);
+			rect.setAttributeNS(null, "rx", (this._radio ? "6px" : "2px"));
+			svg.appendChild(rect);
+			this._wrapper.prepend(svg);
+			this._svg = this._wrapper[0].firstChild;
+			this._svg.style.width = parseInt(ss.width)+2+"px";
+			this._svg.style.height = parseInt(ss.height)+2+"px";
+			this._doSVG();
+			this._svg.style.visibility = "visible";
+			this._wrapper.css('visibility','hidden');
+			// Listen for class changes.
+			this._wrapper.bind("DOMAttrModified", function(event) {
+				if (event.attrName === 'class') {
+					self._doSVG();
+				}
+			});
+			// Listen for the custom event from the theme switcher.
+			$().bind("ui-theme-switch", function() {
+				self._doSVG();
+				return false;
+			});
+		}
+
+		// Set up events...
+		this._wrapper
+			.hover(function(event) {
+				if (!o.disabled) {
+					$(this).addClass("ui-state-hover");
+				}
+			}, function(event) {
+				if (!o.disabled) {
+					$(this).removeClass("ui-state-hover");
+				}
+			})
+			.bind("mousedown", function(event) {
+				if (!o.disabled) {
+					$(this).addClass("ui-state-active");
+				}
+			})
+			.bind("mouseup", function(event) {
+				if (!o.disabled) {
+					$(this).removeClass("ui-state-active");
+				}
+			})
+			.bind(this.widgetEventPrefix + "focus", function(event) {
+				if (!o.disabled) {
+					if (self._radio) {
+						self._radio.not(self.element)
+							.removeClass("ui-state-focus");
+					}
+					$(this).addClass("ui-state-focus");
+				}
+			})
+			.bind(this.widgetEventPrefix + "blur", function(event) {
+				if (!o.disabled) {
+					$(this).removeClass("ui-state-focus");
+				}
+			})
+			.bind(this.widgetEventPrefix + "click", function(event) {
+				if (!o.disabled) {
+					if (self._radio) {
+						self._radio.not(self.element).checkbox("uncheck");
+						self.check();
+					} else {
+						self.toggle();
+					}
+				}
+			});
+		this.element
+			.bind("focus." + this.widgetName, function(event) {
+				self._trigger("focus", event); // Actually checkboxfocus
+			})
+			.bind("blur." + this.widgetName, function(event) {
+				self._trigger("blur", event); // Actually checkboxblur
+			})
+			.bind("click." + this.widgetName, function(event) {
+				self._trigger("click", event); // Actually checkboxclick
+			});
+
+		// Capture the initial value
+		this._setData("checked", !!this.element[0].checked);
+	},
+	destroy: function() {
+		this._wrapper.replaceWith(this.element);
+		this.element.removeAttr("role")
+			.removeAttr("aria-checked")
+			.unbind("."+this.widgetName);
+
+		$.widget.prototype.destroy.apply(this, arguments);
+	},
+
+	// Most of the work is done here.
+	_setData: function(key, value) {
+		$.widget.prototype._setData.apply(this, arguments);
+
+		if (key == "disabled") {
+			if (value) {
+				this.element.attr("disabled","disabled");
+				this._wrapper.removeClass("ui-state-focus ui-state-hover ui-state-active");
+			} else {
+				this.element.removeAttr("disabled");
+			}
+			this._wrapper
+				[value ? "addClass" : "removeClass"](
+					this.widgetName + "-disabled " +
+					this.namespace + "-state-disabled");
+		} else if (key == "checked") {
+			this.element[0].checked = !!value;
+			this.element.attr("aria-checked", !!value);
+			this._wrapper.find(".ui-icon")
+				.addClass(this._icon(!!value))
+				.removeClass(this._icon(!value));
+		}
+	},
+
+	check: function() {
+		this._setData("checked", true);
+	},
+	uncheck: function() {
+		this._setData("checked", false);
+	},
+	toggle: function() {
+		this._setData("checked", !this._getData("checked"));
+	},
+
+	_icon: function(state) {
+		if (this._radio) {
+			return "ui-icon-"
+				+ this.options[state?"radioChecked":"radioUnchecked"];
+		} else {
+			return "ui-icon-"
+				+ this.options[state?"checkboxChecked":"checkboxUnchecked"];
+		}
+	},
+
+	_opacityFixed: false,
+	_inFixup: false,
+	_fixStyle: function(jq, re) {
+		var s = jq.attr("style").replace(re,"");
+		if (s !== "") {
+			jq.attr("style",s);
+		} else {
+			jq.removeAttr("style");
+		}
+	},
+	// Only called for IE
+	_doVML: function() {
+		if (!this._vml || this._inFixup) {
+			return;
+		}
+		this._inFixup = true;
+		var ss, op;
+		if (this._opacityFixed) {
+			this._vml.childNodes[0].opacity = '1';
+			this._vml.childNodes[1].opacity = '1';
+			this._fixStyle(this._wrapper.find(".ui-icon"),/filter[^;]*\;?/i);
+			this._fixStyle(this._wrapper,/filter[^;]*\;?/i);
+			this._opacityFixed = false;
+		}
+		ss = this._wrapper[0].currentStyle;
+		// IE6 needs both of these...
+		this._vml.strokecolor = ss.borderTopColor;
+		this._vml.strokeweight = ss.borderTopWidth;
+		this._vml.fillcolor = ss.backgroundColor;
+		this._vml.childNodes[0].color = ss.borderTopColor;
+		this._vml.childNodes[0].weight = ss.borderTopWidth;
+		this._vml.childNodes[1].color = ss.backgroundColor;
+		if (ss.filter && ss.filter.search(/Alpha/i) !== -1) {
+			op = /(\d+)/.exec(ss.filter);
+			this._wrapper.find(".ui-icon").css("filter",ss.filter);
+			this._vml.childNodes[0].opacity = op[1]/100;
+			this._vml.childNodes[1].opacity = op[1]/100;
+			this._wrapper.css("filter","");
+			this._opacityFixed = true;
+		}
+		this._inFixup = false;
+	},
+	// Only called for Opera
+	_doSVG: function() {
+		if (!this._svg || this._inFixup) {
+			return;
+		}
+		this._inFixup = true;
+		var ss, op;
+		// Opera doesn't carry over opacity from the hidden container...
+		if (this._opacityFixed) {
+			this._fixStyle(this._wrapper.find(".ui-icon"),/opacity[^;]*\;?/i);
+			this._fixStyle(this._wrapper.find("rect"),/opacity[^;]*\;?/i);
+			this._fixStyle(this._wrapper,/opacity[^;]*\;?/i);
+			this._opacityFixed = false;
+		}
+		ss = this._wrapper[0].currentStyle;
+		this._svg.firstChild.style.stroke = ss.borderTopColor;
+		this._svg.firstChild.style.strokeWidth = ss.borderTopWidth;
+		this._svg.firstChild.style.fill = ss.backgroundColor;
+		if (ss.opacity && ss.opacity !== 1) {
+			op = ss.opacity;
+			this._wrapper.find(".ui-icon").css("opacity",op);
+			this._wrapper.find("rect").css("opacity",op);
+			this._wrapper[0].style.opacity = "1";
+			this._opacityFixed = true;
+		}
+		this._inFixup = false;
+	}
+
+});
+$.ui.checkbox.defaults = {
+	checkboxChecked: "check",
+	checkboxUnchecked: "empty",
+	radioChecked: "bullet",
+	radioUnchecked: "empty"
+};
+
+})(jQuery);
diff --git a/sites/all/modules/vibio_form_beautifier/vibio_form_beautifier.admin.inc b/sites/all/modules/vibio_form_beautifier/vibio_form_beautifier.admin.inc
new file mode 100644
index 0000000..0013ce6
--- /dev/null
+++ b/sites/all/modules/vibio_form_beautifier/vibio_form_beautifier.admin.inc
@@ -0,0 +1,178 @@
+<?php
+
+/**
+ * Form builder function for module settings.
+ */
+function vibio_form_beautifier_settings() {
+  $form['vibio_form_beautifier_enable'] = array(
+    '#type' => 'fieldset',
+    '#title' => 'Enable / Disable Features',
+  );
+  $form['vibio_form_beautifier_enable']['vibio_form_beautifier_chk_rdio_enable'] = array(
+    '#type' => 'checkbox',
+    '#title' => 'Enable Checkbox and Radio',
+    //'#description' => l('example', 'http://bit.ly/EtQfr', array('attributes' => array('target' => '_blank'))),
+    '#default_value' => variable_get('vibio_form_beautifier_chk_rdio_enable', 1),
+  );
+  $form['vibio_form_beautifier_enable']['vibio_form_beautifier_drpdwn_enable'] = array(
+    '#type' => 'checkbox',
+    '#title' => 'Enable Dropdown',
+    //'#description' => l('example', 'http://bit.ly/kqS69', array('attributes' => array('target' => '_blank'))),
+    '#default_value' => variable_get('vibio_form_beautifier_drpdwn_enable', 1),
+  );
+  $form['vibio_form_beautifier_enable']['vibio_form_beautifier_focus_enable'] = array(
+    '#type' => 'checkbox',
+    '#title' => 'Enable Focus Field',
+    //'#description' => l('example', 'http://bit.ly/xPxbs', array('attributes' => array('target' => '_blank'))),
+    '#default_value' => variable_get('vibio_form_beautifier_focus_enable', 1),
+  );
+  
+  
+  // Settings for Checkboxes and Radio Buttons
+  if (variable_get('vibio_form_beautifier_chk_rdio_enable', 1)) {
+	  $form['vibio_form_beautifier_checkboxes_radios'] = array(
+	    '#type' => 'fieldset',
+	    '#title' => 'Checkboxes &amp; Radio Buttons',
+	    '#collapsible' => TRUE,
+		  '#collapsed' => TRUE,
+	  );
+	  $options = array('prettyCheckboxes' => 'prettyCheckboxes');
+	  if (module_exists('jquery_ui')) {
+	    $options += array('checkbox' => 'jQueryUI Checkbox');
+	  }
+	  else {
+	    variable_set('vibio_form_beautifier_library', 'prettyCheckboxes');
+	  }
+	  
+	  $form['vibio_form_beautifier_checkboxes_radios']['vibio_form_beautifier_checkboxes_radios_library'] = array(
+	    '#type' => 'radios',
+	    '#title' => 'JS Library Option',
+	  	'#options' => $options,
+	  	'#default_value' => variable_get('vibio_form_beautifier_checkboxes_radios_library', 'prettyCheckboxes'),
+		);
+		
+		if (variable_get('vibio_form_beautifier_checkboxes_radios_library', 'prettyCheckboxes') == 'prettyCheckboxes') {
+		  $form['vibio_form_beautifier_checkboxes_radios']['vibio_form_beautifier_prettycheckboxes'] = array(
+		    '#type' => 'fieldset',
+		    '#title' => 'prettyCheckboxes Settings',
+		    '#collapsible' => TRUE,
+		    '#description' => 'prettyCheckboxes allows you to set a width and height to match custom CSS',
+		  );
+			$form['vibio_form_beautifier_checkboxes_radios']['vibio_form_beautifier_prettycheckboxes']['vibio_form_beautifier_prettycheckboxes_width'] = array(
+			  '#type' => 'textfield',
+			  '#title' => 'width',
+			  '#default_value' => variable_get('vibio_form_beautifier_prettycheckboxes_width', 17),
+			);
+			$form['vibio_form_beautifier_checkboxes_radios']['vibio_form_beautifier_prettycheckboxes']['vibio_form_beautifier_prettycheckboxes_height'] = array(
+			  '#type' => 'textfield',
+			  '#title' => 'height',
+			  '#default_value' => variable_get('vibio_form_beautifier_prettycheckboxes_height', 17),
+			);
+			/*$form['vibio_form_beautifier_prettycheckboxes']['vibio_form_beautifier_display'] = array(
+			  '#type' => 'radios',
+			  '#title' => 'Display Options',
+			  '#options' => array('list' => 'Vertical', 'inline' => 'Horizontal'),
+			  '#default_value' => variable_get('vibio_form_beautifier_display', 'list'),
+			);*/
+		}
+	
+	  $form['vibio_form_beautifier_checkboxes_radios']['vibio_form_beautifier_checkboxes_radios_include'] = array(
+	    '#type' => 'textarea',
+	    '#title' => 'Enabled Forms',
+	    '#description' => 'Use individual Form IDs separated by a comma to limit which forms this module affects. <br >\'*\' specifies ALL FORMS.',
+	    '#default_value' => variable_get('vibio_form_beautifier_checkboxes_radios_include', '*'),
+	  );
+	  $form['vibio_form_beautifier_checkboxes_radios']['vibio_form_beautifier_checkboxes_radios_exclude'] = array(
+	    '#type' => 'textarea',
+	    '#title' => 'Disabled Forms',
+	    '#description' => 'Use individual Form IDs separated by a comma to limit which forms this module DOES NOT affects. This value will override Enabled Form settings above.',
+	    '#default_value' => variable_get('vibio_form_beautifier_checkboxes_radios_exclude', ''),
+	  );  
+  }
+  
+  
+  // Settings for Dropdown Select
+  if (variable_get('vibio_form_beautifier_drpdwn_enable', 1)) {
+	  $form['vibio_form_beautifier_dropdown'] = array(
+	    '#type' => 'fieldset',
+	    '#title' => 'Dropdown Select',
+	    '#collapsible' => TRUE,
+		  '#collapsed' => TRUE,
+	  );
+	  $form['vibio_form_beautifier_dropdown']['vibio_form_beautifier_drpdwn_style'] = array(
+	    '#type' => 'radios',
+	    '#title' => 'Choose Dropdown Style',
+	    '#options' => array('custom' => 'Default', 'sexy' => 'Sexy'),
+	    '#default_value' => variable_get('vibio_form_beautifier_drpdwn_style', 'sexy'),
+	  );
+	  $form['vibio_form_beautifier_dropdown']['vibio_form_beautifier_drpdwn_init_value'] = array(
+	    '#type' => 'textfield',
+	    '#title' => 'Initial Hidden value',
+	    '#description' => 'Initial value of the hidden input of the dropdown box.',
+	    '#default_value' => variable_get('vibio_form_beautifier_drpdwn_init_value', ''),
+	  );
+	  $form['vibio_form_beautifier_dropdown']['vibio_form_beautifier_drpdwn_empty_text'] = array(
+	    '#type' => 'textfield',
+	    '#title' => 'Empty Text',
+	    '#description' => 'Will be shown when an empty text input has no focus.',
+	    '#default_value' => variable_get('vibio_form_beautifier_drpdwn_empty_text', '--Select Option--'),
+	  );
+	  $form['vibio_form_beautifier_dropdown']['vibio_form_beautifier_drpdwn_autofill'] = array(
+	    '#type' => 'checkbox',
+	    '#title' => 'Use Empty Text',
+	    '#description' => 'Will be shown when an empty text input has no focus.',
+	    '#default_value' => variable_get('vibio_form_beautifier_drpdwn_autofill', 1),
+	  );
+	  $form['vibio_form_beautifier_dropdown']['vibio_form_beautifier_drpdwn_selected'] = array(
+	    '#type' => 'checkbox',
+	    '#title' => 'Default Selected',
+	    '#description' => 'The selected option of the selectbox will become the initial value',
+	    '#default_value' => variable_get('vibio_form_beautifier_drpdwn_selected', 1),
+	  );	
+	  $form['vibio_form_beautifier_dropdown']['vibio_form_beautifier_drpdwn_up'] = array(
+	    '#type' => 'checkbox',
+	    '#title' => 'Display Above',
+	    '#description' => 'The dropdown list will appear above text input. ',
+	    '#default_value' => variable_get('vibio_form_beautifier_drpdwn_up', 0),
+	  );
+	  $form['vibio_form_beautifier_dropdown']['vibio_form_beautifier_drpdwn_include'] = array(
+	    '#type' => 'textarea',
+	    '#title' => 'Enabled Forms',
+	    '#description' => 'Use individual Form IDs separated by a comma to limit which forms this module affects. <br >\'*\' specifies ALL FORMS.',
+	    '#default_value' => variable_get('vibio_form_beautifier_drpdwn_include', '*'),
+	  );
+	  $form['vibio_form_beautifier_dropdown']['vibio_form_beautifier_drpdwn_exclude'] = array(
+	    '#type' => 'textarea',
+	    '#title' => 'Disabled Forms',
+	    '#description' => 'Use individual Form IDs separated by a comma to limit which forms this module DOES NOT affects. This value will override Enabled Form settings above.',
+	    '#default_value' => variable_get('vibio_form_beautifier_drpdwn_exclude', ''),
+	  );  
+  }
+
+  
+  
+  // Settings for Field Focus
+  if (variable_get('vibio_form_beautifier_focus_enable', 1)) {
+	  $form['vibio_form_beautifier_focus'] = array(
+	    '#type' => 'fieldset',
+	    '#title' => 'Field Focus',
+	    '#collapsible' => TRUE,
+		  '#collapsed' => TRUE,
+	  );
+	  $form['vibio_form_beautifier_focus']['vibio_form_beautifier_focus_include'] = array(
+	    '#type' => 'textarea',
+	    '#title' => 'Enabled Forms',
+	    '#description' => 'Use individual Form IDs separated by a comma to limit which forms this module affects. <br >\'*\' specifies ALL FORMS.',
+	    '#default_value' => variable_get('vibio_form_beautifier_focus_include', '*'),
+	  );
+	  $form['vibio_form_beautifier_focus']['vibio_form_beautifier_focus_exclude'] = array(
+	    '#type' => 'textarea',
+	    '#title' => 'Disabled Forms',
+	    '#description' => 'Use individual Form IDs separated by a comma to limit which forms this module DOES NOT affects. This value will override Enabled Form settings above.',
+	    '#default_value' => variable_get('vibio_form_beautifier_focus_exclude', ''),
+	  );  
+  }
+  $form = system_settings_form($form);
+
+  return $form;
+}
\ No newline at end of file
diff --git a/sites/all/modules/vibio_form_beautifier/vibio_form_beautifier.info b/sites/all/modules/vibio_form_beautifier/vibio_form_beautifier.info
new file mode 100644
index 0000000..4766800
--- /dev/null
+++ b/sites/all/modules/vibio_form_beautifier/vibio_form_beautifier.info
@@ -0,0 +1,11 @@
+; $Id: $
+name = "Vibio Form Beautifier"
+description = "A Collection of jQuery Scripts that can make your forms look good."
+core = 6.x
+package = Other
+
+version = "6.x-1.0-alpha1"
+core = "6.x"
+project = "vibio_form_beautifier"
+datestamp = "1258514431"
+
diff --git a/sites/all/modules/vibio_form_beautifier/vibio_form_beautifier.module b/sites/all/modules/vibio_form_beautifier/vibio_form_beautifier.module
new file mode 100644
index 0000000..2581dcd
--- /dev/null
+++ b/sites/all/modules/vibio_form_beautifier/vibio_form_beautifier.module
@@ -0,0 +1,99 @@
+<?php
+
+/**
+ * Implementation of hook_menu().
+ */
+function vibio_form_beautifier_menu() {
+  $items = array();
+  $items['admin/settings/vibio_form_beautifier'] = array(
+    'title' => ' Form Beautifier',
+    'description' => 'Customize Forms with jQuery Plugins.',
+    'page callback' => 'drupal_get_form',
+    'page arguments' => array('vibio_form_beautifier_settings'),
+    'access arguments' => array('administer site configuration'),
+    'file' => 'vibio_form_beautifier.admin.inc',
+    'type' => MENU_DEFAULT_LOCAL_TASK,
+  );
+  return $items;
+}
+
+/**
+ * Implementation of hook_form_alter().
+ */
+function vibio_form_beautifier_form_alter(&$form, $form_state, $form_id) {
+  static $check_set, $drop_set, $focus_set;
+  
+  // Checkboxes and Radios
+  if (variable_get('vibio_form_beautifier_chk_rdio_enable', 1)) {
+    $include = explode(',', variable_get('vibio_form_beautifier_checkboxes_radios_include', '*'));
+  	$exclude = explode(',', variable_get('vibio_form_beautifier_checkboxes_radios_exclude', ''));
+	
+	  if ((in_array($form_id, $include) || in_array('*', $include)) && !in_array($form_id, $exclude)) {
+	    if (!$check_set) {
+	  	  $trigger = variable_get('vibio_form_beautifier_library', 'prettyCheckboxes');
+	      drupal_add_js(drupal_get_path('module', 'vibio_form_beautifier') . '/js/' . $trigger . '.js');
+	      drupal_add_css(drupal_get_path('module', 'vibio_form_beautifier') . '/css/' . $trigger . '.css');
+	      
+	  		// Add in some logic for jQueryUI Checkbox
+	  		if (module_exists('jquery_ui') && variable_get('vibio_form_beautifier_checkboxes_radios_library', 'prettyCheckboxes') == 'checkbox') {
+	  		  jquery_ui_add();
+	  		  $trigger = 'ui.' . $trigger;
+	  		}
+	  		
+	  		if (variable_get('vibio_form_beautifier_checkboxes_radios_library', 'prettyCheckboxes') == 'prettyCheckboxes') {
+	  		  $settings = array (
+	  		  	'checkboxWidth' 	=> (int)variable_get('vibio_form_beautifier_prettycheckboxes_width', 17),
+	  		  	'checkboxHeight'	=> (int)variable_get('vibio_form_beautifier_prettycheckboxes_height', 17),
+	  		  	//'display' => variable_get('vibio_form_beautifier_display', 'list'),
+	  		  );
+	  		  $settings = drupal_to_js($settings);
+	  		} 
+	  		
+	      drupal_add_js('$(document).ready(function(){$("form#' . str_replace('_', '-', $form_id) . ' input").filter(":checkbox,:radio").' . $trigger . '(' . $settings . ');});', 'inline');
+	      $check_set = TRUE;
+	    }
+	  }
+	}
+	
+	// Dropdown Select
+	if (variable_get('vibio_form_beautifier_drpdwn_enable', 1)) {
+	  $include = explode(',', variable_get('vibio_form_beautifier_drpdwn_include', '*'));
+  	$exclude = explode(',', variable_get('vibio_form_beautifier_drpdwn_exclude', ''));
+  	if ((in_array($form_id, $include) || in_array('*', $include)) && !in_array($form_id, $exclude)) {
+		  if (!$drop_set) {
+		    $style = variable_get('vibio_form_beautifier_drpdwn_style', 'sexy');
+		  	drupal_add_js(drupal_get_path('module', 'vibio_form_beautifier') . '/js/jquery.sexy-combo.js');
+		  	drupal_add_css(drupal_get_path('module', 'vibio_form_beautifier') . '/css/' . $style . '.css');
+		  }
+		  $settings = array(
+		    'initialHiddenValue'	=> variable_get('vibio_form_beautifier_drpdwn_init_value', ''),
+		    'emptyText' 					=> variable_get('vibio_form_beautifier_drpdwn_empty_text', '--Select Option--'),
+		    'autoFill' 						=> (bool)variable_get('vibio_form_beautifier_drpdwn_autofill', 1),
+		    'triggerSelected'			=> (bool)variable_get('vibio_form_beautifier_drpdwn_selected', 1),
+		    'dropUp'							=> (bool)variable_get('vibio_form_beautifier_drpdwn_up', 0),
+		  );
+		  $settings = drupal_to_js($settings);
+		  
+		  drupal_add_js('$(document).ready(function(){$("#' . str_replace('_', '-', $form_id) . ' select").sexyCombo(' . $settings . ')});', 'inline');
+		  $drop_set = TRUE;
+	  }
+	}
+	
+	// Field Focus
+	if (variable_get('vibio_form_beautifier_focus_enabled', 1) && !$focus_set) {
+	  $include = explode(',', variable_get('vibio_form_beautifier_focus_include', '*'));
+  	$exclude = explode(',', variable_get('vibio_form_beautifier_focus_exclude', ''));
+  	drupal_add_css(drupal_get_path('module', 'vibio_form_beautifier') . '/css/fieldfocus.css');
+  	
+  	if ((in_array($form_id, $include) || in_array('*', $include)) && !in_array($form_id, $exclude)) {
+		  $js = '$(document).ready(function(){$("input").focus(function() {
+		  	$(this).parent().addClass("curFocus")});
+		  	$("input").blur(function() {
+		  		$(this).parent().removeClass("curFocus")
+		  	});
+		  });';
+		  drupal_add_js($js, 'inline');
+		  $focus_set = TRUE;
+		}
+	}
+}
\ No newline at end of file
diff --git a/sites/all/modules/views_fluidgrid/LICENSE.txt b/sites/all/modules/views_fluidgrid/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/views_fluidgrid/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/views_fluidgrid/js/jquery.infinitescroll.min.js b/sites/all/modules/views_fluidgrid/js/jquery.infinitescroll.min.js
new file mode 100644
index 0000000..a6748eb
--- /dev/null
+++ b/sites/all/modules/views_fluidgrid/js/jquery.infinitescroll.min.js
@@ -0,0 +1,47 @@
+/*
+	--------------------------------
+	Infinite Scroll
+	--------------------------------
+	+ https://github.com/paulirish/infinitescroll
+	+ version 2.0b2.110713
+	+ Copyright 2011 Paul Irish & Luke Shumard
+	+ Licensed under the MIT license
+	
+	+ Documentation: http://infinite-scroll.com/
+	
+*/
+
+(function(window,$,undefined){$.infinitescroll=function infscr(options,callback,element){this.element=$(element);this._create(options,callback);};$.infinitescroll.defaults={loading:{finished:undefined,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"http://www.infinite-scroll.com/loading.gif",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:'fast',start:undefined},state:{isDuringAjax:false,isInvalidPage:false,isDestroyed:false,isDone:false,isPaused:false,currPage:1},callback:undefined,debug:false,behavior:undefined,binder:$(window),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:false,pathParse:undefined,dataType:'html',appendCallback:true,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:undefined,path:undefined};$.infinitescroll.prototype={_binding:function infscr_binding(binding){var instance=this,opts=instance.options;if(!!opts.behavior&&this['_binding_'+opts.behavior]!==undefined){this['_binding_'+opts.behavior].call(this);return;}
+if(binding!=='bind'&&binding!=='unbind'){this._debug('Binding value  '+binding+' not valid')
+return false;}
+if(binding=='unbind'){(this.options.binder).unbind('smartscroll.infscr.'+instance.options.infid);}else{(this.options.binder)[binding]('smartscroll.infscr.'+instance.options.infid,function(){instance.scroll();});};this._debug('Binding',binding);},_create:function infscr_create(options,callback){if(!this._validate(options)){return false;}
+var opts=this.options=$.extend(true,{},$.infinitescroll.defaults,options),relurl=/(.*?\/\/).*?(\/.*)/,path=$(opts.nextSelector).attr('href');opts.contentSelector=opts.contentSelector||this.element;opts.loading.selector=opts.loading.selector||opts.contentSelector;if(!path){this._debug('Navigation selector not found');return;}
+opts.path=this._determinepath(path);opts.loading.msg=$('<div id="infscr-loading"><img alt="Loading..." src="'+opts.loading.img+'" /><div>'+opts.loading.msgText+'</div></div>');(new Image()).src=opts.loading.img;opts.pixelsFromNavToBottom=$(document).height()-$(opts.navSelector).offset().top;opts.loading.start=opts.loading.start||function(){$(opts.navSelector).hide();opts.loading.msg.appendTo(opts.loading.selector).show(opts.loading.speed,function(){beginAjax(opts);});};opts.loading.finished=opts.loading.finished||function(){opts.loading.msg.fadeOut('normal');};opts.callback=function(instance,data){if(!!opts.behavior&&instance['_callback_'+opts.behavior]!==undefined){instance['_callback_'+opts.behavior].call($(opts.contentSelector)[0],data);}
+if(callback){callback.call($(opts.contentSelector)[0],data);}};this._setup();},_debug:function infscr_debug(){if(this.options.debug){return window.console&&console.log.call(console,arguments);}},_determinepath:function infscr_determinepath(path){var opts=this.options;if(!!opts.behavior&&this['_determinepath_'+opts.behavior]!==undefined){this['_determinepath_'+opts.behavior].call(this,path);return;}
+if(!!opts.pathParse){this._debug('pathParse manual');return opts.pathParse;}else if(path.match(/^(.*?)\b2\b(.*?$)/)){path=path.match(/^(.*?)\b2\b(.*?$)/).slice(1);}else if(path.match(/^(.*?)2(.*?$)/)){if(path.match(/^(.*?page=)2(\/.*|$)/)){path=path.match(/^(.*?page=)2(\/.*|$)/).slice(1);return path;}
+path=path.match(/^(.*?)2(.*?$)/).slice(1);}else{if(path.match(/^(.*?page=)1(\/.*|$)/)){path=path.match(/^(.*?page=)1(\/.*|$)/).slice(1);return path;}else{this._debug('Sorry, we couldn\'t parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.');opts.state.isInvalidPage=true;}}
+this._debug('determinePath',path);return path;},_error:function infscr_error(xhr){var opts=this.options;if(!!opts.behavior&&this['_error_'+opts.behavior]!==undefined){this['_error_'+opts.behavior].call(this,xhr);return;}
+if(xhr!=='destroy'&&xhr!=='end'){xhr='unknown';}
+this._debug('Error',xhr);if(xhr=='end'){this._showdonemsg();}
+opts.state.isDone=true;opts.state.currPage=1;opts.state.isPaused=false;this._binding('unbind');},_loadcallback:function infscr_loadcallback(box,data){var opts=this.options,callback=this.options.callback,result=(opts.state.isDone)?'done':(!opts.appendCallback)?'no-append':'append',frag;if(!!opts.behavior&&this['_loadcallback_'+opts.behavior]!==undefined){this['_loadcallback_'+opts.behavior].call(this,box,data);return;}
+switch(result){case'done':this._showdonemsg();return false;break;case'no-append':if(opts.dataType=='html'){data='<div>'+data+'</div>';data=$(data).find(opts.itemSelector);};break;case'append':var children=box.children();if(children.length==0){return this._error('end');}
+frag=document.createDocumentFragment();while(box[0].firstChild){frag.appendChild(box[0].firstChild);}
+this._debug('contentSelector',$(opts.contentSelector)[0])
+$(opts.contentSelector)[0].appendChild(frag);data=children.get();break;}
+opts.loading.finished.call($(opts.contentSelector)[0],opts)
+if(opts.animate){var scrollTo=$(window).scrollTop()+$('#infscr-loading').height()+opts.extraScrollPx+'px';$('html,body').animate({scrollTop:scrollTo},800,function(){opts.state.isDuringAjax=false;});}
+if(!opts.animate)opts.state.isDuringAjax=false;callback(this,data);},_nearbottom:function infscr_nearbottom(){var opts=this.options,pixelsFromWindowBottomToBottom=0+$(document).height()-(opts.binder.scrollTop())-$(window).height();if(!!opts.behavior&&this['_nearbottom_'+opts.behavior]!==undefined){this['_nearbottom_'+opts.behavior].call(this);return;}
+this._debug('math:',pixelsFromWindowBottomToBottom,opts.pixelsFromNavToBottom);return(pixelsFromWindowBottomToBottom-opts.bufferPx<opts.pixelsFromNavToBottom);},_pausing:function infscr_pausing(pause){var opts=this.options;if(!!opts.behavior&&this['_pausing_'+opts.behavior]!==undefined){this['_pausing_'+opts.behavior].call(this,pause);return;}
+if(pause!=='pause'&&pause!=='resume'&&pause!==null){this._debug('Invalid argument. Toggling pause value instead');};pause=(pause&&(pause=='pause'||pause=='resume'))?pause:'toggle';switch(pause){case'pause':opts.state.isPaused=true;break;case'resume':opts.state.isPaused=false;break;case'toggle':opts.state.isPaused=!opts.state.isPaused;break;}
+this._debug('Paused',opts.state.isPaused);return false;},_setup:function infscr_setup(){var opts=this.options;if(!!opts.behavior&&this['_setup_'+opts.behavior]!==undefined){this['_setup_'+opts.behavior].call(this);return;}
+this._binding('bind');return false;},_showdonemsg:function infscr_showdonemsg(){var opts=this.options;if(!!opts.behavior&&this['_showdonemsg_'+opts.behavior]!==undefined){this['_showdonemsg_'+opts.behavior].call(this);return;}
+opts.loading.msg.find('img').hide().parent().find('div').html(opts.loading.finishedMsg).animate({opacity:1},2000,function(){$(this).parent().fadeOut('normal');});opts.errorCallback.call($(opts.contentSelector)[0],'done');},_validate:function infscr_validate(opts){for(var key in opts){if(key.indexOf&&key.indexOf('Selector')>-1&&$(opts[key]).length===0){this._debug('Your '+key+' found no elements.');return false;}
+return true;}},bind:function infscr_bind(){this._binding('bind');},destroy:function infscr_destroy(){this.options.state.isDestroyed=true;return this._error('destroy');},pause:function infscr_pause(){this._pausing('pause');},resume:function infscr_resume(){this._pausing('resume');},retrieve:function infscr_retrieve(pageNum){var instance=this,opts=instance.options,path=opts.path,box,frag,desturl,method,condition,pageNum=pageNum||null,getPage=(!!pageNum)?pageNum:opts.state.currPage;beginAjax=function infscr_ajax(opts){opts.state.currPage++;instance._debug('heading into ajax',path);box=$(opts.contentSelector).is('table')?$('<tbody/>'):$('<div/>');desturl=path.join(opts.state.currPage);method=(opts.dataType=='html'||opts.dataType=='json')?opts.dataType:'html+callback';if(opts.appendCallback&&opts.dataType=='html')method+='+callback'
+switch(method){case'html+callback':instance._debug('Using HTML via .load() method');box.load(desturl+' '+opts.itemSelector,null,function infscr_ajax_callback(responseText){instance._loadcallback(box,responseText);});break;case'html':case'json':instance._debug('Using '+(method.toUpperCase())+' via $.ajax() method');$.ajax({url:desturl,dataType:opts.dataType,complete:function infscr_ajax_callback(jqXHR,textStatus){condition=(typeof(jqXHR.isResolved)!=='undefined')?(jqXHR.isResolved()):(textStatus==="success"||textStatus==="notmodified");(condition)?instance._loadcallback(box,jqXHR.responseText):instance._error('end');}});break;}};if(!!opts.behavior&&this['retrieve_'+opts.behavior]!==undefined){this['retrieve_'+opts.behavior].call(this,pageNum);return;}
+if(opts.state.isDestroyed){this._debug('Instance is destroyed');return false;};opts.state.isDuringAjax=true;opts.loading.start.call($(opts.contentSelector)[0],opts);},scroll:function infscr_scroll(){var opts=this.options,state=opts.state;if(!!opts.behavior&&this['scroll_'+opts.behavior]!==undefined){this['scroll_'+opts.behavior].call(this);return;}
+if(state.isDuringAjax||state.isInvalidPage||state.isDone||state.isDestroyed||state.isPaused)return;if(!this._nearbottom())return;this.retrieve();},toggle:function infscr_toggle(){this._pausing();},unbind:function infscr_unbind(){this._binding('unbind');},update:function infscr_options(key){if($.isPlainObject(key)){this.options=$.extend(true,this.options,key);}}}
+$.fn.infinitescroll=function infscr_init(options,callback){var thisCall=typeof options;switch(thisCall){case'string':var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=$.data(this,'infinitescroll');if(!instance){return false;}
+if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return false;}
+instance[options].apply(instance,args);});break;case'object':this.each(function(){var instance=$.data(this,'infinitescroll');if(instance){instance.update(options);}else{$.data(this,'infinitescroll',new $.infinitescroll(options,callback,this));}});break;}
+return this;};var event=$.event,scrollTimeout;event.special.smartscroll={setup:function(){$(this).bind("scroll",event.special.smartscroll.handler);},teardown:function(){$(this).unbind("scroll",event.special.smartscroll.handler);},handler:function(event,execAsap){var context=this,args=arguments;event.type="smartscroll";if(scrollTimeout){clearTimeout(scrollTimeout);}
+scrollTimeout=setTimeout(function(){$.event.handle.apply(context,args);},execAsap==="execAsap"?0:100);}};$.fn.smartscroll=function(fn){return fn?this.bind("smartscroll",fn):this.trigger("smartscroll",["execAsap"]);};})(window,jQuery);
\ No newline at end of file
diff --git a/sites/all/modules/views_fluidgrid/js/jquery.masonry.min.js b/sites/all/modules/views_fluidgrid/js/jquery.masonry.min.js
new file mode 100644
index 0000000..f6e8a82
--- /dev/null
+++ b/sites/all/modules/views_fluidgrid/js/jquery.masonry.min.js
@@ -0,0 +1,12 @@
+/*************************************************
+**  jQuery Masonry version 1.3.2
+**  Copyright David DeSandro, licensed MIT
+**  http://desandro.com/resources/jquery-masonry
+**************************************************/
+(function(e){var n=e.event,o;n.special.smartresize={setup:function(){e(this).bind("resize",n.special.smartresize.handler)},teardown:function(){e(this).unbind("resize",n.special.smartresize.handler)},handler:function(j,l){var g=this,d=arguments;j.type="smartresize";o&&clearTimeout(o);o=setTimeout(function(){jQuery.event.handle.apply(g,d)},l==="execAsap"?0:100)}};e.fn.smartresize=function(j){return j?this.bind("smartresize",j):this.trigger("smartresize",["execAsap"])};e.fn.masonry=function(j,l){var g=
+{getBricks:function(d,b,a){var c=a.itemSelector===undefined;b.$bricks=a.appendedContent===undefined?c?d.children():d.find(a.itemSelector):c?a.appendedContent:a.appendedContent.filter(a.itemSelector)},placeBrick:function(d,b,a,c,h){b=Math.min.apply(Math,a);for(var i=b+d.outerHeight(true),f=a.length,k=f,m=c.colCount+1-f;f--;)if(a[f]==b)k=f;d.applyStyle({left:c.colW*k+c.posLeft,top:b},e.extend(true,{},h.animationOptions));for(f=0;f<m;f++)c.colY[k+f]=i},setup:function(d,b,a){g.getBricks(d,a,b);if(a.masoned)a.previousData=
+d.data("masonry");a.colW=b.columnWidth===undefined?a.masoned?a.previousData.colW:a.$bricks.outerWidth(true):b.columnWidth;a.colCount=Math.floor(d.width()/a.colW);a.colCount=Math.max(a.colCount,1)},arrange:function(d,b,a){var c;if(!a.masoned||b.appendedContent!==undefined)a.$bricks.css("position","absolute");if(a.masoned){a.posTop=a.previousData.posTop;a.posLeft=a.previousData.posLeft}else{d.css("position","relative");var h=e(document.createElement("div"));d.prepend(h);a.posTop=Math.round(h.position().top);
+a.posLeft=Math.round(h.position().left);h.remove()}if(a.masoned&&b.appendedContent!==undefined){a.colY=a.previousData.colY;for(c=a.previousData.colCount;c<a.colCount;c++)a.colY[c]=a.posTop}else{a.colY=[];for(c=a.colCount;c--;)a.colY.push(a.posTop)}e.fn.applyStyle=a.masoned&&b.animate?e.fn.animate:e.fn.css;b.singleMode?a.$bricks.each(function(){var i=e(this);g.placeBrick(i,a.colCount,a.colY,a,b)}):a.$bricks.each(function(){var i=e(this),f=Math.ceil(i.outerWidth(true)/a.colW);f=Math.min(f,a.colCount);
+if(f===1)g.placeBrick(i,a.colCount,a.colY,a,b);else{var k=a.colCount+1-f,m=[];for(c=0;c<k;c++){var p=a.colY.slice(c,c+f);m[c]=Math.max.apply(Math,p)}g.placeBrick(i,k,m,a,b)}});a.wallH=Math.max.apply(Math,a.colY);d.applyStyle({height:a.wallH-a.posTop},e.extend(true,[],b.animationOptions));a.masoned||setTimeout(function(){d.addClass("masoned")},1);l.call(a.$bricks);d.data("masonry",a)},resize:function(d,b,a){a.masoned=!!d.data("masonry");var c=d.data("masonry").colCount;g.setup(d,b,a);a.colCount!=c&&
+g.arrange(d,b,a)}};return this.each(function(){var d=e(this),b={};b.masoned=!!d.data("masonry");var a=b.masoned?d.data("masonry").options:{},c=e.extend({},e.fn.masonry.defaults,a,j),h=a.resizeable;b.options=c.saveOptions?c:a;l=l||function(){};g.getBricks(d,b,c);if(!b.$bricks.length)return this;g.setup(d,c,b);g.arrange(d,c,b);!h&&c.resizeable&&e(window).bind("smartresize.masonry",function(){g.resize(d,c,b)});h&&!c.resizeable&&e(window).unbind("smartresize.masonry")})};e.fn.masonry.defaults={singleMode:false,
+columnWidth:undefined,itemSelector:undefined,appendedContent:undefined,saveOptions:true,resizeable:true,animate:false,animationOptions:{}}})(jQuery);
\ No newline at end of file
diff --git a/sites/all/modules/views_fluidgrid/views-view-fluidgrid.tpl.php b/sites/all/modules/views_fluidgrid/views-view-fluidgrid.tpl.php
new file mode 100644
index 0000000..631617e
--- /dev/null
+++ b/sites/all/modules/views_fluidgrid/views-view-fluidgrid.tpl.php
@@ -0,0 +1,11 @@
+<?php // $Id: views-view-fluidgrid.tpl.php,v 1.1.2.2 2010/03/16 07:16:01 doublethink Exp $ ?>
+<?php print $script ?>
+<div id="<?php print $views_fluidgrid_id ?>" class="views-fluidgrid-wrapper clear-block">
+    <?php foreach ($rows as $row): ?>
+      <div class="<?php print $views_fluidgrid_item_class ?>">
+        <div class="views-fluidgrid-item-inner">
+          <?php print $row ?>
+        </div>
+      </div>
+    <?php endforeach; ?>
+</div>
\ No newline at end of file
diff --git a/sites/all/modules/views_fluidgrid/views_fluidgrid.css b/sites/all/modules/views_fluidgrid/views_fluidgrid.css
new file mode 100644
index 0000000..56a4f12
--- /dev/null
+++ b/sites/all/modules/views_fluidgrid/views_fluidgrid.css
@@ -0,0 +1,6 @@
+/* $Id: views_fluidgrid.css,v 1.1 2010/03/02 09:24:50 doublethink Exp $ */
+
+div.views-fluidgrid-wrapper,
+div.views-fluidgrid-item-inner {
+	position:relative;
+}
\ No newline at end of file
diff --git a/sites/all/modules/views_fluidgrid/views_fluidgrid.info b/sites/all/modules/views_fluidgrid/views_fluidgrid.info
new file mode 100644
index 0000000..d609178
--- /dev/null
+++ b/sites/all/modules/views_fluidgrid/views_fluidgrid.info
@@ -0,0 +1,13 @@
+; $Id: views_fluidgrid.info,v 1.1 2010/03/02 09:24:50 doublethink Exp $
+name = Views Fluid Grid - jQuery Masonry
+description = Provides a fluid grid layout based on <a href="http://desandro.com/resources/jquery-masonry">jQuery Masonry</a>
+package = Views
+core = 6.x
+dependencies[] = views
+
+; Information added by drupal.org packaging script on 2010-03-16
+version = "6.x-1.3"
+core = "6.x"
+project = "views_fluidgrid"
+datestamp = "1268724108"
+
diff --git a/sites/all/modules/views_fluidgrid/views_fluidgrid.install b/sites/all/modules/views_fluidgrid/views_fluidgrid.install
new file mode 100644
index 0000000..e590559
--- /dev/null
+++ b/sites/all/modules/views_fluidgrid/views_fluidgrid.install
@@ -0,0 +1,15 @@
+<?php // $Id: views_fluidgrid.install,v 1.1.2.1 2010/03/04 08:53:46 doublethink Exp $
+
+/**
+ * Implementaton of hook_install
+ */
+function views_fluidgrid_install() {
+  db_query("UPDATE {system} SET weight = 400 WHERE name = 'views_fluidgrid'");
+}
+
+/**
+ * Implementaton of hook_uninstall
+ */
+function views_fluidgrid_uninstall() {
+  db_query("DELETE FROM {system} WHERE name = 'views_fluidgrid'");
+}
\ No newline at end of file
diff --git a/sites/all/modules/views_fluidgrid/views_fluidgrid.module b/sites/all/modules/views_fluidgrid/views_fluidgrid.module
new file mode 100644
index 0000000..066b50a
--- /dev/null
+++ b/sites/all/modules/views_fluidgrid/views_fluidgrid.module
@@ -0,0 +1,80 @@
+<?php // $Id: views_fluidgrid.module,v 1.1.2.4 2010/03/16 07:16:01 doublethink Exp $
+
+/**
+ * @file
+ * Provide a fluid grid display style for Views.
+ */
+
+/**
+ * Implementation of hook_views_api().
+ */
+function views_fluidgrid_views_api() {
+  return array('api' => 2);
+}
+
+/**
+ * Template function for views_fluidgrid
+ *
+ * @param array $vars
+ *  Array of template variables.
+ */
+function template_preprocess_views_view_fluidgrid(&$vars) {
+  $view = $vars['view'];
+  $options = $view->style_plugin->options;
+  
+  drupal_add_js(drupal_get_path('module', 'views_fluidgrid') .'/js/jquery.masonry.min.js');
+  drupal_add_css(drupal_get_path('module', 'views_fluidgrid') .'/views_fluidgrid.css');
+
+  $vars['views_fluidgrid_id'] = 'views_fluidgrid_'. $view->name .'_'. $view->current_display;
+  $vars['views_fluidgrid_item_class'] = 'views-fluidgrid-item';
+
+  $view_settings['single_mode'] = check_plain($options['single_mode']);
+  $view_settings['column_width'] = check_plain($options['column_width']);
+  $view_settings['resizeable'] = check_plain($options['resizeable']);
+  $view_settings['callback'] = $options['callback'];
+  
+  $settings = $view_settings;
+  
+  /* This looks like shit! but I had to this to make this compatable with Views Display Tabs
+   * Adding the script inline with each view helps in loading each view's settings seperatly when called via AJAX
+   * If you have another way to do this, please let me know.
+   */
+  $vars['script'] .= "\n<script type=\"text/javascript\">
+    <!--//--><![CDATA[//><!--
+    Drupal.behaviors.viewsFluidGrid = function(context) {
+      viewsFluidGrid = {}; viewsFluidGrid.".$vars['views_fluidgrid_id']." = {};
+      if (!$('#".$vars['views_fluidgrid_id']."').hasClass('views-fluidgrid-processed')) {
+        viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings = ". drupal_to_js($settings) .";
+        $('#".$vars['views_fluidgrid_id']."').masonry({
+          singleMode: viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings.single_mode,
+          columnWidth: viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings.column_width,
+          itemSelector: '.views-fluidgrid-item:visible',
+          resizeable: viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings.resizeable,
+          appendedContent: $('#".$vars['views_fluidgrid_id']."'),
+          saveOptions: false
+          },  function() { eval(viewsFluidGrid.".$vars['views_fluidgrid_id'].".settings.callback); }
+        ); $('#".$vars['views_fluidgrid_id']."').addClass('views-fluidgrid-processed');
+      }
+	  }; //--><!]]>
+    </script>";
+}
+
+/**
+ * Only returns true the first time it's called for an id
+ *
+ * @param $id
+ *  A uniqe view id.
+ *
+ * @return bool
+ *  TRUE for the first time called for a given $id
+ *  FALSE for each time after that
+ */
+function theme_views_fluidgrid_display_item($id) {
+  static $display = array();
+
+  if (!isset($display[$id])) $display[$id] = FALSE;
+  $output = $display[$id];
+  if ($display[$id] == FALSE) $display[$id] = TRUE;
+
+  return $output;
+}
\ No newline at end of file
diff --git a/sites/all/modules/views_fluidgrid/views_fluidgrid.views.inc b/sites/all/modules/views_fluidgrid/views_fluidgrid.views.inc
new file mode 100644
index 0000000..b5b4d25
--- /dev/null
+++ b/sites/all/modules/views_fluidgrid/views_fluidgrid.views.inc
@@ -0,0 +1,26 @@
+<?php // $Id: views_fluidgrid.views.inc,v 1.1 2010/03/02 09:24:50 doublethink Exp $
+
+/**
+ * @file
+ * Provide a fluid grid display style for Views. This file is autoloaded by views.
+ */
+
+/**
+  * Implementation of hook_views_plugin().
+  */
+function views_fluidgrid_views_plugins() {
+  return array(
+    'style' => array(
+      'views_fluidgrid' => array(
+        'title' => t('Views Fluid Grid - jQuery Masonry'),
+        'theme' => 'views_view_fluidgrid',
+        'help' => t('Provide a fluid grid display style for Views.'),
+        'handler' => 'views_fluidgrid_style_plugin',
+        'uses row plugin' => TRUE,
+        'uses options' => TRUE,
+        'type' => 'normal',
+      ),
+    ),
+  );
+}
+
diff --git a/sites/all/modules/views_fluidgrid/views_fluidgrid_style_plugin.inc b/sites/all/modules/views_fluidgrid/views_fluidgrid_style_plugin.inc
new file mode 100644
index 0000000..92b63e7
--- /dev/null
+++ b/sites/all/modules/views_fluidgrid/views_fluidgrid_style_plugin.inc
@@ -0,0 +1,54 @@
+<?php // $Id: views_fluidgrid_style_plugin.inc,v 1.1.2.2 2010/03/04 12:45:38 doublethink Exp $
+
+/**
+  * Implementation of views_plugin_style().
+  */
+class views_fluidgrid_style_plugin extends views_plugin_style {
+
+  /**
+   * Set default options
+   */
+  function option_definition() {
+    $options = parent::option_definition();
+
+    $options['single_mode'] = array('default' => 'false');
+    $options['column_width'] = array('default' => '');
+    $options['resizeable'] = array('default' => 'true');
+    $options['callback'] = array('default' => '');
+
+    return $options;
+  }
+
+  /**
+   * Render the given style.
+   */
+  function options_form(&$form, &$form_state) {
+    parent::options_form($form, $form_state);
+    $form['single_mode'] = array(
+      '#type' => 'radios',
+      '#title' => t('Single mode'),
+      '#options' => array('true' => t('True'), 'false' => t('False')),
+      '#default_value' => $this->options['single_mode'],
+      '#description' => t('Disables measuring the width of each floated element. Set to true if floated elements have the same width.'),
+    );
+    $form['column_width'] = array(
+      '#type' => 'textfield',
+      '#title' => t('Column width'),
+      '#default_value' => $this->options['column_width'],
+      '#description' => t('Width in pixels of 1 column of your grid. default: outer width of the first floated element.'),
+    );
+    $form['resizeable'] = array(
+      '#type' => 'radios',
+      '#title' => t('Resizable'),
+      '#options' => array('true' => t('True'), 'false' => t('False')),
+      '#default_value' => $this->options['resizeable'],
+      '#description' => t('Binds a Masonry call to window resizes.'),
+    );
+    $form['callback'] = array(
+      '#type' => 'textarea',
+      '#title' => t('Custom action on each item'),
+      '#default_value' => $this->options['callback'],
+      '#description' => t('<i>$(this)</i> will refer to the applicable elements Masonry just rearranged.'),
+    );
+  }
+}
\ No newline at end of file
diff --git a/sites/all/modules/views_infinite_pager/LICENSE.txt b/sites/all/modules/views_infinite_pager/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/modules/views_infinite_pager/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/modules/views_infinite_pager/README.txt b/sites/all/modules/views_infinite_pager/README.txt
new file mode 100755
index 0000000..6be7b43
--- /dev/null
+++ b/sites/all/modules/views_infinite_pager/README.txt
@@ -0,0 +1,49 @@
+Description:
+------------
+  This module amends default Views paging with options for infinite/sliding pager functionality on ajax-enabled Views.
+  This functionality is like twitter.com or facebook.com, where the next page pops out *below* the existing content rather than replacing it.
+  
+  The two ways that this module enables this functionality is by utilizing a link at the bottom or simply scrolling to the bottom:
+  - If using the "Infinite pager", your view will create a 'more' button at the bottom. When clicked, the next page loads in place below the current page.
+  - If using the "Infinite Auto Load pager", your view will automatically load the next page below the current page as soon as you scroll near the bottom of the view.
+
+
+Instructions:
+-------------
+  To install, place the entire Views Infinite Pager folder into your modules directory (sites/all/modules).
+  Navigate to your modules page (Administer -> Site building -> Modules)
+  enable the Views Infinite Pager module within the Other fieldset.
+  
+  To activate the infinite scroll functionality on a view, be sure to check the following:
+  - Choose one of the two infinite scroll pagers.
+  - Activate AJAX by setting "Use AJAX" to "Yes".
+  - Set "Items per page" to something other than 0.
+  - Make sure you have more items than the set "Items per page". :-)
+
+Alternate implementations:
+--------------------------
+  For Drupal 5, it looks like http://drupal.org/project/ajax_views has similar functionality.
+  
+  For Drupal 6, Endless Page (http://drupal.org/project/endless_page) seems to be similar but has been abandoned for >2yr
+  
+  For Drupal 7 (Views3), there is an implementation by Centogram 
+  @ http://www.centogram.com/projects/drupal-infinite-scroll-pager-plugin-views-30.
+
+Todo:
+-----
+  For an up to date todo list look at the issue tracker at:
+  http://drupal.org/project/issues/views_infinite_pager
+  
+Credits:
+--------
+  Maintainer: curup
+  Previous maintainer: thebuckst0p
+  
+  This module has been developed with fundings from AF Indurstri AB (www.af.se), Open Source City (www.opensourcecity.org)
+  and Karlstad University Library (www.bib.kau.se). Also many thanks to the Drupal community for all of the bug-hunting.
+  
+  If you feel left out please send me a message thru the contact form 
+  on http://drupal.org/user/423896/contact.
+  
+  If you would like to be a co-maintainer, please let me know in this issue: http://drupal.org/node/937716.
+
diff --git a/sites/all/modules/views_infinite_pager/js/views_infinite_pager.js b/sites/all/modules/views_infinite_pager/js/views_infinite_pager.js
new file mode 100644
index 0000000..5c2795b
--- /dev/null
+++ b/sites/all/modules/views_infinite_pager/js/views_infinite_pager.js
@@ -0,0 +1,227 @@
+// $Id
+
+/** 
+ *  SLIDING/INFINITE PAGER FUNCTIONALITY:
+ *  override ajax_view.js, Drupal.behaviors.ViewsAjaxView
+ * 
+ *  INSTEAD of replacing content w/ new content, APPEND it at the bottom, like a slider, (twitter.com style)
+ *  also need to remove the just-run pager so the same piece doesn't load over and over...
+ *  the new content will have its own pager if necessary
+ */
+
+
+/**
+ * replaces (and adapted from) Drupal.Views.Ajax.ajaxViewResponse
+ * An ajax responder that accepts a packet of JSON data and acts appropriately.
+ *
+ * The following fields control behavior.
+ * - 'display': Display the associated data in the view area.
+ */
+Drupal.Views.Ajax.alternateAjaxViewResponse = function(target, response) {
+
+  if (response.debug) {  
+      alert(response.debug);  
+  }  
+  
+  var $view = $(target);
+  
+  // Check the 'display' for data.
+  if (response.status && response.display) {
+    	
+		var $newView = $(response.display);		
+	
+		//check to see if this is an infinite pager - if not, it's normal and should not apprend a page		
+		//not sure this is the best method - but so far target != string when using a infinite pager
+		if($view.hasClass('infinite-pager') && !isString(target)){
+
+			$view.find('.view-content').insertBefore($newView.find('.view-content').addClass('infinite-page'));
+			//append new view to current view's parent
+			$view.parent().append($newView);
+			//slide down
+			$newView.find('.view-content:last').hide().slideDown(1000);
+						
+		}else{
+			// normal views function
+			$view.parent().append($newView);
+		}			
+		
+		$view.remove();
+		
+		//normal views
+		$view = $newView;
+		Drupal.attachBehaviors($view);	
+		Drupal.attachBehaviors($view.parent());	
+  }
+ 
+  if (response.messages) {
+    // Show any messages (but first remove old ones, if there are any).
+    $view.find('.views-messages').remove().end().prepend(response.messages);
+  }
+};
+
+/**
+ * helper function to check if target is a string
+ */
+function isString(a) {
+    return typeof a == 'string';
+}
+
+/**
+ * replaces (and adapted from) Drupal.behaviors.ViewsAjaxView
+ * Ajax behavior for views.
+ */
+Drupal.behaviors.alternateViewsAjaxView = function() {
+  if (Drupal.settings && Drupal.settings.views && Drupal.settings.views.ajaxViews) {
+    var ajax_path = Drupal.settings.views.ajax_path;
+    // If there are multiple views this might've ended up showing up multiple times.
+    if (ajax_path.constructor.toString().indexOf("Array") != -1) {
+      ajax_path = ajax_path[0];
+    }
+    $.each(Drupal.settings.views.ajaxViews, function(i, settings) {
+      var view = '.view-dom-id-' + settings.view_dom_id;
+      if (!$(view).size()) {
+        // Backward compatibility: if 'views-view.tpl.php' is old and doesn't
+        // contain the 'view-dom-id-#' class, we fall back to the old way of
+        // locating the view:
+        view = '.view-id-' + settings.view_name + '.view-display-id-' + settings.view_display_id;
+      }
+	  
+      // Process exposed filter forms.
+      $('form#views-exposed-form-' + settings.view_name.replace(/_/g, '-') + '-' + settings.view_display_id.replace(/_/g, '-'))
+      .filter(':not(.views-processed)')
+      .each(function () {
+        // remove 'q' from the form; it's there for clean URLs
+        // so that it submits to the right place with regular submit
+        // but this method is submitting elsewhere.
+        $('input[name=q]', this).remove();
+        var form = this;
+        // ajaxSubmit doesn't accept a data argument, so we have to
+        // pass additional fields this way.
+        $.each(settings, function(key, setting) {
+          $(form).append('<input type="hidden" name="'+ key + '" value="'+ setting +'"/>');
+        });
+      })
+      .addClass('views-processed')
+      .submit(function () {
+        $('input[type=submit], button', this).after('<span class="views-throbbing">&nbsp</span>');
+        var object = this;
+        $(this).ajaxSubmit({
+          url: ajax_path,
+          type: 'GET',
+          success: function(response) {
+            // Call all callbacks.
+            if (response.__callbacks) {
+              $.each(response.__callbacks, function(i, callback) {
+                eval(callback)(view, response);
+              });
+              $('.views-throbbing', object).remove();
+            }
+          },
+          error: function(xhr) { Drupal.Views.Ajax.handleErrors(xhr, ajax_path); $('.views-throbbing', object).remove(); },
+          dataType: 'json'
+        });
+
+        return false;
+      });
+
+      $(view).filter(':not(.views-processed)')
+        // Don't attach to nested views. Doing so would attach multiple behaviors
+        // to a given element.
+        .filter(function() {
+          // If there is at least one parent with a view class, this view
+          // is nested (e.g., an attachment). Bail.
+          return !$(this).parents('.view').size();
+        })
+        .each(function() {
+          // Set a reference that will work in subsequent calls.
+          var target = this;
+          $(this)
+            .addClass('views-processed')
+            // Process pager, tablesort, and attachment summary links.
+            .find('ul.pager > li > a, th.views-field a, .attachment .views-summary a')
+            .each(function () {
+              var viewData = { 'js': 1 };
+              // Construct an object using the settings defaults and then overriding
+              // with data specific to the link.
+              $.extend(
+                viewData,
+                Drupal.Views.parseQueryString($(this).attr('href')),
+                // Extract argument data from the URL.
+                Drupal.Views.parseViewArgs($(this).attr('href'), settings.view_base_path),
+                // Settings must be used last to avoid sending url aliases to the server.
+                settings
+              );
+              $(this).click(function () {
+                $.extend(viewData, Drupal.Views.parseViewArgs($(this).attr('href'), settings.view_base_path));
+                $(this).addClass('views-throbbing');
+                $.ajax({
+                  url: ajax_path,
+                  type: 'GET',
+                  data: viewData,
+                  success: function(response) {
+                    $(this).removeClass('views-throbbing');
+                    // (this won't matter anymore b/c the pager is removed after appending)
+
+                    // REMOVED 'Scroll to the top of the view' functionality
+                    
+                    // Call all callbacks.
+                    if (response.__callbacks) {
+                      $.each(response.__callbacks, function(i, callback) {
+                        eval(callback)(target, response);
+                      });
+                    }
+                  },
+                  error: function(xhr) { $(this).removeClass('views-throbbing'); Drupal.Views.Ajax.handleErrors(xhr, ajax_path); },
+                  dataType: 'json'
+                });
+
+                return false;
+              });
+            }); // .each function () {
+      }); // $view.filter().each
+    }); // .each Drupal.settings.views.ajaxViews
+  } // if
+};
+
+
+/**
+ * Automatically load the next page when the user scrolls to the bottom of the view.
+ */
+var viewsInfinitePagerMoreLink;
+var viewsInfinitePagerViewHeight;	
+Drupal.behaviors.viewsInfinitePagerAutoLoad = function() {
+  viewsInfinitePagerMoreLink = $('.infinite-auto-load-pager ul.infinite-pager a');
+  if (viewsInfinitePagerMoreLink.length == 1) {
+	var preloadMargin = 200; // TODO: make this a setting in the Views UI.
+	viewsInfinitePagerViewHeight = $(window).height() + preloadMargin;
+	// Execute once when loading the page or after an ajax load.
+	// Bind the scroll event if the ajax loader has not been triggered.
+	if (!viewsInfinitePagerClick()) {
+	  // Bind scroll event.
+	  $(window).bind('scroll', viewsInfinitePagerClick);
+	}
+  }
+  else{
+	//unbind if we ajax load a non-infinite-auto-load-pager
+	$(window).unbind('scroll', viewsInfinitePagerClick);  
+  }
+};
+
+
+/**
+ * Helper function for Drupal.behaviors.viewsInfinitePagerAutoLoad.
+ * Check if the bottom of the view has been reached and trigger the ajax loader.
+ * Return true if the ajax loader has been triggered.
+ */
+function viewsInfinitePagerClick() {
+  var relativePosition = viewsInfinitePagerMoreLink.offset().top - $(window).scrollTop();
+  if (relativePosition < viewsInfinitePagerViewHeight) {
+    $(window).unbind('scroll', viewsInfinitePagerClick);
+    viewsInfinitePagerMoreLink.click();
+    return true;
+  }
+}
+
+// TEMPORARY (??) until we figure out how to do this w/o overriding the whole functions!
+Drupal.Views.Ajax.ajaxViewResponse = Drupal.Views.Ajax.alternateAjaxViewResponse;
+Drupal.behaviors.ViewsAjaxView = Drupal.behaviors.alternateViewsAjaxView;
diff --git a/sites/all/modules/views_infinite_pager/views_infinite_pager.info b/sites/all/modules/views_infinite_pager/views_infinite_pager.info
new file mode 100644
index 0000000..42724be
--- /dev/null
+++ b/sites/all/modules/views_infinite_pager/views_infinite_pager.info
@@ -0,0 +1,12 @@
+name = Views Infinite Pager
+description = Adds infinite/sliding pager functionality to ajax-enabled Views
+core = 6.x
+package = Views
+dependencies[] = views
+
+; Information added by drupal.org packaging script on 2011-05-20
+version = "6.x-1.2"
+core = "6.x"
+project = "views_infinite_pager"
+datestamp = "1305881516"
+
diff --git a/sites/all/modules/views_infinite_pager/views_infinite_pager.install b/sites/all/modules/views_infinite_pager/views_infinite_pager.install
new file mode 100644
index 0000000..5d180de
--- /dev/null
+++ b/sites/all/modules/views_infinite_pager/views_infinite_pager.install
@@ -0,0 +1,14 @@
+<?php
+
+/**
+ * hook_install: runs on first install/enable of the module
+ * make sure this module loads AFTER Views (so overridden JS is in the right order)
+ */
+function views_infinite_pager_install() {
+  $weight = intval((db_result(db_query("SELECT weight FROM {system} WHERE name = 'views'"))) + 1);
+  $result = db_query("UPDATE {system} SET weight = %d WHERE name = 'views_infinite_pager'", $weight);
+
+    if (! $result) { // error
+      drupal_set_message(t('Unable to set the module weight for Views Infinite Pager'), 'error');
+    }
+}
\ No newline at end of file
diff --git a/sites/all/modules/views_infinite_pager/views_infinite_pager.module b/sites/all/modules/views_infinite_pager/views_infinite_pager.module
new file mode 100755
index 0000000..0da791b
--- /dev/null
+++ b/sites/all/modules/views_infinite_pager/views_infinite_pager.module
@@ -0,0 +1,166 @@
+<?php
+
+/**
+ * This module provides a simple way to create forms and questionnaires.
+ *
+ * Add infinite/sliding pager functionality to ajax-enabled Views
+ *
+ * @author Ben Buckman (thebuckst0p)
+ * @author Seth Sandler (cerup)
+ */
+  
+ /**
+ * Implement hook_form_alter().
+ * Add Infinite pager option to Views UI
+ */
+function views_infinite_pager_form_alter(&$form, &$form_state, $form_id) {
+  if ($form_id == 'views_ui_edit_display_form' && $form_state['section'] == 'use_pager') {
+    $form['use_pager']['#options'] += array('infinite' => t('Infinite pager'));
+    $form['use_pager']['#options'] += array('infinite-auto-load' => t('Infinite Auto Load pager'));
+  
+    //form description
+    $form['use_pager']['weee'] = array(
+      '#type' => 'markup',
+      '#prefix' => '<br /><div class="form-item"><ul>',
+      '#value' => '<li>' . t('Infinite pager: creates a infinite page with a "more" button at the bottom.') . '</li>
+               <li>' . t('Infinite Auto Load pager: automatically loads the next page as the scrollbar nears the bottom of the current page.') . '</li>',
+      '#suffix' => '</ul></div><br />', // Add markup after form item
+      '#weight' => 10,
+    );
+  }
+}
+
+/**
+ * Implement hook_theme().
+ * Add a theme function for the Infinite pager
+ */
+function views_infinite_pager_theme() {
+  return array(
+    
+    // sliding mini-pager for Views ajax
+    'views_infinite_pager' => array(
+      'arguments' => array('tags' => array(), 'limit' => 10, 'element' => 0, 'parameters' => array()),
+      // hook_theme for views_mini_pager has a 'pattern' set, leaving out here
+    ),
+
+    // link in infinite pager
+    'infinite_pager_more' => array(
+      'arguments' => array('text' => NULL, 'limit' => NULL, 'element' => 0, 'interval' => 1, 'parameters' => array()),
+    ),
+      
+  );
+}
+
+/**
+ * 'infinite' pager, replaces Views' mini_pager, use for ajax views
+ * adapted from Views' theme_views_mini_pager()
+ */
+function theme_views_infinite_pager($tags = array(), $limit = 10, $element = 0, $parameters = array(), $quantity = 9) {
+  
+  global $pager_page_array, $pager_total;
+
+  // Calculate various markers within this pager piece:
+  // Middle is used to "center" pages around the current page.
+  $pager_middle = ceil($quantity / 2);
+  // current is the page we are currently paged to
+  $pager_current = $pager_page_array[$element] + 1;
+  // max is the maximum page number
+  $pager_max = $pager_total[$element];
+  // End of marker calculations.
+
+  // no previous or current or last, just More/next
+   $more_text = t('more');
+   $li_next = theme('infinite_pager_more', $more_text, $limit, $element, 1, $parameters);
+   if (empty($li_next)) {
+    //$li_next = "&nbsp;";
+  return '';
+  }
+
+  if ($pager_total[$element] > 1) {
+    $items[] = array(
+      'class' => 'pager-next',
+      'data' => $li_next,
+    );
+    return theme('item_list', $items, NULL, 'ul', array('class' => 'pager infinite-pager'));
+  }
+}
+
+/**
+ * for special infinite_pager, override default ajax_view.js w/ custom
+ * (leave the default alone, this just overwrites the functions on the client side)
+ *
+ * should be in right order b/c generic (template_) preprocessors run before custom ones, 
+ *  (but if it breaks, check the order -- maybe put this in the theme instead of the module, runs later)
+ *
+ * adapted from views' template_preprocess_views_view()
+ *
+ * note: tried to use JS Alter module here, w/ its hook_js_alter, but it didn't work,
+ * b/c ajax_view.js is invoked by preprocess_views_view(), which runs AFTER preprocess_page, where hook_js_alter is invoked
+ */
+function views_infinite_pager_preprocess_views_view(&$vars) {
+  
+  $view = $vars['view'];
+
+  // TODO this should be set per-view in the UI!
+  if ($view->use_ajax and ($view->pager['use_pager']==='infinite' or $view->pager['use_pager']==='infinite-auto-load')) {
+    //set infinite-pager so we can identify this view
+    $vars['classes'] .= ' infinite-pager';
+    
+    //add a infinite-auto-load-pager class so we know when we're using an auto-load pager
+    if ($view->pager['use_pager']==='infinite-auto-load') {
+      $vars['classes'] .= ' infinite-auto-load-pager'; 
+    }
+ 
+    // pass the same params as the generic does
+    $exposed_input = isset($view->exposed_data_raw) ? $view->exposed_data_raw : NULL;
+    
+    // replace a views_theme_functions() list w/ 'infinite' pager
+    $vars['pager'] = theme('views_infinite_pager', $exposed_input, $view->pager['items_per_page'], $view->pager['element']);
+
+    // special JS
+    drupal_add_js(drupal_get_path('module', 'views_infinite_pager') . "/js/views_infinite_pager.js");
+  }
+}
+
+/**
+ * Modified theme_pager_next()
+ *
+ * @param $text
+ *   The name (or image) of the link.
+ * @param $limit
+ *   The number of query results to display per page.
+ * @param $element
+ *   An optional integer to distinguish between multiple pagers on one page.
+ * @param $interval
+ *   The number of pages to move forward when the link is clicked.
+ * @param $parameters
+ *   An associative array of query string parameters to append to the pager links.
+ * @return
+ *   An HTML string that generates this piece of the query pager.
+ *
+ * @ingroup themeable
+ */
+function theme_infinite_pager_more($text, $limit, $element = 0, $interval = 1, $parameters = array()) {
+  global $pager_page_array, $pager_total;
+  $output = '';
+
+  // If we are anywhere but the last page
+  if ($pager_page_array[$element] < ($pager_total[$element] - 1)) {
+    $page_new = pager_load_array($pager_page_array[$element] + $interval, $element, $pager_page_array);
+
+    // dsm(array('for'=>'infinite_pager_more', 'page_new'=>$page_new, 'args'=>func_get_args()));
+
+    // // If the next page is the last page, mark the link as such.
+    // if ($page_new[$element] == ($pager_total[$element] - 1)) {
+    //   $output = theme('pager_last', $text, $limit, $element, $parameters);
+    // }
+    // // The next page is not the last page.
+    // else {
+      $output = theme('pager_link', $text, $page_new, $element, $parameters);
+
+    //*** not differentiating next from last, just 'More' ***//
+    // }
+  }
+
+  return $output;
+}
\ No newline at end of file
diff --git a/sites/all/modules/vshare/facebooklike.php b/sites/all/modules/vshare/facebooklike.php
new file mode 100644
index 0000000..6e05882
--- /dev/null
+++ b/sites/all/modules/vshare/facebooklike.php
@@ -0,0 +1,11 @@
+<?php
+
+echo "
+		<script>(function(d, s, id) {
+		  var js,fjs=d.getElementsByTagName(s)[0];
+		  if(d.getElementById(id)){return;}
+		  js=d.createElement(s);js.id=id;
+		  js.src='//connect.facebook.net/en_US/all.js#xfbml=1';
+		  fjs.parentNode.insertBefore(js,fjs);
+		}(document,'script','facebook-jssdk'));</script>
+";
diff --git a/sites/all/modules/vshare/foo b/sites/all/modules/vshare/foo
new file mode 100644
index 0000000..31deacb
--- /dev/null
+++ b/sites/all/modules/vshare/foo
@@ -0,0 +1,68 @@
+<?php
+
+/*
+ *	This section of code uses the whole $node-> encoding
+ *  There's lots of work to still do here... but the basic concept is integrated into our pages now.
+ */
+/* The following code has to be at the top of this Facebook implementation if the "Send" function is to work.
+		<div id="fb-root"></div>
+		<script>(function(d, s, id) {
+		  var js,fjs=d.getElementsByTagName(s)[0];
+		  if(d.getElementById(id)){return;}
+		  js=d.createElement(s);js.id=id;
+		  js.src="//connect.facebook.net/en_US/all.js#xfbml=1";
+		  fjs.parentNode.insertBefore(js,fjs);
+		}(document,'script','facebook-jssdk'));</script>
+*/
+
+
+function vshare_big($thing)
+{
+	//require_once getcwd() . '/sites/all/modules/vshare/vshare_small.php';
+	//return vshare_small($thing);
+
+	static $vshareFacebookJs = true;
+
+	if($_GET['debugVshare']=='showThing') {
+		echo "<pre>"; var_dump($thing); exit;
+	}
+
+	if(!isset($thing)) { return "no item"; }
+
+	if(isset($thing->nid)) {	// thing is a node
+		$text = "item";
+		$url = "node";
+		$item = $thing->nid;
+	}
+	else if(isset($thing->cid)) {	// thing is a collection
+		$text = "collection";
+		$url = "collections";
+		$item = $thing->cid;
+	}
+	else
+		return "unknown type: $thing[0] ";
+
+	$result = "<!-- from /sites/all/modules/vshare/vshare_big.php -->\n";
+	if(!$vshareFacebookJs) {
+		$result .= "<script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}js=d.createElement(s);js.id=id;js.src='//connect.facebook.net/en_US/all.js#xfbml=1';fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'))\n</script>\n";
+		$vshareFacebookJs = true;
+	}
+
+	$result .= "
+		<div class='medsocialbar socialbar'>
+		  <div style='clear: right; float: left;'>
+			<a class='automodal' href='mailto:&body=Thought%20of%20you%20when%20I%20saw%20this%20on%20Vibio!%0dhttp%3A%2F%2FVibio.com%2F$url%2F$item&t=Saw%20this%20on%20Vibio' title='email to a friend'>
+			  <img class='vshare' src='/sites/all/themes/vibio/images/vshare/mail.gif'></a>
+			<a class='automodal' href='http://www.facebook.com/sharer.php?u=http%3A%2F%2FVibio.com%2F$url%2F$item&t=Saw%20this%20$item%20on%20Vibio' title='Share on Facebook'>
+			  <img class='vshare' src='/themes/vibio/images/facebook/share.png'></a>
+			<a class='automodal' href='http://twitter.com/intent/tweet?source-weblinet&text=Saw%20this%20$item%20on%20Vibio:%0D http%3A//Vibio.com/$url/$item' title='Tweet this'>
+			  <img class='vshare' src='/sites/all/modules/orig_core_modules/tweet/twitter.png'></a>
+			<div class='fb-like' data-href='http://dev.vibio.com/$url/$item' data-send='true' data-layout='button_count' data-width='400' data-show-faces='false' data-font='verdana'></div>
+		  </div>
+		</div>
+	";
+
+	//  print fivestar_widget_form($thing);
+	// <fb:like href='http://dev.vibio.com/$url/$item' send='false' layout='button_count' width='90' show_faces='false' font='verdana'></fb:like>
+	return $result;
+}
diff --git a/sites/all/modules/vshare/minisocialbar.php b/sites/all/modules/vshare/minisocialbar.php
new file mode 100644
index 0000000..d3eac50
--- /dev/null
+++ b/sites/all/modules/vshare/minisocialbar.php
@@ -0,0 +1,33 @@
+<?php
+
+/*
+ *	This section of code uses the whole $node-> encoding
+ *  There's lots of work to still do here... but the basic concept is integrated into our pages now.
+ */
+if(!isset($node)) return;
+?>
+<!-- from /sites/all/themes/vibio/socialbar.php -->
+<div class="minisocialbar socialbar">
+<div style="float: left;">
+<?php
+	echo '    <a class="socialbar" href="/node/'. $node->nid .'" title="click to read comments">';
+	echo $node->comment_count,'<img src="/sites/all/themes/vibio/images/socialbar/comment.gif"></a>';
+?>
+&nbsp;<a id="socialbar-add" href="/comment/reply/<?php echo $node->nid; ?>#comment-form"><img src="/sites/all/themes/vibio/images/socialbar/add.gif" title="click to add a comment"></a>
+		<img src="/sites/all/themes/vibio/images/socialbar/separator.gif">
+	<a href="mailto:&body=http%3A%2F%2FVibio.com%2Fnode%2F<?php echo $node->nid; ?> &t=Saw%20this%20on%20Vibio" title="email to a friend">
+      <img src="/sites/all/themes/vibio/images/socialbar/mail.gif"></a>
+		<img src="/sites/all/themes/vibio/images/socialbar/separator.gif">
+	<a target="_blank" href="http://www.facebook.com/sharer.php?u=http%3A%2F%2FVibio.com%2Fnode%2F<?php echo $node->nid; ?>&t=Saw%20this%20product%20on%20Vibio" title="Share on Facebook">
+      <img src="/sites/all/themes/vibio/images/socialbar/facebook.gif"></a>
+		<img src="/sites/all/themes/vibio/images/socialbar/separator.gif">
+	<a target="_blank" href="http://twitter.com/home/?status=Saw%20this%20product%20on%20Vibio:%0D http%3A//Vibio.com/node/<?php echo $node->nid; ?>" title="Tweet this">
+      <img src="/sites/all/themes/vibio/images/socialbar/twitter.gif"></a>
+		<img src="/sites/all/themes/vibio/images/socialbar/separator.gif">
+</div>
+<div style="float: left; width: 100px; height: 20px; overflow: hidden; margin: 4px;">
+<?php
+  print fivestar_widget_form($node);
+?>
+</div>
+</div>
diff --git a/sites/all/modules/vshare/old.php b/sites/all/modules/vshare/old.php
new file mode 100644
index 0000000..074bf72
--- /dev/null
+++ b/sites/all/modules/vshare/old.php
@@ -0,0 +1,50 @@
+<?php
+
+/*
+ *	This section of code uses the whole $node-> encoding
+ *  There's lots of work to still do here... but the basic concept is integrated into our pages now.
+ */
+
+function vshare_small($thing)
+{
+
+	if(!isset($thing)) { echo "no item"; return; }
+
+	if($_GET['debugVshare']=='showThing') {
+		echo "<pre>"; var_dump($thing); exit;
+	}
+
+	if(isset($thing->nid)) {	// thing is a node
+		$text = "item";
+		$url = "node";
+		$item = $thing->nid;
+	}
+	else if(isset($thing->cid)) {	// thing is a collection
+		$text = "collection";
+		$url = "collections";
+		$item = $thing->cid;
+	}
+	else
+		return "unknown type: $thing[0] ";
+
+	$result = "<!-- from /sites/all/modules/vshare/vshare_small.php -->
+		<div class='minisocialbar socialbar'>
+		<div style='clear: right; float: left;'>
+
+			<a class='automodal' href='mailto:&body=Thought%20of%20you%20when%20I%20saw%20this%20on%20Vibio!%0dhttp%3A%2F%2FVibio.com%2F$url%2F" . $item . " &t=Saw%20this%20on%20Vibio' title='email to a friend'>
+			  <img src='/sites/all/themes/vibio/images/vshare/mail.gif'></a>
+			<a class='automodal' href='http://www.facebook.com/sharer.php?u=http%3A%2F%2FVibio.com%2F$url%2F" . $item . "&t=Saw%20this%20$text%20on%20Vibio' title='Share on Facebook'>
+			  <img  src='/themes/vibio/images/facebook/share.png'></a>
+			<a class='automodal' href='http://twitter.com/home/?status=Saw%20this%20$text%20on%20Vibio:%0D http%3A//Vibio.com/$url/" . $item . "' title='Tweet this'>
+			  <img src='/sites/all/modules/orig_core_modules/tweet/twitter.png'></a>
+
+<iframe src='//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fdev.vibio.com%2F$url%2F" . $item . "&amp;send=false&amp;layout=button_count&amp;width=90&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font=verdana&amp;height=21' scrolling='no' frameborder='0' style='border:none; overflow:hidden; width:90px; height:21px;' allowTransparency='true'></iframe>
+
+		</div>
+		</div>
+	";
+
+	//  print fivestar_widget_form($node);
+	// <fb:like href='http://dev.vibio.com/$url/" . $node->nid ."' send='false' layout='button_count' width='90' show_faces='false' font='verdana'></fb:like>
+	return $result;
+}
diff --git a/sites/all/modules/vshare/socialbar.php b/sites/all/modules/vshare/socialbar.php
new file mode 100644
index 0000000..17cf555
--- /dev/null
+++ b/sites/all/modules/vshare/socialbar.php
@@ -0,0 +1,51 @@
+<?php
+
+/*
+ *	This section of code uses the whole $node-> encoding
+ *  There's lots of work to still do here... but the basic concept is integrated into our pages now.
+ */
+if($_GET['D_comment']==1) {
+	echo "<pre>";
+	var_dump($node); exit;
+}
+?>
+<!-- from /sites/all/themes/vibio/socialbar.php -->
+<div class="socialbar" style="height: 28px;">
+<div style="float: left;">
+<?php
+	if(!isset($node)) {
+	} else {
+		if($node->nid == 0)
+			$node->nid = 1;
+		if($node->nid == basename($_ENV['URL']))
+			;
+		echo '	<a class="socialbar" href="/node/'. $node->nid .'" title="click to read comments">';
+		echo '		<img src="/sites/all/themes/vibio/images/socialbar/comment.gif">';
+		if($node->comment_count) {
+			echo $node->comment_count . " Comment"; 
+			if($node->comment_count!=1) echo "s";
+			echo "</a>";
+		} else {
+			echo "No Comments";
+		}
+		echo "</a>";
+	}
+?>
+&nbsp;<a id="socialbar-add" href="comment/reply/<?php echo $node->nid; ?>#comment-form"><img src="/sites/all/themes/vibio/images/socialbar/add.gif" title="click to add a comment"></a>
+		<img src="/sites/all/themes/vibio/images/socialbar/separator.gif">
+	<a href="mailto:&body=http%3A%2F%2Fvibio.com%2Fnode%2F<?php echo $node->nid; ?>&t=Saw%20this%20on%20Vibio" title="email to a friend">
+      <img src="/sites/all/themes/vibio/images/socialbar/mail.gif">Share&nbsp;</a>
+		<img src="/sites/all/themes/vibio/images/socialbar/separator.gif">
+	<a target="_blank" href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fvibio.com%2Fnode%2F<?php echo $node->nid; ?>&t=Saw%20this%20on%20Vibio" title="Share on Facebook">
+      <img src="/sites/all/themes/vibio/images/socialbar/facebook.gif">Facebook&nbsp;</a>
+		<img src="/sites/all/themes/vibio/images/socialbar/separator.gif">
+	<a target="_blank" href="http://twitter.com/home/?status=Saw%20this%20on%20Vibio:%0D http%3A//vibio.com/node/<?php echo $node->nid; ?>" title="Tweet this">
+      <img src="/sites/all/themes/vibio/images/socialbar/twitter.gif">Twitter&nbsp;</a>
+		<img src="/sites/all/themes/vibio/images/socialbar/separator.gif">
+</div>
+<div style="float: left; width: 100px; height: 20px; overflow: hidden; margin: 4px;">
+<?php
+  print fivestar_widget_form($node);
+?>
+</div>
+</div>
diff --git a/sites/all/modules/vshare/vshare_big.php b/sites/all/modules/vshare/vshare_big.php
new file mode 100644
index 0000000..e49e029
--- /dev/null
+++ b/sites/all/modules/vshare/vshare_big.php
@@ -0,0 +1,155 @@
+<?php
+
+/*
+ *	This section of code uses the whole $node-> encoding
+ *  There's lots of work to still do here... but the basic concept is integrated into our pages now.
+ */
+
+function vshare_small($thing) { return vshare_big($thing); } 
+
+function vibio_addthis_button($variables) {
+return '
+<!-- AddThis Button BEGIN -->
+<div class="addthis_toolbox addthis_default_style ">
+<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
+<a class="addthis_button_tweet"></a>
+<a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
+<a class="addthis_counter addthis_pill_style"></a>
+</div>
+<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4ea1ec0253978f88"></script>
+<!-- AddThis Button END -->
+';
+}
+function Xvibio_addthis_button($variables) {
+  $build_mode = $variables['build_mode'];
+  $https = isset($_SERVER['HTTPS']) && $_SERVER['HTTPS'] == 'on';
+  if (variable_get('addthis_dropdown_disabled', '0')) {
+    return ( sprintf('
+      <a href="http://www.addthis.com/bookmark.php"
+        onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);">
+      <img src="%s" width="%d" height="%d" %s /></a>
+      ',
+      $https ? addslashes(variable_get('addthis_image_secure', 'https://secure.addthis.com/button1-share.gif')) : 
+addslashes(variable_get('addthis_image', 'http://s9.addthis.com/button1-share.gif')),
+      addslashes(variable_get('addthis_image_width', '125')),
+      addslashes(variable_get('addthis_image_height', '16')),
+      addslashes(variable_get('addthis_image_attributes', 'alt=""'))
+    ));
+  }
+  else {//customized code to display big add this buttons via text decoration
+    $options=explode(',',variable_get('addthis_options','expanded'));
+    foreach($options as &$service){
+        $service = trim($service);
+        $service = '<a class="addthis_button_' . $service . '">
+<img src="/'. path_to_theme() . '/images/addthis/' . $service . '.png" alt="' . $service . '"/></a>';
+  }
+  return (sprintf('
+      <!-- AddThis Button BEGIN -->
+      <div class="addthis_toolbox">
+      <!-- h3 class="title">Share this!</h3 -->
+      <div class="custom_images">
+      %s
+      </div>
+      </div>
+      <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js?pub=%s"></script>
+      <!-- AddThis Button END -->',
+      implode("\n",$options),
+      variable_get('addthis_username', '')
+      ));
+   } // end custom code
+}
+
+/*
+function Vibio_addthis_button($node, $teaser) {
+  if (variable_get('addthis_dropdown_disabled', '0')) {
+    return ( sprintf('
+      <a href="http://www.addthis.com/bookmark.php"
+        onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);">
+      <img src="%s" width="%d" height="%d" %s /></a>
+      ',
+      $_SERVER['HTTPS'] == 'on' ? addslashes(variable_get('addthis_image_secure', 'https://secure.addthis.com/button1-share.gif')) : addslashes(variable_get('addthis_image', 'http://s9.addthis.com/button1-share.gif')),
+      addslashes(variable_get('addthis_image_width', '125')),
+      addslashes(variable_get('addthis_image_height', '16')),
+      addslashes(variable_get('addthis_image_attributes', 'alt=""'))
+    ));
+  }
+  else { //customized code to display big add this buttons via text decoration
+    $options=explode(',',variable_get('addthis_options','twitter,facebook,myspace,digg,linkedin,delicious,email,expanded'));
+    foreach($options as &$service){
+        $service = '<a class="addthis_button_' .$service . '"><img src="'.base_path().'sites/default/themes/opus/images/socialme/' . $service . '.png" width="60" height="60" alt="' . $serivice . '"/></a>';   
+    }
+    return (sprintf('
+<!-- AddThis Button BEGIN -->
+<div class="addthis_toolbox">
+<h3 class="title">Share this!</h3>
+<div class="custom_images">
+%s
+</div>
+</div>
+<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js?pub=opusmarketing"></script>
+<!-- AddThis Button END -->
+    ',
+    implode("\n",$options)
+    ));
+  } // end custom code
+}
+*/
+
+
+function vshare_big($thing)
+{
+	
+	return ''; // vsharedisable
+
+	//require_once getcwd() . '/sites/all/modules/vshare/vshare_small.php';
+	//return vshare_small($thing);
+
+	static $vshareFacebookJs = true;
+
+	if($_GET['debugVshare']=='showThing') {
+		echo "<pre>"; var_dump($thing); exit;
+	}
+
+	if(!isset($thing)) { return "no item"; }
+
+	if(isset($thing->nid)) {	// thing is a node
+		$text = "item";
+		$url = "node";
+		$item = $thing->nid;
+	}
+	else if(isset($thing->cid)) {	// thing is a collection
+		$text = "collection";
+		$url = "collections";
+		$item = $thing->cid;
+	}
+	else
+		return "unknown type: $thing[0] ";
+
+	$result = "<!-- from /sites/all/modules/vshare/vshare_big.php -->\n";
+	if(!$vshareFacebookJs) {
+		$result .= "<script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}js=d.createElement(s);js.id=id;js.src='//connect.facebook.net/en_US/all.js#xfbml=1';fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'))\n</script>\n";
+		$vshareFacebookJs = true;
+	}
+/*
+	$result .= "
+		<div class='medsocialbar socialbar'>
+		  <div style='clear: right; float: left;'>
+
+			<!-- a class='automodal' href='mailto:&body=Thought%20of%20you%20when%20I%20saw%20this%20on%20Vibio!%0dhttp%3A%2F%2FVibio.com%2F$url%2F$item&t=Saw%20this%20on%20Vibio' title='email to a friend' -->
+			  <img class='vshare' src='/sites/all/themes/vibio/images/vshare/mail.gif'></a>
+			<a class='automodal' href='http://www.facebook.com/sharer.php?u=http%3A%2F%2FVibio.com%2F$url%2F$item&t=Saw%20this%20$item%20on%20Vibio' title='Share on Facebook'>
+			  <img class='vshare' src='/themes/vibio/images/facebook/share.png'></a>
+			<a class='automodal' href='http://twitter.com/intent/tweet?source-weblinet&text=Saw%20this%20$item%20on%20Vibio:%0D http%3A//Vibio.com/$url/$item' title='Tweet this'>
+			  <img class='vshare' src='/sites/all/modules/orig_core_modules/tweet/twitter.png'></a>
+			<div class='fb-like' data-href='http://dev.vibio.com/$url/$item' data-send='true' data-layout='button_count' data-width='400' data-show-faces='false' data-font='verdana'></div>
+		  </div>
+		</div>
+	";
+*/
+
+	$result = vibio_addthis_button($variables);
+
+	//  print fivestar_widget_form($thing);
+	// <fb:like href='http://dev.vibio.com/$url/$item' send='false' layout='button_count' width='90' show_faces='false' font='verdana'></fb:like>
+	return $result;
+}
diff --git a/sites/all/modules/vshare/vshare_small.php b/sites/all/modules/vshare/vshare_small.php
new file mode 100644
index 0000000..e49e029
--- /dev/null
+++ b/sites/all/modules/vshare/vshare_small.php
@@ -0,0 +1,155 @@
+<?php
+
+/*
+ *	This section of code uses the whole $node-> encoding
+ *  There's lots of work to still do here... but the basic concept is integrated into our pages now.
+ */
+
+function vshare_small($thing) { return vshare_big($thing); } 
+
+function vibio_addthis_button($variables) {
+return '
+<!-- AddThis Button BEGIN -->
+<div class="addthis_toolbox addthis_default_style ">
+<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
+<a class="addthis_button_tweet"></a>
+<a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
+<a class="addthis_counter addthis_pill_style"></a>
+</div>
+<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=ra-4ea1ec0253978f88"></script>
+<!-- AddThis Button END -->
+';
+}
+function Xvibio_addthis_button($variables) {
+  $build_mode = $variables['build_mode'];
+  $https = isset($_SERVER['HTTPS']) && $_SERVER['HTTPS'] == 'on';
+  if (variable_get('addthis_dropdown_disabled', '0')) {
+    return ( sprintf('
+      <a href="http://www.addthis.com/bookmark.php"
+        onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);">
+      <img src="%s" width="%d" height="%d" %s /></a>
+      ',
+      $https ? addslashes(variable_get('addthis_image_secure', 'https://secure.addthis.com/button1-share.gif')) : 
+addslashes(variable_get('addthis_image', 'http://s9.addthis.com/button1-share.gif')),
+      addslashes(variable_get('addthis_image_width', '125')),
+      addslashes(variable_get('addthis_image_height', '16')),
+      addslashes(variable_get('addthis_image_attributes', 'alt=""'))
+    ));
+  }
+  else {//customized code to display big add this buttons via text decoration
+    $options=explode(',',variable_get('addthis_options','expanded'));
+    foreach($options as &$service){
+        $service = trim($service);
+        $service = '<a class="addthis_button_' . $service . '">
+<img src="/'. path_to_theme() . '/images/addthis/' . $service . '.png" alt="' . $service . '"/></a>';
+  }
+  return (sprintf('
+      <!-- AddThis Button BEGIN -->
+      <div class="addthis_toolbox">
+      <!-- h3 class="title">Share this!</h3 -->
+      <div class="custom_images">
+      %s
+      </div>
+      </div>
+      <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js?pub=%s"></script>
+      <!-- AddThis Button END -->',
+      implode("\n",$options),
+      variable_get('addthis_username', '')
+      ));
+   } // end custom code
+}
+
+/*
+function Vibio_addthis_button($node, $teaser) {
+  if (variable_get('addthis_dropdown_disabled', '0')) {
+    return ( sprintf('
+      <a href="http://www.addthis.com/bookmark.php"
+        onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);">
+      <img src="%s" width="%d" height="%d" %s /></a>
+      ',
+      $_SERVER['HTTPS'] == 'on' ? addslashes(variable_get('addthis_image_secure', 'https://secure.addthis.com/button1-share.gif')) : addslashes(variable_get('addthis_image', 'http://s9.addthis.com/button1-share.gif')),
+      addslashes(variable_get('addthis_image_width', '125')),
+      addslashes(variable_get('addthis_image_height', '16')),
+      addslashes(variable_get('addthis_image_attributes', 'alt=""'))
+    ));
+  }
+  else { //customized code to display big add this buttons via text decoration
+    $options=explode(',',variable_get('addthis_options','twitter,facebook,myspace,digg,linkedin,delicious,email,expanded'));
+    foreach($options as &$service){
+        $service = '<a class="addthis_button_' .$service . '"><img src="'.base_path().'sites/default/themes/opus/images/socialme/' . $service . '.png" width="60" height="60" alt="' . $serivice . '"/></a>';   
+    }
+    return (sprintf('
+<!-- AddThis Button BEGIN -->
+<div class="addthis_toolbox">
+<h3 class="title">Share this!</h3>
+<div class="custom_images">
+%s
+</div>
+</div>
+<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js?pub=opusmarketing"></script>
+<!-- AddThis Button END -->
+    ',
+    implode("\n",$options)
+    ));
+  } // end custom code
+}
+*/
+
+
+function vshare_big($thing)
+{
+	
+	return ''; // vsharedisable
+
+	//require_once getcwd() . '/sites/all/modules/vshare/vshare_small.php';
+	//return vshare_small($thing);
+
+	static $vshareFacebookJs = true;
+
+	if($_GET['debugVshare']=='showThing') {
+		echo "<pre>"; var_dump($thing); exit;
+	}
+
+	if(!isset($thing)) { return "no item"; }
+
+	if(isset($thing->nid)) {	// thing is a node
+		$text = "item";
+		$url = "node";
+		$item = $thing->nid;
+	}
+	else if(isset($thing->cid)) {	// thing is a collection
+		$text = "collection";
+		$url = "collections";
+		$item = $thing->cid;
+	}
+	else
+		return "unknown type: $thing[0] ";
+
+	$result = "<!-- from /sites/all/modules/vshare/vshare_big.php -->\n";
+	if(!$vshareFacebookJs) {
+		$result .= "<script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}js=d.createElement(s);js.id=id;js.src='//connect.facebook.net/en_US/all.js#xfbml=1';fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'))\n</script>\n";
+		$vshareFacebookJs = true;
+	}
+/*
+	$result .= "
+		<div class='medsocialbar socialbar'>
+		  <div style='clear: right; float: left;'>
+
+			<!-- a class='automodal' href='mailto:&body=Thought%20of%20you%20when%20I%20saw%20this%20on%20Vibio!%0dhttp%3A%2F%2FVibio.com%2F$url%2F$item&t=Saw%20this%20on%20Vibio' title='email to a friend' -->
+			  <img class='vshare' src='/sites/all/themes/vibio/images/vshare/mail.gif'></a>
+			<a class='automodal' href='http://www.facebook.com/sharer.php?u=http%3A%2F%2FVibio.com%2F$url%2F$item&t=Saw%20this%20$item%20on%20Vibio' title='Share on Facebook'>
+			  <img class='vshare' src='/themes/vibio/images/facebook/share.png'></a>
+			<a class='automodal' href='http://twitter.com/intent/tweet?source-weblinet&text=Saw%20this%20$item%20on%20Vibio:%0D http%3A//Vibio.com/$url/$item' title='Tweet this'>
+			  <img class='vshare' src='/sites/all/modules/orig_core_modules/tweet/twitter.png'></a>
+			<div class='fb-like' data-href='http://dev.vibio.com/$url/$item' data-send='true' data-layout='button_count' data-width='400' data-show-faces='false' data-font='verdana'></div>
+		  </div>
+		</div>
+	";
+*/
+
+	$result = vibio_addthis_button($variables);
+
+	//  print fivestar_widget_form($thing);
+	// <fb:like href='http://dev.vibio.com/$url/$item' send='false' layout='button_count' width='90' show_faces='false' font='verdana'></fb:like>
+	return $result;
+}
diff --git a/sites/all/themes/seven/LICENSE.txt b/sites/all/themes/seven/LICENSE.txt
new file mode 100644
index 0000000..2c095c8
--- /dev/null
+++ b/sites/all/themes/seven/LICENSE.txt
@@ -0,0 +1,274 @@
+GNU GENERAL PUBLIC LICENSE
+
+              Version 2, June 1991
+
+Copyright (C) 1989, 1991 Free Software Foundation, Inc. 675 Mass Ave,
+Cambridge, MA 02139, USA. Everyone is permitted to copy and distribute
+verbatim copies of this license document, but changing it is not allowed.
+
+                  Preamble
+
+The licenses for most software are designed to take away your freedom to
+share and change it. By contrast, the GNU General Public License is
+intended to guarantee your freedom to share and change free software--to
+make sure the software is free for all its users. This General Public License
+applies to most of the Free Software Foundation's software and to any other
+program whose authors commit to using it. (Some other Free Software
+Foundation software is covered by the GNU Library General Public License
+instead.) You can apply it to your programs, too.
+
+When we speak of free software, we are referring to freedom, not price. Our
+General Public Licenses are designed to make sure that you have the
+freedom to distribute copies of free software (and charge for this service if
+you wish), that you receive source code or can get it if you want it, that you
+can change the software or use pieces of it in new free programs; and that
+you know you can do these things.
+
+To protect your rights, we need to make restrictions that forbid anyone to
+deny you these rights or to ask you to surrender the rights. These restrictions
+translate to certain responsibilities for you if you distribute copies of the
+software, or if you modify it.
+
+For example, if you distribute copies of such a program, whether gratis or for
+a fee, you must give the recipients all the rights that you have. You must make
+sure that they, too, receive or can get the source code. And you must show
+them these terms so they know their rights.
+
+We protect your rights with two steps: (1) copyright the software, and (2)
+offer you this license which gives you legal permission to copy, distribute
+and/or modify the software.
+
+Also, for each author's protection and ours, we want to make certain that
+everyone understands that there is no warranty for this free software. If the
+software is modified by someone else and passed on, we want its recipients
+to know that what they have is not the original, so that any problems
+introduced by others will not reflect on the original authors' reputations.
+
+Finally, any free program is threatened constantly by software patents. We
+wish to avoid the danger that redistributors of a free program will individually
+obtain patent licenses, in effect making the program proprietary. To prevent
+this, we have made it clear that any patent must be licensed for everyone's
+free use or not licensed at all.
+
+The precise terms and conditions for copying, distribution and modification
+follow.
+
+           GNU GENERAL PUBLIC LICENSE
+ TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND
+               MODIFICATION
+
+0. This License applies to any program or other work which contains a notice
+placed by the copyright holder saying it may be distributed under the terms
+of this General Public License. The "Program", below, refers to any such
+program or work, and a "work based on the Program" means either the
+Program or any derivative work under copyright law: that is to say, a work
+containing the Program or a portion of it, either verbatim or with
+modifications and/or translated into another language. (Hereinafter, translation
+is included without limitation in the term "modification".) Each licensee is
+addressed as "you".
+
+Activities other than copying, distribution and modification are not covered
+by this License; they are outside its scope. The act of running the Program is
+not restricted, and the output from the Program is covered only if its contents
+constitute a work based on the Program (independent of having been made
+by running the Program). Whether that is true depends on what the Program
+does.
+
+1. You may copy and distribute verbatim copies of the Program's source
+code as you receive it, in any medium, provided that you conspicuously and
+appropriately publish on each copy an appropriate copyright notice and
+disclaimer of warranty; keep intact all the notices that refer to this License
+and to the absence of any warranty; and give any other recipients of the
+Program a copy of this License along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and you
+may at your option offer warranty protection in exchange for a fee.
+
+2. You may modify your copy or copies of the Program or any portion of it,
+thus forming a work based on the Program, and copy and distribute such
+modifications or work under the terms of Section 1 above, provided that you
+also meet all of these conditions:
+
+a) You must cause the modified files to carry prominent notices stating that
+you changed the files and the date of any change.
+
+b) You must cause any work that you distribute or publish, that in whole or in
+part contains or is derived from the Program or any part thereof, to be
+licensed as a whole at no charge to all third parties under the terms of this
+License.
+
+c) If the modified program normally reads commands interactively when run,
+you must cause it, when started running for such interactive use in the most
+ordinary way, to print or display an announcement including an appropriate
+copyright notice and a notice that there is no warranty (or else, saying that
+you provide a warranty) and that users may redistribute the program under
+these conditions, and telling the user how to view a copy of this License.
+(Exception: if the Program itself is interactive but does not normally print such
+an announcement, your work based on the Program is not required to print
+an announcement.)
+
+These requirements apply to the modified work as a whole. If identifiable
+sections of that work are not derived from the Program, and can be
+reasonably considered independent and separate works in themselves, then
+this License, and its terms, do not apply to those sections when you distribute
+them as separate works. But when you distribute the same sections as part
+of a whole which is a work based on the Program, the distribution of the
+whole must be on the terms of this License, whose permissions for other
+licensees extend to the entire whole, and thus to each and every part
+regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest your rights to
+work written entirely by you; rather, the intent is to exercise the right to
+control the distribution of derivative or collective works based on the
+Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of a
+storage or distribution medium does not bring the other work under the scope
+of this License.
+
+3. You may copy and distribute the Program (or a work based on it, under
+Section 2) in object code or executable form under the terms of Sections 1
+and 2 above provided that you also do one of the following:
+
+a) Accompany it with the complete corresponding machine-readable source
+code, which must be distributed under the terms of Sections 1 and 2 above
+on a medium customarily used for software interchange; or,
+
+b) Accompany it with a written offer, valid for at least three years, to give
+any third party, for a charge no more than your cost of physically performing
+source distribution, a complete machine-readable copy of the corresponding
+source code, to be distributed under the terms of Sections 1 and 2 above on
+a medium customarily used for software interchange; or,
+
+c) Accompany it with the information you received as to the offer to distribute
+corresponding source code. (This alternative is allowed only for
+noncommercial distribution and only if you received the program in object
+code or executable form with such an offer, in accord with Subsection b
+above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it. For an executable work, complete source code
+means all the source code for all modules it contains, plus any associated
+interface definition files, plus the scripts used to control compilation and
+installation of the executable. However, as a special exception, the source
+code distributed need not include anything that is normally distributed (in
+either source or binary form) with the major components (compiler, kernel,
+and so on) of the operating system on which the executable runs, unless that
+component itself accompanies the executable.
+
+If distribution of executable or object code is made by offering access to
+copy from a designated place, then offering equivalent access to copy the
+source code from the same place counts as distribution of the source code,
+even though third parties are not compelled to copy the source along with the
+object code.
+
+4. You may not copy, modify, sublicense, or distribute the Program except as
+expressly provided under this License. Any attempt otherwise to copy,
+modify, sublicense or distribute the Program is void, and will automatically
+terminate your rights under this License. However, parties who have received
+copies, or rights, from you under this License will not have their licenses
+terminated so long as such parties remain in full compliance.
+
+5. You are not required to accept this License, since you have not signed it.
+However, nothing else grants you permission to modify or distribute the
+Program or its derivative works. These actions are prohibited by law if you
+do not accept this License. Therefore, by modifying or distributing the
+Program (or any work based on the Program), you indicate your acceptance
+of this License to do so, and all its terms and conditions for copying,
+distributing or modifying the Program or works based on it.
+
+6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the original
+licensor to copy, distribute or modify the Program subject to these terms and
+conditions. You may not impose any further restrictions on the recipients'
+exercise of the rights granted herein. You are not responsible for enforcing
+compliance by third parties to this License.
+
+7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues), conditions
+are imposed on you (whether by court order, agreement or otherwise) that
+contradict the conditions of this License, they do not excuse you from the
+conditions of this License. If you cannot distribute so as to satisfy
+simultaneously your obligations under this License and any other pertinent
+obligations, then as a consequence you may not distribute the Program at all.
+For example, if a patent license would not permit royalty-free redistribution
+of the Program by all those who receive copies directly or indirectly through
+you, then the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under any
+particular circumstance, the balance of the section is intended to apply and
+the section as a whole is intended to apply in other circumstances.
+
+It is not the purpose of this section to induce you to infringe any patents or
+other property right claims or to contest validity of any such claims; this
+section has the sole purpose of protecting the integrity of the free software
+distribution system, which is implemented by public license practices. Many
+people have made generous contributions to the wide range of software
+distributed through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing to
+distribute software through any other system and a licensee cannot impose
+that choice.
+
+This section is intended to make thoroughly clear what is believed to be a
+consequence of the rest of this License.
+
+8. If the distribution and/or use of the Program is restricted in certain
+countries either by patents or by copyrighted interfaces, the original copyright
+holder who places the Program under this License may add an explicit
+geographical distribution limitation excluding those countries, so that
+distribution is permitted only in or among countries not thus excluded. In such
+case, this License incorporates the limitation as if written in the body of this
+License.
+
+9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time. Such new versions will be
+similar in spirit to the present version, but may differ in detail to address new
+problems or concerns.
+
+Each version is given a distinguishing version number. If the Program specifies
+a version number of this License which applies to it and "any later version",
+you have the option of following the terms and conditions either of that
+version or of any later version published by the Free Software Foundation. If
+the Program does not specify a version number of this License, you may
+choose any version ever published by the Free Software Foundation.
+
+10. If you wish to incorporate parts of the Program into other free programs
+whose distribution conditions are different, write to the author to ask for
+permission. For software which is copyrighted by the Free Software
+Foundation, write to the Free Software Foundation; we sometimes make
+exceptions for this. Our decision will be guided by the two goals of
+preserving the free status of all derivatives of our free software and of
+promoting the sharing and reuse of software generally.
+
+               NO WARRANTY
+
+11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE,
+THERE IS NO WARRANTY FOR THE PROGRAM, TO THE EXTENT
+PERMITTED BY APPLICABLE LAW. EXCEPT WHEN OTHERWISE
+STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
+OTHER PARTIES PROVIDE THE PROGRAM "AS IS" WITHOUT
+WARRANTY OF ANY KIND, EITHER EXPRESSED OR IMPLIED,
+INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
+OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
+PURPOSE. THE ENTIRE RISK AS TO THE QUALITY AND
+PERFORMANCE OF THE PROGRAM IS WITH YOU. SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL
+NECESSARY SERVICING, REPAIR OR CORRECTION.
+
+12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR
+AGREED TO IN WRITING WILL ANY COPYRIGHT HOLDER, OR
+ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE
+LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL,
+SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES
+ARISING OUT OF THE USE OR INABILITY TO USE THE
+PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA
+OR DATA BEING RENDERED INACCURATE OR LOSSES
+SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE
+PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN
+IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF
+THE POSSIBILITY OF SUCH DAMAGES.
+
+          END OF TERMS AND CONDITIONS
diff --git a/sites/all/themes/seven/README.txt b/sites/all/themes/seven/README.txt
new file mode 100644
index 0000000..d51da94
--- /dev/null
+++ b/sites/all/themes/seven/README.txt
@@ -0,0 +1,7 @@
+
+This theme is just a backport of the Drupal 7 admin theme (designed by Mark and Leisa).
+
+The only changes are small API changes between Drupal 6 and 7 for compatibility.
+
+Please post any issues to the issue queue at http://drupal.org/project/issues/seven
+
diff --git a/sites/all/themes/seven/css/default.css b/sites/all/themes/seven/css/default.css
new file mode 100644
index 0000000..f6d3817
--- /dev/null
+++ b/sites/all/themes/seven/css/default.css
@@ -0,0 +1,255 @@
+
+/**
+ * Reset CSS styles.
+ *
+ * Based on Eric Meyer's "Reset CSS 1.0" tool from
+ * http://meyerweb.com/eric/tools/css/reset
+ */
+
+html,
+body,
+
+/* Structures */
+div,
+span,
+applet,
+object,
+iframe,
+
+/* Text */
+h1,
+h2,
+h3,
+h4,
+h5,
+h6,
+p,
+blockquote,
+pre,
+a,
+abbr,
+acronym,
+address,
+big,
+cite,
+code,
+del,
+dfn,
+em,
+font,
+img,
+ins,
+kbd,
+q,
+s,
+samp,
+small,
+strike,
+strong,
+sub,
+sup,
+tt,
+var,
+b,
+u,
+i,
+center,
+
+/* Lists */
+dl,
+dt,
+dd,
+ol,
+ul,
+li,
+
+/* Forms */
+fieldset,
+form,
+input,
+select,
+textarea,
+label,
+legend,
+
+/* Tables */
+table,
+caption,
+tbody,
+tfoot,
+thead,
+tr,
+th,
+td,
+
+/* Drupal: system-menus.css */
+td.menu-disabled,
+ul.links,
+ul.links.inline,
+ul.links li,
+.block ul,
+
+/* Drupal: admin.css */
+div.admin,
+
+/* Drupal: system.css */
+tr.even,
+tr.odd,
+tr.drag,
+tbody,
+tbody th,
+thead th,
+.breadcrumb,
+.item-list .icon,
+.item-list .title,
+.item-list ul,
+.item-list ul li,
+ol.task-list li.active,
+.form-item,
+tr.odd .form-item,
+tr.even .form-item,
+.form-item .description,
+.form-item label,
+.form-item label.option,
+.form-checkboxes,
+.form-radios,
+.form-checkboxes .form-item,
+.form-radios .form-item,
+.marker,
+.form-required,
+.more-link,
+.more-help-link,
+.item-list .pager,
+.item-list .pager li,
+.pager-current,
+.tips,
+dl.multiselect dd,
+dl.multiselect dd .form-item,
+dl.multiselect dd select,
+dl.multiselect dt,
+dl.multiselect .form-item,
+ul.primary,
+ul.primary li,
+ul.primary li a,
+ul.primary li.active a,
+ul.primary li a:hover,
+ul.secondary,
+ul.secondary li,
+ul.secondary a,
+ul.secondary a.active,
+.resizable-textarea {
+  margin: 0;
+  padding: 0;
+  border: 0;
+  outline: 0;
+  font-size: 100%;
+  vertical-align: baseline;
+  background: transparent;
+  line-height: inherit;
+}
+
+
+/* Drupal: system-menus.css */
+ul.links,
+ul.links.inline,
+ul.links li,
+.block ul,
+
+ol,
+ul,
+.item-list ul,
+.item-list ul li {
+  list-style: none;
+}
+
+blockquote,
+q {
+  quotes: none;
+}
+
+blockquote:before,
+blockquote:after,
+q:before, q:after {
+  content: '';
+  content: none;
+}
+
+/* Remember to define focus styles! */
+:focus {
+  outline: 0;
+}
+
+/* Remember to highlight inserts somehow! */
+ins {
+  text-decoration: none;
+}
+del {
+  text-decoration: line-through;
+}
+
+/* Tables still need 'cellspacing="0"' in the markup. */
+table {
+  border-collapse: collapse;
+  border-spacing: 0;
+}
+
+/**
+ * Font reset =========================================================
+ *
+ * Specifically targets form elements which browsers often times give
+ * special treatment.
+ */
+input,
+select,
+textarea,
+body {
+  font: 13px/20px "Helvetica Neue", Helvetica, Arial, sans-serif;
+}
+
+/**
+ * Markup free clearing ===============================================
+ *
+ * Consider adding your own selectors to this instead of finding ways
+ * to sneak the clearfix class into Drupal's markup.
+ * From http://www.positioniseverything.net/easyclearing.html
+ */
+div.form-item:after,
+ul.links:after,
+div.admin-panel .body:after,
+.clearfix:after {
+  content: ".";
+  display: block;
+  height: 0;
+  clear: both;
+  visibility: hidden;
+}
+
+/* Exclude inline links from clearfix behavior */
+ul.inline:after {
+  content: "";
+  display: none;
+  clear: none;
+}
+
+div.form-item,
+ul.links,
+div.admin-panel .body,
+.clearfix {
+  display: inline-block;
+}
+
+/* Hides from IE-mac \*/
+* html div.form-item,
+* html ul.links,
+* html div.admin-panel .body,
+* html .clearfix {
+  height: 1%;
+}
+
+div.form-item,
+ul.links,
+div.admin-panel .body,
+.clearfix {
+  display: block;
+}
+/* End hide from IE-mac */
diff --git a/sites/all/themes/seven/css/ie6.css b/sites/all/themes/seven/css/ie6.css
new file mode 100644
index 0000000..a0daac0
--- /dev/null
+++ b/sites/all/themes/seven/css/ie6.css
@@ -0,0 +1,18 @@
+
+ul.menu li,
+ul.menu li a,
+ul.links li,
+ul.links li a,
+#page {
+  height: 1%;
+}
+
+#page ul.node-type-list li a, #page ul.admin-list li a {
+  height: 1px;
+  position: relative;
+  display: block;
+}
+
+#page ul.node-type-list li div.description a, #page ul.admin-list li div.description a {
+  display: inline;
+}
diff --git a/sites/all/themes/seven/css/pretty.css b/sites/all/themes/seven/css/pretty.css
new file mode 100644
index 0000000..9053c82
--- /dev/null
+++ b/sites/all/themes/seven/css/pretty.css
@@ -0,0 +1,1612 @@
+
+
+/**
+ * Styles adapted from system.css.
+ */
+
+/*
+** HTML elements
+*/
+body.drag {
+  cursor: move;
+}
+th.active img {
+  display: inline;
+}
+tr.even, tr.odd {
+  background-color: #eee;
+  border-bottom: 1px solid #ccc;
+  padding: 0.1em 0.6em;
+}
+tr.drag {
+  background-color: #fffff0;
+}
+tr.drag-previous {
+  background-color: #ffd;
+}
+td.active {
+  background-color: #ddd;
+}
+td.checkbox, th.checkbox {
+  text-align: center;
+}
+tbody {
+  border-top: 1px solid #ccc;
+}
+tbody th {
+  border-bottom: 1px solid #ccc;
+}
+thead th {
+  text-align: left; /* LTR */
+  padding-right: 1em; /* LTR */
+  border-bottom: 3px solid #ccc;
+}
+
+/*
+** Other common styles
+*/
+.breadcrumb {
+  padding-bottom: .5em
+}
+div.indentation {
+  width: 20px;
+  height: 1.7em;
+  margin: -0.4em 0.2em -0.4em -0.4em; /* LTR */
+  padding: 0.42em 0 0.42em 0.6em; /* LTR */
+  float: left; /* LTR */
+}
+div.tree-child {
+  background: url(../images/tree.png) no-repeat 11px center; /* LTR */
+}
+div.tree-child-last {
+  background: url(../images/tree-bottom.png) no-repeat 11px center; /* LTR */
+}
+div.tree-child-horizontal {
+  background: url(../images/tree.png) no-repeat -11px center;
+}
+.error {
+  color: #e55;
+}
+div.error {
+  border: 1px solid #d77;
+}
+div.error, tr.error {
+  background: #fcc;
+  color: #200;
+  padding: 2px;
+}
+.warning {
+  color: #e09010;
+}
+div.warning {
+  border: 1px solid #f0c020;
+}
+div.warning, table tr.warning {
+  background: #ffd;
+  color: #220;
+  padding: 2px;
+}
+.ok {
+  color: #008000;
+}
+div.ok {
+  border: 1px solid #00aa00;
+}
+div.ok, tr.ok {
+  background: #dfd;
+  color: #020;
+  padding: 2px;
+}
+.item-list .icon {
+  color: #555;
+  float: right; /* LTR */
+  padding-left: 0.25em; /* LTR */
+  clear: right; /* LTR */
+}
+.item-list .title {
+  font-weight: bold;
+}
+.item-list ul {
+  margin: 0 0 0.75em 0;
+  padding: 0;
+}
+.item-list ul li {
+  margin: 0 0 0.25em 1.5em; /* LTR */
+  padding: 0;
+  list-style: disc;
+}
+ol.task-list li.active {
+  font-weight: bold;
+}
+.form-item {
+  margin-top: 1em;
+  margin-bottom: 1em;
+}
+tr.odd .form-item, tr.even .form-item {
+  margin-top: 0;
+  margin-bottom: 0;
+  white-space: nowrap;
+}
+tr.merge-down, tr.merge-down td, tr.merge-down th {
+  border-bottom-width: 0 !important;
+}
+tr.merge-up, tr.merge-up td, tr.merge-up th {
+  border-top-width: 0 !important;
+}
+.form-item input.error, .form-item textarea.error, .form-item select.error {
+  border: 2px solid red;
+}
+.form-item .description {
+  font-size: 0.85em;
+}
+.form-item label {
+  display: block;
+  font-weight: bold;
+}
+.form-item label.option {
+  display: inline;
+  font-weight: normal;
+}
+.form-checkboxes, .form-radios {
+  margin: 1em 0;
+}
+.form-checkboxes .form-item, .form-radios .form-item {
+  margin-top: 0.4em;
+  margin-bottom: 0.4em;
+}
+.form-type-radio .description, .form-type-checkbox .description {
+  margin-left: 2.4em;
+}
+.marker, .form-required {
+  color: #f00;
+}
+.more-help-link {
+  text-align: right; /* LTR */
+}
+.more-help-link a, a.module-link {
+  padding: 1px 0 1px 20px; /* LTR */
+}
+a.module-link {
+  display: block;
+  white-space: nowrap;
+}
+.more-help-link a, a.module-link-help {
+  background: url(../images/help.png) 0 50% no-repeat; /* LTR */
+}
+a.module-link-permissions {
+  background: url(../images/permissions.png) 0 50% no-repeat; /* LTR */
+}
+a.module-link-configure {
+  background: url(../images/configure.png) 0 50% no-repeat; /* LTR */
+}
+.more-link {
+  text-align: right; /* LTR */
+}
+.module-help {
+  margin-left: 1em; /* LTR */
+  float: right; /* LTR */
+}
+.nowrap {
+  white-space: nowrap;
+}
+.item-list .pager {
+  clear: both;
+  text-align: center;
+}
+.item-list .pager li {
+  background-image:none;
+  display:inline;
+  list-style-type:none;
+  padding: 0.5em;
+}
+.pager-current {
+  font-weight:bold;
+}
+.tips {
+  margin-top: 0;
+  margin-bottom: 0;
+  padding-top: 0;
+  padding-bottom: 0;
+  font-size: 0.9em;
+}
+dl.multiselect dd, dl.multiselect dd .form-item, dl.multiselect dd select {
+  font-family: inherit;
+  font-size: inherit;
+  width: 14em;
+}
+dl.multiselect dt, dl.multiselect dd {
+  float: left; /* LTR */
+  line-height: 1.75em;
+  padding: 0;
+  margin: 0 1em 0 0; /* LTR */
+}
+dl.multiselect .form-item {
+  height: 1.75em;
+  margin: 0;
+}
+
+/*
+** Inline items (need to override above)
+*/
+.container-inline div, .container-inline label {
+  display: inline;
+}
+
+/*
+** Autocomplete styles
+*/
+/* Suggestion list */
+#autocomplete {
+  position: absolute;
+  border: 1px solid;
+  overflow: hidden;
+  z-index: 100;
+}
+#autocomplete ul {
+  margin: 0;
+  padding: 0;
+  list-style: none;
+  list-style-image: none;
+}
+#autocomplete li {
+  background: #fff;
+  color: #000;
+  white-space: pre;
+  cursor: default;
+}
+#autocomplete li.selected {
+  background: #0072b9;
+  color: #fff;
+}
+/* Animated throbber */
+html.js input.form-autocomplete {
+  background-image: url(../images/throbber.gif);
+  background-repeat: no-repeat;
+  background-position: 100% 2px; /* LTR */
+}
+html.js input.throbbing {
+  background-position: 100% -18px; /* LTR */
+}
+
+/*
+** Collapsing fieldsets
+*/
+html.js fieldset.collapsed {
+  border-bottom-width: 0;
+  border-left-width: 0;
+  border-right-width: 0;
+  margin-bottom: 0;
+  height: 1em;
+}
+html.js fieldset.collapsed * {
+  display: none;
+}
+html.js fieldset.collapsed legend, html.js fieldset.collapsed legend a span.element-invisible {
+  display: block;
+  overflow: hidden;
+}
+html.js fieldset.collapsible legend a {
+  display: inline;
+  padding-left: 15px; /* LTR */
+  background: url(../images/menu-expanded.png) 5px 75% no-repeat; /* LTR */
+}
+html.js fieldset.collapsible legend span.summary {
+  display: inline;
+  font-size: 0.9em;
+  color: #999;
+  margin-left: 0.5em;
+}
+html.js fieldset.collapsed legend a {
+  background-image: url(../images/menu-collapsed.png); /* LTR */
+  background-position: 5px 50%; /* LTR */
+}
+/* Note: IE-only fix due to '* html' (breaks Konqueror otherwise). */
+* html.js fieldset.collapsed legend,
+* html.js fieldset.collapsed legend *,
+* html.js fieldset.collapsed table * {
+  display: inline;
+}
+/* For Safari 2 to prevent collapsible fieldsets containing tables from dissapearing due to tableheader.js. */
+html.js fieldset.collapsible {
+  position: relative;
+}
+/* Avoid jumping around due to margins collapsing into collapsible fieldset border */
+html.js fieldset.collapsible .fieldset-wrapper {
+  overflow: auto;
+}
+
+/*
+** Resizable text areas
+*/
+.resizable-textarea {
+  width: 95%;
+}
+.resizable-textarea .grippie {
+  height: 9px;
+  overflow: hidden;
+  background: #eee url(../images/grippie.png) no-repeat center 2px;
+  border: 1px solid #ddd;
+  border-top-width: 0;
+  cursor: s-resize;
+}
+html.js .resizable-textarea textarea {
+  margin-bottom: 0;
+  width: 100%;
+  display: block;
+}
+
+/*
+** Table drag and drop.
+*/
+.draggable a.tabledrag-handle {
+  cursor: move;
+  float: left; /* LTR */
+  height: 1.7em;
+  margin: -0.4em 0 -0.4em -0.5em; /* LTR */
+  padding: 0.42em 1.5em 0.42em 0.5em; /* LTR */
+  text-decoration: none;
+}
+a.tabledrag-handle:hover {
+  text-decoration: none;
+}
+a.tabledrag-handle .handle {
+  margin-top: 4px;
+  height: 13px;
+  width: 13px;
+  background: url(../images/draggable.png) no-repeat 0 0;
+}
+a.tabledrag-handle-hover .handle {
+  background-position: 0 -20px;
+}
+
+/*
+** Teaser splitter
+*/
+.joined + .grippie {
+  height: 5px;
+  background-position: center 1px;
+  margin-bottom: -2px;
+}
+/* Keeps inner content contained in Opera 9. */
+.teaser-checkbox {
+  padding-top: 1px;
+}
+.teaser-checkbox div.form-item {
+  float: right; /* LTR */
+  margin: 0 5% 0 0; /* LTR */
+  padding: 0;
+}
+textarea.teaser {
+  display: none;
+}
+html.js .no-js {
+  display: none;
+}
+
+/*
+** Progressbar styles
+*/
+.progress {
+  font-weight: bold;
+}
+.progress .bar {
+  background: #fff url(../images/progress.gif);
+  border: 1px solid #00375a;
+  height: 1.5em;
+  margin: 0 0.2em;
+}
+.progress .filled {
+  background: #0072b9;
+  height: 1.1em;
+  border-bottom: 0.5em solid #004a73;
+  width: 0%;
+}
+.progress .percentage {
+  float: right; /* LTR */
+}
+.progress-disabled {
+  float: left; /* LTR */
+}
+.ajax-progress {
+  float: left; /* LTR */
+}
+.ajax-progress .throbber {
+  width: 15px;
+  height: 15px;
+  margin: 2px;
+  background: transparent url(../images/throbber.gif) no-repeat 0px -18px;
+  float: left; /* LTR */
+}
+tr .ajax-progress .throbber {
+  margin: 0 2px;
+}
+.ajax-progress-bar {
+  width: 16em;
+}
+
+/*
+** Formatting for welcome page
+*/
+#first-time strong {
+  display: block;
+  padding: 1.5em 0 .5em;
+}
+
+/*
+** To be used with tableselect.js
+*/
+tr.selected td {
+  background: #ffc;
+}
+
+/*
+** Floating header for tableheader.js
+*/
+table.sticky-header {
+  margin-top: 0;
+  background: #fff;
+}
+
+/*
+** Installation clean URLs
+*/
+#clean-url.install {
+  display: none;
+}
+
+/*
+** For anything you want to hide on page load when JS is enabled, so
+** that you can use the JS to control visibility and avoid flicker.
+*/
+html.js .js-hide {
+  display: none;
+}
+
+/*
+** Styles for the system modules page (admin/config/modules)
+*/
+#system-modules div.incompatible {
+  font-weight: bold;
+}
+
+/*
+** Styles for the system themes page (admin/appearance)
+*/
+.system-themes-list {
+  margin-bottom: 20px;
+}
+.system-themes-list-disabled {
+  border-top: 1px solid #cdcdcd;
+  padding-top: 20px;
+}
+.system-themes-list h2 {
+  margin: 0;
+}
+.theme-selector {
+  padding-top: 20px;
+}
+.theme-selector .screenshot,
+.theme-selector .no-screenshot {
+  border: 1px solid #e0e0d8;
+  padding: 2px;
+  vertical-align: bottom;
+  width: 294px;
+  height: 219px;
+  line-height: 219px;
+  text-align: center;
+}
+.theme-default .screenshot {
+  border: 1px solid #aaa;
+}
+.system-themes-list-enabled .theme-selector .screenshot,
+.system-themes-list-enabled .theme-selector .no-screenshot {
+  float: left; /* LTR */
+  margin: 0 20px 0 0; /* LTR */
+}
+.system-themes-list-disabled .theme-selector .screenshot,
+.system-themes-list-disabled .theme-selector .no-screenshot {
+  width: 194px;
+  height: 144px;
+  line-height: 144px;
+}
+.theme-selector h3 {
+  font-weight: normal;
+}
+.theme-default h3 {
+  font-weight: bold;
+}
+.system-themes-list-enabled .theme-selector h3 {
+  margin-top: 0;
+}
+.system-themes-list-disabled .theme-selector {
+  width: 300px;
+  float: left; /* LTR */
+  padding: 20px 20px 20px 0; /* LTR */
+}
+.system-themes-list-enabled .theme-info {
+  max-width: 940px;
+}
+.system-themes-list-disabled .theme-info {
+  min-height: 170px;
+}
+.theme-selector .incompatible {
+  margin-top: 10px;
+  font-weight: bold;
+}
+.theme-selector .operations {
+  margin: 10px 0 0 0;
+  padding: 0;
+}
+.theme-selector .operations li {
+  float: left; /* LTR */
+  margin: 0;
+  padding: 0 0.7em;
+  list-style-type: none;
+  border-right: 1px solid #cdcdcd;  /* LTR */
+}
+.theme-selector .operations li.last {
+  padding: 0 0 0 0.7em; /* LTR */
+  border-right: none; /* LTR */
+}
+.theme-selector .operations li.first {
+  padding: 0 0.7em 0 0; /* LTR */
+}
+#system-themes-admin-form {
+  clear: left;
+}
+
+/*
+** Password strength indicator
+*/
+#password-strength {
+  width: 17em;
+  float: right;  /* LTR */
+  margin-top: 1.4em;
+}
+.password-strength-title {
+  display: inline;
+}
+#password-strength-text {
+  float: right; /* LTR */
+  font-weight: bold;
+}
+#password-indicator {
+  background-color: #C4C4C4;
+  height: 0.3em;
+  width: 100%;
+}
+#password-indicator div {
+  height: 100%;
+  width: 0%;
+  background-color: #47C965;
+}
+input.password-confirm, input.password-field {
+  width: 16em;
+  margin-bottom: 0.4em;
+}
+div.password-confirm {
+  display: inline;
+  padding-left: 1em;
+}
+div.password-suggestions {
+  padding: 0.2em 0.5em;
+  margin: 0.7em 0;
+  width: 38.5em;
+  border: 1px solid #B4B4B4;
+}
+div.password-suggestions ul {
+  margin-bottom: 0;
+}
+.password-parent {
+  margin: 0;
+  width: 34.3em;
+}
+
+/*
+** Password confirmation checker
+*/
+.confirm-parent {
+  margin: 0;
+}
+div.password-confirm {
+  visibility: hidden;
+}
+
+/**
+ * Hide elements from all users.
+ *
+ * Used for elements which should not be immediately displayed to any user. An
+ * example would be a collapsible fieldset that will be expanded with a click
+ * from a user. The effect of this class can be toggled with the jQuery show()
+ * and hide() functions.
+ */
+.element-hidden {
+  display: none;
+}
+
+/**
+ * Hide elements visually, but keep them available for screen-readers.
+ *
+ * Used for information required for screen-reader users to understand and use
+ * the site where visual display is undesirable. Information provided in this
+ * manner should be kept concise, to avoid unnecessary burden on the user. Must
+ * not be used for focusable elements (such as links and form elements) as this
+ * causes issues for keyboard only or voice recognition users.
+ */
+.element-invisible {
+  height: 0;
+  overflow: hidden;
+  position: absolute;
+}
+
+
+/**
+ * Override of style.css.
+ */
+
+/**
+ * Generic elements
+ */
+body,
+#page {
+  color: #000;
+  background: #fff;
+  font-style: normal;
+  line-height: 20px;
+  font-size: 0.8em;
+  font-family: Lucida Grande, Lucida Sans Unicode, sans-serif;
+}
+
+a {
+  color: #0074BD;
+  text-decoration: none;
+}
+
+a:hover {
+  text-decoration: underline;
+}
+
+hr {
+  display: none;
+}
+
+legend {
+  font-weight: bold;
+}
+
+#page h1,
+#page h2,
+#page h3,
+#page h4,
+#page h5,
+#page h6 {
+  font-size: 15px;
+  font-weight: bold;
+  margin:  10px 0;
+}
+
+#page dl {
+  margin: 0 0 20px;
+}
+
+#page dl dd,
+#page dl dl {
+  margin-left: 20px;
+  margin-bottom: 10px;
+}
+
+/**
+ * Skip link.
+ */
+#skip-link {
+  margin-top: 0;
+  position: absolute;
+  left: 50%;
+  margin-left: -5.25em;
+  width: auto;
+  z-index: 50;
+}
+
+#skip-link a,
+#skip-link a:link,
+#skip-link a:visited {
+  position: absolute;
+  display: block;
+  top: auto;
+  left: -10000px;
+  width: 1px;
+  height: 1px;
+  -moz-border-radius-bottomleft: 10px;
+  -moz-border-radius-bottomright: 10px;
+  -moz-border-radius-topleft: 0;
+  -moz-border-radius-topright: 0;
+  -webkit-border-top-left-radius: 0;
+  -webkit-border-top-right-radius: 0;
+  -webkit-border-bottom-left-radius: 10px;
+  -webkit-border-bottom-right-radius: 10px;
+  border-radius:0 0 10px 10px;
+  background: #444;
+  color: #fff;
+  font-size: 0.94em;
+  text-decoration: none;
+}
+
+#skip-link a:hover,
+#skip-link a:active,
+#skip-link a:focus {
+  position: static;
+  width: auto;
+  height: auto;
+  overflow: visible;
+  padding: 1px 10px 2px 10px;
+}
+
+/**
+ * Branding.
+ */
+#branding {
+  overflow: hidden;
+  padding: 20px 20px 0 20px;
+  position: relative;
+  background-color: #e0e0d8;
+}
+
+#branding div.breadcrumb {
+  font-size: 11px;
+  padding-bottom: 5px;
+}
+
+#branding div.block {
+  position: relative;
+  float: right;
+  width: 240px;
+  padding-left: 10px;
+  background: #333;
+}
+
+#branding div.block form label {
+  display: none;
+}
+
+#branding div.block form div.form-item {
+  float: left;
+  border: 0;
+  margin: 0;
+  padding: 0;
+}
+
+#branding div.block form input.form-text {
+  width: 140px;
+  margin-right: 10px;
+}
+
+#branding div.block form input.form-submit {
+  text-align: center;
+  width: 80px;
+}
+
+/**
+ * Help.
+ */
+#help {
+  font-size: 0.9em;
+  margin-top: 1em;
+}
+
+#help p {
+  margin: 0 0 10px;
+}
+
+#help div.more-help-link {
+  text-align: right;
+}
+
+/**
+ * Messages.
+ */
+div.messages {
+  padding: 9px;
+  margin: 0.5em 0 0;
+  color: #036;
+  background: #bdf;
+  border: 1px solid #ace;
+}
+
+div.warning {
+  color: #840;
+  background: #fe6;
+  border-color: #ed5;
+}
+
+div.error {
+  color: #fff;
+  background: #e63;
+  border-color: #d52;
+}
+
+div.error p.error {
+  color: #333;
+}
+
+div.status {
+  color: #360;
+  background: #cf8;
+  border-color: #be7;
+}
+
+/**
+ * Page title.
+ */
+#page-title {
+  background: #333;
+  padding-top: 20px;
+}
+
+#branding h1.page-title {
+  color: #000;
+  padding-bottom: 10px;
+  font-size: 18px;
+  font-weight: normal;
+  float: left;
+}
+
+/**
+ * Console.
+ */
+#console {
+  margin: 9px 0 10px;
+}
+
+/**
+ * Tabs.
+ */
+ul.primary {
+  float: right;
+  border-bottom: none;
+  margin: 0 0 -10px 0;
+  padding: 3px 0 0 8px;
+  line-height: 30px;
+  text-transform: uppercase;
+  font-size: 12px;
+}
+
+ul.primary li {
+  display: inline;
+  list-style: none;
+}
+
+ul.primary li a,
+ul.primary li a.active,
+ul.primary li a:active,
+ul.primary li a:visited,
+ul.primary li a:hover {
+  background-color: #a6a7a2;
+  -moz-border-radius: 8px 8px 0 0;
+  -webkit-border-top-left-radius: 8px;
+  -webkit-border-top-right-radius: 8px;
+  border-radius: 8px 8px 0 0;
+  color: #000;
+  font-weight: bold;
+  padding: 7px 20px 5px 20px;
+  border-width: 1px 1px 0 1px;
+  border-style: solid;
+  border-color: #a6a7a2;
+}
+
+ul.primary li.active a,
+ul.primary li.active a.active,
+ul.primary li.active a:active,
+ul.primary li.active a:visited {
+  background-color: #fff;
+  border-color: #c9cac4;
+}
+
+ul.primary li a:hover {
+  color: #fff;
+}
+
+ul.primary li.active a:hover {
+  color: #000;
+}
+
+ul.secondary {
+  float: none;
+  clear: both;
+  font-size: 12px;
+  text-align: right;
+  padding: 5px 10px 4px;
+  line-height: 20px;
+  overflow: hidden;
+  border-bottom: 1px solid #ccc;
+  background: #fff;
+}
+
+ul.secondary li {
+  padding-left: 10px;
+}
+
+ul.secondary li a {
+  color: #05a;
+}
+
+ul.secondary li a,
+ul.secondary li a:hover,
+ul.secondary li.active a,
+ul.secondary li.active a.active {
+  padding: 0 10px;
+  -moz-border-radius: 10px;
+  -webkit-border-radius: 7px;
+}
+
+ul.secondary li.active a,
+ul.secondary li.active a.active {
+  color: #fff;
+  background: #666;
+}
+
+/**
+ * Page layout.
+ */
+#page {
+  padding-bottom: 40px;
+  margin-right: 40px;
+  margin-left: 40px;
+  position: relative;
+}
+
+#page {
+  padding: 20px 0;
+  background: #fff;
+  color: #333;
+}
+
+#page ul.menu li,
+#page ul.menu li a,
+#secondary-links ul.links li,
+#secondary-links ul.links li a {
+  float: left;
+}
+
+#page ul.menu li,
+#secondary-links ul.links li {
+  padding: 0 10px 10px 0;
+}
+
+#page ul.menu li a,
+#secondary-links ul.links li a {
+  font-size: 9px;
+  line-height: 10px;
+  background: #777;
+  color: #fff;
+  text-align: center;
+  padding: 5px;
+  height: 55px;
+  width: 80px;
+  overflow: hidden;
+  -moz-border-radius: 5px;
+  -webkit-border-radius: 5px;
+}
+
+#secondary-links ul.links li a:hover {
+  background: #999;
+}
+
+#page ul.menu li a {
+  background: #f8f8f8;
+  color: #05a;
+}
+
+#page ul.menu li a:hover {
+  background: #eee;
+}
+
+#secondary-links ul.links li.active-trail a,
+#secondary-links ul.links li a.active {
+  background: #333;
+}
+
+#page ul.node-type-list li,
+#page ul.admin-list li {
+  position: relative;
+  padding-left: 30px;
+  padding-top: 9px;
+  border-top: 1px solid #ccc;
+  margin-left: 0;
+  margin-bottom: 10px;
+  background: url(../images/list-item.png) no-repeat 0 11px;
+  list-style-type: none;
+  list-style-image: none;
+}
+
+#page ul.admin-list.compact {
+  margin-bottom: 8px;
+}
+
+#page ul.admin-list.compact li {
+  border: 0;
+  background: none;
+  margin-bottom: 2px;
+  padding-top: 2px;
+}
+
+#page ul.admin-list li:last-child {
+  border-bottom: none;
+}
+
+#page ul.node-type-list .label {
+  font-size: 15px;
+}
+
+#page ul.node-type-list li a, #page ul.admin-list li a {
+  margin-left: -30px;
+  padding: 0px 0 4px 30px;
+  min-height: 0;
+}
+
+#page ul.node-type-list li div.description a, #page ul.admin-list li div.description a {
+  margin-left: 0px;
+  padding: 0px;
+  min-height: inherit;
+}
+
+/**
+ * Tables.
+ */
+table {
+  width: 100%;
+  font-size: 12px;
+  margin: 0 0 10px;
+  border: 1px solid #bebfb9;
+  border-top: 0;
+}
+
+table.system-status-report th,
+table td,
+table th {
+  vertical-align: middle;
+  padding: 8px 5px 8px 10px;
+}
+
+table.system-status-report th {
+  padding-left: 30px;
+}
+
+table.system-status-report tr.ok > * {
+  background-color: #dfd;
+}
+
+table.system-status-report tr.info > * {
+  background-color: #bdf;
+}
+
+table.system-status-report tr.warning > * {
+  background-color: #ffd;
+}
+
+table.system-status-report tr.error > * {
+  background-color: #fdd;
+}
+
+tr.even, tr.odd {
+  border-width: 0 1px 0 1px;
+  border-style: solid;
+  border-color: #bebfb9;
+  background: #f3f4ee;
+}
+
+tr.odd {
+  background: #fff;
+}
+
+table th {
+  font-size: 12px;
+  text-transform: uppercase;
+  background: #e1e2dc;
+  font-weight: normal;
+  border-width: 1px;
+  border-style: solid;
+  border-color: #bebfb9;
+  padding: 3px 3px 3px 10px;
+}
+
+table th.active {
+  background: #bdbeb9;
+}
+
+table th a {
+  display: block;
+  position: relative;
+}
+
+table th.active img {
+  position: absolute;
+  top: 3px;
+  right: 3px;
+}
+
+table td.active {
+  background: #e9e9dd;
+}
+
+table tr.odd td.active {
+  background: #f3f4ee;
+}
+
+table tr.selected td.active,
+table tr.selected td {
+  background: #ffc;
+  border-color: #eeb;
+}
+
+/**
+ * Forms.
+ */
+
+/* Fieldsets & Form items */
+fieldset {
+  border: 1px solid #ccc;
+  padding: 30px 13px 13px 14px;
+  margin: 0 0 10px;
+}
+
+fieldset legend span,
+fieldset legend a {
+  position: absolute;
+  margin-top: 9px;
+  margin-left: 13px;
+}
+
+fieldset legend a span {
+  position: relative;
+  margin-top: 0;
+  margin-left: 0;
+}
+
+fieldset.collapsed {
+  background: transparent;
+}
+
+html.js fieldset.collapsed legend,
+html.js fieldset.collapsed legend * {
+  display: block;
+}
+html.js fieldset.collapsed {
+  border-width: 1px;
+  margin-bottom: 10px;
+  padding: 13px;
+}
+
+fieldset fieldset {
+  background: #fff;
+}
+
+fieldset fieldset fieldset {
+  background: #f8f8f8;
+}
+
+html.js fieldset.collapsible .fieldset-wrapper {
+  overflow: visible;
+}
+
+div.form-item {
+  padding: 9px 0;
+  margin: 0 0 10px;
+}
+
+.filter-wrapper div.form-item,
+div.teaser-checkbox div.form-item,
+div.form-item div.form-item,
+fieldset div.form-item {
+  padding: 5px 0;
+  margin: 0;
+  border: 0;
+}
+
+.text-format-wrapper .form-item {
+  padding-bottom: 0;
+}
+
+div.form-item label {
+  margin: 0;
+  padding: 0;
+}
+
+fieldset legend {
+  text-transform: uppercase;
+}
+
+div.form-item label.option {
+  text-transform: none;
+}
+
+div.form-item label.option {
+  font-size: 12px;
+}
+div.form-item label.option input {
+  vertical-align: middle;
+}
+
+/* Filter */
+.filter-wrapper {
+  border-top: 0;
+  width: 95%;
+  padding: 10px 2px;
+}
+
+.filter-wrapper > div {
+  padding-right: 6px;
+  padding-left: 6px;
+}
+
+.filter-wrapper div.form-item,
+.filter-wrapper .filter-guidelines,
+.filter-wrapper .filter-help {
+  font-size: 12px;
+  padding: 0;
+}
+
+ul.tips,
+div.description,
+div.form-item div.description {
+  margin: 5px 0;
+  line-height: 15px;
+  font-size: 12px;
+  color: #666;
+}
+
+body div.form-type-radio div.description, body div.form-type-checkbox div.description {
+  margin-left: 1.5em;
+}
+
+/* Buttons */
+input.form-submit, a.button {
+  cursor: pointer;
+  padding: 4px 17px;
+  color: #5a5a5a;
+  text-align: center;
+  font-weight: normal;
+  font-family: "Lucida Grande", Verdana, sans-serif;
+  border: 1px solid #e4e4e4;
+  border-bottom: 1px solid #b4b4b4;
+  border-left-color: #D2D2D2;
+  border-right-color: #D2D2D2;
+  background: url(../images/buttons.png) 0 0 repeat-x;
+  -moz-border-radius: 20px;
+  -webkit-border-radius: 15px;
+  font-size: 1.1em;
+}
+
+#node-admin-content input.form-submit {
+    margin-left: 1.5em;
+}
+
+a.button:link, a.button:visited, a.button:hover, a.button:active {
+  text-decoration: none;
+  color: #5a5a5a;
+}
+
+div.node-form input#edit-submit,
+div.node-form input#edit-submit-1 {
+  border: 1px solid #8eB7cd;
+  border-left-color: #8eB7cd;
+  border-right-color: #8eB7cd;
+  border-bottom-color: #7691a2;
+  background: url(../images/buttons.png) 0px -40px repeat-x;
+  color: #133B54;
+}
+
+input.form-submit:active {
+  background: #666;
+  color: #fff;
+  border-color: #555;
+  text-shadow: #222 0px -1px 0px;
+}
+
+form input#edit-delete {
+  background: #eee;
+  border-color: #fff #ddd #ccc;
+  text-shadow: none;
+  color: #999;
+}
+
+input.form-autocomplete,
+input.form-text,
+textarea.form-textarea,
+select.form-select {
+  padding: 2px;
+  border: 1px solid #ccc;
+  border-top-color: #999;
+  background: #fff;
+  color: #333;
+}
+
+input.form-text:focus,
+textarea.form-textarea:focus,
+select.form-select:focus {
+  color: #000;
+  border-color: #ace;
+}
+
+.resizable-textarea .grippie {
+  width: 100%;
+  padding: 0 2px;
+}
+
+html.js input.form-autocomplete {
+  background-position: 100% 4px;
+}
+
+html.js input.throbbing {
+  background-position: 100% -16px;
+}
+
+ul.action-links {
+  margin: 1em 0;
+  padding: 0 20px 0 20px;
+  overflow: hidden;
+}
+
+#page ul.action-links {
+  padding: 0;
+}
+
+ul.action-links li {
+  float: left;
+  margin: 0 1em 0 0;
+}
+
+ul.action-links a {
+  padding-left: 15px;
+  background: transparent url(../images/add.png) no-repeat 0 center;
+  line-height: 30px;
+}
+
+/* Exceptions */
+#diff-inline-form select,
+#page div.filter-options select {
+  padding: 0;
+}
+
+/**
+ * System.
+ */
+div.admin .right,
+div.admin .left {
+  width: 49%;
+  margin: 0;
+}
+
+div.admin-panel,
+div.admin-panel .body {
+  padding: 0;
+  clear: left;
+}
+
+div.admin-panel {
+  margin: 0 0 20px;
+  padding: 9px;
+  background: #f8f8f8;
+  border: 1px solid #ccc;
+}
+
+#page div.admin-panel h3 {
+  font-size: 12px;
+  text-transform: uppercase;
+  margin: 0;
+  padding-bottom: 9px;
+}
+
+.container-inline fieldset {
+  display: block;
+}
+
+/* admin/appearance */
+#page #system-themes-page h2 {
+  font-weight: normal;
+  text-transform: uppercase;
+}
+#page .theme-selector h3 {
+  font-weight: normal;
+}
+#page .theme-default h3 {
+  font-weight: bold;
+}
+#page .system-themes-list-enabled .theme-selector h3 {
+  margin-top: 0;
+}
+
+/* admin/content and admin/people */
+#page dl.multiselect,
+#page dl.multiselect dt,
+#page dl.multiselect dd {
+  margin: 0 10px 0 0;
+}
+
+#page dl.multiselect select {
+  font-size: 12px;
+  background: #fff;
+  border: 1px solid #ccc;
+}
+
+/* Update options. */
+div.admin-options {
+  background: #f8f8f8;
+  line-height: 30px;
+  height: 30px;
+  padding: 9px;
+  border: 1px solid #ccc;
+  margin: 0 0 10px;
+}
+
+div.admin-options label {
+  text-transform: uppercase;
+  font: 12px/30px Lucida Grande, Lucida Sans Unicode, sans-serif;
+}
+
+div.admin-options label,
+div.admin-options div.form-item {
+  margin-right: 10px;
+  float: left;
+}
+
+div.admin-options div.form-item {
+  padding: 0;
+  border: 0;
+}
+
+/* Update status */
+.versions table.version {
+  border: none;
+}
+
+/* Maintenance theming */
+body.in-maintenance #sidebar-first {
+  float: right;
+  width: 200px;
+}
+body.in-maintenance #content {
+  float: left;
+  width: 550px;
+  padding-right: 20px;
+}
+body.in-maintenance #page {
+  width: 770px;
+  margin: 0 auto;
+  padding-top: 2em;
+}
+body.in-maintenance #branding h1 {
+  width: 770px;
+  margin: 0 auto;
+  float: none;
+}
+
+body.in-maintenance .form-radios .form-type-radio {
+  padding: 2px 0;
+}
+
+body.in-maintenance .form-submit {
+  display: block;
+}
+
+body.in-maintenance #logo {
+  margin-bottom: 1.5em;
+}
+
+ol.task-list {
+  margin-left: 0; /* LTR */
+  list-style-type: none;
+  list-style-image: none;
+}
+ol.task-list li {
+  padding: 0.5em 1em 0.5em 20px; /* LTR */
+  color: #adadad;
+}
+ol.task-list li.active {
+  background: transparent url(../images/task-item.png) no-repeat 3px 50%; /* LTR */
+  padding: 0.5em 1em 0.5em 20px; /* LTR */
+  color: #000;
+}
+ol.task-list li.done {
+  color: #393;
+  background: transparent url(../images/task-check.png) no-repeat 0px 50%; /* LTR */
+  color: green;
+}
+
+/* Overlay theming */
+.overlay #branding {
+  background-color: #fff;
+  padding-top: 15px;
+}
+.overlay .primary,
+.overlay #branding h1.page-title,
+.overlay #page #left,
+.overlay #page #footer {
+  display: none;
+}
+.overlay #page {
+  margin: 0;
+}
+.overlay #branding div.breadcrumb {
+  float: left;
+  position: relative;
+  z-index: 10;
+}
+.overlay ul.secondary {
+  background: transparent none;
+  margin: -2.4em 0 0;
+  padding: 3px 10px;
+}
+.overlay #content {
+  padding: 0 20px;
+}
+.overlay #page {
+  padding: 0;
+}
+
+/* Shortcut theming */
+div.add-or-remove-shortcuts {
+  float: left;
+  padding-top: 6px;
+  padding-left: 6px;
+}
+
+
+
+/**
+ * Override of misc/vertical-tabs.css.
+ */
+div.vertical-tabs {
+  margin: 10px 0;
+  padding: 9px;
+  border: 1px solid #ccc;
+  background: #f8f8f8;
+}
+
+div.vertical-tabs fieldset {
+  border: 0;
+  padding: 0 0 0 20px;
+}
+
+div.vertical-tabs .vertical-tabs-list {
+  line-height: 10px;
+  font-size: 11px;
+  width: 25%;
+  float: left;
+}
+
+div.vertical-tabs ul li.vertical-tab-button a {
+  display: block;
+  border-right: 1px solid #ccc;
+  padding: 10px 9px 10px 10px;
+  -moz-border-radius-topleft: 5px;
+  -moz-border-radius-bottomleft: 5px;
+  -webkit-border-top-left-radius: 5px;
+  -webkit-border-bottom-left-radius: 5px;
+}
+
+div.vertical-tabs ul li.vertical-tab-button .summary {
+  display: block;
+  font-size: 9px;
+  color: #666;
+  padding-top: 0.5em;
+}
+
+div.vertical-tabs ul li.vertical-tab-button a:hover {
+  background: #fff;
+  text-decoration: none;
+}
+
+div.vertical-tabs ul li.selected a,
+div.vertical-tabs ul li.selected a:hover {
+  background: #ddd;
+}
+
+div.vertical-tabs .vertical-tabs-panes {
+  width: 75%;
+  float: right;
+}
+
+div.vertical-tabs .vertical-tabs-panes legend {
+  display: none;
+}
+
diff --git a/sites/all/themes/seven/ie.css b/sites/all/themes/seven/ie.css
new file mode 100644
index 0000000..a430ec5
--- /dev/null
+++ b/sites/all/themes/seven/ie.css
@@ -0,0 +1,11 @@
+
+/* IE7 renders legends in nested fieldsets without a width. */
+fieldset legend {
+  height: 1%;
+}
+
+/* IE renders absolute positioned legend where fieldset content starts. */
+fieldset .fieldset-legend {
+  left: 0;
+  top: 0;
+}
diff --git a/sites/all/themes/seven/ie6.css b/sites/all/themes/seven/ie6.css
new file mode 100644
index 0000000..6a4d18c
--- /dev/null
+++ b/sites/all/themes/seven/ie6.css
@@ -0,0 +1,19 @@
+
+ul.menu li,
+ul.menu li a,
+ul.links li,
+ul.links li a,
+.action-links,
+#page {
+  height: 1%;
+}
+#block-system-main ul.node-type-list li a,
+#block-system-main ul.admin-list li a {
+  height: 1px;
+  position: relative;
+  display: block;
+}
+#block-system-main ul.node-type-list li div.description a,
+#block-system-main ul.admin-list li div.description a {
+  display: inline;
+}
diff --git a/sites/all/themes/seven/images/add.png b/sites/all/themes/seven/images/add.png
new file mode 100644
index 0000000..b427878
Binary files /dev/null and b/sites/all/themes/seven/images/add.png differ
diff --git a/sites/all/themes/seven/images/arrow-asc.png b/sites/all/themes/seven/images/arrow-asc.png
new file mode 100644
index 0000000..74f6fa3
Binary files /dev/null and b/sites/all/themes/seven/images/arrow-asc.png differ
diff --git a/sites/all/themes/seven/images/arrow-desc.png b/sites/all/themes/seven/images/arrow-desc.png
new file mode 100644
index 0000000..dbcc8d9
Binary files /dev/null and b/sites/all/themes/seven/images/arrow-desc.png differ
diff --git a/sites/all/themes/seven/images/arrow-next.png b/sites/all/themes/seven/images/arrow-next.png
new file mode 100644
index 0000000..3f6a12c
Binary files /dev/null and b/sites/all/themes/seven/images/arrow-next.png differ
diff --git a/sites/all/themes/seven/images/arrow-prev.png b/sites/all/themes/seven/images/arrow-prev.png
new file mode 100644
index 0000000..f43b68b
Binary files /dev/null and b/sites/all/themes/seven/images/arrow-prev.png differ
diff --git a/sites/all/themes/seven/images/buttons.png b/sites/all/themes/seven/images/buttons.png
new file mode 100644
index 0000000..5ef49fd
Binary files /dev/null and b/sites/all/themes/seven/images/buttons.png differ
diff --git a/sites/all/themes/seven/images/fc.png b/sites/all/themes/seven/images/fc.png
new file mode 100644
index 0000000..ac44b41
Binary files /dev/null and b/sites/all/themes/seven/images/fc.png differ
diff --git a/sites/all/themes/seven/images/list-item.png b/sites/all/themes/seven/images/list-item.png
new file mode 100644
index 0000000..1ec17c8
Binary files /dev/null and b/sites/all/themes/seven/images/list-item.png differ
diff --git a/sites/all/themes/seven/images/task-check.png b/sites/all/themes/seven/images/task-check.png
new file mode 100644
index 0000000..9dcb0bc
Binary files /dev/null and b/sites/all/themes/seven/images/task-check.png differ
diff --git a/sites/all/themes/seven/images/task-item.png b/sites/all/themes/seven/images/task-item.png
new file mode 100644
index 0000000..88101d0
Binary files /dev/null and b/sites/all/themes/seven/images/task-item.png differ
diff --git a/sites/all/themes/seven/logo.png b/sites/all/themes/seven/logo.png
new file mode 100644
index 0000000..6680e66
Binary files /dev/null and b/sites/all/themes/seven/logo.png differ
diff --git a/sites/all/themes/seven/page.tpl.php b/sites/all/themes/seven/page.tpl.php
new file mode 100644
index 0000000..d1da669
--- /dev/null
+++ b/sites/all/themes/seven/page.tpl.php
@@ -0,0 +1,70 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
+  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="<?php echo $language->language ?>" lang="<?php echo $language->language ?>" dir="<?php echo $language->dir ?>">
+
+<head>
+  <title><?php print $head_title; ?></title>
+
+  <?php print $head; ?>
+  <?php print $styles; ?>
+  <!--[if lte IE 8]>
+    <style type="text/css" media="all">@import "<?php echo $base_path . path_to_theme() ?>/ie.css";</style>
+  <![endif]-->
+  <!--[if lte IE 6]>
+    <style type="text/css" media="all">@import "<?php echo $base_path . path_to_theme() ?>/ie6.css";</style>
+  <![endif]-->
+  <?php print $scripts; ?>
+
+</head>
+
+<body class="<?php print $body_classes; ?>">
+
+  <div id="skip-link">
+    <a href="#main-content"><?php print t('Skip to main content'); ?></a>
+  </div>
+
+  <div class="element-invisible"><a id="main-content"></a></div>
+
+  <div id="branding" class="clearfix">
+
+    <?php if (!empty($breadcrumb)): ?><?php print $breadcrumb; ?><?php endif; ?>
+
+    <?php if (!empty($title)): ?>
+      <h1 class="page-title"><?php print $title; ?></h1>
+    <?php endif; ?>
+
+    <?php if (!empty($primary_local_tasks)): ?><ul class="tabs primary"><?php print $primary_local_tasks; ?></ul><?php endif; ?>
+
+  </div>
+
+  <div id="page">
+    <?php if (!empty($secondary_local_tasks)): ?><ul class="tabs secondary"><?php print $secondary_local_tasks; ?></ul><?php endif; ?>
+
+    <div id="content" class="clearfix">
+
+      <?php if (!empty($messages)): ?>
+        <div id="console" class="clearfix"><?php print $messages; ?></div>
+      <?php endif; ?>
+
+      <?php if (!empty($help)): ?>
+        <div id="help">
+          <?php print $help; ?>
+        </div>
+      <?php endif; ?>
+
+      <?php if (!empty($action_links)): ?><ul class="action-links"><?php print drupal_render($action_links); ?></ul><?php endif; ?>
+
+      <?php print $content; ?>
+
+    </div>
+
+    <div id="footer">
+      <?php if (!empty($feed_icons)): ?><?php print $feed_icons; ?><?php endif; ?>
+    </div>
+
+  </div>
+
+  <?php print $closure; ?>
+
+</body>
+</html>
diff --git a/sites/all/themes/seven/reset.css b/sites/all/themes/seven/reset.css
new file mode 100644
index 0000000..da52f40
--- /dev/null
+++ b/sites/all/themes/seven/reset.css
@@ -0,0 +1,228 @@
+
+/**
+ * Reset CSS styles.
+ *
+ * Based on Eric Meyer's "Reset CSS 1.0" tool from
+ * http://meyerweb.com/eric/tools/css/reset
+ */
+
+html,
+body,
+div,
+span,
+applet,
+object,
+iframe,
+h1,
+h2,
+h3,
+h4,
+h5,
+h6,
+p,
+blockquote,
+pre,
+a,
+abbr,
+acronym,
+address,
+big,
+cite,
+code,
+del,
+dfn,
+em,
+font,
+img,
+ins,
+kbd,
+q,
+s,
+samp,
+small,
+strike,
+strong,
+sub,
+sup,
+tt,
+var,
+b,
+u,
+i,
+center,
+dl,
+dt,
+dd,
+ol,
+ul,
+li,
+fieldset,
+form,
+input,
+select,
+textarea,
+label,
+legend,
+table,
+caption,
+tbody,
+tfoot,
+thead,
+tr,
+th,
+td,
+/* Drupal: system-menus.css */
+td.menu-disabled,
+ul.links,
+ul.links.inline,
+ul.links li,
+.block ul,
+/* Drupal: admin.css */
+div.admin,
+/* Drupal: system.css */
+tr.even,
+tr.odd,
+tr.drag,
+tbody,
+tbody th,
+thead th,
+.breadcrumb,
+.item-list .icon,
+.item-list .title,
+.item-list ul,
+.item-list ul li,
+ol.task-list li.active,
+.form-item,
+tr.odd .form-item,
+tr.even .form-item,
+.form-item .description,
+.form-item label,
+.form-item label.option,
+.form-checkboxes,
+.form-radios,
+.form-checkboxes .form-item,
+.form-radios .form-item,
+.marker,
+.form-required,
+.more-link,
+.more-help-link,
+.item-list .pager,
+.item-list .pager li,
+.pager-current,
+.tips,
+dl.multiselect dd,
+dl.multiselect dd .form-item,
+dl.multiselect dd select,
+dl.multiselect dt,
+dl.multiselect .form-item,
+ul.primary,
+ul.primary li,
+ul.primary li a,
+ul.primary li.active a,
+ul.primary li a:hover,
+ul.secondary,
+ul.secondary li,
+ul.secondary a,
+ul.secondary a.active,
+.resizable-textarea {
+  margin: 0;
+  padding: 0;
+  border: 0;
+  font-size: 100%;
+  vertical-align: baseline;
+  line-height: inherit;
+}
+/* Drupal: system-menus.css */
+ul.links,
+ul.links.inline,
+ul.links li,
+.block ul,
+ol,
+ul,
+.item-list ul,
+.item-list ul li {
+  list-style: none;
+}
+blockquote,
+q {
+  quotes: none;
+}
+blockquote:before,
+blockquote:after,
+q:before,
+q:after {
+  content: '';
+  content: none;
+}
+
+/* Remember to highlight inserts somehow! */
+ins {
+  text-decoration: none;
+}
+del {
+  text-decoration: line-through;
+}
+
+/* Tables still need 'cellspacing="0"' in the markup. */
+table {
+  border-collapse: collapse;
+  border-spacing: 0;
+}
+
+/**
+ * Font reset.
+ *
+ * Specifically targets form elements which browsers often times give
+ * special treatment.
+ */
+input,
+select,
+textarea,
+body {
+  font: 13px/20px "Helvetica Neue", Helvetica, Arial, sans-serif;
+}
+
+/**
+ * Markup free clearing.
+ *
+ * Consider adding your own selectors to this instead of finding ways
+ * to sneak the clearfix class into Drupal's markup.
+ * From http://www.positioniseverything.net/easyclearing.html
+ */
+ul.links:after,
+div.admin-panel .body:after,
+.clearfix:after {
+  content: ".";
+  display: block;
+  height: 0;
+  clear: both;
+  visibility: hidden;
+}
+
+/* Exclude inline links from clearfix behavior */
+ul.inline:after {
+  content: "";
+  display: none;
+  clear: none;
+}
+.form-item,
+ul.links,
+div.admin-panel .body,
+.clearfix {
+  display: inline-block;
+}
+
+/* Hides from IE-mac \*/
+* html .form-item,
+* html ul.links,
+* html div.admin-panel .body,
+* html .clearfix {
+  height: 1%;
+}
+.form-item,
+ul.links,
+div.admin-panel .body,
+.clearfix {
+  display: block;
+}
+/* End hide from IE-mac */
diff --git a/sites/all/themes/seven/screenshot.png b/sites/all/themes/seven/screenshot.png
new file mode 100644
index 0000000..46469c7
Binary files /dev/null and b/sites/all/themes/seven/screenshot.png differ
diff --git a/sites/all/themes/seven/seven.info b/sites/all/themes/seven/seven.info
new file mode 100644
index 0000000..8f874b2
--- /dev/null
+++ b/sites/all/themes/seven/seven.info
@@ -0,0 +1,18 @@
+
+name = Seven
+description = A simple one-column, tableless, fluid width administration theme.
+core = 6.x
+engine = phptemplate
+
+stylesheets[all][] = reset.css
+stylesheets[all][] = style.css
+stylesheets[all][] = vertical_tabs.css
+
+regions[content] = Content
+
+; Information added by drupal.org packaging script on 2011-05-03
+version = "6.x-1.0-rc1"
+core = "6.x"
+project = "seven"
+datestamp = "1304412116"
+
diff --git a/sites/all/themes/seven/style.css b/sites/all/themes/seven/style.css
new file mode 100644
index 0000000..b3cf1f9
--- /dev/null
+++ b/sites/all/themes/seven/style.css
@@ -0,0 +1,968 @@
+
+/**
+ * Generic elements.
+ */
+body {
+  color: #000;
+  background: #fff;
+  font-style: normal;
+  line-height: 20px;
+  font-size: 0.8em;
+  font-family: Lucida Grande, Lucida Sans Unicode, sans-serif;
+}
+a {
+  color: #0074BD;
+  text-decoration: none;
+}
+a:hover {
+  text-decoration: underline;
+}
+hr {
+  margin: 0;
+  padding: 0;
+  border: none;
+  height: 1px;
+  background: #CCCCCC;
+}
+legend {
+  font-weight: bold;
+}
+h1,
+h2,
+h3,
+h4,
+h5,
+h6 {
+  font-weight: bold;
+  margin: 10px 0;
+}
+h1 {
+  font-size: 150%;
+}
+h2 {
+  font-size: 140%;
+}
+h3 {
+  font-size: 130%;
+}
+h4 {
+  font-size: 120%;
+}
+h5 {
+  font-size: 110%;
+}
+h6 {
+  font-size: 105%;
+}
+p {
+  margin: 1em 0;
+}
+dl {
+  margin: 0 0 20px;
+}
+dl dd,
+dl dl {
+  margin-left: 20px;
+  margin-bottom: 10px;
+}
+blockquote {
+  margin: 1em 40px;
+}
+address {
+  font-style: italic;
+}
+u,
+ins {
+  text-decoration: underline;
+}
+s,
+strike,
+del {
+  text-decoration: line-through;
+}
+big {
+  font-size: larger;
+}
+small {
+  font-size: smaller;
+}
+sub {
+  vertical-align: sub;
+  font-size: smaller;
+  line-height: normal;
+}
+sup {
+  vertical-align: super;
+  font-size: smaller;
+  line-height: normal;
+}
+nobr {
+  white-space: nowrap;
+}
+abbr,
+acronym {
+  border-bottom: dotted 1px;
+}
+ul,
+.block ul,
+.item-list ul,
+.item-list ul {
+  list-style-type: disc;
+  list-style-image: none;
+  margin: 0.25em 0 0.25em 1.5em; /* LTR */
+}
+.item-list ul li,
+li.leaf,
+ul.menu li {
+  list-style-type: disc;
+  list-style-image: none;
+}
+ul.menu li {
+  margin: 0;
+}
+ol {
+  list-style-type: decimal;
+  margin: 0.25em 0 0.25em 2em;
+}
+.item-list ul li.collapsed,
+ul.menu li.collapsed {
+  list-style-image:url(../../../../misc/menu-collapsed.png);
+  list-style-type:disc;
+}
+.item-list ul li.expanded,
+ul.menu li.expanded {
+  list-style-image:url(../../../../misc/menu-expanded.png);
+  list-style-type:circle;
+}
+quote,
+code {
+  margin: .5em 0;
+}
+code,
+pre,
+kbd {
+  font-size: 1.25em;
+}
+
+/**
+ * Skip link.
+ */
+#skip-link {
+  margin-top: 0;
+  position: absolute;
+  left: 50%;
+  margin-left: -5.25em;
+  width: auto;
+  z-index: 50;
+}
+#skip-link a,
+#skip-link a:link,
+#skip-link a:visited {
+  position: absolute;
+  display: block;
+  top: auto;
+  left: -10000px;
+  width: 1px;
+  height: 1px;
+  background: #444;
+  color: #fff;
+  font-size: 0.94em;
+  text-decoration: none;
+  border-radius:0 0 10px 10px;
+  -moz-border-radius: 0 0 10px 10px;
+  -webkit-border-top-left-radius: 0;
+  -webkit-border-top-right-radius: 0;
+  -webkit-border-bottom-left-radius: 10px;
+  -webkit-border-bottom-right-radius: 10px;
+
+}
+#skip-link a:hover,
+#skip-link a:active,
+#skip-link a:focus {
+  position: static;
+  width: auto;
+  height: auto;
+  overflow: visible;
+  padding: 1px 10px 2px 10px;
+}
+
+/**
+ * Branding.
+ */
+#branding {
+  overflow: hidden;
+  padding: 20px 20px 0 20px;
+  position: relative;
+  background-color: #e0e0d8;
+}
+#branding div.breadcrumb {
+  font-size: 11px;
+  padding-bottom: 5px;
+}
+#branding div.block {
+  position: relative;
+  float: right;
+  width: 240px;
+  padding-left: 10px;
+  background: #333;
+}
+#branding div.block form label {
+  display: none;
+}
+#branding div.block form div.form-item {
+  float: left;
+  border: 0;
+  margin: 0;
+  padding: 0;
+}
+#branding div.block form input.form-text {
+  width: 140px;
+  margin-right: 10px;
+}
+#branding div.block form input.form-submit {
+  text-align: center;
+  width: 80px;
+}
+
+/**
+ * Help.
+ */
+#help {
+  font-size: 0.9em;
+  margin-top: 1em;
+}
+#help p {
+  margin: 0 0 10px;
+}
+
+#help div.more-help-link {
+  text-align: right;
+}
+
+/**
+ * Messages.
+ */
+div.messages {
+  padding: 9px;
+  margin: 0.5em 0 0;
+  color: #036;
+  background: #bdf;
+  border: 1px solid #ace;
+}
+div.warning {
+  color: #840;
+  background: #fe6;
+  border-color: #ed5;
+}
+div.error {
+  color: #fff;
+  background: #e63;
+  border-color: #d52;
+}
+div.error p.error {
+  color: #333;
+}
+div.status {
+  color: #360;
+  background: #cf8;
+  border-color: #be7;
+}
+
+/**
+ * Page title.
+ */
+#page-title {
+  background: #333;
+  padding-top: 20px;
+}
+#branding h1.page-title {
+  color: #000;
+  margin: 0;
+  padding-bottom: 10px;
+  font-size: 18px;
+  font-weight: normal;
+  float: left;
+}
+
+/**
+ * Console.
+ */
+#console {
+  margin: 9px 0 10px;
+}
+
+/**
+ * Tabs.
+ */
+ul.primary {
+  float: right;
+  border-bottom: none;
+  margin: 0 0 -10px 0;
+  padding: 3px 0 0 8px;
+  line-height: 30px;
+  text-transform: uppercase;
+  font-size: 12px;
+}
+ul.primary li {
+  display: inline;
+  list-style: none;
+}
+ul.primary li a,
+ul.primary li a.active,
+ul.primary li a:active,
+ul.primary li a:visited,
+ul.primary li a:hover,
+ul.primary li.active a {
+  background-color: #a6a7a2;
+  color: #000;
+  font-weight: bold;
+  padding: 7px 20px 5px 20px;
+  border-width: 1px 1px 0 1px;
+  border-style: solid;
+  border-color: #a6a7a2;
+  border-radius: 8px 8px 0 0;
+  -moz-border-radius: 8px 8px 0 0;
+  -webkit-border-top-left-radius: 8px;
+  -webkit-border-top-right-radius: 8px;
+}
+ul.primary li.active a,
+ul.primary li.active a.active,
+ul.primary li.active a:active,
+ul.primary li.active a:visited {
+  background-color: #fff;
+  border-color: #c9cac4;
+}
+ul.primary li a:hover {
+  color: #fff;
+}
+ul.primary li.active a:hover {
+  color: #000;
+}
+ul.secondary {
+  float: none;
+  clear: both;
+  font-size: 12px;
+  text-align: right;
+  padding: 4px 10px 10px;
+  line-height: 18px;
+  overflow: hidden;
+  background-color: #fff;
+}
+ul.secondary li {
+  padding-left: 10px;
+}
+ul.secondary li a {
+  background-color: #ddd;
+  color: #000;
+}
+ul.secondary li a,
+ul.secondary li a:hover,
+ul.secondary li.active a,
+ul.secondary li.active a.active {
+  padding: 2px 10px;
+  border-radius: 7px;
+  -moz-border-radius: 7px;
+  -webkit-border-radius: 7px;
+}
+ul.secondary li a:hover,
+ul.secondary li.active a,
+ul.secondary li.active a.active {
+  color: #fff;
+  background: #666;
+}
+
+/**
+ * Page layout.
+ */
+#page {
+  padding: 20px 0 40px 0;
+  margin-right: 40px;
+  margin-left: 40px;
+  background: #fff;
+  position: relative;
+  color: #333;
+}
+#secondary-links ul.links li {
+  padding: 0 10px 10px 0;
+}
+#secondary-links ul.links li a {
+  font-size: 9px;
+  line-height: 10px;
+  background: #777;
+  color: #fff;
+  text-align: center;
+  padding: 5px;
+  height: 55px;
+  width: 80px;
+  overflow: hidden;
+  border-radius: 5px;
+  -moz-border-radius: 5px;
+  -webkit-border-radius: 5px;
+}
+#secondary-links ul.links li a:hover {
+  background: #999;
+}
+ul.links li,
+ul.inline li {
+  padding-right: 1em;
+}
+ul.inline li {
+  display: inline;
+}
+#secondary-links ul.links li.active-trail a,
+#secondary-links ul.links li a.active {
+  background: #333;
+}
+ul.node-type-list li,
+ul.admin-list li {
+  position: relative;
+  padding-left: 30px;
+  padding-top: 9px;
+  border-top: 1px solid #ccc;
+  margin-left: 0;
+  margin-bottom: 10px;
+  background: url(images/list-item.png) no-repeat 0 11px;
+  list-style-type: none;
+  list-style-image: none;
+}
+.admin-panel .item-list ul,
+ul.admin-list {
+  margin: 0;
+  padding: 0;
+}
+.admin-panel .item-list ul,
+ul.admin-list.compact {
+  margin-bottom: 8px;
+}
+.admin-panel .item-list li,
+ul.admin-list.compact li {
+  border: none;
+  background: none;
+  margin: 0.25em 0 0.25em 1.5em;
+  padding: 0;
+  list-style-type: disc;
+}
+ul.admin-list li:last-child {
+  border-bottom: none;
+}
+
+ul.node-type-list .label {
+  font-size: 15px;
+}
+ul.node-type-list li a,
+ul.admin-list li a {
+  margin-left: -30px;
+  padding: 0px 0 4px 30px;
+  min-height: 0;
+}
+ul.admin-list.compact li a {
+  margin-left: 0;
+  padding: 0;
+}
+ul.node-type-list li div.description a,
+ul.admin-list li div.description a {
+  margin-left: 0px;
+  padding: 0px;
+  min-height: inherit;
+}
+
+/**
+ * Tables.
+ */
+table {
+  width: 100%;
+  font-size: 12px;
+  margin: 0 0 10px;
+  border: 1px solid #bebfb9;
+}
+table td,
+table th {
+  vertical-align: middle;
+  padding: 8px 10px;
+  border: 0;
+  color: #000;
+}
+tr.even,
+tr.odd {
+  border-width: 0 1px 0 1px;
+  border-style: solid;
+  border-color: #bebfb9;
+  background: #f3f4ee;
+}
+tr.odd {
+  background: #fff;
+}
+tr.drag {
+  background: #fe7;
+}
+tr.drag-previous {
+  background: #ffb;
+}
+table th {
+  font-size: 12px;
+  text-transform: uppercase;
+  background: #e1e2dc;
+  font-weight: normal;
+  border-width: 1px;
+  border-style: solid;
+  border-color: #bebfb9;
+  padding: 3px 10px;
+}
+table th.active {
+  background: #bdbeb9;
+}
+table th a {
+  display: block;
+  position: relative;
+}
+table th.active img {
+  position: absolute;
+  top: 3px;
+  right: 3px;
+}
+table td.active {
+  background: #e9e9dd;
+}
+table tr.odd td.active {
+  background: #f3f4ee;
+}
+table tr.selected td.active,
+table tr.selected td {
+  background: #ffc;
+  border-color: #eeb;
+}
+table.system-status-report tr {
+ border-bottom: 1px solid #bebfb9;
+}
+table.system-status-report tr.ok td {
+  background-color: #dfd;
+}
+table.system-status-report tr.info td {
+  background-color: #bdf;
+}
+table.system-status-report tr.warning td {
+  background-color: #ffd;
+}
+table.system-status-report tr.error td {
+  background-color: #fdd;
+}
+/**
+ * Fieldsets.
+ *
+ * Fieldset legends are displayed like containers in Seven. However, several
+ * browsers do not support styling of LEGEND elements. To achieve the desired
+ * styling:
+ * - All fieldsets use 'position: relative'.
+ * - All legend labels are wrapped in a single span.fieldset-legend that uses
+ *   'position: absolute', which means that the LEGEND element itself is not
+ *   rendered by browsers.
+ * - Due to using 'position: absolute', collapsed fieldsets do not have a
+ *   height; the fieldset requires a 'padding-top' to make the absolute
+ *   positioned .fieldset-legend appear as though it would have a height.
+ * - Various browsers are positioning the legend differently if there is a
+ *   'padding-left'/'padding-right' applied on a fieldset and inherit the
+ *   positioning even to absolute positioned elements within; we therefore have
+ *   to apply all padding to the inner .fieldset-wrapper instead.
+ */
+fieldset {
+  border: 1px solid #ccc;
+  padding: 2.5em 0 0 0;
+  position: relative;
+  margin: 1em 0;
+}
+fieldset .fieldset-legend {
+  margin-top: 0.5em;
+  padding-left: 15px;
+  position: absolute;
+  text-transform: uppercase;
+}
+fieldset .fieldset-wrapper {
+  padding: 0 13px 13px 15px;
+}
+fieldset.collapsed {
+  background-color: transparent;
+}
+html.js fieldset.collapsed {
+  border-width: 1px;
+  height: auto;
+  margin: 1em 0;
+}
+html.js fieldset.collapsed legend * {
+  display: inline;
+}
+html.js fieldset.collapsible legend a {
+  padding-left: 0;
+}
+html.js fieldset.collapsible .fieldset-legend {
+  background: url("/misc/menu-expanded.png") no-repeat scroll 5px 65% transparent
+}
+html.js fieldset.collapsed .fieldset-legend {
+  background: url("/misc/menu-collapsed.png") no-repeat scroll 5px 50% transparent
+}
+fieldset fieldset {
+  background-color: #fff;
+}
+fieldset fieldset fieldset {
+  background-color: #f8f8f8;
+}
+
+/**
+ * Form elements.
+ */
+.form-item {
+  padding: 9px 0;
+  margin: 0 0 10px;
+}
+.teaser-checkbox {
+  position: relative;
+  top: -10px;
+}
+.filter-wrapper .form-item,
+div.teaser-checkbox .form-item,
+.form-item .form-item {
+  padding: 5px 0;
+  margin: 0;
+  border: 0;
+}
+#edit-teaser-include-wrapper {
+  padding-right: 1em;
+}
+.form-type-checkbox {
+  padding: 0;
+}
+.text-format-wrapper .form-item {
+  padding-bottom: 0;
+}
+.form-item label {
+  margin: 0;
+  padding: 0;
+}
+.form-item label.option {
+  text-transform: none;
+}
+.form-item label.option {
+  font-size: 12px;
+}
+.form-item label.option input {
+  vertical-align: middle;
+}
+
+/* Filter */
+.filter-wrapper {
+  border-top: 0;
+  padding: 10px 2px;
+}
+.filter-wrapper > div {
+  padding-right: 6px;
+  padding-left: 6px;
+}
+.filter-wrapper .form-item,
+.filter-wrapper .filter-guidelines,
+.filter-wrapper .filter-help {
+  font-size: 12px;
+  padding: 0;
+}
+ul.tips,
+div.description,
+.form-item div.description {
+  margin: 5px 0;
+  line-height: 15px;
+  font-size: 12px;
+  color: #666;
+}
+ul.tips li {
+  margin: 0.25em 0 0.25em 1.5em;
+}
+body div.form-type-radio div.description,
+body div.form-type-checkbox div.description {
+  margin-left: 1.5em;
+}
+input.form-submit,
+a.button,
+input.teaser-button {
+  cursor: pointer;
+  padding: 4px 17px;
+  margin-bottom: 1em;
+  color: #5a5a5a;
+  text-align: center;
+  font-weight: normal;
+  font-size: 1.1em;
+  font-family: "Lucida Grande", Verdana, sans-serif;
+  border: 1px solid #e4e4e4;
+  border-bottom: 1px solid #b4b4b4;
+  border-left-color: #D2D2D2;
+  border-right-color: #D2D2D2;
+  background: url(images/buttons.png) 0 0 repeat-x;
+  border-radius: 15px;
+  -moz-border-radius: 20px;
+  -webkit-border-radius: 15px;
+}
+a.button:link,
+a.button:visited,
+a.button:hover,
+a.button:active {
+  text-decoration: none;
+  color: #5a5a5a;
+}
+div.node-form input#edit-submit,
+div.node-form input#edit-submit-1 {
+  border: 1px solid #8eB7cd;
+  border-left-color: #8eB7cd;
+  border-right-color: #8eB7cd;
+  border-bottom-color: #7691a2;
+  background: url(images/buttons.png) 0px -40px repeat-x;
+  color: #133B54;
+}
+div.node-form .resizable-textarea {
+  width: 99.5%;
+} 
+input.form-submit:active,
+input.teaser-button:active {
+  background: #666;
+  color: #fff;
+  border-color: #555;
+  text-shadow: #222 0px -1px 0px;
+}
+div.teaser-button-wrapper {
+  padding-right: 0;
+}
+form input#edit-delete {
+  background: #eee;
+  border-color: #fff #ddd #ccc;
+  text-shadow: none;
+  color: #999;
+}
+input.form-autocomplete,
+input.form-text,
+textarea.form-textarea,
+select.form-select {
+  padding: 2px;
+  border: 1px solid #ccc;
+  border-top-color: #999;
+  background: #fff;
+  color: #333;
+}
+input.form-text:focus,
+textarea.form-textarea:focus,
+select.form-select:focus {
+  color: #000;
+  border-color: #ace;
+}
+html.js input.form-autocomplete {
+  background-position: 100% 4px;
+}
+html.js input.throbbing {
+  background-position: 100% -16px;
+}
+ul.action-links {
+  margin: 1em 0;
+  padding: 0 20px 0 20px;
+  list-style-type: none;
+  overflow: hidden;
+}
+ul.action-links li {
+  float: left;
+  margin: 0 1em 0 0;
+}
+ul.action-links a {
+  padding-left: 15px;
+  background: transparent url(images/add.png) no-repeat 0 center;
+  line-height: 30px;
+}
+
+/* Exceptions */
+#diff-inline-form select,
+div.filter-options select {
+  padding: 0;
+}
+
+/**
+ * System.
+ */
+div.admin .right,
+div.admin .left {
+  width: 49%;
+  margin: 0;
+}
+div.admin-panel,
+div.admin-panel .body {
+  padding: 0;
+  clear: left;
+}
+div.admin-panel {
+  margin: 0 0 20px;
+  padding: 9px;
+  background: #f8f8f8;
+  border: 1px solid #ccc;
+}
+div.admin-panel h3 {
+  font-size: 12px;
+  text-transform: uppercase;
+  margin: 0;
+  padding-bottom: 9px;
+}
+
+/* admin/appearance */
+#system-themes-page h2 {
+  font-weight: normal;
+  text-transform: uppercase;
+}
+.theme-selector h3 {
+  font-weight: normal;
+}
+.theme-default h3 {
+  font-weight: bold;
+}
+.system-themes-list-enabled .theme-selector h3 {
+  margin-top: 0;
+}
+
+/* admin/content and admin/people */
+dl.multiselect,
+dl.multiselect dt,
+dl.multiselect dd {
+  margin: 0 10px 0 0;
+}
+dl.multiselect select,
+dl.multiselect dd select {
+  font-size: 12px;
+  background: #fff;
+  border: 1px solid #ccc;
+}
+
+/* Update options. */
+div.admin-options {
+  background: #f8f8f8;
+  line-height: 30px;
+  height: 30px;
+  padding: 9px;
+  border: 1px solid #ccc;
+  margin: 0 0 10px;
+}
+div.admin-options label {
+  text-transform: uppercase;
+  font: 12px/30px Lucida Grande, Lucida Sans Unicode, sans-serif;
+}
+div.admin-options label,
+div.admin-options div.form-item {
+  margin-right: 10px;
+  float: left;
+}
+div.admin-options div.form-item {
+  padding: 0;
+  border: 0;
+}
+
+/* Update status */
+.versions table.version {
+  border: none;
+}
+
+/* Maintenance theming */
+body.in-maintenance #sidebar-first {
+  float: left;
+  width: 200px;
+}
+body.in-maintenance #content {
+  float: right;
+  width: 550px;
+  padding-right: 20px;
+}
+body.in-maintenance #page {
+  overflow: auto;
+  width: 770px;
+  margin: 0 auto;
+  padding-top: 2em;
+}
+body.in-maintenance #branding h1 {
+  width: 770px;
+  margin: 0 auto;
+  float: none;
+}
+body.in-maintenance .form-radios .form-type-radio {
+  padding: 2px 0;
+}
+body.in-maintenance div.form-item:after {
+  content: "";
+  display: none;
+  clear: none;
+}
+body.in-maintenance .form-submit {
+  display: block;
+}
+body.in-maintenance #logo {
+  margin-bottom: 1.5em;
+}
+ol.task-list {
+  margin-left: 0; /* LTR */
+  list-style-type: none;
+  list-style-image: none;
+}
+ol.task-list li {
+  padding: 0.5em 1em 0.5em 20px; /* LTR */
+  color: #adadad;
+}
+ol.task-list li.active {
+  background: transparent url(images/task-item.png) no-repeat 3px 50%; /* LTR */
+  padding: 0.5em 1em 0.5em 20px; /* LTR */
+  color: #000;
+}
+ol.task-list li.done {
+  color: #393;
+  background: transparent url(images/task-check.png) no-repeat 0px 50%; /* LTR */
+  color: green;
+}
+
+/* Shortcut theming */
+div.add-or-remove-shortcuts {
+  float: left;
+  padding-top: 6px;
+  padding-left: 6px;
+}
+
+/* Recent content block */
+#dashboard div#block-node-recent div.content {
+  padding: 0;
+}
+#block-node-recent table,
+#block-node-recent tr {
+  border: none;
+}
+#block-node-recent .more-link {
+  padding: 0 5px 5px 0;
+}
+
+/* User login block */
+#user-login-form .openid-links {
+  margin-left: 0; /* LTR */
+}
+#user-login-form .openid-links .user-link {
+  margin-left: 1.5em; /* LTR */
+}
+
+/* Views */
+form#views-add-display-form,
+form#views-ui-reorder-displays-button {
+  margin-bottom: 0.5em; 
+}
+.views-tabs input.form-submit {
+  font-size: 0.7em;
+  padding: 0 8px;
+}
+form#views-ui-reorder-displays-button input.form-submit {
+  margin-bottom: 1em;
+}
+#views-ajax-form {
+  margin-bottom: 20px;
+}
+#views-ajax-pad .form-buttons .form-submit {
+  padding: 2px 5px;
+}
+form#views-ui-preview-form input#preview-submit {
+  margin-top: 1.2em;
+}
+
+/* CCK */
+.content-add-more {
+  margin-bottom: 10px;
+}
diff --git a/sites/all/themes/seven/template.php b/sites/all/themes/seven/template.php
new file mode 100644
index 0000000..ad645b8
--- /dev/null
+++ b/sites/all/themes/seven/template.php
@@ -0,0 +1,111 @@
+<?php
+
+/**
+ * Override or insert variables into the page template.
+ */
+function seven_preprocess_page(&$vars) {
+  $vars['primary_local_tasks'] = menu_primary_local_tasks();
+  $vars['secondary_local_tasks'] = menu_secondary_local_tasks();
+}
+
+/**
+ * Display the list of available node types for node creation.
+ */
+function seven_node_add_list($content) {
+  $output = '';
+  if ($content) {
+    $output = '<ul class="node-type-list">';
+    foreach ($content as $item) {
+      $output .= '<li class="clearfix">';
+      $output .= '<span class="label">' . l($item['title'], $item['href'], $item['localized_options']) . '</span>';
+      $output .= '<div class="description">' . filter_xss_admin($item['description']) . '</div>';
+      $output .= '</li>';
+    }
+    $output .= '</ul>';
+  }
+  return $output;
+}
+
+/**
+ * Override of theme_admin_block_content().
+ *
+ * Use unordered list markup in both compact and extended move.
+ */
+function seven_admin_block_content($content) {
+  $output = '';
+  if (!empty($content)) {
+    $output = system_admin_compact_mode() ? '<ul class="admin-list compact">' : '<ul class="admin-list">';
+    foreach ($content as $item) {
+      $output .= '<li class="leaf">';
+      $output .= l($item['title'], $item['href'], $item['localized_options']);
+      if (!system_admin_compact_mode()) {
+        $output .= '<div class="description">' . filter_xss_admin($item['description']) . '</div>';
+      }
+      $output .= '</li>';
+    }
+    $output .= '</ul>';
+  }
+  return $output;
+}
+
+/**
+ * Override of theme_tablesort_indicator().
+ *
+ * Use our own image versions, so they show up as black and not gray on gray.
+ */
+function seven_tablesort_indicator($style) {
+  $theme_path = drupal_get_path('theme', 'seven');
+  if ($style == 'asc') {
+    return theme('image', $theme_path . '/images/arrow-asc.png');
+  } else {
+    return theme('image', $theme_path . '/images/arrow-desc.png');
+  }
+}
+
+/**
+ * Override of theme_fieldset().
+ *
+ * Add span to legend tag, so we can style it to be inside the fieldset.
+ */
+function seven_fieldset($element) {
+  if (!empty($element['#collapsible'])) {
+    drupal_add_js('misc/collapse.js');
+
+    if (!isset($element['#attributes']['class'])) {
+      $element['#attributes']['class'] = '';
+    }
+
+    $element['#attributes']['class'] .= ' collapsible';
+    if (!empty($element['#collapsed'])) {
+      $element['#attributes']['class'] .= ' collapsed';
+    }
+  }
+
+  $output = '<fieldset' . drupal_attributes($element['#attributes']) . '>';
+  if (!empty($element['#title'])) {
+    // Always wrap fieldset legends in a SPAN for CSS positioning.
+    $output .= '<legend><span class="fieldset-legend">' . $element['#title'] . '</span></legend>';
+  }
+  // Add a wrapper if this fieldset is not collapsible.
+  // theme_fieldset() in D7 adds a wrapper to all fieldsets, however in D6 this
+  // wrapper is added by Drupal.behaviors.collapse(), but only to collapsible
+  // fieldsets. So to ensure the wrapper is consistantly added here we add the
+  // wrapper to the markup, but only for non collapsible fieldsets.
+  if (empty($element['#collapsible'])) {
+    $output .= '<div class="fieldset-wrapper">';
+  }
+  if (!empty($element['#description'])) {
+    $output .= '<div class="description">' . $element['#description'] . '</div>';
+  }
+  if (isset($element['#children'])) {
+    $output .= $element['#children'];
+  }
+  if (isset($element['#value'])) {
+    $output .= $element['#value'];
+  }
+  if (empty($element['#collapsible'])) {
+    $output .= '</div>';
+  }
+  $output .= "</fieldset>\n";
+  return $output;
+}
diff --git a/sites/all/themes/seven/vertical_tabs.css b/sites/all/themes/seven/vertical_tabs.css
new file mode 100644
index 0000000..b2de505
--- /dev/null
+++ b/sites/all/themes/seven/vertical_tabs.css
@@ -0,0 +1,89 @@
+/* $Id: vertical-tabs.css,v 1.10 2010/11/19 20:45:04 dries Exp $ */
+
+/**
+ * Override of misc/vertical-tabs.css.
+ */
+div.vertical-tabs {
+  background: #fff url(images/fc.png) repeat-y 0 0;
+  border: 1px solid #ccc;
+  margin: 10px 0;
+  position: relative;
+}
+div.vertical-tabs fieldset {
+  border: 0;
+  padding: 0;
+  margin: 0;
+}
+div.vertical-tabs .vertical-tabs-list {
+  border-bottom: 1px solid #ccc;
+  float: left;
+  font-size: 1em;
+  line-height: 1;
+  margin: 0 -100% -1px 0;
+  padding: 0;
+  width: 240px;
+}
+div.vertical-tabs ul li.vertical-tab-button {
+  list-style: none;
+  list-style-image: none;
+  margin: 0;
+}
+div.vertical-tabs ul li.vertical-tab-button:focus {
+  outline: 0;
+}
+div.vertical-tabs ul li.vertical-tab-button a {
+  border-top: 1px solid #ccc;
+  display: block;
+  padding: 10px;
+}
+div.vertical-tabs ul li.first a {
+  border-top: 0;
+}
+div.vertical-tabs ul li.vertical-tab-button strong {
+  font-size: 0.923em;
+}
+div.vertical-tabs ul li.vertical-tab-button .summary {
+  color: #666;
+  display: block;
+  font-size: 0.846em;
+  padding-top: 0.4em;
+}
+div.vertical-tabs ul li.vertical-tab-button a:hover,
+div.vertical-tabs ul li.vertical-tab-button a:focus {
+  background: #d5d5d5;
+  text-decoration: none;
+  outline: 0;
+}
+div.vertical-tabs ul li.selected a,
+div.vertical-tabs ul li.selected a:hover,
+div.vertical-tabs ul li.selected a:focus,
+div.vertical-tabs ul li.selected a:active {
+  background: #fff;
+  border-right-color: #fff;
+  border-top: 1px solid #ccc;
+}
+div.vertical-tabs ul li.first.selected a,
+div.vertical-tabs ul li.first.selected a:hover {
+  border-top: 0;
+}
+div.vertical-tabs ul li.selected a:focus strong {
+  text-decoration: underline;
+}
+div.vertical-tabs .vertical-tabs-panes {
+  margin: 0 0 0 265px;
+  padding: 10px 15px 10px 0;
+}
+div.vertical-tabs .vertical-tabs-panes legend {
+  display: none;
+}
+div.vertical-tabs .vertical-tabs-panes fieldset fieldset {
+  border: 1px solid #ccc;
+  margin: 1em 0;
+  padding: 2.5em 0 0;
+}
+div.vertical-tabs .vertical-tabs-panes fieldset fieldset legend {
+  display: inline-block;
+}
+.vertical-tabs-pane .fieldset-wrapper > div:first-child {
+  padding-top: 5px;
+}
diff --git a/sites/all/themes/vibio b/sites/all/themes/vibio
new file mode 120000
index 0000000..f78f236
--- /dev/null
+++ b/sites/all/themes/vibio
@@ -0,0 +1 @@
+/home/ubuntu/www/vibio/src/themes/vibio
\ No newline at end of file
diff --git a/sites/all/themes/vibio/README.txt b/sites/all/themes/vibio/README.txt
deleted file mode 100644
index a26fd2c..0000000
--- a/sites/all/themes/vibio/README.txt
+++ /dev/null
@@ -1,118 +0,0 @@
-// $Id: README.txt,v 1.3 2009/11/08 18:28:48 johnalbin Exp $
-
-BUILD YOUR OWN SUB-THEME
-------------------------
-
-*** IMPORTANT ***
-
-* In Drupal 6, the theme system caches template files and which theme functions
-  should be called. What that means is if you add a new theme or preprocess
-  function to your template.php file or add a new template (.tpl.php) file to
-  your sub-theme, you will need to rebuild the "theme registry." See
-  http://drupal.org/node/173880#theme-registry
-
-* Drupal 6 also stores a cache of the data in .info files. If you modify any
-  lines in your sub-theme's .info file, you MUST refresh Drupal 6's cache by
-  simply visiting the admin/build/themes page.
-
-
-The base Zen theme is designed to be easily extended by its sub-themes. You
-shouldn't modify any of the CSS or PHP files in the zen/ folder; but instead you
-should create a sub-theme of zen which is located in a folder outside of the
-root zen/ folder. The examples below assume zen and your sub-theme will be
-installed in sites/all/themes/, but any valid theme directory is acceptable
-(read the sites/default/default.settings.php for more info.)
-
-  Why? To learn why you shouldn't modify any of the files in the zen/ folder,
-  see http://drupal.org/node/245802
-
- 1. Copy the STARTERKIT folder out of the zen/ folder and rename it to be your
-    new sub-theme. IMPORTANT: Only lowercase letters and underscores should be
-    used for the name of your sub-theme.
-
-    For example, copy the sites/all/themes/zen/STARTERKIT folder and rename it
-    as sites/all/themes/foo.
-
-      Why? Each theme should reside in its own folder. To make it easier to
-      upgrade Zen, sub-themes should reside in a folder separate from their base
-      theme.
-
- 2. In your new sub-theme folder, rename the STARTERKIT.info.txt file to include
-    the name of your new sub-theme and remove the ".txt" extension. Then edit
-    the .info file by editing the name and description field.
-
-    For example, rename the foo/STARTERKIT.info file to foo/foo.info. Edit the
-    foo.info file and change "name = Zen Sub-theme Starter Kit" to "name = Foo"
-    and "description = Read..." to "description = A Zen sub-theme".
-
-      Why? The .info file describes the basic things about your theme: its
-      name, description, features, template regions, CSS files, and JavaScript
-      files. See the Drupal 6 Theme Guide for more info:
-      http://drupal.org/node/171205
-
-    Then, visit your site's admin/build/themes to refresh Drupal 6's cache of
-    .info file data.
-
- 3. By default your new sub-theme is using a fixed-width layout. If you want a
-    liquid layout for your theme, delete the unneeded layout-fixed.css and
-    layout-fixed-rtl.css files and edit your sub-theme's .info file and replace
-    the reference to layout-fixed.css with layout-liquid.css.
-
-    For example, edit foo/foo.info and change this line:
-      stylesheets[all][]   = css/layout-fixed.css
-    to:
-      stylesheets[all][]   = css/layout-liquid.css
-
-      Why? The "stylesheets" lines in your .info file describe the media type
-      and path to the CSS file you want to include. The format for these lines
-      is:  stylesheets[MEDIA][] = path/to/file.css
-
-    Then, visit your site's admin/build/themes to refresh Drupal 6's cache of
-    .info file data.
-
-    Alternatively, if you are more familiar with a different CSS layout method,
-    such as Blueprint or 960.gs, you can replace the "css/layout-fixed.css" line
-    in your .info file with a line pointing at your choice of layout CSS file.
-
- 4. Edit the template.php and theme-settings.php files in your sub-theme's
-    folder; replace ALL occurrences of "STARTERKIT" with the name of your
-    sub-theme.
-
-    For example, edit foo/template.php and foo/theme-settings.php and replace
-    every occurrence of "STARTERKIT" with "foo".
-
-    It is recommended to use a text editing application with search and
-    "replace all" functionality.
-
- 5. Log in as an administrator on your Drupal site and go to Administer > Site
-    building > Themes (admin/build/themes) and enable your new sub-theme.
-
-
-Optional:
-
- 6. MODIFYING ZEN CORE TEMPLATE FILES:
-    If you decide you want to modify any of the .tpl.php template files in the
-    zen folder, copy them to your sub-theme's folder before making any changes.
-    And then rebuild the theme registry.
-
-    For example, copy zen/templates/page.tpl.php to foo/templates/page.tpl.php.
-
- 7. THEMEING DRUPAL'S SEARCH FORM:
-    Copy the search-theme-form.tpl.php template file from the modules/search/
-    folder and place it in your sub-theme's folder. And then rebuild the theme
-    registry.
-
-    You can find a full list of Drupal templates that you can override in the
-    templates/README.txt file or http://drupal.org/node/190815
-
-      Why? In Drupal 6 theming, if you want to modify a template included by a
-      module, you should copy the template file from the module's directory to
-      your sub-theme's directory and then rebuild the theme registry. See the
-      Drupal 6 Theme Guide for more info: http://drupal.org/node/173880
-
- 8. FURTHER EXTENSIONS OF YOUR SUB-THEME:
-    Discover further ways to extend your sub-theme by reading Zen's
-    documentation online at:
-      http://drupal.org/node/193318
-    and Drupal 6's Theme Guide online at:
-      http://drupal.org/theme-guide
diff --git a/sites/all/themes/vibio/css/README.txt b/sites/all/themes/vibio/css/README.txt
deleted file mode 100644
index 0bac461..0000000
--- a/sites/all/themes/vibio/css/README.txt
+++ /dev/null
@@ -1,24 +0,0 @@
-// $Id: README.txt,v 1.1 2009/08/12 06:49:46 johnalbin Exp $
-
-ZEN'S STYLESHEETS
------------------
-
-In these stylesheets, we have included all of the classes and IDs from this
-theme's tpl.php files. We have also included many of the useful Drupal core
-styles to make it easier for theme developers to see them.
-
-Many of these styles are over-riding Drupal's core stylesheets, so if you remove
-a declaration from them, the styles may still not be what you want since
-Drupal's core stylesheets are still styling the element. See the
-drupal6-reference.css file for a list of all Drupal 6.x core styles.
-
-In addition to the style declarations in these stylesheets, other Drupal styles
-that you might want to override or augment are those for:
-
-  Book Navigation  See line 74  of drupal6-reference.css file
-  Forum            See line 197 of drupal6-reference.css file
-  Menus            See line 667 of drupal6-reference.css file
-  News Aggregator  See line 20  of drupal6-reference.css file
-  Polls            See line 287 of drupal6-reference.css file
-  Search           See line 320 of drupal6-reference.css file
-  User Profiles    See line 945 of drupal6-reference.css file
diff --git a/sites/all/themes/vibio/css/badge.css b/sites/all/themes/vibio/css/badge.css
deleted file mode 100644
index f653d9d..0000000
--- a/sites/all/themes/vibio/css/badge.css
+++ /dev/null
@@ -1,45 +0,0 @@
-#badge_alert_container {
-	text-align: center;
-}
-
-#badge_alert_container .badge_alert_single img.badge_image {
-	max-height: 150px;
-	margin-top: 10px;
-}
-
-#badge_alert_container .badge_alert_single div.badge_title {
-	font-weight: bold;
-	height: 25px;
-	margin: 5px 0 10px;
-}
-
-#badge_alert_container .badge_alert_single {
-	min-height: 150px;
-}
-
-#badge_alert_container .badge_alert_badge {
-	display: inline;
-	margin-right: 15px;
-	height: 80px;
-}
-
-#badge_alert_container .badge_alert_badge img.badge_image {
-	max-height: 80px;
-}
-
-.badge_list_badge {
-	margin-bottom: 10px;
-}
-
-.badge_list_badge .badge_image_container {
-	float: left;
-	margin-right: 15px;
-}
-
-.badge_list_badge .badge_info {
-	float: left;
-}
-
-.badge_list_badge img.badge_image {
-	max-width: 80px;
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/css/block-editing-rtl.css b/sites/all/themes/vibio/css/block-editing-rtl.css
deleted file mode 100644
index 84536ee..0000000
--- a/sites/all/themes/vibio/css/block-editing-rtl.css
+++ /dev/null
@@ -1,11 +0,0 @@
-/* $Id: block-editing-rtl.css,v 1.2 2009/08/12 08:03:52 johnalbin Exp $ */
-
-/**
- * @file
- * RTL companion for the block-editing.css file.
- */
-
-
-div.block.with-block-editing div.edit {
-  left: 0;
-}
diff --git a/sites/all/themes/vibio/css/block-editing.css b/sites/all/themes/vibio/css/block-editing.css
deleted file mode 100644
index 4a71e6d..0000000
--- a/sites/all/themes/vibio/css/block-editing.css
+++ /dev/null
@@ -1,27 +0,0 @@
-/* $Id: block-editing.css,v 1.3 2009/11/05 14:01:26 johnalbin Exp $ */
-
-/**
- * @file
- * Zen's rollover edit links for blocks.
- */
-
-
-div.block.with-block-editing {
-  position: relative;
-}
-
-div.block.with-block-editing div.edit {
-  display: none;
-  position: absolute;
-  right: 0; /* LTR */
-  top: 0;
-  z-index: 40;
-  border: 1px solid #eee;
-  padding: 0 2px;
-  font-size: 0.75em;
-  background-color: #fff;
-}
-
-div.block.with-block-editing:hover div.edit {
-  display: block;
-}
diff --git a/sites/all/themes/vibio/css/blocks.css b/sites/all/themes/vibio/css/blocks.css
deleted file mode 100644
index 595db52..0000000
--- a/sites/all/themes/vibio/css/blocks.css
+++ /dev/null
@@ -1,101 +0,0 @@
-/* $Id: blocks.css,v 1.4 2009/11/05 11:05:39 johnalbin Exp $ */
-
-/**
- * @file
- * Block Styling
- */
-
-
-.block /* Block wrapper */ {
-  margin-bottom: 1em;
-}
-
-#block-block-2 {
-  clear: both;
-}
-
-
-.block.region-odd /* Zebra striping for each block in the region */ {
-}
-
-.block.region-even /* Zebra striping for each block in the region */ {
-}
-
-.block.odd /* Zebra striping independent of each region */ {
-}
-
-.block.even /* Zebra striping independent of each region */ {
-}
-
-.region-count-1 /* Incremental count for each block in the region */ {
-}
-
-.count-1 /* Incremental count independent of each region */ {
-}
-
-.block h2.title /* Block title */ {
-}
-
-.block .content /* Block's content wrapper */ {
-}
-
-#block-aggregator-category-1 /* Block for the latest news items in the first category */ {
-}
-
-#block-aggregator-feed-1 /* Block for the latest news items in the first feed */ {
-}
-
-#block-block-1 /* First administrator-defined block */ {
-}
-
-#block-blog-0 /* "Recent blog posts" block */ {
-}
-
-#block-book-0 /* "Book navigation" block for the current book's table of contents */ {
-}
-
-#block-comment-0 /* "Recent comments" block */ {
-}
-
-#block-forum-0 /* "Active forum topics" block */ {
-}
-
-#block-forum-1 /* "New forum topics" block */ {
-}
-
-#block-menu-primary-links /* "Primary links" block */ {
-}
-
-#block-menu-secondary-links /* "Secondary links" block */ {
-}
-
-#block-node-0 /* "Syndicate" block for primary RSS feed */ {
-}
-
-#block-poll-0 /* "Most recent poll" block */ {
-}
-
-#block-profile-0 /* "Author information" block for the profile of the page's author */ {
-}
-
-#block-search-0 /* "Search form" block */ {
-}
-
-#block-statistics-0 /* "Popular content" block */ {
-}
-
-#block-user-0 /* "User login form" block */ {
-}
-
-#block-user-1 /* "Navigation" block for Drupal navigation menu */ {
-}
-
-#block-user-2 /* "Who's new" block for a list of the newest users */ {
-}
-
-#block-user-3 /* "Who's online" block for a list of the online users */ {
-}
-
-.block-nice_menus ul {
-  padding: 0;
-}
diff --git a/sites/all/themes/vibio/css/collections.css b/sites/all/themes/vibio/css/collections.css
deleted file mode 100644
index 2327c16..0000000
--- a/sites/all/themes/vibio/css/collections.css
+++ /dev/null
@@ -1,242 +0,0 @@
-.collections_view_header {
-	margin-bottom: 10px;
-}
-
-.collection_list_collection {
-	margin-bottom: 25px;
-}
-
-.collection_image {
-	float: left;
-	margin-right: 10px;
-	width: 85px;
-}
-
-.collection_image img {
-	max-width: 80px;
-}
-
-.collection_summary {
-	float: left;
-	width: 610px;
-}
-
-.collection_summary h3 {
-	color: #667122;
-	margin: 0;
-}
-
-.collection_summary p {
-	color: #252f35;
-	margin: 5px 0 0;
-}
-
-.collection_summary span {
-	color: #4b5e6d;
-	font-size: 12px;
-	float: left;
-}
-
-.collection_summary span.collection_item_count {
-	width: 55px;
-}
-
-.collection_summary span.manage_collection_link {
-	margin-left: 10px;
-}
-
-.collection_preview {
-	width: 100%;
-	border: 2px solid #a5a5a5;
-}
-
-.collection_preview_init {
-	height: 16px;
-	text-align: center;
-	color: #535353;
-	font-size: 12px;
-	font-weight: bold;
-}
-
-.collection_preview_init img {
-	margin-right: 5px;
-}
-
-.collection_preview_init.expanded {
-	background: #a5a5a5;
-}
-
-.collection_preview_init:hover {
-	cursor: pointer;
-}
-
-.collection_preview_loading {
-	display: none;
-	text-align: center;
-}
-
-.collection_preview_items {
-	display: none;
-	padding: 0 15px;
-}
-
-.collection_list_image {
-	float: left;
-	margin-right: 10px;
-}
-
-.collection_list_image img {
-	max-width: 40px;
-}
-
-.collection_list_item_summary {
-	float: left;
-}
-
-.collection_list_item_summary span.item_price {
-	float: left;
-	width: 60px;
-}
-
-.user-collection-preview h5, #collection_sidebar .collection_sidebar_collection h5 {
-	margin: 0;
-	color: #8e9e30;
-	font-size: 14px;
-}
-
-.user-collection-preview span {
-	color: #404f5a;
-	font-size: 12px;
-}
-
-.user-collection-preview td {
-	width: 230px;
-	vertical-align: top;
-}
-
-.user-collection-preview tr {
-	height: 60px;
-}
-
-.user-collection-preview tr.row-last {
-	height: auto;
-}
-
-.collection_categories {
-	color: #a5a5a5;
-}
-
-.item_updated {
-	display: block;
-}
-
-#collection_main, #collection_sidebar {
-	float: left;
-}
-
-#collection_main {
-	width: 515px;
-}
-
-#collection_main .collection_summary {
-	width: 400px;
-}
-
-#collection_sidebar {
-	width: 185px;
-	border-left: 1px solid #a5a5a5;
-	padding-left: 20px;
-}
-
-#collection_sidebar h5 {
-	margin: 10px 0 0;
-}
-
-.collection_sidebar_collection {
-	margin-top: 25px;
-	width: 135px;
-}
-
-.collection_sidebar_collection_image {
-	float: left;
-	margin-right: 5px;
-}
-
-.collection_sidebar_collection_image img {
-	max-width: 80px;
-}
-
-.collection_sidebar_collection_items {
-	float: left;
-}
-
-.collection_sidebar_collection_items img {
-	display: block;
-	margin-bottom: 2px;
-	max-height: 25px;
-	max-width: 50px;
-}
-
-#block-collection-random_collection {
-	margin-top: 15px;
-	font-family: 'Trebuchet MS', Verdana, Tahoma, 'DejaVu Sans', sans-serif !important;
-}
-
-#block-collection-random_collection .content > div {
-	margin-bottom: 2px;
-	padding: 5px 10px;
-	line-height: 15px;
-	text-align: center;
-}
-
-#block-collection-random_collection .collection_image {
-	float: none;
-	margin: 0;
-	width: auto;
-}
-
-#block-collection-random_collection .collection_image img {
-	border: 1px solid black;
-}
-
-#block-collection-random_collection .collection_owner a, #block-collection-random_collection .collection_title a {
-	color: #33cadf;
-	font-weight: bold;
-}
-
-#block-collection-random_collection .collection_title a, #block-collection-random_collection .collection_link a {
-	color: #a3be3d;
-}
-
-#block-collection-random_collection .collection_link a {
-	font-size: 12px;
-}
-
-#block-collection-random_collection .collection_item_count,  #block-collection-random_collection .collection_description {
-	font-size: 12px;
-	color: #859cae;
-	margin-top: 2px;
-}
-
-#block-collection-random_collection .collection_categories,
-#block-collection-random_collection .collection_description,
-#block-collection-random_collection .collection_date_added,
-#block-collection-random_collection .collection_link {
-	text-align: left;
-}
-
-#block-collection-random_collection .collection_description {
-	margin-top: 10px;
-	font-size: 13px;
-}
-
-#block-collection-random_collection .collection_categories {
-	font-size: 11px;
-	color: #a2a7ab;
-}
-
-#block-collection-random_collection .collection_date_added {
-	color: #859cae;
-	font-size: 12px;
-	margin-top: 10px;
-}
diff --git a/sites/all/themes/vibio/css/comments.css b/sites/all/themes/vibio/css/comments.css
deleted file mode 100644
index a91c4f2..0000000
--- a/sites/all/themes/vibio/css/comments.css
+++ /dev/null
@@ -1,47 +0,0 @@
-/* $Id: comments.css,v 1.5 2009/11/01 20:54:20 johnalbin Exp $ */
-
-/**
- * @file
- * Comment Styling
- */
-
-
-#comments /* Wrapper for the list of comments and its title */ {
-  margin: 1em 0;
-}
-
-.comment {
-	padding: 10px 20px;
-	border-bottom: 1px solid #dbe7eb;
-}
-
-.new /* "New" marker for comments that are new for the current user */ {
-  color: #c00;
-}
-
-.comment .user-signature /* The user's signature */ {
-}
-
-.comment ul.links /* Comment links. See also the ul.links declaration in the pages.css. */ {
-}
-
-.comment .picture_container {
-	width: 75px;
-}
-
-.comment .content {
-	padding-left: 10px;
-	border-left: 1px solid #dbe7eb;
-}
-
-.comment p {
-	margin-top: 0;
-}
-
-.comment .comment_details {
-	font-size: 11px;
-}
-
-.comment table {
-	margin: 0;
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/css/drupal6-reference.css b/sites/all/themes/vibio/css/drupal6-reference.css
deleted file mode 100644
index d37f65b..0000000
--- a/sites/all/themes/vibio/css/drupal6-reference.css
+++ /dev/null
@@ -1,1985 +0,0 @@
-/* $Id: drupal6-reference.css,v 1.1 2009/08/12 04:25:15 johnalbin Exp $ */
-
-/**
- * @file
- * DRUPAL 6.x Reference CSS
- *
- * THIS FILE IS FOR REFERENCE ONLY AND IS NOT USED IN ANY WAY BY THE ZEN THEME.
- *
- * Drupal has very modular CSS. Which means that only the CSS that is needed
- * for a particular page is loaded. This is a good thing.
- *
- * However, this makes it difficult for theme developers to discover how and
- * where a particular style is coming from. So, here in all its glory is the
- * complete CSS included with Drupal core 6.x.
- *
- * And, if you're not already, you should check out the free Firebug extension
- * for Firefox. With it, you can inspect elements and easily view and play with
- * its CSS styles.  http://www.getfirebug.com
- */
-
-
-/*
- * modules/aggregator/aggregator-rtl.css
- */
-
-#aggregator .feed-source .feed-icon {
-  float: left;
-}
-
-
-/*
- * modules/aggregator/aggregator.css
- */
-
-#aggregator .feed-source .feed-title {
-  margin-top: 0;
-}
-#aggregator .feed-source .feed-image img {
-  margin-bottom: 0.75em;
-}
-#aggregator .feed-source .feed-icon {
-  float: right; /* LTR */
-  display: block;
-}
-#aggregator .feed-item {
-  margin-bottom: 1.5em;
-}
-#aggregator .feed-item-title {
-  margin-bottom: 0;
-  font-size: 1.3em;
-}
-#aggregator .feed-item-meta, #aggregator .feed-item-body {
-  margin-bottom: 0.5em;
-}
-#aggregator .feed-item-categories {
-  font-size: 0.9em;
-}
-#aggregator td {
-  vertical-align: bottom;
-}
-#aggregator td.categorize-item {
-  white-space: nowrap;
-}
-#aggregator .categorize-item .news-item .body {
-  margin-top: 0;
-}
-#aggregator .categorize-item h3 {
-  margin-bottom: 1em;
-  margin-top: 0;
-}
-
-
-/*
- * modules/block/block.css
- */
-
-#blocks td.region {
-  font-weight: bold;
-}
-#blocks tr.region-message {
-  font-weight: normal;
-  color: #999;
-}
-#blocks tr.region-populated {
-  display: none;
-}
-.block-region {
-  background-color: #ff6;
-  margin-top: 4px;
-  margin-bottom: 4px;
-  padding: 3px;
-}
-
-
-/*
- * modules/book/book-rtl.css
- */
-
-.book-navigation .page-previous {
-  float: right;
-}
-.book-navigation .page-up {
-  float: right;
-}
-
-
-/*
- * modules/book/book.css
- */
-
-.book-navigation .menu {
-  border-top: 1px solid #888;
-  padding: 1em 0 0 3em;
-}
-.book-navigation .page-links {
-  border-top: 1px solid #888;
-  border-bottom: 1px solid #888;
-  text-align: center;
-  padding: 0.5em;
-}
-.book-navigation .page-previous {
-  text-align: left;
-  width: 42%;
-  display: block;
-  float: left; /* LTR */
-}
-.book-navigation .page-up {
-  margin: 0 5%;
-  width: 4%;
-  display: block;
-  float: left; /* LTR */
-}
-.book-navigation .page-next {
-  text-align: right;
-  width: 42%;
-  display: block;
-  float: right;
-}
-#book-outline {
-  min-width: 56em;
-}
-.book-outline-form .form-item {
-  margin-top: 0;
-  margin-bottom: 0;
-}
-#edit-book-bid-wrapper .description {
-  clear: both;
-}
-#book-admin-edit select {
-  margin-right: 24px;
-}
-#book-admin-edit select.progress-disabled {
-  margin-right: 0;
-}
-#book-admin-edit tr.ahah-new-content {
-  background-color: #ffd;
-}
-#book-admin-edit .form-item {
-  float: left;
-}
-
-
-/*
- * modules/color/color-rtl.css
- */
-
-#placeholder {
-  left: 0;
-  right: auto;
-}
-
-/* Palette */
-.color-form .form-item {
-  padding-left: 0;
-  padding-right: 1em;
-}
-.color-form label {
-  float: right;
-  clear: right;
-}
-.color-form .form-text, .color-form .form-select {
-  float: right;
-}
-.color-form .form-text {
-  margin-right: 0;
-  margin-left: 5px;
-}
-
-#palette .hook {
-  float: right;
-}
-#palette .down, #palette .up, #palette .both {
-  background: url(images/hook-rtl.png) no-repeat 0 0;
-}
-#palette .up {
-  background-position: 0 -27px;
-}
-#palette .both {
-  background-position: 0 -54px;
-}
-
-#palette .lock {
-  float: right;
-  right: -10px;
-}
-html.js #preview {
-  float: right;
-}
-
-
-/*
- * modules/color/color.css
- */
-
-/* Farbtastic placement */
-.color-form {
-  max-width: 50em;
-  position: relative;
-}
-#placeholder {
-  position: absolute;
-  top: 0;
-  right: 0; /* LTR */
-}
-
-/* Palette */
-.color-form .form-item {
-  height: 2em;
-  line-height: 2em;
-  padding-left: 1em; /* LTR */
-  margin: 0.5em 0;
-}
-.color-form label {
-  float: left; /* LTR */
-  clear: left; /* LTR */
-  width: 10em;
-}
-.color-form .form-text, .color-form .form-select {
-  float: left; /* LTR */
-}
-.color-form .form-text {
-  text-align: center;
-  margin-right: 5px; /* LTR */
-  cursor: pointer;
-}
-
-#palette .hook {
-  float: left; /* LTR */
-  margin-top: 3px;
-  width: 16px;
-  height: 16px;
-}
-#palette .down, #palette .up, #palette .both {
-  background: url(images/hook.png) no-repeat 100% 0; /* LTR */
-}
-#palette .up {
-  background-position: 100% -27px; /* LTR */
-}
-#palette .both {
-  background-position: 100% -54px; /* LTR */
-}
-
-#palette .lock {
-  float: left; /* LTR */
-  position: relative;
-  top: -1.4em;
-  left: -10px; /* LTR */
-  width: 20px;
-  height: 25px;
-  background: url(images/lock.png) no-repeat 50% 2px;
-  cursor: pointer;
-}
-#palette .unlocked {
-  background-position: 50% -22px;
-}
-#palette .form-item {
-  width: 20em;
-}
-#palette .item-selected {
-  background: #eee;
-}
-
-/* Preview */
-#preview {
-  display: none;
-}
-html.js #preview {
-  display: block;
-  position: relative;
-  float: left; /* LTR */
-}
-
-
-/*
- * modules/comment/comment-rtl.css
- */
-
-.indented {
-  margin-left: 0;
-  margin-right: 25px;
-}
-
-
-/*
- * modules/comment/comment.css
- */
-
-.indented {
-  margin-left: 25px; /* LTR */
-}
-.comment-unpublished {
-  background-color: #fff4f4;
-}
-.preview .comment {
-  background-color: #ffffea;
-}
-
-
-/*
- * modules/dblog/dblog-rtl.css
- */
-
-#edit-type-wrapper, #edit-severity-wrapper {
-  float: right;
-  padding-right: 0;
-  padding-left: .8em;
-}
-
-
-/*
- * modules/dblog/dblog.css
- */
-
-#edit-type-wrapper, #edit-severity-wrapper {
-  float: left; /* LTR */
-  padding-right: .8em; /* LTR */
-  margin: 0.1em;
-  /**
-   * In Opera 9, DOM elements with the property of "overflow: auto"
-   * will partially hide its contents with unnecessary scrollbars when
-   * its immediate child is floated without an explicit width set.
-   */
-  width: 15em;
-}
-#dblog-filter-form .form-item select.form-select {
-  width: 100%;
-}
-tr.dblog-user {
-  background: #ffd;
-}
-tr.dblog-user .active {
-  background: #eed;
-}
-tr.dblog-content {
-  background: #ddf;
-}
-tr.dblog-content .active {
-  background: #cce;
-}
-tr.dblog-page-not-found, tr.dblog-access-denied {
-  background: #dfd;
-}
-tr.dblog-page-not-found .active, tr.dblog-access-denied .active {
-  background: #cec;
-}
-tr.dblog-error {
-  background: #ffc9c9;
-}
-tr.dblog-error .active {
-  background: #eeb9b9;
-}
-
-
-/*
- * modules/forum/forum-rtl.css
- */
-
-#forum tr td.forum {
-  padding-left: 0.5em;
-  padding-right: 25px;
-  background-position: 98% 2px;
-}
-.forum-topic-navigation {
-  padding: 1em 3em 0 0;
-}
-.forum-topic-navigation .topic-previous {
-  text-align: left;
-  float: right;
-}
-.forum-topic-navigation .topic-next {
-  text-align: right;
-  float: left;
-}
-
-
-/*
- * modules/forum/forum.css
- */
-
-#forum .description {
-  font-size: 0.9em;
-  margin: 0.5em;
-}
-#forum td.created, #forum td.posts, #forum td.topics, #forum td.last-reply, #forum td.replies, #forum td.pager {
-  white-space: nowrap;
-}
-#forum td.posts, #forum td.topics, #forum td.replies, #forum td.pager {
-  text-align: center;
-}
-#forum tr td.forum {
-  padding-left: 25px; /* LTR */
-  background-position: 2px 2px; /* LTR */
-  background-image: url(../../misc/forum-default.png);
-  background-repeat: no-repeat;
-}
-#forum tr.new-topics td.forum {
-  background-image: url(../../misc/forum-new.png);
-}
-#forum div.indent {
-  margin-left: 20px;
-}
-
-.forum-topic-navigation {
-  padding: 1em 0 0 3em; /* LTR */
-  border-top: 1px solid #888;
-  border-bottom: 1px solid #888;
-  text-align: center;
-  padding: 0.5em;
-}
-.forum-topic-navigation .topic-previous {
-  text-align: right; /* LTR */
-  float: left; /* LTR */
-  width: 46%;
-}
-.forum-topic-navigation .topic-next {
-  text-align: left; /* LTR */
-  float: right; /* LTR */
-  width: 46%;
-}
-
-
-/*
- * modules/help/help-rtl.css
- */
-
-.help-items {
-  float: right;
-  padding-right: 0;
-  padding-left: 3%;
-}
-.help-items-last {
-  padding-right: 0;
-  padding-left: 0;
-}
-
-
-/*
- * modules/help/help.css
- */
-
-.help-items {
-  float: left; /* LTR */
-  width: 22%;
-  padding-right: 3%; /* LTR */
-}
-.help-items-last {
-  padding-right: 0; /* LTR */
-}
-
-
-/*
- * modules/locale/locale.css
- */
-
-.locale-untranslated {
-  font-style: normal;
-  text-decoration: line-through;
-}
-
-
-/*
- * modules/node/node-rtl.css
- */
-
-#node-admin-buttons {
-  float: right;
-  margin-left: 0;
-  margin-right: 0.5em;
-  clear: left;
-}
-
-
-/*
- * modules/node/node.css
- */
-
-.node-unpublished {
-  background-color: #fff4f4;
-}
-.preview .node {
-  background-color: #ffffea;
-}
-#node-admin-filter ul {
-  list-style-type: none;
-  padding: 0;
-  margin: 0;
-  width: 100%;
-}
-#node-admin-buttons {
-  float: left; /* LTR */
-  margin-left: 0.5em; /* LTR */
-  clear: right; /* LTR */
-}
-td.revision-current {
-  background: #ffc;
-}
-.node-form .form-text {
-  display: block;
-  width: 95%;
-}
-.node-form .container-inline .form-text {
-  display: inline;
-  width: auto;
-}
-.node-form .standard {
-  clear: both;
-}
-.node-form textarea {
-  display: block;
-  width: 95%;
-}
-.node-form .attachments fieldset {
-  float: none;
-  display: block;
-}
-.terms-inline {
-  display: inline;
-}
-
-
-/*
- * modules/openid/openid.css
- */
-
-#edit-openid-identifier {
-  background-image: url("login-bg.png");
-  background-position: 0% 50%;
-  background-repeat: no-repeat;
-  padding-left: 20px;
-}
-div#edit-openid-identifier-wrapper {
-  display: block;
-}
-html.js #user-login-form div#edit-openid-identifier-wrapper,
-html.js #user-login div#edit-openid-identifier-wrapper {
-  display: none;
-}
-html.js #user-login-form li.openid-link,
-html.js #user-login li.openid-link {
-  display : block;
-  list-style: none;
-}
-#user-login-form ul {
-  margin-top: 0;
-}
-#user-login ul {
-  margin: 0 0 5px;
-}
-#user-login ul li {
-  margin: 0;
-}
-#user-login-form li.openid-link,
-#user-login-form li.user-link,
-#user-login li.openid-link,
-#user-login li.user-link {
-  display: none;
-}
-#user-login-form li.openid-link a,
-#user-login li.openid-link a {
-  background: transparent url("login-bg.png") no-repeat 0 2px;
-  padding: 0 20px;
-}
-
-
-/*
- * modules/poll/poll-rtl.css
- */
-
-.poll .bar .foreground {
-  float: right;
-}
-.poll .percent {
-  text-align: left;
-}
-.poll .vote-form .choices {
-  text-align: right;
-}
-
-
-/*
- * modules/poll/poll.css
- */
-
-.poll .bar {
-  height: 1em;
-  margin: 1px 0;
-  background-color: #ddd;
-}
-.poll .bar .foreground {
-  background-color: #000;
-  height: 1em;
-  float: left; /* LTR */
-}
-.poll .links {
-  text-align: center;
-}
-.poll .percent {
-  text-align: right; /* LTR */
-}
-.poll .total {
-  text-align: center;
-}
-.poll .vote-form {
-  text-align: center;
-}
-.poll .vote-form .choices {
-  text-align: left; /* LTR */
-  margin: 0 auto;
-  display: table;
-}
-.poll .vote-form .choices .title {
-  font-weight: bold;
-}
-.node-form #edit-poll-more {
-  margin: 0;
-}
-td.poll-chtext {
-  width: 80%;
-}
-td.poll-chvotes .form-text {
-  width: 85%;
-}
-
-
-/*
- * modules/profile/profile.css
- */
-
-#profile-fields td.category {
-  font-weight: bold;
-}
-#profile-fields tr.category-message {
-  color: #999;
-}
-#profile-fields tr.category-populated {
-  display: none;
-}
-
-
-/*
- * modules/search/search-rtl.css
- */
-
-.search-advanced .criterion {
-  float: right;
-  margin-right: 0;
-  margin-left: 2em;
-}
-.search-advanced .action {
-  float: right;
-  clear: right;
-}
-
-
-/*
- * modules/search/search.css
- */
-
-.search-form {
-  margin-bottom: 1em;
-}
-.search-form input {
-  margin-top: 0;
-  margin-bottom: 0;
-}
-.search-results p {
-  margin-top: 0;
-}
-.search-results dt {
-  font-size: 1.1em;
-}
-.search-results dd {
-  margin-bottom: 1em;
-}
-.search-results .search-info {
-  font-size: 0.85em;
-}
-.search-advanced .criterion {
-  float: left; /* LTR */
-  margin-right: 2em; /* LTR */
-}
-.search-advanced .action {
-  float: left; /* LTR */
-  clear: left; /* LTR */
-}
-
-
-/*
- * modules/system/admin-rtl.css
- */
-
-div.admin-panel .body {
-  padding: 0 8px 2px 4px;
-}
-
-div.admin .expert-link {
-  text-align: left;
-  margin-right: 0;
-  margin-left: 1em;
-  padding-right: 0;
-  padding-left: 4px;
-}
-
-table.system-status-report th, table.system-status-report tr.merge-up td {
-  padding-right: 30px;
-}
-
-table.system-status-report th {
-  background-position: 95% 50%;
-}
-
-table.screenshot {
-  margin-left: 1em;
-}
-
-.date-container {
-  clear: right;
-}
-.date-container .select-container, .date-container .custom-container {
-  float: right;
-}
-.date-container .custom-container {
-  margin-left: 0;
-  margin-right: 15px;
-}
-
-
-/*
- * modules/system/admin.css
- */
-
-/*
-** Formatting for administration page
-*/
-div.admin-panel {
-  margin: 0;
-  padding: 5px 5px 15px 5px;
-}
-
-div.admin-panel .description {
-  margin: 0 0 3px;
-  padding: 2px 0 3px 0;
-}
-
-div.admin-panel .body {
-  padding: 0 4px 2px 8px; /* LTR */
-}
-
-div.admin {
-  padding-top: 15px;
-}
-
-div.admin .left {
-  float: left;
-  width: 47%;
-  margin-left: 1em;
-}
-div.admin .right {
-  float: right;
-  width: 47%;
-  margin-right: 1em;
-}
-
-div.admin .expert-link {
-  text-align: right; /* LTR */
-  margin-right: 1em; /* LTR */
-  padding-right: 4px; /* LTR */
-}
-
-table.package {
-  width: 100%;
-}
-table.package .description {
-  width: 100%;
-}
-table.package .version {
-  direction: ltr;
-}
-div.admin-dependencies, div.admin-required {
-  font-size: 0.9em;
-  color: #444;
-}
-span.admin-disabled {
-  color: #800;
-}
-span.admin-enabled {
-  color: #080;
-}
-span.admin-missing {
-  color: #f00;
-}
-
-/**
- * Formatting for status report
- */
-table.system-status-report th {
-  border-bottom: 1px solid #ccc;
-}
-table.system-status-report th, table.system-status-report tr.merge-up td {
-  padding-left: 30px; /* LTR */
-}
-table.system-status-report th {
-  background-repeat: no-repeat;
-  background-position: 5px 50%; /* LTR */
-  padding-top: 6px;
-  padding-bottom: 6px;
-}
-table.system-status-report tr.error th {
-  background-image: url(../../misc/watchdog-error.png);
-}
-table.system-status-report tr.warning th {
-  background-image: url(../../misc/watchdog-warning.png);
-}
-table.system-status-report tr.ok th {
-  background-image: url(../../misc/watchdog-ok.png);
-}
-
-/**
- * Formatting for theme configuration
- */
-.theme-settings-left {
-  float: left;
-  width: 49%;
-}
-.theme-settings-right {
-  float: right;
-  width: 49%;
-}
-.theme-settings-bottom {
-  clear: both;
-}
-
-/**
- * Formatting for theme overview
- */
-table.screenshot {
-  margin-right: 1em; /* LTR */
-}
-.theme-info h2 {
-  margin-bottom: 0;
-}
-.theme-info p {
-  margin-top: 0;
-}
-
-
-/**
- * Date and time settings page
- */
-.date-container {
-  overflow: auto;
-  clear: left; /* LTR */
-}
-.date-container .form-item {
-  margin-top: 0;
-}
-.date-container .select-container, .date-container .custom-container {
-  float: left; /* LTR */
-}
-.date-container .custom-container {
-  margin-left: 15px; /* LTR */
-  width: 50%;
-}
-html.js .custom-container label {
-  visibility: hidden;
-}
-
-
-/*
- * modules/system/defaults-rtl.css
- */
-
-th {
-  text-align: right;
-  padding-right: 0;
-  padding-left: 1em;
-}
-
-
-/*
- * modules/system/defaults.css
- */
-
-/*
-** HTML elements
-*/
-fieldset {
-  margin-bottom: 1em;
-  padding: .5em;
-}
-form {
-  margin: 0;
-  padding: 0;
-}
-hr {
-  height: 1px;
-  border: 1px solid gray;
-}
-img {
-  border: 0;
-}
-table {
-  border-collapse: collapse;
-}
-th {
-  text-align: left; /* LTR */
-  padding-right: 1em; /* LTR */
-  border-bottom: 3px solid #ccc;
-}
-
-/*
-** Markup free clearing
-** Details: http://www.positioniseverything.net/easyclearing.html
-*/
-.clear-block:after {
-  content: ".";
-  display: block;
-  height: 0;
-  clear: both;
-  visibility: hidden;
-}
-
-.clear-block {
-  display: inline-block;
-}
-
-/* Hides from IE-mac \*/
-* html .clear-block {
-  height: 1%;
-}
-.clear-block {
-  display: block;
-}
-/* End hide from IE-mac */
-
-
-/*
- * modules/system/maintenance.css
- */
-
-/* Update styles */
-#update-results {
-  margin-top: 3em;
-  padding: 0.25em;
-  border: 1px solid #ccc;
-  background: #eee;
-  font-size: smaller;
-}
-#update-results h2 {
-  margin-top: 0.25em;
-}
-#update-results h4 {
-  margin-bottom: 0.25em;
-}
-#update-results li.none {
-  color: #888;
-  font-style: italic;
-}
-#update-results li.failure strong {
-  color: #b63300;
-}
-
-
-/*
- * modules/system/system-menus-rtl.css
- */
-
-ul.menu {
-  text-align:right;
-}
-ul.menu li {
-  margin: 0 0.5em 0 0;
-}
-li.expanded {
-  padding: 0.2em 0 0 0.5em;
-}
-li.collapsed {
-  list-style-image: url(../../misc/menu-collapsed-rtl.png);
-  padding: 0.2em 0 0 0.5em;
-}
-li.leaf {
-  padding: 0.2em 0 0 0.5em;
-}
-
-
-/*
- * modules/system/system-menus.css
- */
-
-ul.menu {
-  list-style: none;
-  border: none;
-  text-align:left; /* LTR */
-}
-ul.menu li {
-  margin: 0 0 0 0.5em; /* LTR */
-}
-li.expanded {
-  list-style-type: circle;
-  list-style-image: url(../../misc/menu-expanded.png);
-  padding: 0.2em 0.5em 0 0; /* LTR */
-  margin: 0;
-}
-li.collapsed {
-  list-style-type: disc;
-  list-style-image: url(../../misc/menu-collapsed.png); /* LTR */
-  padding: 0.2em 0.5em 0 0; /* LTR */
-  margin: 0;
-}
-li.leaf {
-  list-style-type: square;
-  list-style-image: url(../../misc/menu-leaf.png);
-  padding: 0.2em 0.5em 0 0; /* LTR */
-  margin: 0;
-}
-li a.active {
-  color: #000;
-}
-td.menu-disabled {
-  background: #ccc;
-}
-ul.links {
-  margin: 0;
-  padding: 0;
-}
-ul.links.inline {
-  display: inline;
-}
-ul.links li {
-  display: inline;
-  list-style-type: none;
-  padding: 0 0.5em;
-}
-.block ul {
-  margin: 0;
-  padding: 0 0 0.25em 1em; /* LTR */
-}
-
-
-/*
- * modules/system/system-rtl.css
- */
-
-thead th {
-  text-align: right;
-  padding-left: 1em;
-  padding-right: 0.5em;
-}
-
-.item-list .icon {
-  float: left;
-  padding-left: 0;
-  padding-right: 0.25em;
-  clear: left;
-}
-.item-list ul li {
-  margin: 0 1.5em 0.25em 0;
-}
-
-.more-link {
-  text-align: left;
-}
-.more-help-link {
-  text-align: left;
-}
-
-dl.multiselect dt, dl.multiselect dd {
-  float: right;
-  margin: 0 0 0 1em;
-}
-
-.block ul {
-  padding: 0 1em 0.25em 0;
-}
-
-ul.primary {
-  padding: 0 1em 0 0;
-}
-ul.primary li a {
-  margin-right: 5px;
-  margin-left: 0.5em;
-}
-ul.secondary li {
-  display: inline;
-  padding: 0 1em;
-  border-right: none;
-  border-left: 1px solid #ccc;
-}
-html.js input.form-autocomplete {
-  background-position: 0% 2px;
-}
-html.js input.throbbing {
-  background-position: 0% -18px;
-}
-
-html.js fieldset.collapsible legend a {
-  padding-left: 0;
-  padding-right: 15px;
-  background-position: 98% 75%;
-}
-html.js fieldset.collapsed legend a {
-  background-image: url(../../misc/menu-collapsed-rtl.png);
-  background-position: 98% 50%;
-}
-
-div.teaser-button-wrapper {
-  float: left;
-  padding-right: 0;
-  padding-left: 5%;
-}
-.teaser-checkbox div.form-item {
-  float: left;
-  margin: 0 0 0 5%;
-}
-.progress .percentage {
-  float: left;
-}
-.progess-disabled {
-  float: right;
-}
-.ahah-progress {
-  float: right;
-}
-.ahah-progress .throbber {
-  float: right;
-}
-input.password-field {
-  margin-left: 10px;
-  margin-right: 0;
-}
-input.password-confirm {
-  margin-left: 10px;
-  margin-right: 0;
-}
-
-.draggable a.tabledrag-handle {
-  float: right;
-  margin: -0.4em -0.5em -0.4em 0;
-  padding: 0.42em 0.5em 0.42em 1.5em;
-}
-div.indentation {
-  margin: -0.4em -0.4em -0.4em 0.2em;
-  padding: 0.42em 0.6em 0.42em 0;
-  float: right;
-}
-div.tree-child, div.tree-child-last {
-  background-position: -65px center;
-}
-
-
-/*
- * modules/system/system.css
- */
-
-/*
-** HTML elements
-*/
-body.drag {
-  cursor: move;
-}
-th.active img {
-  display: inline;
-}
-tr.even, tr.odd {
-  background-color: #eee;
-  border-bottom: 1px solid #ccc;
-  padding: 0.1em 0.6em;
-}
-tr.drag {
-  background-color: #fffff0;
-}
-tr.drag-previous {
-  background-color: #ffd;
-}
-td.active {
-  background-color: #ddd;
-}
-td.checkbox, th.checkbox {
-  text-align: center;
-}
-tbody {
-  border-top: 1px solid #ccc;
-}
-tbody th {
-  border-bottom: 1px solid #ccc;
-}
-thead th {
-  text-align: left; /* LTR */
-  padding-right: 1em; /* LTR */
-  border-bottom: 3px solid #ccc;
-}
-
-/*
-** Other common styles
-*/
-.breadcrumb {
-  padding-bottom: .5em
-}
-div.indentation {
-  width: 20px;
-  height: 1.7em;
-  margin: -0.4em 0.2em -0.4em -0.4em; /* LTR */
-  padding: 0.42em 0 0.42em 0.6em; /* LTR */
-  float: left; /* LTR */
-}
-div.tree-child {
-  background: url(../../misc/tree.png) no-repeat 11px center; /* LTR */
-}
-div.tree-child-last {
-  background: url(../../misc/tree-bottom.png) no-repeat 11px center; /* LTR */
-}
-div.tree-child-horizontal {
-  background: url(../../misc/tree.png) no-repeat -11px center;
-}
-.error {
-  color: #e55;
-}
-div.error {
-  border: 1px solid #d77;
-}
-div.error, tr.error {
-  background: #fcc;
-  color: #200;
-  padding: 2px;
-}
-.warning {
-  color: #e09010;
-}
-div.warning {
-  border: 1px solid #f0c020;
-}
-div.warning, tr.warning {
-  background: #ffd;
-  color: #220;
-  padding: 2px;
-}
-.ok {
-  color: #008000;
-}
-div.ok {
-  border: 1px solid #00aa00;
-}
-div.ok, tr.ok {
-  background: #dfd;
-  color: #020;
-  padding: 2px;
-}
-.item-list .icon {
-  color: #555;
-  float: right; /* LTR */
-  padding-left: 0.25em; /* LTR */
-  clear: right; /* LTR */
-}
-.item-list .title {
-  font-weight: bold;
-}
-.item-list ul {
-  margin: 0 0 0.75em 0;
-  padding: 0;
-}
-.item-list ul li {
-  margin: 0 0 0.25em 1.5em; /* LTR */
-  padding: 0;
-  list-style: disc;
-}
-ol.task-list li.active {
-  font-weight: bold;
-}
-.form-item {
-  margin-top: 1em;
-  margin-bottom: 1em;
-}
-tr.odd .form-item, tr.even .form-item {
-  margin-top: 0;
-  margin-bottom: 0;
-  white-space: nowrap;
-}
-tr.merge-down, tr.merge-down td, tr.merge-down th {
-  border-bottom-width: 0 !important;
-}
-tr.merge-up, tr.merge-up td, tr.merge-up th {
-  border-top-width: 0 !important;
-}
-.form-item input.error, .form-item textarea.error, .form-item select.error {
-  border: 2px solid red;
-}
-.form-item .description {
-  font-size: 0.85em;
-}
-.form-item label {
-  display: block;
-  font-weight: bold;
-}
-.form-item label.option {
-  display: inline;
-  font-weight: normal;
-}
-.form-checkboxes, .form-radios {
-  margin: 1em 0;
-}
-.form-checkboxes .form-item, .form-radios .form-item {
-  margin-top: 0.4em;
-  margin-bottom: 0.4em;
-}
-.marker, .form-required {
-  color: #f00;
-}
-.more-link {
-  text-align: right; /* LTR */
-}
-.more-help-link {
-  font-size: 0.85em;
-  text-align: right; /* LTR */
-}
-.nowrap {
-  white-space: nowrap;
-}
-.item-list .pager {
-  clear: both;
-  text-align: center;
-}
-.item-list .pager li {
-  background-image:none;
-  display:inline;
-  list-style-type:none;
-  padding: 0.5em;
-}
-.pager-current {
-  font-weight:bold;
-}
-.tips {
-  margin-top: 0;
-  margin-bottom: 0;
-  padding-top: 0;
-  padding-bottom: 0;
-  font-size: 0.9em;
-}
-dl.multiselect dd.b, dl.multiselect dd.b .form-item, dl.multiselect dd.b select {
-  font-family: inherit;
-  font-size: inherit;
-  width: 14em;
-}
-dl.multiselect dd.a, dl.multiselect dd.a .form-item {
-  width: 8em;
-}
-dl.multiselect dt, dl.multiselect dd {
-  float: left; /* LTR */
-  line-height: 1.75em;
-  padding: 0;
-  margin: 0 1em 0 0; /* LTR */
-}
-dl.multiselect .form-item {
-  height: 1.75em;
-  margin: 0;
-}
-
-/*
-** Inline items (need to override above)
-*/
-.container-inline div, .container-inline label {
-  display: inline;
-}
-
-/*
-** Tab navigation
-*/
-ul.primary {
-  border-collapse: collapse;
-  padding: 0 0 0 1em; /* LTR */
-  white-space: nowrap;
-  list-style: none;
-  margin: 5px;
-  height: auto;
-  line-height: normal;
-  border-bottom: 1px solid #bbb;
-}
-ul.primary li {
-  display: inline;
-}
-ul.primary li a {
-  background-color: #ddd;
-  border-color: #bbb;
-  border-width: 1px;
-  border-style: solid solid none solid;
-  height: auto;
-  margin-right: 0.5em; /* LTR */
-  padding: 0 1em;
-  text-decoration: none;
-}
-ul.primary li.active a {
-  background-color: #fff;
-  border: 1px solid #bbb;
-  border-bottom: #fff 1px solid;
-}
-ul.primary li a:hover {
-  background-color: #eee;
-  border-color: #ccc;
-  border-bottom-color: #eee;
-}
-ul.secondary {
-  border-bottom: 1px solid #bbb;
-  padding: 0.5em 1em;
-  margin: 5px;
-}
-ul.secondary li {
-  display: inline;
-  padding: 0 1em;
-  border-right: 1px solid #ccc; /* LTR */
-}
-ul.secondary a {
-  padding: 0;
-  text-decoration: none;
-}
-ul.secondary a.active {
-  border-bottom: 4px solid #999;
-}
-
-/*
-** Autocomplete styles
-*/
-/* Suggestion list */
-#autocomplete {
-  position: absolute;
-  border: 1px solid;
-  overflow: hidden;
-  z-index: 100;
-}
-#autocomplete ul {
-  margin: 0;
-  padding: 0;
-  list-style: none;
-}
-#autocomplete li {
-  background: #fff;
-  color: #000;
-  white-space: pre;
-  cursor: default;
-}
-#autocomplete li.selected {
-  background: #0072b9;
-  color: #fff;
-}
-/* Animated throbber */
-html.js input.form-autocomplete {
-  background-image: url(../../misc/throbber.gif);
-  background-repeat: no-repeat;
-  background-position: 100% 2px; /* LTR */
-}
-html.js input.throbbing {
-  background-position: 100% -18px; /* LTR */
-}
-
-/*
-** Collapsing fieldsets
-*/
-html.js fieldset.collapsed {
-  border-bottom-width: 0;
-  border-left-width: 0;
-  border-right-width: 0;
-  margin-bottom: 0;
-  height: 1em;
-}
-html.js fieldset.collapsed * {
-  display: none;
-}
-html.js fieldset.collapsed legend {
-  display: block;
-}
-html.js fieldset.collapsible legend a {
-  padding-left: 15px; /* LTR */
-  background: url(../../misc/menu-expanded.png) 5px 75% no-repeat; /* LTR */
-}
-html.js fieldset.collapsed legend a {
-  background-image: url(../../misc/menu-collapsed.png); /* LTR */
-  background-position: 5px 50%; /* LTR */
-}
-/* Note: IE-only fix due to '* html' (breaks Konqueror otherwise). */
-* html.js fieldset.collapsed legend,
-* html.js fieldset.collapsed legend *,
-* html.js fieldset.collapsed table * {
-  display: inline;
-}
-/* For Safari 2 to prevent collapsible fieldsets containing tables from dissapearing due to tableheader.js. */
-html.js fieldset.collapsible {
-  position: relative;
-}
-html.js fieldset.collapsible legend a {
-  display: block;
-}
-/* Avoid jumping around due to margins collapsing into collapsible fieldset border */
-html.js fieldset.collapsible .fieldset-wrapper {
-  overflow: auto;
-}
-
-/*
-** Resizable text areas
-*/
-.resizable-textarea {
-  width: 95%;
-}
-.resizable-textarea .grippie {
-  height: 9px;
-  overflow: hidden;
-  background: #eee url(../../misc/grippie.png) no-repeat center 2px;
-  border: 1px solid #ddd;
-  border-top-width: 0;
-  cursor: s-resize;
-}
-html.js .resizable-textarea textarea {
-  margin-bottom: 0;
-  width: 100%;
-  display: block;
-}
-
-/*
-** Table drag and drop.
-*/
-.draggable a.tabledrag-handle {
-  cursor: move;
-  float: left; /* LTR */
-  height: 1.7em;
-  margin: -0.4em 0 -0.4em -0.5em; /* LTR */
-  padding: 0.42em 1.5em 0.42em 0.5em; /* LTR */
-  text-decoration: none;
-}
-a.tabledrag-handle:hover {
-  text-decoration: none;
-}
-a.tabledrag-handle .handle {
-  margin-top: 4px;
-  height: 13px;
-  width: 13px;
-  background: url(../../misc/draggable.png) no-repeat 0 0;
-}
-a.tabledrag-handle-hover .handle {
-  background-position: 0 -20px;
-}
-
-/*
-** Teaser splitter
-*/
-.joined + .grippie {
-  height: 5px;
-  background-position: center 1px;
-  margin-bottom: -2px;
-}
-/* Keeps inner content contained in Opera 9. */
-.teaser-checkbox {
-  padding-top: 1px;
-}
-div.teaser-button-wrapper {
-  float: right; /* LTR */
-  padding-right: 5%; /* LTR */
-  margin: 0;
-}
-.teaser-checkbox div.form-item {
-  float: right; /* LTR */
-  margin: 0 5% 0 0; /* LTR */
-  padding: 0;
-}
-textarea.teaser {
-  display: none;
-}
-html.js .no-js {
-  display: none;
-}
-
-/*
-** Progressbar styles
-*/
-.progress {
-  font-weight: bold;
-}
-.progress .bar {
-  background: #fff url(../../misc/progress.gif);
-  border: 1px solid #00375a;
-  height: 1.5em;
-  margin: 0 0.2em;
-}
-.progress .filled {
-  background: #0072b9;
-  height: 1em;
-  border-bottom: 0.5em solid #004a73;
-  width: 0%;
-}
-.progress .percentage {
-  float: right; /* LTR */
-}
-.progress-disabled {
-  float: left; /* LTR */
-}
-.ahah-progress {
-  float: left; /* LTR */
-}
-.ahah-progress .throbber {
-  width: 15px;
-  height: 15px;
-  margin: 2px;
-  background: transparent url(../../misc/throbber.gif) no-repeat 0px -18px;
-  float: left; /* LTR */
-}
-tr .ahah-progress .throbber {
-  margin: 0 2px;
-}
-.ahah-progress-bar {
-  width: 16em;
-}
-
-/*
-** Formatting for welcome page
-*/
-#first-time strong {
-  display: block;
-  padding: 1.5em 0 .5em;
-}
-
-/*
-** To be used with tableselect.js
-*/
-tr.selected td {
-  background: #ffc;
-}
-
-/*
-** Floating header for tableheader.js
-*/
-table.sticky-header {
-  margin-top: 0;
-  background: #fff;
-}
-
-/*
-** Installation clean URLs
-*/
-#clean-url.install {
-  display: none;
-}
-
-/*
-** For anything you want to hide on page load when JS is enabled, so
-** that you can use the JS to control visibility and avoid flicker.
-*/
-html.js .js-hide {
-  display: none;
-}
-
-/*
-** Styles for the system modules page (admin/build/modules)
-*/
-#system-modules div.incompatible {
-  font-weight: bold;
-}
-
-/*
-** Styles for the system themes page (admin/build/themes)
-*/
-#system-themes-form div.incompatible {
-  font-weight: bold;
-}
-
-/*
-** Password strength indicator
-*/
-span.password-strength {
-  visibility: hidden;
-}
-input.password-field {
-  margin-right: 10px; /* LTR */
-}
-div.password-description {
-  padding: 0 2px;
-  margin: 4px 0 0 0;
-  font-size: 0.85em;
-  max-width: 500px;
-}
-div.password-description ul {
-  margin-bottom: 0;
-}
-.password-parent {
-  margin: 0 0 0 0;
-}
-/*
-** Password confirmation checker
-*/
-input.password-confirm {
-  margin-right: 10px; /* LTR */
-}
-.confirm-parent {
-  margin: 5px 0 0 0;
-}
-span.password-confirm {
-  visibility: hidden;
-}
-span.password-confirm span {
-  font-weight: normal;
-}
-
-
-/*
- * modules/taxonomy/taxonomy.css
- */
-
-tr.taxonomy-term-preview {
-  background-color: #EEE;
-}
-tr.taxonomy-term-divider-top {
-  border-bottom: none;
-}
-tr.taxonomy-term-divider-bottom {
-  border-top: 1px dotted #CCC;
-}
-.taxonomy-term-description {
-  margin: 5px 0 20px;
-}
-
-
-/*
- * modules/tracker/tracker.css
- */
-
-#tracker td.replies {
-  text-align: center;
-}
-#tracker table {
-  width: 100%;
-}
-
-
-/*
- * modules/update/update-rtl.css
- */
-
-.update .project {
-  padding-right: .25em;
-}
-
-.update .version-status {
-  float: left;
-  padding-left: 10px;
-}
-
-.update .version-status .icon {
-  padding-right: .5em;
-}
-
-.update table.version .version-title {
-  padding-left: 1em;
-}
-
-.update table.version .version-details {
-  padding-left: .5em;
-  direction: ltr;
-}
-
-.update table.version .version-links {
-  text-align: left;
-  padding-left: 1em;
-}
-
-.update .check-manually {
-  padding-right: 1em;
-}
-
-
-/*
- * modules/update/update.css
- */
-
-.update .project {
-  font-weight: bold;
-  font-size: 110%;
-  padding-left: .25em; /* LTR */
-  height: 22px;
-}
-
-.update .version-status {
-  float: right; /* LTR */
-  padding-right: 10px; /* LTR */
-  font-size: 110%;
-  height: 20px;
-}
-
-.update .version-status .icon {
-  padding-left: .5em; /* LTR */
-}
-
-.update .version-date {
-  white-space: nowrap;
-}
-
-.update .info {
-  margin: 0;
-  padding: 1em 1em .25em 1em;
-}
-
-.update tr td {
-  border-top: 1px solid #ccc;
-  border-bottom: 1px solid #ccc;
-}
-
-.update tr.error {
-  background: #fcc;
-}
-
-.update tr.error .version-recommended {
-  background: #fdd;
-}
-
-.update tr.ok {
-  background: #dfd;
-}
-
-.update tr.warning {
-  background: #ffd;
-}
-
-.update tr.warning .version-recommended {
-  background: #ffe;
-}
-
-.current-version, .new-version {
-  direction: ltr; /* Note: version numbers should always be LTR. */
-}
-
-.update tr.unknown {
-  background: #ddd;
-}
-
-table.update,
-.update table.version {
-  width: 100%;
-  margin-top: .5em;
-}
-
-.update table.version tbody {
-  border: none;
-}
-
-.update table.version tr,
-.update table.version td {
-  line-height: .9em;
-  padding: 0;
-  margin: 0;
-  border: none;
-}
-
-.update table.version .version-title {
-  padding-left: 1em; /* LTR */
-  width: 14em;
-}
-
-.update table.version .version-details {
-  padding-right: .5em; /* LTR */
-}
-
-.update table.version .version-links {
-  text-align: right; /* LTR */
-  padding-right: 1em; /* LTR */
-}
-
-.update table.version-security .version-title {
-  color: #970F00;
-}
-
-.update table.version-recommended-strong .version-title {
-  font-weight: bold;
-}
-
-.update .security-error {
-  font-weight: bold;
-  color: #970F00;
-}
-
-.update .check-manually {
-  padding-left: 1em; /* LTR */
-}
-
-
-/*
- * modules/user/user-rtl.css
- */
-
-#permissions td.permission {
-  padding-left: 0;
-  padding-right: 1.5em;
-}
-#access-rules .access-type, #access-rules .rule-type {
-  margin-right: 0;
-  margin-left: 1em;
-  float: right;
-}
-#user-admin-buttons {
-  float: right;
-  margin-left: 0;
-  margin-right: 0.5em;
-  clear: left;
-}
-
-.profile .picture {
-  float: left;
-  margin: 0 0 1em 1em;
-}
-
-
-/*
- * modules/user/user.css
- */
-
-#permissions td.module {
-  font-weight: bold;
-}
-#permissions td.permission {
-  padding-left: 1.5em; /* LTR */
-}
-#access-rules .access-type, #access-rules .rule-type {
-  margin-right: 1em; /* LTR */
-  float: left; /* LTR */
-}
-#access-rules .access-type .form-item, #access-rules .rule-type .form-item {
-  margin-top: 0;
-}
-#access-rules .mask {
-  clear: both;
-}
-#user-login-form {
-  text-align: center;
-}
-#user-admin-filter ul {
-  list-style-type: none;
-  padding: 0;
-  margin: 0;
-  width: 100%;
-}
-#user-admin-buttons {
-  float: left; /* LTR */
-  margin-left: 0.5em; /* LTR */
-  clear: right; /* LTR */
-}
-#user-admin-settings fieldset .description {
-  font-size: 0.85em;
-  padding-bottom: .5em;
-}
-
-/* Generated by user.module but used by profile.module: */
-.profile {
-  clear: both;
-  margin: 1em 0;
-}
-.profile .picture {
-  float: right; /* LTR */
-  margin: 0 1em 1em 0; /* LTR */
-}
-.profile h3 {
-  border-bottom: 1px solid #ccc;
-}
-.profile dl {
-  margin: 0 0 1.5em 0;
-}
-.profile dt {
-  margin: 0 0 0.2em 0;
-  font-weight: bold;
-}
-.profile dd {
-  margin: 0 0 1em 0;
-}
diff --git a/sites/all/themes/vibio/css/facebook.css b/sites/all/themes/vibio/css/facebook.css
deleted file mode 100644
index cb22d6b..0000000
--- a/sites/all/themes/vibio/css/facebook.css
+++ /dev/null
@@ -1,61 +0,0 @@
-.fb_dialog {
-	display: none;
-}
-
-.fb_popup #vibio_dialog {
-	padding: 0;
-}
-
-.fb_header {
-	background: #3B5998;
-	padding: 5px 10px;
-}
-
-.fb_body {
-	padding: 10px;
-}
-
-.fb_share_params {
-	display: none;
-}
-
-.fb_login_button:hover {
-	cursor: pointer;
-}
-
-.fb_share_container {
-	float: left;
-	margin-left: 10px;
-}
-
-.collection_list_item_summary .fb_share_container {
-	margin-left: 5px;
-}
-
-.fb_ff_message {
-	margin-bottom: 10px;
-}
-
-.fb_ff_message .fb_message {
-	float: left;
-	width: 500px;
-}
-
-.fb_ff_message .fb_link {
-	float: right;
-}
-
-#block-fb-fb_login {
-	margin-top: 10px;
-	border-top: 3px double #3c4b55;
-}
-
-#block-fb-fb_login .fb_login {
-	text-align: center;
-	margin-top: 10px;
-}
-
-.product_image .fb_share_container {
-	float: none;
-	margin: 0;
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/css/fields.css b/sites/all/themes/vibio/css/fields.css
deleted file mode 100644
index 54183a2..0000000
--- a/sites/all/themes/vibio/css/fields.css
+++ /dev/null
@@ -1,46 +0,0 @@
-/* $Id: fields.css,v 1.3 2009/08/12 08:03:52 johnalbin Exp $ */
-
-/**
- * @file
- * Field Styling
- */
-
-
-/*
- * Field types
- */
-
-.field /* Wrapper for any CCK field. */ {
-}
-
-.field-type-datetime /* Always use "datetime" when creating new CCK date fields. "date" and "datestamp" are legacy types. */ {
-}
-
-.field-type-filefield /* Field from filefield module */ {
-}
-
-.field-type-nodereference {
-}
-
-.field-type-number-decimal {
-}
-
-.field-type-number-float {
-}
-
-.field-type-number-integer {
-}
-
-.field-type-text {
-}
-
-.field-type-userreference {
-}
-
-
-/*
- * Named fields
- */
-
-.field-field-FIELDNAME /* Underscores in field name are replaced with dashes. */ {
-}
diff --git a/sites/all/themes/vibio/css/forms-rtl.css b/sites/all/themes/vibio/css/forms-rtl.css
deleted file mode 100644
index ab49d4e..0000000
--- a/sites/all/themes/vibio/css/forms-rtl.css
+++ /dev/null
@@ -1,48 +0,0 @@
-/* $Id: forms-rtl.css,v 1.3 2009/08/12 08:37:42 johnalbin Exp $ */
-
-/**
- * @file
- * RTL companion for the forms.css file.
- */
-
-
-/*
- * Drupal's default login form block
- */
-#user-login-form {
-  text-align: right;
-}
-
-
-/*
- * OpenID
- *
- * The default styling for the OpenID login link seems to assume Garland's
- * styling of list items.
- */
-
-#user-login-form li.openid-link /* The "Log in using OpenID" link. */ {
-  margin-left: 0;
-  margin-right: -20px; /* Un-do some of the padding on the ul list. */
-}
-
-#user-login li.openid-link,
-#user-login li.user-link /* The OpenID links on the /user form. */ {
-  margin-left: 0;
-  margin-right: -2em; /* Un-do all of the padding on the ul list. */
-}
-
-
-/*
- * Drupal admin tables
- *
- * We overrode these styles in html-elements.css, but restore them for the admin
- * section of the site.
- */
-
-form th,
-form thead th {
-  text-align: right;
-  padding-left: 1em;
-  padding-right: 0;
-}
diff --git a/sites/all/themes/vibio/css/forms.css b/sites/all/themes/vibio/css/forms.css
deleted file mode 100644
index caa21b7..0000000
--- a/sites/all/themes/vibio/css/forms.css
+++ /dev/null
@@ -1,306 +0,0 @@
-/* $Id: forms.css,v 1.3 2009/08/12 08:37:42 johnalbin Exp $ */
-
-/**
- * @file
- * Form Styling
- */
-
-
-.form-item,
-.form-checkboxes,
-.form-radios /* Wrapper for a form element (or group of form elements) and its label */ {
-  margin: 1em 0;
-}
-
-.form-item input.error,
-.form-item textarea.error,
-.form-item select.error /* Highlight the form elements that caused a form submission error */ {
-  border: 1px solid #c00 !important;
-}
-
-.form-item label /* The label for a form element */ {
-  display: block;
-  font-weight: bold;
-}
-
-.form-item label.option /* The label for a radio button or checkbox */ {
-  display: inline;
-  font-weight: normal;
-}
-
-.form-required /* The part of the label that indicates a required field */ {
-  color: #c00;
-}
-
-.form-item .description /* The descriptive help text (separate from the label) */ {
-  font-size: 0.85em;
-}
-
-.form-checkboxes .form-item,
-.form-radios .form-item /* Pack groups of checkboxes and radio buttons closer together */ {
-  margin: 0.4em 0;
-}
-
-.form-submit /* The submit button */ {
-}
-
-.container-inline div,
-.container-inline label /* Inline labels and form divs */ {
-  display: inline;
-}
-
-.tips /* Tips for Drupal's input formats */ {
-}
-
-
-/*
- * Search (search-theme-form.tpl.php)
- */
-#search-box /* Wrapper for the search form */ {
-  float: left;
-  margin: 4px 0 0 10px;
-  width: 285px;
-}
-
-#search {
-  position: relative;
-  z-index: 0;
-}
-
-#search_type_menu_container {
-  z-index: 1;
-}
-
-#edit-search-theme-form-1-wrapper {
-  left: 0px;
-  top: 0px;
-  z-index: 0;
-}
-
-#edit-search-theme-form-1 {
-  color: #999;
-  border: 3px solid #2c3e53;
-  -webkit-border-radius: 7px;
-  -moz-border-radius: 7px;
-  border-radius: 7px;
-  height: 35px;
-  width: 200px;
-  padding-left: 85px;
-  position: absolute;
-  right: 0;
-  top: 0;
-  z-index: 0;
-}
-
-#search input[type="submit"] {
-  background: transparent url(../images/search-icon.png) no-repeat top center;
-  width: 35px;
-  height: 35px;
-  border: 0;
-  position: absolute;
-  right: 5px;
-  top: 8px !important;
-}
-
-#edit-search-theme-form-1-wrapper label /* Label that says "Search this site:" */ {
-  display: none;
-}
-
-
-/*
- * Search (search-block-form.tpl.php)
- */
-#search-block-form /* Wrapper for the search form */ {
-}
-
-#edit-search-block-form-1-wrapper label /* Label that says "Search this site:" */ {
-  display: none;
-}
-
-
-/*
- * Drupal's default login form block
- */
-#user-login-form {
-  text-align: left; /* LTR */
-}
-
-
-/*
- * OpenID
- *
- * The default styling for the OpenID login link seems to assume Garland's
- * styling of list items.
- */
-
-#user-login-form ul /* OpenID creates a new ul above the login form's links. */ {
-  margin-bottom: 0; /* Position OpenID's ul next to the rest of the links. */
-}
-
-#user-login-form li.openid-link /* The "Log in using OpenID" link. */ {
-  margin-top: 1em;
-  margin-left: -20px; /* LTR */ /* Un-do some of the padding on the ul list. */
-}
-
-#user-login-form li.user-link /* The "Cancel OpenID login" link. */ {
-  margin-top: 1em;
-}
-
-#user-login ul {
-  margin: 1em 0;
-}
-
-#user-login li.openid-link,
-#user-login li.user-link /* The OpenID links on the /user form. */ {
-  margin-left: -2em; /* LTR */ /* Un-do all of the padding on the ul list. */
-}
-
-#user-login-form input[type="submit"] {
- background: #3fc7fb; /* Old browsers */
-  background: -moz-linear-gradient(top, #54cffe 1%, #02aff0 100%); /* FF3.6+ */
-  background: -webkit-gradient(linear, left top, left bottom, color-stop(1%,#54cffe), color-stop(100%,#02aff0)); /* Chrome,Safari4+ */
-  background: -webkit-linear-gradient(top, #54cffe 1%,#02aff0 100%); /* Chrome10+,Safari5.1+ */
-  background: -o-linear-gradient(top, #54cffe 1%,#02aff0 100%); /* Opera11.10+ */
-  background: -ms-linear-gradient(top, #54cffe 1%,#02aff0 100%); /* IE10+ */
-  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#54cffe', endColorstr='#02aff0',GradientType=0 ); /* IE6-9 */
-  background: linear-gradient(top, #54cffe 1%,#02aff0 100%); /* W3C */
-  border: 1px solid #246e89;
-  -webkit-border-radius: 5px;
-  -moz-border-radius: 5px;
-  border-radius: 5px;
-  -webkit-box-shadow: inset 0px 1px 1px 0px #9ee1f3;
-  -moz-box-shadow: inset 0px 1px 1px 0px #9ee1f3;
-  box-shadow: inset 0px 1px 1px 0px #9ee1f3;
-  color: #fff;
-  display: inline-block;
-  font-size: 26px;
-  font-family: helvetica;
-  font-weight: bold;
-  padding: .3em 1em;
-  margin: .2em 0;
-  text-decoration: none;
-  text-shadow: 0px 1px 1px #000000;
-  filter: dropshadow(color=#000000, offx=0, offy=1);
-}
-
-#user-login-form div.item-list {
-	font-size: 11px;
-	line-height: 17px;
-}
-
-#user-login-form div.item-list.login_form_separator {
-	padding-top: 1px;
-}
-
-#user-login-form div.item-list.login_form_separator li.openid-processed {
-	margin-left: 0;
-	border-top: 3px double #3c4b55;
-	padding-top: 10px;
-	margin-top: 10px;
-}
-
-#user-login-form div.item-list.login_form_separator li.openid-processed a {
-	padding: 0;
-}
-
-#user-login-form div.item-list li.last {
-	margin-top: 0;
-}
-
-/*
- * Drupal admin tables
- *
- * We overrode these styles in html-elements.css, but restore them for the admin
- * section of the site.
- */
-
-form th,
-form thead th {
-  text-align: left; /* LTR */
-  padding-right: 1em; /* LTR */
-  border-bottom: 3px solid #ccc;
-}
-
-form tbody th {
-  border-bottom: 1px solid #ccc;
-}
-
-form fieldset td {
-	vertical-align: top;
-	padding-bottom: 5px;
-}
-
-td.form-item-label {
-	text-align: right;
-	padding-right: 10px;
-	width: 150px;
-	font-weight: bold;
-}
-
-div.form-radios, div.form-checkboxes, div.form-radios > table, div.form-checkboxes > table {
-	margin: 0;
-}
-
-div.form-radios td.form-item-label, div.form-checkboxes td.form-item-label {
-	display: none;
-}
-
-/* registration form */
-#user-register div.form-item label {
-	float: left;
-	text-align: right;
-	width: 150px;
-	margin-right: 10px;
-}
-
-#user-register div.form-item div.description {
-	margin-left: 160px;
-}
-
-#user-register span.password-result {
-	padding-left: 125px;
-	background-repeat: no-repeat;
-	background-position: 0 4px;
-}
-
-#user-register span.password-result.error {
-	background-image: url(/themes/vibio/images/progress/progressbar_low.png);
-}
-
-#user-register span.password-result.warning {
-	background-image: url(/themes/vibio/images/progress/progressbar_medium.png);
-}
-
-#user-register span.password-result.ok {
-	background-image: url(/themes/vibio/images/progress/progressbar_high.png);
-}
-
-/* ----- Buttons---- */
-
-.button {
-  background: #3fc7fb; /* Old browsers */
-  background: -moz-linear-gradient(top, #54cffe 1%, #02aff0 100%); /* FF3.6+ */
-  background: -webkit-gradient(linear, left top, left bottom, color-stop(1%,#54cffe), color-stop(100%,#02aff0)); /* Chrome,Safari4+ */
-  background: -webkit-linear-gradient(top, #54cffe 1%,#02aff0 100%); /* Chrome10+,Safari5.1+ */
-  background: -o-linear-gradient(top, #54cffe 1%,#02aff0 100%); /* Opera11.10+ */
-  background: -ms-linear-gradient(top, #54cffe 1%,#02aff0 100%); /* IE10+ */
-  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#54cffe', endColorstr='#02aff0',GradientType=0 ); /* IE6-9 */
-  background: linear-gradient(top, #54cffe 1%,#02aff0 100%); /* W3C */
-  border: 1px solid #246e89;
-  -webkit-border-radius: 5px;
-  -moz-border-radius: 5px;
-  border-radius: 5px;
-  -webkit-box-shadow: inset 0px 1px 1px 0px #9ee1f3;
-  -moz-box-shadow: inset 0px 1px 1px 0px #9ee1f3;
-  box-shadow: inset 0px 1px 1px 0px #9ee1f3;
-  color: #fff;
-  display: inline-block;
-  font-weight: bold;
-  padding: .3em 1em;
-  position: relative;
-  margin: .3em 0;
-  text-decoration: none;
-  text-shadow: 0px 1px 1px #000000;
-  filter: dropshadow(color=#000000, offx=0, offy=1);
-  z-index: 0; 
-}
diff --git a/sites/all/themes/vibio/css/html-reset-rtl.css b/sites/all/themes/vibio/css/html-reset-rtl.css
deleted file mode 100644
index f81db26..0000000
--- a/sites/all/themes/vibio/css/html-reset-rtl.css
+++ /dev/null
@@ -1,39 +0,0 @@
-/* $Id: html-reset-rtl.css,v 1.1 2009/08/12 17:49:26 johnalbin Exp $ */
-
-/**
- * @file
- * RTL companion for the html-reset.css file.
- */
-
-
-/*
- * Lists
- *
- * We need to standardize the list item indentation.
- */
-ul,
-ol {
-  padding-left: 0;
-  padding-right: 2em;
-}
-
-.block ul,
-.item-list ul /* Drupal overrides */ {
-  padding: 0 2em 0 0;
-}
-
-dd {
-  margin: 0 2em 0 0;
-}
-
-/*
- * Tables
- *
- * Drupal provides table styling which is only useful for its admin section
- * forms, so we override this default CSS. (We set it back in forms.css.)
- */
-th,
-thead th,
-tbody th {
-  text-align: right;
-}
diff --git a/sites/all/themes/vibio/css/html-reset.README b/sites/all/themes/vibio/css/html-reset.README
deleted file mode 100644
index 93a1ecc..0000000
--- a/sites/all/themes/vibio/css/html-reset.README
+++ /dev/null
@@ -1,2 +0,0 @@
-This file was used to set, not just reset, basic html
-
diff --git a/sites/all/themes/vibio/css/html-reset.css b/sites/all/themes/vibio/css/html-reset.css
deleted file mode 100644
index b8487e0..0000000
--- a/sites/all/themes/vibio/css/html-reset.css
+++ /dev/null
@@ -1,327 +0,0 @@
-/* $Id: html-reset.css,v 1.6.2.2 2010/06/26 15:36:03 johnalbin Exp $ */
-
-/**
- * @file
- * HTML Element Styling
- *
- * Ok, I admit it. I fooled you. This isn't a "reset" stylesheet. Instead this
- * is the place where you should set (not reset) the default styling for all
- * HTML elements.
- *
- * @see http://meiert.com/en/blog/20080419/reset-style-sheets-are-bad/
- * @see http://snook.ca/archives/html_and_css/no_css_reset/
- */
-
-
-/*
- * Fonts
- *
- * Our font size and line height declarations are based on the following ALA
- * article:
- *   http://www.alistapart.com/articles/howtosizetextincss
- *
- * All modern browsrs use a 16px default font size. Specifying the font-size
- * and line-height in ems (relative to the 16px default font) allows the user
- * to resize the font in the browser and produces the most consistent results
- * across different browsers.
- */
-body {
-  font-size: 100%; /* Fixes exaggerated text resizing in IE6 and IE7 */
-}
-
-#skip-link,
-#page {
-  /*
-   * To use a 12px font size on the page, delete the 14px declarations.
-   * to use a 14px font size on the page, delete the 12px declarations.
-   */
-
-  /* Use a 12px base font size with a 16px line height */
-  font-size: 0.75em; /* 16px x .75 = 12px */
-  line-height: 1.333em; /* 12px x 1.333 = 16px */
-
-  /* Use a 14px base font size with a 18px line height */
-  font-size: 0.875em; /* 16px x .875 = 14px */
-  line-height: 1.286em; /* 14px x 1.286 = 18px */
-}
-
-body,
-caption,
-th,
-td,
-input,
-textarea,
-select,
-option,
-legend,
-fieldset {
-  /* The following font family declarations are based on the Microsoft core web
-   * fonts which are common fonts available on most computer systems. The DejaVu
-   * fonts are commonly available on Linux systems where the MS fonts are less
-   * common. Tahoma and Helvetica are also widely available.
-   *
-   * A user's web browser will look at the comma-separated list and will
-   * attempt to use each font in turn until it finds one that is available
-   * on the user's computer. The final "generic" font (sans-serif or serif)
-   * hints at what type of font to use if the web browser doesn't find any
-   * of the fonts in the list.
-
-  font-family: "Times New Roman", Times, Georgia, "DejaVu Serif", serif;
-  font-family: Times, "Times New Roman", Georgia, "DejaVu Serif", serif;
-  font-family: Georgia, "Times New Roman", "DejaVu Serif", serif;
-
-  font-family: Verdana, Tahoma, "DejaVu Sans", sans-serif;
-  font-family: Tahoma, Verdana, "DejaVu Sans", sans-serif;
-  font-family: Helvetica, Arial, "Nimbus Sans L", sans-serif;
-  font-family: Arial, Helvetica, "Nimbus Sans L", sans-serif;
-
-  font-family: "Courier New", "DejaVu Sans Mono", monospace;
-
-   */
-
-  font-family: 'Trebuchet MS', Verdana, Tahoma, "DejaVu Sans", sans-serif;
-}
-
-pre,
-code {
-  font-size: 1.1em; /* Monospace fonts can be hard to read */
-  font-family: "Courier New", "DejaVu Sans Mono", monospace;
-}
-
-/*
- * Headings
- */
-h1 {
-  font-size: 2em;
-  line-height: 1.3em;
-  margin-top: 0;
-  margin-bottom: 0.5em; /* 0.5em is equavalent to 1em in the page's base font.
-                           Remember, a margin specified in ems is relative to
-                           the element's font-size, not to the pages' base
-                           font size. So, for example, if we want a 1em margin
-                           (relative to the base font), we have to divide that
-                           length by the element's font-size:
-                           1em / 2em = 0.5em */
-}
-
-h2 {
-  font-size: 1.5em;
-  line-height: 1.3em;
-  margin-top: 0.667em; /* Equivalent to 1em in the page's base font: 1 / 1.5 = 0.667em */
-  margin-bottom: 0.667em;
-}
-
-h3 {
-  font-size: 1.3em;
-  line-height: 1.3em;
-  margin-top: 0.769em; /* Equivalent to 1em in the page's base font: 1 / 1.3 = 0.769 */
-  margin-bottom: 0.769em;
-}
-
-h4,
-h5,
-h6 {
-  font-size: 1.1em;
-  line-height: 1.3em;
-  margin-top: 0.909em; /* Equivalent to 1em in the page's base font: 1 / 1.1 = 0.909 */
-  margin-bottom: 0.909em;
-}
-
-/*
- * Block-level elements
- */
-p,
-ul,
-ol,
-dl,
-pre,
-table,
-fieldset {
-  margin: 1em 0;
-}
-
-blockquote {
-  margin: 1em 2em;
-}
-
-/*
- * Lists
- *
- * We need to standardize the list item indentation.
- */
-ul,
-ol {
-  margin-left: 0;
-  padding-left: 2em; /* LTR */
-}
-
-.block ul,
-.item-list ul /* Drupal overrides */ {
-  margin: 1em 0;
-  padding: 0 0 0 2em; /* LTR */
-}
-
-ul ul, ul ol,
-ol ol, ol ul,
-.block ul ul, .block ul ol,
-.block ol ol, .block ol ul,
-.item-list ul ul, .item-list ul ol,
-.item-list ol ol, .item-list ol ul {
-  margin: 0;
-}
-
-li {
-  margin: 0;
-  padding: 0;
-}
-
-.item-list ul li /* Drupal override */ {
-  margin: 0;
-  padding: 0;
-  list-style: inherit;
-}
-
-ul.menu li,
-li.expanded,
-li.collapsed,
-li.leaf /* Drupal override */ {
-  margin: 0;
-  padding: 0;
-}
-
-ul          { list-style-type: disc; }
-ul ul       { list-style-type: circle; }
-ul ul ul    { list-style-type: square; }
-ul ul ul ul { list-style-type: circle; }
-ol          { list-style-type: decimal; }
-ol ol       { list-style-type: lower-alpha; }
-ol ol ol    { list-style-type: decimal; }
-
-dt {
-  margin: 0;
-  padding: 0;
-}
-
-dd {
-  margin: 0 0 0 2em;
-  padding: 0;
-}
-
-/*
- * Links
- *
- * The order of link states are based on Eric Meyer's article:
- * http://meyerweb.com/eric/thoughts/2007/06/11/who-ordered-the-link-states
- */
-a:link {
-}
-
-a:visited {
-}
-
-a:hover,
-a:focus {
-}
-
-a:active {
-}
-
-/*
- * Tables
- *
- * Drupal provides table styling which is only useful for its admin section
- * forms, so we override this default CSS. (We set it back in forms.css.)
- */
-table {
-  border-collapse: collapse;
-  /* width: 100%; */ /* Prevent cramped-looking tables */
-}
-
-th,
-thead th,
-tbody th {
-  text-align: left; /* LTR */
-  padding: 0;
-  border-bottom: none;
-}
-
-tbody {
-  border-top: none;
-}
-
-/*
- * Abbreviations
- */
-abbr {
-  border-bottom: 1px dotted #666;
-  cursor: help;
-  white-space: nowrap;
-}
-
-abbr.created /* Date-based "abbreviations" show computer-friendly timestamps which are not human-friendly. */ {
-  border: none;
-  cursor: auto;
-  white-space: normal;
-}
-
-/*
- * Images
- */
-img {
-  border: 0;
-}
-
-/*
- * Horizontal rules
- */
-hr {
-  height: 1px;
-  border: 1px solid #666;
-}
-
-/*
- * Forms
- */
-form {
-  margin: 0;
-  padding: 0;
-}
-
-fieldset {
-  margin: 1em 0;
-  padding: 0.5em;
-}
-
-
-/* jquery progress bars */
-.ui-progressbar {
-  border: 1px solid black;
-  border-radius: 4px;
-  -moz-border-radius: 4px;
-  height: 10px;
-  width: 125px;
-}
-
-.ui-progressbar .ui-progressbar-value {
-  height: 100%;
-  background: #B5CFDE;
-}
-
-.ui-progressbar .ui-corner-left {
-  border-bottom-left-radius: 4px;
-  border-top-left-radius: 4px;
-  -moz-border-radius-topleft: 4px;
-  -moz-border-radius-bottomleft: 4px;
-}
-
-.ui-progressbar .ui-corner-right {
-  border-bottom-right-radius: 4px;
-  border-top-right-radius: 4px;
-  -moz-border-radius-topright: 4px;
-  -moz-border-radius-bottomright: 4px;
-}
-
-/* misc */
-.hidden {
-  display: none;
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/css/ie.css b/sites/all/themes/vibio/css/ie.css
deleted file mode 100644
index 5e216c5..0000000
--- a/sites/all/themes/vibio/css/ie.css
+++ /dev/null
@@ -1,65 +0,0 @@
-/* $Id: ie.css,v 1.2.2.1 2010/01/20 20:11:52 johnalbin Exp $ */
-
-/**
- * @file
- * CSS targeted specifically for Internet Explorer for Windows.
- *
- * Any CSS in this file will apply to all versions of IE. You can target
- * specific versions of IE by using conditional comments. See your sub-theme's
- * .info file for an easy way to use them.
- *
- * While building your theme, you should be aware that IE limits Drupal to 31
- * stylesheets total. The work-around for the bug is to enable CSS aggregation
- * under: admin / settings / performance.
- */
-
-
-/*
- * Tabs
- */
-
-ul.primary li a,
-ul.primary li a .tab,
-ul.secondary li a,
-ul.secondary li a .tab {
-  cursor: pointer;
-}
-
-/*
- * Drupal nodes
- */
-
-.node-unpublished .node-inner>* {
-  position: relative; /* Otherwise these elements will appear below the "Unpublished" text. */
-}
-
-/*
- * Drupal admin tables
- */
-tr.even th,
-tr.even td,
-tr.odd th,
-tr.odd td {
-  border-bottom: 1px solid #ccc; /* IE doesn't display borders on table rows */
-}
-
-/*
- * Markup free clearing
- */
-.clearfix {
-  zoom: 1;
-}
-
-.rounded_container {
-  background-color: #23698A;
-  padding: 3px !important;
-}
-
-#profile_ext_header {
-  margin-top: -23px;
-}
-
-#search_type_menu_container {
-	margin-right: -6px;
-	top: 2px;
-}
diff --git a/sites/all/themes/vibio/css/ie6-rtl.css b/sites/all/themes/vibio/css/ie6-rtl.css
deleted file mode 100644
index b7b47f5..0000000
--- a/sites/all/themes/vibio/css/ie6-rtl.css
+++ /dev/null
@@ -1,14 +0,0 @@
-/* $Id: ie6-rtl.css,v 1.2 2009/08/12 08:03:52 johnalbin Exp $ */
-
-/**
- * @file
- * RTL companion for the ie6.css file.
- */
-
-
-/*
- * Layout CSS
- */
-#page {
-  text-align: right; /* 2nd part of IE5/IE6quirks centering hack */
-}
diff --git a/sites/all/themes/vibio/css/ie6.css b/sites/all/themes/vibio/css/ie6.css
deleted file mode 100644
index bf5b3ff..0000000
--- a/sites/all/themes/vibio/css/ie6.css
+++ /dev/null
@@ -1,103 +0,0 @@
-/* $Id: ie6.css,v 1.6 2009/11/04 20:16:50 johnalbin Exp $ */
-
-/**
- * @file
- * CSS targeted specifically for Internet Explorer 5 and 6 for Windows.
- *
- * Any CSS in this file will override the rules specified in the ie.css file.
- */
-
-
-/*
- * Layout CSS
- */
-
-body {
-  text-align: center; /* 1st part of IE5/IE6quirks centering hack */
-}
-
-#page {
-  text-align: left; /* LTR */ /* 2nd part of IE5/IE6quirks centering hack */
-}
-
-#main-wrapper {
-  zoom: 1; /* Otherwise with a liquid layout, sidebars disappear when resizing the windows in IE6 */
-}
-
-#content,
-#navigation,
-.region-sidebar-first,
-.region-sidebar-second /* Floating divs */ {
-  display: inline; /* display inline or double your floated margin! [1] */
-  overflow: hidden; /* in ie6, overflow auto is broken [2] and so is overflow visible [3] */
-  overflow-y: visible;
-}
-
-/*
- * Tabs - IE 5 and 6 don't support PNGs with alpha transparency.
- */
-
-ul.primary li a,
-ul.primary li a .tab,
-ul.secondary li a,
-ul.secondary li a .tab {
-  display: inline-block; /* Otherwise the blocks mistakenly get 100% width in IE6 */
-}
-
-ul.primary li a {
-  background: url(../images/tab-left-ie6.png) no-repeat left -38px;
-}
-
-ul.primary li a .tab {
-  background: url(../images/tab-right-ie6.png) no-repeat right -38px;
-}
-
-ul.primary li a:hover {
-  background: url(../images/tab-left-ie6.png) no-repeat left -76px;
-}
-
-ul.primary li a:hover .tab {
-  background: url(../images/tab-right-ie6.png) no-repeat right -76px;
-}
-
-ul.primary li.active a,
-ul.primary li.active a:hover {
-  background: url(../images/tab-left-ie6.png) no-repeat left 0;
-}
-
-ul.primary li.active a .tab,
-ul.primary li.active a:hover .tab {
-  background: url(../images/tab-right-ie6.png) no-repeat right 0;
-}
-
-/*
- * Messages - IE 5 and 6 don't support PNGs with alpha transparency.
- */
-
-div.messages,
-div.status,
-div.warning,
-div.error /* Important messages (status, warning, and error) for the user */ {
-  background-image: url(../images/messages-status-ie6.png);
-}
-
-div.warning /* Medium priority messages */ {
-  background-image: url(../images/messages-warning-ie6.png);
-}
-
-div.error /* High priority messages. See also the .error declaration below. */ {
-  background-image: url(../images/messages-error-ie6.png);
-}
-
-
-/*
- * REFERENCES
- *
-
-1. http://www.positioniseverything.net/explorer/doubled-margin.html
-2. http://browservulsel.blogspot.com/2005/04/ie-overflow-auto-scrollbar-overlap.html
-3. http://www.howtocreate.co.uk/wrongWithIE/?chapter=overflow%3Avisible%3B
-4. http://www.ryanbrill.com/archives/multiple-classes-in-ie
-
- *
- */
diff --git a/sites/all/themes/vibio/css/imap.css b/sites/all/themes/vibio/css/imap.css
deleted file mode 100644
index 24a8ff1..0000000
--- a/sites/all/themes/vibio/css/imap.css
+++ /dev/null
@@ -1,8 +0,0 @@
-.imap_attach_form {
-	margin-top: 5px;
-}
-
-.imap_attach_form .form-item {
-	float: left;
-	margin: 0 10px 0 0;
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/css/jquery-ui.tabs.css b/sites/all/themes/vibio/css/jquery-ui.tabs.css
deleted file mode 100644
index 90cc3f3..0000000
--- a/sites/all/themes/vibio/css/jquery-ui.tabs.css
+++ /dev/null
@@ -1,24 +0,0 @@
-.ui-tabs li, .ui-tabs ul {
-	list-style-type: none;
-}
-
-.ui-tabs li {
-	float: left;
-	margin-right: 10px;
-}
-
-.ui-tabs li a {
-	outline: none;
-}
-
-.ui-tabs ul {
-	padding: 0;
-}
-
-.ui-tabs .ui-tabs-panel {
-	clear: left;
-}
-
-.ui-tabs .ui-tabs-panel.ui-tabs-hide {
-	display: none;
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/css/layout-fixed-rtl.css b/sites/all/themes/vibio/css/layout-fixed-rtl.css
deleted file mode 100644
index d4b85fc..0000000
--- a/sites/all/themes/vibio/css/layout-fixed-rtl.css
+++ /dev/null
@@ -1,76 +0,0 @@
-/* $Id: layout-fixed-rtl.css,v 1.6 2009/11/04 20:16:50 johnalbin Exp $ */
-
-/**
- * @file
- * RTL companion for the layout-fixed.css file.
- */
-
-
-/*
- * Content
- */
-#content,
-.no-sidebars #content {
-  float: right;
-  margin-left: -960px;
-  margin-right: 0; /* Negative value of #content's width + left margin. */
-}
-
-.sidebar-first #content {
-  margin-left: -960px; /* The width of .region-sidebar-first. */
-  margin-right: 200px; /* Negative value of #content's width + left margin. */
-}
-
-.sidebar-second #content {
-  margin-left: -760px;
-  margin-right: 0; /* Negative value of #content's width + left margin. */
-}
-
-.two-sidebars #content {
-  margin-left: -760px; /* The width of .region-sidebar-first */
-  margin-right: 200px; /* Negative value of #content's width + left margin. */
-}
-
-/*
- * Navigation
- */
-#navigation {
-  float: right;
-  margin-left: -100%;
-  margin-right: 0; /* Negative value of #navigation's width + left margin. */
-}
-
-#navigation ul /* Primary and secondary links */ {
-  text-align: right;
-}
-
-#navigation li /* A simple method to get navigation links to appear in one line. */ {
-  float: right;
-  padding: 0 0 0 10px;
-}
-
-/*
- * First sidebar
- */
-.region-sidebar-first {
-  float: right;
-  margin-left: -200px;
-  margin-right: 0; /* Negative value of .region-sidebar-first's width + left margin. */
-}
-
-.region-sidebar-first .section {
-  margin: 0 0 0 20px;
-}
-
-/*
- * Second sidebar
- */
-.region-sidebar-second {
-  float: right;
-  margin-left: -960px; /* Width of content + sidebar-first. */
-  margin-right: 760px; /* Negative value of .region-sidebar-second's width + left margin. */
-}
-
-.region-sidebar-second .section {
-  margin: 0 20px 0 0;
-}
diff --git a/sites/all/themes/vibio/css/layout-fixed.css b/sites/all/themes/vibio/css/layout-fixed.css
deleted file mode 100644
index c1bb182..0000000
--- a/sites/all/themes/vibio/css/layout-fixed.css
+++ /dev/null
@@ -1,212 +0,0 @@
-/* $Id: layout-fixed.css,v 1.17 2009/11/05 12:09:53 johnalbin Exp $ */
-
-/**
- * @file
- * Layout Styling (DIV Positioning)
- *
- * Define CSS classes to create a table-free, 3-column, 2-column, or single
- * column layout depending on whether blocks are enabled in the left or right
- * columns.
- *
- * This layout is based on the Zen Columns layout method.
- *   http://drupal.org/node/201428
- *
- * Only CSS that affects the layout (positioning) of major elements should be
- * listed here.  Such as:
- *   display, position, float, clear, width, height, min-width, min-height
- *   margin, border, padding, overflow
- */
-
-
-/*
- * Body
- */
-body {
-}
-
-#page-wrapper,
-.region-page-closure {
-  /*
-   * If you want to make the page a fixed width and centered in the viewport,
-   * this is the standards-compliant way to do that. See also the ie6.css file
-   * for the necessary IE5/IE6quirks hack to center a div.
-   */
-  margin-left: auto;
-  margin-right: auto;
-  width: 890px;
-}
-
-#page {
-}
-
-/*
- * Header
- */
-#header {
-}
-
-#header .section {
-}
-
-#search-box {
-}
-
-.region-header {
-  clear: both; /* Clear the logo */
-}
-
-/*
- * Main (container for everything else)
- */
-#main-wrapper {
-  position: relative;
-}
-
-#main {
-}
-
-/*
- * Content
- */
-#content,
-.no-sidebars #content {
-  float: left; /* LTR */
-  width: 890px;
-  margin-left: 0; /* LTR */
-  margin-right: -890px; /* LTR */ /* Negative value of #content's width + left margin. */
-  padding: 0; /* DO NOT CHANGE. Add padding or margin to #content .section. */
-}
-
-.sidebar-first #content {
-  width: 680px;
-  margin-left: 210px; /* LTR */ /* The width of .region-sidebar-first. */
-  margin-right: -890px; /* LTR */ /* Negative value of #content's width + left margin. */
-}
-
-.sidebar-second #content {
-  width: 680px;
-  margin-left: 0; /* LTR */
-  margin-right: -680px; /* LTR */ /* Negative value of #content's width + left margin. */
-}
-
-.two-sidebars #content {
-  width: 470px;
-  margin-left: 210px; /* LTR */ /* The width of .region-sidebar-first */
-  margin-right: -680px; /* LTR */ /* Negative value of #content's width + left margin. */
-}
-
-#content .section {
-  margin: 0;
-  padding: 0;
-}
-
-/*
- * Navigation
- */
-#navigation {
-  float: left; /* LTR */
-  width: 100%;
-  margin-left: 0; /* LTR */
-  margin-right: -100%; /* LTR */ /* Negative value of #navigation's width + left margin. */
-  padding: 0; /* DO NOT CHANGE. Add padding or margin to #navigation .section. */
-  height: 2.3em; /* The navigation can have any arbritrary height. We picked one
-                    that is the line-height plus 1em: 1.3 + 1 = 2.3
-                    Set this to the same value as the margin-top below. */
-}
-
-.with-navigation #content,
-.with-navigation .region-sidebar-first,
-.with-navigation .region-sidebar-second {
-  margin-top: 2.3em; /* Set this to the same value as the navigation height above. */
-}
-
-#navigation .section {
-}
-
-#navigation ul /* Primary and secondary links */ {
-  margin: 0;
-  padding: 0;
-  text-align: left; /* LTR */
-}
-
-#navigation li /* A simple method to get navigation links to appear in one line. */ {
-  float: left; /* LTR */
-  padding: 0 10px 0 0; /* LTR */
-}
-
-/*
- * First sidebar
- */
-.region-sidebar-first {
-  float: left; /* LTR */
-  width: 200px;
-  margin-left: 0; /* LTR */
-  margin-right: -200px; /* LTR */ /* Negative value of .region-sidebar-first's width + left margin. */
-  padding: 0; /* DO NOT CHANGE. Add padding or margin to .region-sidebar-first .section. */
-}
-
-.region-sidebar-first .section {
-  padding: 0;
-}
-
-/*
- * Second sidebar
- */
-.region-sidebar-second {
-  float: left; /* LTR */
-  width: 200px;
-  margin-left: 760px; /* LTR */ /* Width of content + sidebar-first. */
-  margin-right: -960px; /* LTR */ /* Negative value of .region-sidebar-second's width + left margin. */
-  padding: 0; /* DO NOT CHANGE. Add padding or margin to .region-sidebar-second .section. */
-}
-
-.region-sidebar-second .section {
-  padding: 0;
-}
-
-/*
- * Footer
- */
-#footer {
-}
-
-#footer .section {
-}
-
-/*
- * Closure
- */
-.region-page-closure /* See also the #page-wrapper declaration above that this div shares. */ {
-}
-
-/*
- * Prevent overflowing content
- */
-#header,
-#content,
-#navigation,
-.region-sidebar-first,
-.region-sidebar-second,
-#footer,
-.region-page-closure {
-  overflow: visible;
-  word-wrap: break-word; /* A very nice CSS3 property */
-}
-
-#navigation {
-  overflow: hidden; /* May need to be removed if using a dynamic drop-down menu */
-}
-
-/*
- * If a div.clearfix doesn't have any content after it and its bottom edge
- * touches the bottom of the viewport, Firefox and Safari will mistakenly
- * place several pixels worth of space between the bottom of the div and the
- * bottom of the viewport. Uncomment this CSS property to fix this.
- * Note: with some over-large content, this property might cause scrollbars
- * to appear on the #page-wrapper div.
- */
-/*
-#page-wrapper {
-  overflow-y: hidden;
-}
-*/
diff --git a/sites/all/themes/vibio/css/layout-liquid-rtl.css b/sites/all/themes/vibio/css/layout-liquid-rtl.css
deleted file mode 100644
index 5267c65..0000000
--- a/sites/all/themes/vibio/css/layout-liquid-rtl.css
+++ /dev/null
@@ -1,70 +0,0 @@
-/* $Id: layout-liquid-rtl.css,v 1.7 2009/11/04 20:16:50 johnalbin Exp $ */
-
-/**
- * @file
- * RTL companion for the layout-liquid.css file.
- */
-
-
-/*
- * Content
- */
-#content {
-  float: right;
-  margin-left: -100%;
-  margin-right: 0; /* Negative value of #content's width + left margin. */
-}
-
-.sidebar-first #content .section {
-  padding-left: 0; /* The width + left margin of .region-sidebar-first. */
-  padding-right: 200px;
-}
-
-.sidebar-second #content .section {
-  padding-left: 200px;
-  padding-right: 0; /* The width + right margin of .region-sidebar-second. */
-}
-
-/*
- * Navigation
- */
-#navigation {
-  float: right;
-  margin-left: -100%;
-  margin-right: 0; /* Negative value of #navigation's width + left margin. */
-}
-
-#navigation ul /* Primary and secondary links */ {
-  text-align: right;
-}
-
-#navigation li /* A simple method to get navigation links to appear in one line. */ {
-  float: right;
-  padding: 0 0 0 10px;
-}
-
-/*
- * First sidebar
- */
-.region-sidebar-first {
-  float: right;
-  margin-left: -200px;
-  margin-right: 0; /* Negative value of .region-sidebar-first's width + left margin. */
-}
-
-.region-sidebar-first .section {
-  margin: 0 0 0 20px;
-}
-
-/*
- * Second sidebar
- */
-.region-sidebar-second {
-  float: left;
-  margin-left: 0; /* Negative value of .region-sidebar-second's width + right margin. */
-  margin-right: -200px;
-}
-
-.region-sidebar-second .section {
-  margin: 0 20px 0 0;
-}
diff --git a/sites/all/themes/vibio/css/layout-liquid.css b/sites/all/themes/vibio/css/layout-liquid.css
deleted file mode 100644
index 3ba47bc..0000000
--- a/sites/all/themes/vibio/css/layout-liquid.css
+++ /dev/null
@@ -1,204 +0,0 @@
-/* $Id: layout-liquid.css,v 1.17 2009/11/05 12:09:53 johnalbin Exp $ */
-
-/**
- * @file
- * Layout Styling (DIV Positioning)
- *
- * Define CSS classes to create a table-free, 3-column, 2-column, or single
- * column layout depending on whether blocks are enabled in the left or right
- * columns.
- *
- * This layout is based on the Zen Columns layout method.
- *   http://drupal.org/node/201428
- *
- * Only CSS that affects the layout (positioning) of major elements should be
- * listed here.  Such as:
- *   display, position, float, clear, width, height, min-width, min-height
- *   margin, border, padding, overflow
- */
-
-
-/*
- * Body
- */
-body {
-}
-
-#page-wrapper,
-.region-page-closure {
-  min-width: 960px; /* Don't allow the browser to make the site unreadable. */
-}
-
-#page {
-}
-
-/*
- * Header
- */
-#header {
-}
-
-#header .section {
-}
-
-#search-box {
-}
-
-.region-header {
-  clear: both; /* Clear the logo */
-}
-
-/*
- * Main (container for everything else)
- */
-#main-wrapper {
-  position: relative;
-}
-
-#main {
-}
-
-/*
- * Content
- */
-#content {
-  float: left; /* LTR */
-  width: 100%;
-  margin-left: 0; /* LTR */
-  margin-right: -100%; /* LTR */ /* Negative value of #content's width + left margin. */
-  padding: 0; /* DO NOT CHANGE. Add padding or margin to #content .section. */
-}
-
-#content .section,
-.no-sidebars #content .section {
-  margin: 0;
-  padding: 0;
-}
-
-.sidebar-first #content .section {
-  padding-left: 200px; /* LTR */ /* The width + left margin of .region-sidebar-first. */
-  padding-right: 0; /* LTR */
-}
-
-.sidebar-second #content .section {
-  padding-left: 0; /* LTR */
-  padding-right: 200px; /* LTR */ /* The width + right margin of .region-sidebar-second. */
-}
-
-.two-sidebars #content .section {
-  padding-left: 200px; /* The width + left margin of .region-sidebar-first. */
-  padding-right: 200px; /* The width + right margin of .region-sidebar-second. */
-}
-
-/*
- * Navigation
- */
-#navigation {
-  float: left; /* LTR */
-  width: 100%;
-  margin-left: 0; /* LTR */
-  margin-right: -100%; /* LTR */ /* Negative value of #navigation's width + left margin. */
-  padding: 0; /* DO NOT CHANGE. Add padding or margin to #navigation .section. */
-  height: 2.3em; /* The navigation can have any arbritrary height. We picked one
-                    that is the line-height plus 1em: 1.3 + 1 = 2.3
-                    Set this to the same value as the margin-top below. */
-}
-
-.with-navigation #content,
-.with-navigation .region-sidebar-first,
-.with-navigation .region-sidebar-second {
-  margin-top: 2.3em; /* Set this to the same value as the navigation height above. */
-}
-
-#navigation .section {
-}
-
-#navigation ul /* Primary and secondary links */ {
-  margin: 0;
-  padding: 0;
-  text-align: left; /* LTR */
-}
-
-#navigation li /* A simple method to get navigation links to appear in one line. */ {
-  float: left; /* LTR */
-  padding: 0 10px 0 0; /* LTR */
-}
-
-/*
- * First sidebar
- */
-.region-sidebar-first {
-  float: left; /* LTR */
-  width: 200px;
-  margin-left: 0; /* LTR */
-  margin-right: -200px; /* LTR */ /* Negative value of .region-sidebar-first's width + left margin. */
-  padding: 0; /* DO NOT CHANGE. Add padding or margin to .region-sidebar-first .section. */
-}
-
-.region-sidebar-first .section {
-  margin: 0 20px 0 0; /* LTR */
-  padding: 0;
-}
-
-/*
- * Second sidebar
- */
-.region-sidebar-second {
-  float: right; /* LTR */
-  width: 200px;
-  margin-left: -200px; /* LTR */ /* Negative value of .region-sidebar-second's width + right margin. */
-  margin-right: 0; /* LTR */
-  padding: 0; /* DO NOT CHANGE. Add padding or margin to .region-sidebar-second .section. */
-}
-
-.region-sidebar-second .section {
-  margin: 0 0 0 20px; /* LTR */
-  padding: 0;
-}
-
-/*
- * Footer
- */
-#footer {
-}
-
-#footer .section {
-}
-
-/*
- * Closure
- */
-.region-page-closure /* See also the #page-wrapper declaration above that this div shares. */ {
-}
-
-/*
- * Prevent overflowing content
- */
-#header,
-#content,
-#navigation,
-.region-sidebar-first,
-.region-sidebar-second,
-#footer,
-.region-page-closure {
-  overflow: visible;
-  word-wrap: break-word; /* A very nice CSS3 property */
-}
-
-#navigation {
-  overflow: hidden; /* May need to be removed if using a dynamic drop-down menu */
-}
-
-/*
- * If a div.clearfix doesn't have any content after it and its bottom edge
- * touches the bottom of the viewport, Firefox and Safari will mistakenly
- * place several pixels worth of space between the bottom of the div and the
- * bottom of the viewport. Uncomment this CSS property to fix this.
- * Note: with some over-large content, this property might cause scrollbars
- * to appear on the #page-wrapper div.
- */
-/*
-#page-wrapper {
-  overflow-y: hidden;
-}
-*/
diff --git a/sites/all/themes/vibio/css/messages-rtl.css b/sites/all/themes/vibio/css/messages-rtl.css
deleted file mode 100644
index 7fc71ac..0000000
--- a/sites/all/themes/vibio/css/messages-rtl.css
+++ /dev/null
@@ -1,15 +0,0 @@
-/* $Id: messages-rtl.css,v 1.3 2009/08/12 08:37:42 johnalbin Exp $ */
-
-/**
- * @file
- * RTL companion for the messages.css file.
- */
-
-
-div.messages,
-div.status,
-div.warning,
-div.error /* Important messages (status, warning, and error) for the user */ {
-  padding: 5px 35px 5px 5px;
-  background-position: 99.5% 5px;
-}
diff --git a/sites/all/themes/vibio/css/messages.css b/sites/all/themes/vibio/css/messages.css
deleted file mode 100644
index 0e5bc8e..0000000
--- a/sites/all/themes/vibio/css/messages.css
+++ /dev/null
@@ -1,59 +0,0 @@
-/* $Id: messages.css,v 1.3 2009/08/12 08:37:42 johnalbin Exp $ */
-
-/**
- * @file
- * Message Styling
- *
- * Sensible styling for Drupal's error/warning/status messages.
- */
-
-
-div.messages,
-div.status,
-div.warning,
-div.error /* Important messages (status, warning, and error) for the user */ {
-  min-height: 21px;
-  margin: 0 0 5px;
-  border: 2px solid #ff7;
-  padding: 5px 5px 5px 35px; /* LTR */
-  color: #000;
-  background-color: #ffc;
-  background-image: url(../images/messages-status.png);
-  background-repeat: no-repeat;
-  background-position: 5px 5px; /* LTR */
-}
-
-div.status /* Normal priority messages */ {
-}
-
-div.warning /* Medium priority messages */ {
-  border-color: #fc0;
-  background-image: url(../images/messages-warning.png);
-}
-
-div.warning,
-tr.warning {
-  color: #000; /* Drupal core uses #220 */
-  background-color: #ffc;
-}
-
-div.error /* High priority messages. See also the .error declaration in pages.css. */ {
-  /* border: 1px solid #d77; */ /* Drupal core uses: 1px solid #d77 */
-  border-color: #c00;
-  background-image: url(../images/messages-error.png);
-}
-
-div.error,
-tr.error {
-  color: #900; /* Drupal core uses #200 */
-  background-color: #fee;
-}
-
-div.messages ul {
-  margin: 0;
-  padding: 0;
-}
-
-div.messages ul li {
-  list-style-type: none;
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/css/navigation.css b/sites/all/themes/vibio/css/navigation.css
deleted file mode 100644
index cf4559e..0000000
--- a/sites/all/themes/vibio/css/navigation.css
+++ /dev/null
@@ -1,44 +0,0 @@
-/* $Id: navigation.css,v 1.5 2009/11/04 19:42:41 johnalbin Exp $ */
-
-/**
- * @file
- * Navigation Styling
- */
-
-
-/*
- * The active item in a Drupal menu
- */
-li a.active {
-  color: #000;
-}
-
-/*
- * Navigation bar
- */
-#navigation {
-}
-
-.region-navigation {
-}
-
-/*
- * Primary and Secondary menu links
- */
-#main-menu {
-}
-
-#secondary-menu {
-}
-
-/*
- * Menu blocks
- */
-.block-menu {
-}
-
-/*
- * "Menu block" blocks. See http://drupal.org/project/menu_block
- */
-.block-menu_block {
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/css/network.css b/sites/all/themes/vibio/css/network.css
deleted file mode 100644
index 14bfa5b..0000000
--- a/sites/all/themes/vibio/css/network.css
+++ /dev/null
@@ -1,12 +0,0 @@
-#network_ff_messages {
-	background: #e0f2ff !important;
-	border: 1px solid #c7e5fd;
-	margin-top: 10px !important;
-	min-height: 0 !important;
-	padding: 5px !important;
-}
-
-#network_ff_messages h4 {
-	margin-top: 0;
-	color: gray;
-}
diff --git a/sites/all/themes/vibio/css/newuser.css b/sites/all/themes/vibio/css/newuser.css
deleted file mode 100644
index 58eb0d6..0000000
--- a/sites/all/themes/vibio/css/newuser.css
+++ /dev/null
@@ -1,174 +0,0 @@
-#newuser_tutorial_container {
-	display: none;
-}
-
-#newuser_tutorial .fb_link {
-	float: none;
-}
-
-.tutorial_button_left {
-	background: transparent url(/themes/vibio/images/new_user/blueButton_L.png) no-repeat 0 0;
-	float: left;
-	width: 12px;
-	height: 36px;
-}
-
-.tutorial_button_mid {
-	background: transparent url(/themes/vibio/images/new_user/blueButton_Mid.png) repeat-x 0 0;
-	float: left;
-	padding: 5px 10px 0;
-	height: 31px;
-	font-weight: bold;
-	color: white;
-}
-
-.tutorial_button_right {
-	background: transparent url(/themes/vibio/images/new_user/blueButton_R.png) no-repeat 0 0;
-	float: left;
-	width: 12px;
-	height: 36px;
-	position: relative;
-	left: -1px
-}
-
-.step_complete {
-	background: transparent url(/themes/vibio/images/new_user/done_check.png) no-repeat 0 0;
-	padding: 0 0 5px 40px;
-	font-weight: bold;
-	color: #00bf00;
-	font-size: 18px;
-	float: left;
-	position: relative;
-	top: -12px;
-	left: -41px;
-}
-
-.tutorial_next_stage {
-	float: right;
-}
-
-.tutorial_step {
-	margin-bottom: 10px;
-}
-
-.tutorial_step_stepnum {
-	float: left;
-	margin-right: 20px;
-	background: transparent url(/themes/vibio/images/new_user/numerical_bg.png) no-repeat 0 0;
-	font-weight: bold;
-	font-size: 18px;
-	color: white;
-	padding: 10px 0 0 18px;
-	height: 36px;
-	width: 28px;
-}
-
-.step_content {
-	float: left;
-}
-
-.tutorial_step_stepnum.unavailable {
-	background-image: url(/themes/vibio/images/new_user/numerical_bg_gray.png);
-	color: #aaaaaa;
-}
-
-.tutorial_step_header {
-	font-size: 18px;
-	color: #4a535a;
-	float: left;
-	margin-bottom: 10px;
-}
-
-.tutorial_stage_title {
-	font-size: 24px;
-	color: #00345a;
-}
-
-.tutorial_stage {
-	display: none;
-}
-
-#newuser_tutorial > div.tutorial_stage:first-child {
-	display: block;
-}
-
-#newuser_tutorial_header {
-	padding: 10px;
-	background: #dbf0fb;
-	border-radius: 8px;
-	-moz-border-radius: 8px;
-	margin-left: 3px;
-}
-
-#newuser_header_header {
-	font-size: 18px;
-	color: #939393;
-}
-
-#newuser_tutorial_header .stage_header {
-	float: left;
-	background: transparent url(/themes/vibio/images/new_user/arrow_notDone.png) no-repeat 0 0;
-	height: 47px;
-	width: 156px;
-	font-weight: bold;
-	font-size: 14px;
-	color: #4d4d4d;
-	position: relative;
-	margin-left: -35px;
-}
-
-#newuser_tutorial_header .stage_header.stage_current_stage {
-	background-image: url(/themes/vibio/images/new_user/arrow_presentStep.png);
-	color: white;
-}
-
-#newuser_tutorial_header .stage_header.stage_complete {
-	background-image: url(/themes/vibio/images/new_user/arrow_Completed.png);
-	color: #6f6f6f;
-}
-
-#newuser_tutorial_header .stage_header.stage_first {
-	margin-left: 0;
-}
-
-#newuser_tutorial_header .stage_header .stage_header_text {
-	position: relative;
-	top: 13px;
-	left: 40px;
-}
-
-#newuser_tutorial_header .stage_header.stage_first .stage_header_text {
-	left: 20px;
-}
-
-#edit-item-search-wrapper {
-	margin-left: 50px;
-}
-
-#edit-item-search {
-	background: transparent url(/themes/vibio/images/new_user/mag_glass.png) no-repeat 3px 3px;
-	border: 3px solid #c6c6c6;
-	border-radius: 8px;
-	-moz-border-radius: 8px;
-	width: 460px;
-	max-width: 460px !important;
-	height: 29px;
-	line-height: 29px;
-	padding-left: 35px;
-	color: #77848d;
-	font-weight: bold;
-}
-
-#vibio_dialog form #edit-item-search-wrapper .description {
-	color: #c5c5c5;
-	margin-left: 0;
-	text-align: center;
-	margin-top: 5px;
-}
-
-#vibio-item-newuser-search .form-submit {
-	background: transparent;
-	border: none;
-	font-size: 18px;
-	color: white;
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/css/nodes.css b/sites/all/themes/vibio/css/nodes.css
deleted file mode 100644
index 005b568..0000000
--- a/sites/all/themes/vibio/css/nodes.css
+++ /dev/null
@@ -1,180 +0,0 @@
-/* $Id: nodes.css,v 1.6 2009/11/02 15:37:29 johnalbin Exp $ */
-
-/**
- * @file
- * Node Styling
- *
- * Style anything that isn't in the $content variable.
- */
-
-
-.node /* Node wrapper */ {
-}
-
-.node-sticky /* A sticky node (displayed before others in a list) */ {
-}
-
-.node-unpublished /* Unpublished nodes */ {
-  /* background-color: #fff4f4; */ /* Drupal core uses a #fff4f4 background */
-}
-
-.node-unpublished div.unpublished,
-.comment-unpublished div.unpublished /* The word "Unpublished" displayed underneath the content. */ {
-  height: 0;
-  overflow: visible;
-  color: #d8d8d8;
-  font-size: 75px;
-  line-height: 1;
-  font-family: Impact, "Arial Narrow", Helvetica, sans-serif;
-  font-weight: bold;
-  text-transform: uppercase;
-  text-align: center;
-  word-wrap: break-word; /* A very nice CSS3 property */
-}
-
-.node-by-viewer /* A node created by the current user */ {
-}
-
-.node-teaser /* A node displayed as teaser */ {
-}
-
-/* All nodes are given a node-type-FOO class that describes the type of
- * content that it is. If you create a new content type called
- * "my-custom-type", it will receive a "node-type-my-custom-type" class.
- */
-.node-type-page /* Page content node */ {
-}
-
-.node-type-story /* Story content node */ {
-}
-
-.node h2.title /* Node title */ {
-}
-
-.marker /* "New" or "Updated" marker for content that is new or updated for the current user */ {
-  color: #c00;
-}
-
-.node .picture /* The picture of the node author */ {
-}
-
-.node.node-unpublished .picture,
-.comment.comment-unpublished .picture {
-  position: relative; /* Otherwise floated pictures will appear below the "Unpublished" text. */
-}
-
-.node .meta /* Wrapper for submitted and terms data */ {
-}
-
-.node .submitted /* The "posted by" information */ {
-}
-
-.node .terms /* Node terms (taxonomy) */ {
-}
-
-.node .content /* Node's content wrapper */ {
-}
-
-.node ul.links /* Node links. See also the ul.links declaration in the pages.css. */ {
-}
-
-.preview .node /* Preview of the content before submitting new or updated content */ {
-  /* background-color: #ffffea; */ /* Drupal core uses a #ffffea background */
-}
-
-.search_result_image {
-  float: left;
-  max-height: 70px;
-  max-width: 50px;
-}
-
-.product_main_image, .node_view_item_image {
-  max-width: 100px;
-}
-
-.node_view_item_image {
-  margin-right: 15px;
-  max-height: 54px;
-}
-
-.product_node_data {
-  float: left;
-  width: 595px;
-}
-
-.product_description {
-  color: #2b363d;
-}
-
-.product_extra_data {
-  margin-top: 10px;
-  background: #f9f9f9;
-  border: 2px solid #eaeaea;
-  padding: 5px 20px;
-  color: #727272;
-}
-
-.product_image {
-  float: left;
-  margin: 5px 25px 0 0;
-  text-align: center;
-  width: 100px;
-}
-
-.node_vibio_item_title {
-  float: left;
-  font-weight: bold;
-  color: black;
-  max-width: 475px;
-}
-
-.vibio_item_delete_summary {
-	margin: 5px 0 10px;
-}
-
-.vibio_item_delete_summary img {
-	max-width: 80px;
-	max-height: 80px;
-}
-
-.vibio_item_delete_summary tbody {
-	border-top: none;
-}
-
-.vibio_item_delete_summary .node_info {
-	width: 500px;
-	padding-left: 10px;
-}
-
-table.search-results.vibio_item td {
-  vertical-align: top;
-  padding-bottom: 10px;
-}
-
-/* pricetag */
-.item_pricetag {
-	text-align: left;
-	position: absolute;
-	opacity: 0.75;
-	filter: alpha(opacity=75) !important;
-}
-
-.item_pricetag_left {
-	background: transparent url(/themes/vibio/images/item/pricetag_left.png) no-repeat 0 0;
-	height: 26px;
-	width: 25px;
-	float: left;
-}
-
-.item_pricetag_right {
-	background: transparent url(/themes/vibio/images/item/pricetag_right.png) no-repeat right 0;
-	height: 26px;
-	float: left;
-}
-
-.item_pricetag_price {
-	margin: 0 5px 0 2px;
-	font-weight: bold;
-	position: relative;
-	top: 2px;
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/css/offer.css b/sites/all/themes/vibio/css/offer.css
deleted file mode 100644
index d059d89..0000000
--- a/sites/all/themes/vibio/css/offer.css
+++ /dev/null
@@ -1,15 +0,0 @@
-div#product_info_in_offer {
-        width: 160px;
-        float: left;
-        height: 200px;
-        padding: 5px;
-}
-div#seller_info_in_offer {
-        padding: 5px;
-        height: 95px;
-}
-div#buyer_info_in_offer {
-        padding: 5px;
-        height: 95px;
-}
-
diff --git a/sites/all/themes/vibio/css/offer2buy.css b/sites/all/themes/vibio/css/offer2buy.css
deleted file mode 100644
index 54ed6ae..0000000
--- a/sites/all/themes/vibio/css/offer2buy.css
+++ /dev/null
@@ -1,65 +0,0 @@
-.offer2buy_nid {
-	display: none;
-}
-
-.offer2buy_action_complete_form, .offer2buy_transaction_cancel_form {
-	float: left;
-	margin-right: 15px;
-}
-
-.offer_details, .offer_accept {
-	float: left;
-}
-
-.offer_details {
-	margin-right: 15px;
-}
-
-.offer2buy_pending_offer {
-	font-style: italic;
-}
-
-.offer2buy_node_display {
-	float: right;
-	font-weight: bold;
-	color: black;
-}
-
-.offer2buy_popup {
-	float: right;
-	font-size: 10px;
-}
-
-.offer2buy_popup a:hover {
-	cursor: pointer;
-}
-
-.offer2buy_offer_view_popup {
-	display: none;
-}
-
-.node_offer2buy_price {
-	float: right;
-}
-
-#content-area .offer2buy_notification.rounded_content {
-	min-height: 0;
-	background: #e0f2ff;
-	border: 1px solid #c7e5fd;
-	padding: 5px;
-	margin-bottom: 15px;
-}
-
-.offer2buy_notification h2 {
-	color: #464F54;
-	font-size: 1.5em;
-	margin: 0;
-}
-
-.offer2buy_notification .view-content tr {
-	background-color: #e0f2ff;
-}
-
-#profiletab_offers .offer2buy_popup {
-	float: none;
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/css/page-backgrounds.css b/sites/all/themes/vibio/css/page-backgrounds.css
deleted file mode 100644
index a045942..0000000
--- a/sites/all/themes/vibio/css/page-backgrounds.css
+++ /dev/null
@@ -1,40 +0,0 @@
-/* $Id: page-backgrounds.css,v 1.8 2009/11/04 20:57:49 johnalbin Exp $ */
-
-/**
- * @file
- * Page Background Styling
- *
- * The default layout method of Zen doesn't give themers equal-height columns.
- * However, equal-height columns are difficult to achieve and totally
- * unnecessary. Instead, use the Faux Columns method described in the following
- * ALA article:
- *   http://www.alistapart.com/articles/fauxcolumns/
- */
-
-
-body {
-}
-
-#page-wrapper {
-}
-
-#page {
-}
-
-#header {
-}
-
-#header .section {
-}
-
-#main-wrapper {
-}
-
-#main {
-}
-
-#footer {
-}
-
-#footer .section {
-}
diff --git a/sites/all/themes/vibio/css/pages-rtl.css b/sites/all/themes/vibio/css/pages-rtl.css
deleted file mode 100644
index 14929e2..0000000
--- a/sites/all/themes/vibio/css/pages-rtl.css
+++ /dev/null
@@ -1,21 +0,0 @@
-/* $Id: pages-rtl.css,v 1.6 2009/11/05 11:07:02 johnalbin Exp $ */
-
-/**
- * @file
- * RTL companion for the pages.css file.
- */
-
-
-/*
- * Header
- */
-#logo /* Wrapping link for logo */ {
-  float: right;
-}
-
-/*
- * Content
- */
-.more-link /* Aggregator, blog, and forum more link */ {
-  text-align: left;
-}
diff --git a/sites/all/themes/vibio/css/pages.css b/sites/all/themes/vibio/css/pages.css
deleted file mode 100644
index d2732ad..0000000
--- a/sites/all/themes/vibio/css/pages.css
+++ /dev/null
@@ -1,701 +0,0 @@
-/* $Id: pages.css,v 1.18.2.3 2010/06/26 17:18:58 johnalbin Exp $ */
-
-/**
- * @file
- * Page Styling
- *
- * Style the markup found in page.tpl.php. Also includes some styling of
- * miscellaneous Drupal elements that appear in the $content variable, such as
- * ul.links, .pager, .more-link, etc.
- */
-
-
-/*
- * Body
- */
-body {
-  background: #425162 url('../images/bgtile.jpg');
-  margin: 0;
-  padding: 0;
-}
-
-
-a {
-  text-decoration: none;
-  color: #0092c9;
-}
-
-#page-wrapper {
-  padding: 15px 10px;
-}
-
-#page_title {
-  color: grey;
-}
-
-a.item_link {
-  color: #8e9e30;
-}
-
-/*
- * The skip navigation link will be completely hidden until a user tabs to the
- * link. See http://www.webaim.org/techniques/skipnav/
- */
-#skip-link a,
-#skip-link a:visited {
-  position: absolute;
-  display: block;
-  left: 0;
-  top: -500px;
-  width: 1px;
-  height: 1px;
-  overflow: hidden;
-  text-align: center;
-  background-color: #666;
-  color: #fff;
-}
-
-#skip-link a:hover,
-#skip-link a:active,
-#skip-link a:focus {
-  position: static;
-  width: 100%;
-  height: auto;
-  padding: 2px 0 3px 0;
-}
-
-/*
- * Header
- */
-
-#header_quick_actions {
-  width: 500px;
-  height: 33px;
-  float: right;
-  position: relative;
-}
-
-#logo /* Wrapping link for logo */ {
-  float: left; /* LTR */
-  margin: 0;
-  padding: 0;
-}
-
-#logo img {
-  vertical-align: bottom;
-}
-
-#name-and-slogan /* Wrapper for website name and slogan */ {
-  float: left;
-}
-
-h1#site-name,
-div#site-name /* The name of the website */ {
-  margin: 0;
-  font-size: 2em;
-  line-height: 1.3em;
-}
-
-#site-name a:link,
-#site-name a:visited {
-  color: #000;
-  text-decoration: none;
-}
-
-#site-name a:hover,
-#site-name a:focus {
-  text-decoration: underline;
-}
-
-.slogan {
-background: transparent url(../vibio-tagline.png) no-repeat;
-  top: 45px;
-  position: relative;
-  left: 160px;
-  text-indent: -5000px;
-  height: 30px;
-  width: 200px;
-}
-
-
-.region-header /* Wrapper for any blocks placed in the header region */ {
-}
-
-/*
- * Main (container for everything else)
- */
-#main-wrapper {
-}
-
-#main {
-}
-
-/*
- * Content
- */
-#content {
-}
-
-#content .section {
-}
-
-#mission /* The mission statement of the site (displayed on homepage) */ {
-}
-
-.region-content-top /* Wrapper for any blocks placed in the "content top" region */ {
-}
-
-.breadcrumb /* The path to the current page in the form of a list of links */ {
-  padding-bottom: 0; /* Undo system.css */
-}
-
-h1.title, /* The title of the page */
-h2.title, /* Block title or the title of a piece of content when it is given in a list of content */
-h3.title /* Comment title */ {
-  margin: 0;
-}
-
-tr.even /* Some tables have rows marked even or odd. */ {
-  /* background-color: #eee; */ /* Drupal core uses a #eee background */
-}
-
-tr.odd {
-  /* background-color: #eee; */ /* Drupal core uses a #eee background */
-}
-
-div.messages /* Important messages (status, warning, and error) for the user. See also the declarations in messages.css. */ {
-}
-
-div.status /* Normal priority messages */ {
-}
-
-div.warning,
-tr.warning /* Medium priority messages */ {
-  /* border: 1px solid #f0c020; */ /* Drupal core uses: 1px solid #f0c020 */
-}
-
-div.error,
-tr.error /* High priority messages. See also the .error declaration below. */ {
-}
-
-.error /* Errors that are separate from div.messages status messages. */ {
-  /* color: #e55; */ /* Drupal core uses a #e55 background */
-}
-
-.warning /* Warnings that are separate from div.messages status messages. */ {
-  /* color: #e09010; */ /* Drupal core uses a #e09010 background */
-}
-
-div.tabs /* See also the tabs.css file. */ {
-}
-
-.help /* Help text on a page */ {
-  margin: 1em 0;
-}
-
-.more-help-link /* Link to more help */ {
-  font-size: 0.85em;
-  text-align: right;
-}
-
-#content-area /* Wrapper for the actual page content */ {
-}
-
-ul.links /* List of links */ {
-  margin: 1em 0;
-}
-
-ul.links.inline {
-  display: inline;
-}
-
-ul.links li {
-  display: inline;
-  list-style-type: none;
-}
-
-.pager /* A list of page numbers when more than 1 page of content is available */ {
-  clear: both;
-  margin: 1em 0;
-  text-align: center;
-}
-
-.pager a,
-.pager strong.pager-current /* Each page number in the pager list */ {
-  padding: 0.5em;
-}
-
-.feed-icons /* The links to the RSS or Atom feeds for the current list of content */ {
-  margin: 1em 0;
-}
-
-.more-link /* Aggregator, blog, and forum more link */ {
-  text-align: right; /* LTR */
-}
-
-/*
- Footer
- */
-
-.region-footer {
-  border: 1px solid #c3c8ce;
-  margin-top: 1em;
-  padding: 10px;
-}
-
-.region-footer .block {
-  float: left;
-  margin: 0 10px; 
- }
-
-.region-footer h2 {
-  display: none;
-}
-
-.region-footer a:link,
-.region-footer a:visited {
-  color: #f5fcff;
-  font-size: 12px;
-  font-weight: normal;
-  line-height: 2em;
-}
-
-
-.region-footer ul {
-  padding: 0;
-}
-
-.region-footer ul li {
-  list-style-type: none;
-  list-style-image: none;
-}
-
-
-/*
- * Closure
- */
-.region-page-closure {
-	min-height: 155px;
-	width: 100%;
-	margin-top: -75px;
-}
-
-.region-page-closure a {
-  color: white;
-}
-
-.region-page-closure ul li {
-  list-style-type: none;
-  list-style-image: none;
-  float: left;
-  padding: 0 5px;
-}
-
-
-
-/*
- * Drupal boxes
- *
- * Wrapper for Comment form, Comment viewing options, Menu admin, and
- * Search results.
- */
-.box /* Wrapper for box */ {
-}
-
-.box h2 /* Box title */ {
-}
-
-.box .content /* Box's content wrapper */ {
-}
-
-/*
- * Markup free clearing (See: http://www.positioniseverything.net/easyclearing.html )
- */
-.clearfix:after {
-  content: ".";
-  display: block;
-  height: 0;
-  clear: both;
-  visibility: hidden;
-}
-
-/**
- * Hide elements from all users.
- *
- * Used for elements which should not be immediately displayed to any user. An
- * example would be a collapsible fieldset that will be expanded with a click
- * from a user. The effect of this class can be toggled with the jQuery show()
- * and hide() functions.
- */
-.element-hidden {
-  display: none;
-}
-
-/**
- * Hide elements visually, but keep them available for screen-readers.
- *
- * Used for information required for screen-reader users to understand and use
- * the site where visual display is undesirable. Information provided in this
- * manner should be kept concise, to avoid unnecessary burden on the user. Must
- * not be used for focusable elements (such as links and form elements) as this
- * causes issues for keyboard only or voice recognition users. "!important" is
- * used to prevent unintentional overrides.
- */
-.element-invisible {
-  position: absolute !important;
-  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
-  clip: rect(1px, 1px, 1px, 1px);
-}
-
-.rounded_container {
-  border-radius: 4px;
-  -moz-border-radius: 4px;
-}
-
-.rounded_content {
-  background: white;
-  border-radius: 4px;
-  -moz-border-radius: 4px;
-  margin: 0;
-  padding: 10px;
-}
-
-.rounded_left_side {
-  border-top-left-radius: 4px;
-  border-bottom-left-radius: 4px;
-  -moz-border-radius-topleft: 4px;
-  -moz-border-radius-bottomleft: 4px;
-  margin: 0;
-  padding: 0 0 0 5px;
-}
-
-#block-fb-fb_api_init, #block-fb-fb_dialogs {
-  padding: 0;
-}
-
-.image_reflection {
-  -webkit-box-reflect: below 0 -webkit-gradient(linear, 0 0, 0 100%, color-stop(.75, transparent), to(white));
-}
-
-#content.reflection {
-  -webkit-box-reflect: below 5px -webkit-gradient(linear, 0 0, 0 100%, color-stop(.85, transparent), to(white));
-}
-
-#content-area .rounded_content {
-  background: transparent url(../images/bg-content-tile.jpg);
-	min-height: 700px;
-}
-
-/*#content-area .rounded_content {
-  background: #f9f9f9;
-  border: 1px solid #eaeaea;
-}*/
-
-.sidebar .rounded_content {
-  background: #f6f6f6;
-  color: #556270;
-}
-
-.sidebar .rounded_content a {
-  color: #106f93;
-  font-size: 13px;
-  font-family: Helvetica;
-}
-
-.sidebar .rounded_content a.active {
-  font-weight: bold;
-}
-
-.sidebar .item-list ul, .sidebar ul.menu {
-  padding: 0;
-  margin: 0;
-}
-
-.sidebar .item-list ul li, .sidebar ul.menu li {
-  padding: 0;
-  margin: 5px 0 0;
-  list-style-type: none;
-  list-style-image: none;
-}
-
-.sidebar #user-login-form li.openid-link a, #user-login li.openid-link a {
-  background: none;
-}
-
-.clear {
-  clear: both;
-  height: 0;
-}
-
-.comment .picture img, .view .picture img, .view-content .picture img  {
-	max-height: 40px;
-}
-
-#block-menu-secondary-links {
-	padding-top: 75px;
-}
-
-#block-menu-secondary-links .content {
-  text-align: center;
-}
-
-#block-menu-secondary-links .content a {
-  padding: 0 15px;
-  border-left: 1px solid #5C6C79;
-}
-
-#block-menu-secondary-links .content a:first-child {
-  padding-left: 0;
-  border-left: none;
-}
-
-#block-menu-secondary-links h2 {
-	display: none;
-}
-
-#block-menu-secondary-links ul.menu {
-	margin: 0;
-}
-
-#block-menu-secondary-links ul.menu li {
-	list-style-image: none;
-	list-style-type: none;
-	float: left;
-	margin-right: 30px;
-}
-
-#block-menu-secondary-links ul.menu li a.active {
-	color: #0092C9;
-}
-
-.region-sidebar-first h2.title {
-  border-bottom: 1px solid #e4e5e5;
-  color: #525e6c;
-  font-size: 15px;
-  text-transform: capitalize;
-}
-
-#block-user-1 {
-  margin-bottom: 2px;
-  padding-bottom: 5px;
-}
-
-.menu_with_count_text {
-  /*stephen: float: left; */
-}
-
-.menu_with_count_count {
-  float: right;
-  color: #B5CA3E;
-  font-weight: bold;
-}
-
-.indent {
-  margin-left: 25px;
-}
-
-.search-results.user .picture img {
-	max-width: 40px;
-}
-
-.search-results.user .search_user_info {
-	padding-left: 5px;
-	width: 500px;
-}
-
-/* search type selector */
-#search_type_menu_container {
-	float: left;
-	margin-right: -2px;
-	position: relative;
-	top: 1px;
-}
-
-#search_type_menu_container:hover {
-	cursor: pointer;
-}
-
-#search_type_menu_container table {
-	margin: 0;
-  position: relative;
-}
-
-#search_type_menu_container table tbody {
-	border-top: 0;
-}
-
-img#search_type_current {
-	width: 19px;
-	height: 19px;
-}
-
-#search_type_menu_container tr {
-  position: relative;
-  z-index: 0;
-}
-
-#search_type_menu_container td {
-  /* background: transparent url(../images/arrow-white-down.png) center right no-repeat;
-  */
-  padding-right: 8px;
-  position: relative;
-  z-index: 2;
-}
-
-
-
-
-#search_type_submenu {
-/* stephen-remove-hidden-menu	
-weird, these are larger images, not the ones we want,
-go back to hiding them */
-display: none; 
-}
-
-.search_type_submenu_container {
-	background: white;
-	border: 1px solid black;
-	opacity: 0.85 !important;
-	filter: alpha(opacity=85) !important;
-}
-
-.search_type_submenu_container table {
-	margin: -10px 0 0 0;
-}
-
-.search_type_submenu_container .searchtype_image {
-	max-width: 30px;
-	max-height: 30px;
-	margin-bottom: -5px;
-}
-
-#content-area fieldset.rounded_content {
-	min-height: 0 !important;
-	background: #e0f2ff;
-	border: 1px solid #c7e5fd;
-	padding: 15px;
-	margin-bottom: 10px;
-}
-
-fieldset > div.title {
-	color: #464f54;
-	font-size: 1.5em;
-	margin: 0;
-}
-
-h5.menu_header {
-	margin: 5px 0 0;
-}
-
-.region-sidebar-first span.menu_description {
-	color: #86b1c2;
-	font-size: 12px;
-	font-weight: bold;
-}
-
-#user-login-form {
-	background: none;
-	margin-top: 10px;
-}
-
-#user-login-form span.form-required {
-	display: none;
-}
-
-#user-login-form input[type='text'], #user-login-form input[type="password"] {
-  border: 1px solid #d5d5d5;
-  -webkit-border-radius: 5px;
-  -moz-border-radius: 5px;
-  border-radius: 5px; 
-  -webkit-box-shadow: inset 1px 1px 1px 0px #e3e3e3;
--moz-box-shadow: inset 1px 1px 1px 0px #e3e3e3;
-box-shadow: inset 1px 1px 1px 0px #e3e3e3;  
-height: 30px;	
-  width: 180px;
-}
-
-#user-login-form #edit-openid-identifier {
-	width: 115px;
-}
-
-#user-login-form div.form-item#edit-name-wrapper {
-	margin-top: 0;
-}
-
-/* privatemsg */
-img.privatemsg_autocomplete_image {
-	width: 40px;
-	margin: 5px 5px 5px 0;
-}
-
-span.privatemsg_autocomplete_name {
-	position: relative;
-	top: -25px;
-}
-
-.privatemsg-box-fb .left-column .avatar-fb img {
-	max-width: 100px;
-	max-height: 120px;
-}
-
-/* ebay search results */
-.ebay_search_item {
-	margin-bottom: 10px;
-}
-
-.ebay_image {
-	float: left;
-	margin-right: 10px;
-}
-
-.ebay_image img {
-	max-height: 40px;
-}
-
-.ebay_info {
-	float: left;
-	width: 400px;
-}
-
-/* button stuff */
-.button_left {
-	background: transparent url(/themes/vibio/images/buttons/blueButton_L.png) no-repeat 0 0;
-	float: left;
-	width: 12px;
-	height: 36px;
-}
-
-.button_mid {
-	background: transparent url(/themes/vibio/images/buttons/blueButton_Mid.png) repeat-x 0 0;
-	float: left;
-	padding: 5px 10px 0;
-	height: 31px;
-	font-weight: bold;
-	color: white;
-}
-
-.button_mid .form-submit {
-	background: transparent;
-	border: none;
-	font-size: 18px;
-	color: white;
-}
-
-.button_mid span.form-submit {
-	position: relative;
-	top: 3px;
-}
-
-.button_right {
-	background: transparent url(/themes/vibio/images/buttons/blueButton_R.png) no-repeat 0 0;
-	float: left;
-	width: 12px;
-	height: 36px;
-	position: relative;
-	left: -1px;
-}
-
-.block-nice_menus ul {
-  margin: 0;
-  padding: 0;
-}
diff --git a/sites/all/themes/vibio/css/panels-styles.css b/sites/all/themes/vibio/css/panels-styles.css
deleted file mode 100644
index f65d364..0000000
--- a/sites/all/themes/vibio/css/panels-styles.css
+++ /dev/null
@@ -1,8 +0,0 @@
-/* $Id: panels-styles.css,v 1.1.2.1 2009/12/12 15:31:54 johnalbin Exp $ */
-
-/**
- * @file
- * Panels Styling
- */
-
-
diff --git a/sites/all/themes/vibio/css/print.css b/sites/all/themes/vibio/css/print.css
deleted file mode 100644
index dc9b6ce..0000000
--- a/sites/all/themes/vibio/css/print.css
+++ /dev/null
@@ -1,75 +0,0 @@
-/* $Id: print.css,v 1.8.2.1 2010/06/26 15:36:04 johnalbin Exp $ */
-
-/**
- * @file
- * Print styling
- *
- * We provide some sane print styling for Drupal using Zen's layout method.
- */
-
-
-/* underline all links */
-a:link,
-a:visited {
-  text-decoration: underline !important;
-}
-
-/* Don't underline header */
-#site-name a:link,
-#site-name a:visited {
-  text-decoration: none !important;
-}
-
-/* CSS2 selector to add visible href after links */
-#content a:link:after,
-#content a:visited:after {
-  content: " (" attr(href) ") ";
-  font-size: 0.8em;
-  font-weight: normal;
-}
-
-/* Un-float the content */
-#content,
-#content .section {
-  float: none;
-  width: 100%;
-  margin: 0 !important;
-  padding: 0 !important;
-}
-
-/* Turn off any background colors or images */
-body,
-#page-wrapper,
-#page,
-#main-wrapper,
-#main,
-#content,
-#content .section {
-  color: #000;
-  background-color: transparent !important;
-  background-image: none !important;
-}
-
-/* Hide sidebars and nav elements */
-#skip-link,
-#navigation,
-.region-sidebar-first,
-.region-sidebar-second,
-#footer,
-.breadcrumb,
-div.tabs,
-.links,
-.taxonomy,
-.book-navigation,
-.forum-topic-navigation,
-.pager,
-.feed-icons {
-  visibility: hidden;
-  display: none;
-}
-
-/* If you un-comment the "page { overflow-y: hidden; }" ruleset, Firefox clips
-   the content after the first page. */
-#page-wrapper {
-  overflow-y: visible;
-}
diff --git a/sites/all/themes/vibio/css/privacy.css b/sites/all/themes/vibio/css/privacy.css
deleted file mode 100644
index fc05add..0000000
--- a/sites/all/themes/vibio/css/privacy.css
+++ /dev/null
@@ -1,13 +0,0 @@
-.privacy_header {
-	text-align: center;
-	font-weight: bold;
-	font-size: 18px;
-	margin-top: 15px;
-}
-
-.privacy_message {
-	margin: 30px 0 0 100px;
-	padding: 75px 0 0 265px;
-	background: transparent url(/themes/vibio/images/collections/collections.png) no-repeat 0 0;
-	height: 213px;
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/css/product.css b/sites/all/themes/vibio/css/product.css
deleted file mode 100644
index 4df2a1c..0000000
--- a/sites/all/themes/vibio/css/product.css
+++ /dev/null
@@ -1,70 +0,0 @@
-.external_short_link {
-	float: right;
-}
-
-#page_title {
-	display: none;
-}
-
-.product_title {
-	color: #8e9e30;
-	margin: 0;
-}
-
-.product_owners_results {
-	margin-left: 25px;
-}
-
-.item_owner .picture {
-	float: left;
-}
-
-.item_owner .picture img {
-	max-width: 40px;
-}
-
-.item_owner .item_info {
-	float: left;
-	margin-left: 10px;
-	width: 500px;
-}
-
-.item-square .inventory_add, 
-.item-square .inventory_want {
-  display: none;
-}
-
-.item-square:hover .inventory_add, 
-.item-square:hover .inventory_want {
-  display: inline;
-}
-
-
-.inventory_add, .inventory_want {
-       background: #46c9fd;
-       border: 0;
-       -webkit-border-radius: 5px;
-       -moz-border-radius: 5px;
-       border-radius: 5px;
-       color: #fff;
-       font-weight: bold;
-       margin: 10px 20px;
-       padding: 5px 10px;
-}
-
-.inventory_add_pinfo {
-	margin: 0;
-	color: #8E9E30;
-}
-
-.inventory_add_image {
-	padding-right: 10px;
-}
-
-.inventory_add_image img {
-	max-width: 100px;
-	max-height: 100px;
-}
-
-.product_snippet_expand {
-  display: none;
diff --git a/sites/all/themes/vibio/css/profile.css b/sites/all/themes/vibio/css/profile.css
deleted file mode 100644
index 7943ccc..0000000
--- a/sites/all/themes/vibio/css/profile.css
+++ /dev/null
@@ -1,253 +0,0 @@
-#profile_ext_displayblock_image {
-	width: 140px;
-	padding: 3px;
-	border: 2px solid black;
-	background: #eee;
-}
-
-#profile_ext_header {
-	border-left: 1px solid #345162;
-	float: right;
-	margin: 7px 10px 0px 0px;
-	text-align: right;
-	color: #BEE9FF;
-}
-
-#profile_ext_header a, .menuContainer a {
-	color: white;
-	font-weight: bold;
-}
-
-.menuContainer table {
-	margin: -3px 0;
-}
-
-.menuContainer a {
-	color: #70818B;
-	font-size: 12px;
-}
-
-#profile_ext_header table {
-	margin: 0;
-	float: right;
-}
-
-#profile_ext_headermenu {
-	color: white;
-}
-
-#profile_ext_headermenu img {
-	position: relative;
-	top: -2px;
-}
-
-#profile_ext_submenu {
-	display: none;
-}
-
-#profile_ext_headermenu:hover {
-	cursor: pointer;
-}
-
-.profile_ext_displayblock_item:first-child {
-	margin-right: 5px;
-}
-
-.profile_ext_displayblock_item {
-	background: #36434C;
-	padding: 3px;
-	float: left;
-	width: 66px;
-	height: 20px;
-}
-
-.profile_ext_displayblock_item img {
-	float: left;
-}
-
-.profile_ext_displayblock_item span {
-	color: #b5ca3e;
-	float: right;
-	font-size: 14px;
-	font-weight: bold;
-}
-
-#profile_ext_headermenu .rootVoice {
-	padding: 0 10px;
-}
-
-#profile_ext_headermenu .rootVoice.selected {
-	background: white;
-	border-left: 1px solid black;
-	border-right: 1px solid black;
-	border-top: 1px solid black;
-	border-top-left-radius: 4px;
-	border-top-right-radius: 4px;
-	-moz-border-radius-topleft: 4px;
-	-moz-border-radius-topright: 4px;
-	color: black;
-	opacity: 0.85 !important;
-	filter: alpha(opacity=85) !important;
-}
-
-#profile_ext_headermenu .rootVoice.selected .mbmenu_arrow_icon {
-	background-image: url(/themes/vibio/images/icons/acct_dropdown_selected.png);
-}
-
-.menuContainer {
-	background: white;
-	border-left: 1px solid black;
-	border-right: 1px solid black;
-	border-bottom: 1px solid black;
-	padding: 0 10px 10px;
-	border-bottom-left-radius: 4px;
-	border-bottom-right-radius: 4px;
-	-moz-border-radius-bottomleft: 4px;
-	-moz-border-radius-bottomright: 4px;
-	background: white;
-	opacity: 0.85 !important;
-	filter: alpha(opacity=85) !important;
-}
-
-.menuContainer p.separator {
-	background-color: #A0A5A9;
-	height: 1px;
-	margin: 10px 0px 0px;
-	width: 100%;
-}
-
-#profile_tabs {
-	margin-top: 15px;
-}
-
-.mbmenu_arrow_icon {
-	background: url(/themes/vibio/images/icons/acct_dropdown.png) no-repeat;
-	display: block;
-	float: left;
-	height: 5px;
-	left: -5px;
-	position: relative;
-	top: 7px;
-	width: 9px;
-}
-
-.mbmenu_title {
-	float: right;
-}
-
-.profile_notification > .picture {
-	float: left;
-	margin-right: 15px;
-}
-
-.profile_notifications_summary {
-	float: left;
-	width: 550px;
-}
-
-.profile_busy_indicator {
-	float: right;
-	margin-right: 25px;
-}
-
-.profile_busy_indicator img {
-	display: none;
-}
-
-.profile_notifications_actions {
-	margin-top: 10px;
-}
-
-.uri_notification .profile_notifications_actions {
-	margin-top: 0;
-}
-
-.profile_notifications_actions table {
-	margin: 0;
-}
-
-.profile_notification {
-	background: #E0F2FF !important;
-	border: 1px solid #C7E5FD;
-	padding: 5px !important;
-	min-height: 0 !important;
-	margin-top: 10px !important;
-}
-
-.profile_notification .picture img {
-	max-width: 40px;
-}
-
-#profile_call_to_action > h3{
-	margin-bottom: 0;
-}
-
-#profile_call_to_action > span {
-	margin-bottom: 10px;
-	font-size: 12px;
-}
-
-.profile_action_image, .profile_action {
-	padding-bottom: 10px;
-}
-
-.profile_action_image {
-	width: 100px;
-	text-align: center;
-}
-
-.profile_action_image img {
-	max-height: 100px;
-	max-width: 85px;
-}
-
-.profile_action {
-	padding-left: 15px;
-}
-
-#profile_change_picture {
-	float: none;
-	position: absolute;
-	left: 6px;
-	top: 6px;
-	background: white;
-	padding: 1px 10px;
-	z-index: 10;
-	border: 1px solid #E2E6E9
-}
-
-#profile_ext_change_picture_form_container {
-	float: left;
-	width: 350px;
-}
-
-#profile_ext_change_picture_form_container .description {
-	clear: left;
-	margin-left: 47px !important;
-}
-
-#profile_ext_change_picture_form_container .form-submit {
-	float: right;
-}
-
-#vibio_dialog .picture {
-	float: left;
-}
-
-#vibio_dialog .picture img {
-	max-width: 150px;
-}
-
-#profile_completion_steps_container {
-	display: none;
-}
-
-#profile_progressbar {
-	position: relative;
-	top: 4px;
-}
-
-.profile_progress {
-	float: left;
-	margin-right: 5px;
-}
diff --git a/sites/all/themes/vibio/css/search_page.css b/sites/all/themes/vibio/css/search_page.css
deleted file mode 100644
index f98cf10..0000000
--- a/sites/all/themes/vibio/css/search_page.css
+++ /dev/null
@@ -1,177 +0,0 @@
-/* stephen, prefix section */
-#search_page_prefix {
-	text-align: right;
-	height: 20px;
-	overflow: none;
-}
-#search_page_prefix_additional {
-	position: relative;
-	display: none;
-}	
-#search_page_prefix:hover #search_page_prefix_additional {
-	z-index: 5;
-	display: block;
-}
-#search_form_container {
-	/*position: absolute; /* ignore additional image above  */
-}
-
-
-
-
-
-.box h2 { 
-	display: none;
-}
-
-
-
-
-#page_title {
-	display: none;
-}
-
-.tabs {
-	display: none;
-}
-
-#search_form_container {
-	border-radius: 4px;
-	-moz-border-radius: 4px;
-}
-
-#search_form_container label {
-	float: left;
-	color: #77848d;
-	width: 85px;
-	font-size: 16px;
-	position: relative;
-	top: 3px;
-}
-
-#search_form_container #edit-keys {
-	background: white url(/themes/vibio/images/new_user/mag_glass.png) no-repeat 3px 3px;
-	border: 3px solid #c6c6c6;
-	border-radius: 8px;
-	-moz-border-radius: 8px;
-	height: 29px;
-	line-height: 29px;
-	padding-left: 35px;
-	color: #77848d;
-	font-weight: bold;
-	margin-right: 20px;
-	width: 450px;
-}
-
-#search_form_container #edit-search-form-type-wrapper, #search_form_container #edit-search-users-wrapper {
-	position: relative;
-	top: -8px;
-	float: left;
-	margin: 0 15px 0 2px;
-}
-
-#search_form_container #edit-keys-wrapper {
-	margin-top: 1px;
-	margin-bottom: 0;
-	float: left;
-}
-
-.search_dropdown {
-	background: #64b9d3 url(/themes/vibio/images/icons/acct_dropdown.png) no-repeat 91% 9px;
-	border: 1px solid #1e87a7;
-	margin: 0;
-	padding: 2px 0 2px 5px;
-	width: 75px;
-	border-radius: 4px;
-	-moz-border-radius: 4px;
-	color: white;
-}
-
-.search_dropdown dt a {
-	color: white;
-	font-size: 14px;
-	font-weight: bold;
-}
-
-.search_dropdown:hover {
-	cursor: pointer;
-}
-
-.search_dropdown dd {
-	margin: 0;
-}
-
-.search_dropdown ul {
-	background: #64b9d3;
-	margin: 0 0 0 -6px;
-	padding: 5px 0 0 4px;
-	list-style-type: none;
-	position: absolute;
-	display: none;
-	width: 76px;
-	border-left: 1px solid #1e87a7;
-	border-right: 1px solid #1e87a7;
-	border-bottom: 1px solid #1e87a7;
-	border-bottom-left-radius: 4px;
-	border-bottom-right-radius: 4px;
-	-moz-border-radius-bottomleft: 4px;
-	-moz-border-radius-bottomright: 4px;
-}
-
-.search_dropdown ul li {
-	margin-bottom: 3px;
-}
-
-.search_dropdown ul li a {
-	color: white;
-}
-
-.search_dropdown2 {
-	background: #64b9d3 url(/themes/vibio/images/icons/acct_dropdown.png) no-repeat 91% 9px;
-	border: 1px solid #1e87a7;
-	margin: 0;
-	padding: 2px 0 2px 5px;
-	width: 75px;
-	border-radius: 4px;
-	-moz-border-radius: 4px;
-	color: white;
-}
-
-.search_dropdown2 dt a {
-	color: white;
-	font-size: 14px;
-	font-weight: bold;
-}
-
-.search_dropdown2:hover {
-	cursor: pointer;
-}
-
-.search_dropdown2 dd {
-	margin: 0;
-}
-
-.search_dropdown2 ul {
-	background: #64b9d3;
-	margin: 0 0 0 -6px;
-	padding: 5px 0 0 4px;
-	list-style-type: none;
-	position: absolute;
-	display: none;
-	width: 76px;
-	border-left: 1px solid #1e87a7;
-	border-right: 1px solid #1e87a7;
-	border-bottom: 1px solid #1e87a7;
-}
-
-.search_dropdown2 ul li {
-	margin-bottom: 3px;
-}
-
-.search_dropdown2 ul li a {
-	color: white;
-}
-
-.search_select {
-	float: left;
-}
diff --git a/sites/all/themes/vibio/css/stephen.css b/sites/all/themes/vibio/css/stephen.css
deleted file mode 100644
index 5141ddf..0000000
--- a/sites/all/themes/vibio/css/stephen.css
+++ /dev/null
@@ -1,53 +0,0 @@
-/* selling page */
-body.page-selling div.picture {
-        float: left;
-	padding-right: 6px;
-}
-body.page-selling div.picture img {
-	height: 60px;
-	width: 60px;
-	max-height: 60px; /* undoing other css */
-}
-body.page-selling h4 {
-	margin-bottom: .1em;
-}
-
-/* meus */
-#block-menu-primary-links li ul li {
-	margin-left: 8px;
-}
-
-/* product page */
-.action_button_link {
-	margin: 4px;
-	background: #ddd;
-}
-
-/* search results, items in an image-square in multiple places */
-.item-square {
-	width: 180px;
-	height: 180px;
-	padding: 7px;
-	margin: 0 6px 60px;
-	background: #eee;
-	float: left; /* intend 3col? */
-	position: relative; /* make it the parent */
-}
-img.item-square-image {  /* should be done with imagecache */
-	height: 180px;
-	width: 180px;
-}	
-div.over-item {
-	position: absolute;
-	top: 10px;
-}
-.item-square div.over-item a {
-	color: #eee;
-}
-.item-square:hover div.over-item a {
-	color: black;
-}
-div.search-links {
-        position: absolute;
-        bottom: 10px;
-}
diff --git a/sites/all/themes/vibio/css/tabs-rtl.css b/sites/all/themes/vibio/css/tabs-rtl.css
deleted file mode 100644
index 83ca20d..0000000
--- a/sites/all/themes/vibio/css/tabs-rtl.css
+++ /dev/null
@@ -1,24 +0,0 @@
-/* $Id: tabs-rtl.css,v 1.2 2009/08/12 08:03:53 johnalbin Exp $ */
-
-/**
- * @file
- * RTL companion for the tabs.css file.
- */
-
-
-ul.primary {
-  padding: 0 10px 0 0;
-}
-
-ul.primary li {
-  float: right;
-}
-
-ul.secondary {
-  padding: 0 5px 0 0;
-}
-
-ul.secondary li {
-  float: right;
-  border-left: none;
-}
diff --git a/sites/all/themes/vibio/css/tabs.css b/sites/all/themes/vibio/css/tabs.css
deleted file mode 100644
index db4fd11..0000000
--- a/sites/all/themes/vibio/css/tabs.css
+++ /dev/null
@@ -1,159 +0,0 @@
-/* $Id: tabs.css,v 1.2 2009/08/12 08:03:53 johnalbin Exp $ */
-
-/**
- * @file
- * Tabs Styling
- *
- * Adds styles for the primary and secondary tabs.
- *
- * Compare this with default CSS found in the system module's stylesheet (a copy
- * of which is in drupal6-reference.css, line 510.)
- */
-
-
-div.tabs {
-  margin: 0 0 5px 0;
-}
-
-div.tabs_big ul.primary {
-}
-
-ul.primary {
-  border: 0;
-  margin: 0;
-  padding: 0 0 0 10px; /* LTR */
-  list-style: none;
-  white-space: nowrap;
-  line-height: normal;
-}
-
-ul.primary li {
-  float: left; /* LTR */
-  margin: 0;
-  padding: 0;
-}
-
-div.tabs_big ul.primary li a {
-  height: 31px;
-}
-
-ul.primary li a {
-  border: 0;
-  display: block;
-  height: 19px;
-  margin: 0;
-  font-weight: bold;
-  text-decoration: none;
-  color: #777;
-  padding: 0;
-  background-color: transparent;
-}
-
-
-
-div.tabs_big ul.primary li a .tab {
-  height: 31px;
-  padding-top: 5px;
-  padding-right: 11px;
-  font-weight: bold;
-}
-
-ul.primary li a .tab {
-  display: block;
-  margin: 0;
-  padding: 0 8px 0 5px;
-  border-width: 0;
-  line-height: 20px;
-  border-bottom: 7px solid #cfd2d5;  
-  font-weight: normal;
-  color: #758391;
-}
-
-ul.primary li a:hover {
-  background-color: transparent;
-}
-
-ul.primary li a:hover .tab {
-  border-bottom: 7px solid #0092C9;  
-  color: #00aeef;
-}
-
-div.tabs_big ul.primary li.active a,
-div.tabs_big ul.primary li.active a:hover,
-div.tabs_big ul.primary li.ui-state-active a,
-div.tabs_big ul.primary li.ui-state-active a:hover
-{
-}
-
-ul.primary li.active a,
-ul.primary li.active a:hover,
-ul.primary li.ui-state-active a,
-ul.primary li.ui-state-active a:hover
-{
- background: transparent;
- border-width: 0;
-  color: black;
-}
-
-div.tabs_big ul.primary li.active a .tab,
-div.tabs_big ul.primary li.active a:hover .tab,
-div.tabs_big ul.primary li.ui-state-active a .tab,
-div.tabs_big ul.primary li.ui-state-active a:hover .tab
-{
-}
-
-ul.primary li.active a .tab,
-ul.primary li.active a:hover .tab,
-ul.primary li.ui-state-active a .tab,
-ul.primary li.ui-state-active a:hover .tab
-{
-  border-bottom: 7px solid #54cffe;
-  color: #54cffe;
-}
-
-
-ul.secondary {
-  margin: 0;
-  padding: 0 0 0 5px; /* LTR */
-  border-bottom: 1px solid #c0c0c0;
-  list-style: none;
-  white-space: nowrap;
-  background: url(../images/tab-secondary-bg.png) repeat-x left bottom;
-}
-
-ul.secondary li {
-  float: left; /* LTR */
-  margin: 0 5px 0 0;
-  padding: 5px 0;
-  border-right: none; /* LTR */
-}
-
-ul.secondary a {
-  display: block;
-  height: 24px;
-  margin: 0;
-  padding: 0;
-  border: 1px solid #c0c0c0;
-  text-decoration: none;
-  color: #777;
-  background: url(../images/tab-secondary.png) repeat-x left -56px;
-}
-
-ul.secondary a .tab {
-  display: block;
-  height: 18px; /* 24px (parent) - 6px (padding) */
-  margin: 0;
-  padding: 3px 8px;
-  line-height: 18px;
-}
-
-ul.secondary a:hover {
-  background: url(../images/tab-secondary.png) repeat-x left bottom;
-}
-
-ul.secondary a.active,
-ul.secondary a.active:hover {
-  border: 1px solid #c0c0c0;
-  color: #000;
-  background: url(../images/tab-secondary.png) repeat-x left top;
-}
diff --git a/sites/all/themes/vibio/css/uri.css b/sites/all/themes/vibio/css/uri.css
deleted file mode 100644
index 47aaf3d..0000000
--- a/sites/all/themes/vibio/css/uri.css
+++ /dev/null
@@ -1,93 +0,0 @@
-img.uri_edit_busy_indicator {
-	display: none;
-}
-
-.uri_edit_elaboartion {
-	color: #9AA753;
-}
-
-.relationship_extra {
-	font-size: 11px;
-}
-
-#uri_elaborations_edit {
-	display: none;
-}
-
-#uri_elaborations_edit fieldset {
-	width: 480px;
-}
-
-#friends_tabs {
-	margin-top: 25px;
-}
-
-.potential_friend {
-	margin-bottom: 15px;
-}
-
-.potential_friend .picture {
-	float: left;
-}
-
-.potential_friend .picture img {
-	max-width: 40px !important;
-}
-
-.potential_friend .potential_friend_summary {
-	float: left;
-	margin-left: 10px;
-	width: 350px;
-}
-
-.potential_friend .potential_friend_links {
-	float: right;
-}
-
-.potential_friend_links table {
-	margin: 0;
-}
-
-.uri_notification.profile_notification .profile_notifications_actions {
-	float: right;
-}
-
-.uri_notification.profile_notification .profile_notifications_summary {
-	width: 500px;
-}
-
-.user-relationships-listing-table tr {
-	background: inherit;
-	border-top: 1px solid #E6EAED;
-}
-
-.user-relationships-listing-table tr:first-child {
-	border-top: none;
-}
-
-.user-relationships-listing-table .picture img {
-	max-width: 40px;
-}
-
-.user-relationships-listing-table td {
-	vertical-align: top;
-	padding-bottom: 5px;
-	padding-top: 5px;
-}
-
-.user-relationships-listing-table .ur_friend_info {
-	padding-left: 5px;
-	width: 535px;
-}
-
-.ur_friend_remove {
-	width: 30px;
-}
-
-.ur_friend_remove img {
-	display: none;
-}
-
-.ur_friend_busy {
-	width: 15px;
-}
diff --git a/sites/all/themes/vibio/css/user.css b/sites/all/themes/vibio/css/user.css
deleted file mode 100644
index 217421e..0000000
--- a/sites/all/themes/vibio/css/user.css
+++ /dev/null
@@ -1,162 +0,0 @@
-#page_title {
-	display: none;
-}
-
-#content-area #profile_user_summary.rounded_content {
-	padding: 45px 15px 60px;
-	-moz-border-radius-bottomleft: 0;
-	-moz-border-radius-bottomright: 0;
-	border-bottom-left-radius: 0;
-	border-bottom-right-radius: 0;
-}
-
-#content-area .rounded_content {
-	padding: 0;
-}
-
-#content-area .rounded_content .rounded_content {
-	min-height: 0 !important;
-}
-
-.profile .picture {
-	float: none;
-}
-
-#social_tabs {
-	list-style-type: none;
-	padding: 0;
-}
-
-#social_tabs li {
-	float: left;
-	margin-right: 10px;
-}
-
-#profile_user_summary .profile_data {
-	padding: 10px 20px;
-	margin-bottom: 5px;
-}
-
-#profile_user_summary .profile_data > div:first-child {
-	margin-left: 300px;
-	float: left;
-}
-
-#profile_summary {
-	background: #E9F0F6;
-}
-
-#profile_username h5 {
-	color: #464F54;
-	margin: 0;
-	font-size: 1.5em;
-}
-
-#profile_username table {
-	margin: 0;
-}
-
-#profile_picture_container {
-	position: relative;
-	top: -330px;
-	left: 60px;
-}
-
-.profile_picture_display {
-	position: absolute;
-	background: white;
-	padding: 5px;
-	-moz-box-shadow: 3px 3px 3px #666;
-	-webkit-box-shadow: 3px 3px 3px #666;
-	box-shadow: 3px 3px 3px #666;
-	border: 1px solid black;
-}
-
-#profile_picture_bg {
-	display: none;
-	z-index: 1;
-}
-
-#profile_picture_bg > div {
-	background: #ddd;
-	width: 100%;
-	height: 100%;
-}
-
-#profile_picture {
-	z-index: 5;
-}
-
-#profile_picture img {
-	max-width: 225px;
-	max-height: 250px;
-	border: 1px solid black;
-}
-
-#profile_summary table.profile_fields td.field_name {
-	text-align: left;
-	padding-right: 0;
-	width: 150px;
-	padding-right: 15px;
-}
-
-#profile_summary .user_latest_item {
-	max-height: 60px;
-}
-
-table.profile_fields td.field_name {
-	width: 200px;
-	font-weight: bold;
-	color: #414C52;
-	text-align: right;
-	padding-right: 10px;
-}
-
-table.profile_fields td.field_name.section_title {
-	font-size: 20px;
-}
-
-table.profile_fields td {
-	padding-bottom: 7px;
-	vertical-align: top;
-}
-
-#profile_user_tabs {
-	margin-top: -31px;
-}
-
-#profile_user_tabs ul.tabs li:first-child {
-	margin-left: 40px;
-}
-
-.profile_info_container {
-	padding: 0 15px 10px;
-}
-
-.profile_edit_link {
-	float: right;
-	display: none;
-	font-size: 10px;
-}
-
-#profile_about_me, #profile_demographics {
-	float: left;
-	width: 690px;
-}
-
-table.user_external_accounts {
-	margin: 0;
-}
-
-table.user_external_accounts td.external_accounts_image {
-	text-align: right;
-	padding-right: 10px;
-}
-
-table.user_external_accounts td ul {
-	margin: 0;
-}
-
-.external_accounts_account_list {
-	vertical-align: middle !important;
-}
diff --git a/sites/all/themes/vibio/css/vibio_dialog.css b/sites/all/themes/vibio/css/vibio_dialog.css
deleted file mode 100644
index 7f2bc32..0000000
--- a/sites/all/themes/vibio/css/vibio_dialog.css
+++ /dev/null
@@ -1,98 +0,0 @@
-#vibio_dialog {
-	padding: 10px;
-	background: #375670;
-	border-radius: 8px;
-	-moz-border-radius: 8px;
-	min-height: 55px !important;
-}
-
-.vibio_dialog_content {
-	background: white;
-	max-height: 650px;
-	overflow: auto;
-	border-radius: 8px;
-	-moz-border-radius: 8px;
-	border: 1px solid #E2E6E9;
-	padding: 5px 10px;
-}
-
-.ui-dialog {
-	position: absolute;
-}
-
-.ui-widget-overlay {
-	background: #465d70;
-	opacity: 0.5;
-	filter: alpha(opacity=50);
-	position: absolute;
-	top: 0;
-	left: 0;
-}
-
-.ui-dialog-titlebar {
-	display: none;
-}
-
-.ui-dialog-titlebar img {
-	position: relative;
-	top: 2px;
-	right: 5px;
-}
-
-.vibio_dialog_close_link:hover {
-	cursor: pointer;
-}
-
-.vibio_dialog_close_button {
-	position: absolute;
-	right: -7px;
-	top: -5px;
-}
-
-#vibio_dialog .views_message {
-	max-width: 390px;
-}
-
-#dialog_busy_indicator_container {
-	display: none;
-}
-
-#dialog_busy_indicator {
-	padding: 10px 0;
-	text-align: center;
-}
-
-#vibio_dialog form .form-item label {
-	float: left;
-	margin-right: 10px;
-	width: 150px;
-	text-align: right;
-	color: #2B363D;
-}
-
-#vibio_dialog form select[multiple] {
-	max-height: 120px;
-}
-
-#vibio_dialog form input[type="text"], #vibio_dialog form textarea {
-	max-width: 310px;
-	max-height: 60px;
-}
-
-#vibio_dialog form .description {
-	margin-left: 163px;
-	font-size: 12px;
-	color: #2B363D;
-}
-
-#vibio_dialog form input[type="file"] {
-	width: 170px;
-}
-
-#vibio_dialog #edit-picture-delete-wrapper label {
-	margin-left: 8px;
-}
-
-#vibio_dialog form fieldset > div.description {
-	margin-left: 0;
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/css/views-styles.css b/sites/all/themes/vibio/css/views-styles.css
deleted file mode 100644
index 9f7524e..0000000
--- a/sites/all/themes/vibio/css/views-styles.css
+++ /dev/null
@@ -1,70 +0,0 @@
-.views_node_image_container img {
-	max-height: 40px;
-	max-width: 80px;
-}
-
-.views_node_image_container {
-	float: left;
-}
-
-.views-field-picture, .views-field-message {
-	padding: 5px 0;
-	vertical-align: top;
-}
-
-.views-field-picture .picture {
-	margin-right: 5px;
-}
-
-.views_message {
-	float: left;
-	margin-left: 10px;
-	max-width: 585px;
-}
-
-.views_message p {
-	margin: 0;
-}
-
-.views_actions {
-	margin: 10px 0;
-}
-
-.view_activity_timestamp {
-	display: block;
-	font-size: 10px;
-	color: #838383;
-	margin: -5px 0 0;
-}
-
-.view-content tr {
-	background-color: transparent;
-	border-bottom: 1px solid #E2E6E9;
-	padding-bottom: 5px;
-}
-
-.view-content .views-view-grid tr {
-	border-bottom: none;
-}
-
-#views-exposed-form-user-collection-default #edit-collection-order-by-wrapper {
-	display: inline;
-}
-
-#views-exposed-form-user-collection-default #edit-submit-user-collection {
-	margin-top: 0;
-}
-
-.inventory_view_type {
-	float: right;
-	margin-top: -53px;
-}
-
-.inventory_view_type span {
-	display: block;
-	font-weight: bold;
-}
-
-.view-user-inventory td.views-field-field-main-image-fid img {
-	max-width: 80px;
-}
diff --git a/sites/all/themes/vibio/css/wireframes.css b/sites/all/themes/vibio/css/wireframes.css
deleted file mode 100644
index 2a4ccbf..0000000
--- a/sites/all/themes/vibio/css/wireframes.css
+++ /dev/null
@@ -1,26 +0,0 @@
-/* $Id: wireframes.css,v 1.10 2009/11/04 21:01:11 johnalbin Exp $ */
-
-/**
- * @file
- * Wireframes Styling
- *
- * Add wireframes to the basic layout elements.
- */
-
-
-.with-wireframes #header .section,
-.with-wireframes #content .section,
-.with-wireframes #navigation .section,
-.with-wireframes .region-sidebar-first .section,
-.with-wireframes .region-sidebar-second .section,
-.with-wireframes #footer .section {
-  margin: 1px;
-  padding: 2px;
-  border: 1px solid #ccc;
-}
-
-.with-wireframes .region-page-closure {
-  margin-top: 1px;
-  padding: 2px;
-  border: 1px solid #ccc;
-}
diff --git a/sites/all/themes/vibio/favicon.ico b/sites/all/themes/vibio/favicon.ico
deleted file mode 100644
index e3d49ae..0000000
Binary files a/sites/all/themes/vibio/favicon.ico and /dev/null differ
diff --git a/sites/all/themes/vibio/images-source/messages.psd b/sites/all/themes/vibio/images-source/messages.psd
deleted file mode 100644
index a155d1c..0000000
Binary files a/sites/all/themes/vibio/images-source/messages.psd and /dev/null differ
diff --git a/sites/all/themes/vibio/images-source/panels-layouts.psd b/sites/all/themes/vibio/images-source/panels-layouts.psd
deleted file mode 100644
index 1f0aecb..0000000
Binary files a/sites/all/themes/vibio/images-source/panels-layouts.psd and /dev/null differ
diff --git a/sites/all/themes/vibio/images-source/screenshot.psd b/sites/all/themes/vibio/images-source/screenshot.psd
deleted file mode 100644
index 6762e48..0000000
Binary files a/sites/all/themes/vibio/images-source/screenshot.psd and /dev/null differ
diff --git a/sites/all/themes/vibio/images-source/tabs.psd b/sites/all/themes/vibio/images-source/tabs.psd
deleted file mode 100644
index dfd82aa..0000000
Binary files a/sites/all/themes/vibio/images-source/tabs.psd and /dev/null differ
diff --git a/sites/all/themes/vibio/images/Add_an_Item.png b/sites/all/themes/vibio/images/Add_an_Item.png
deleted file mode 100644
index ded2e56..0000000
Binary files a/sites/all/themes/vibio/images/Add_an_Item.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/ajax-loader.gif b/sites/all/themes/vibio/images/ajax-loader.gif
deleted file mode 100644
index 6ae5a35..0000000
Binary files a/sites/all/themes/vibio/images/ajax-loader.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/images/arrow-grey-left.png b/sites/all/themes/vibio/images/arrow-grey-left.png
deleted file mode 100644
index da5bddf..0000000
Binary files a/sites/all/themes/vibio/images/arrow-grey-left.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/arrow-grey-right.png b/sites/all/themes/vibio/images/arrow-grey-right.png
deleted file mode 100644
index 07db237..0000000
Binary files a/sites/all/themes/vibio/images/arrow-grey-right.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/arrow-white-down.png b/sites/all/themes/vibio/images/arrow-white-down.png
deleted file mode 100644
index 5badafd..0000000
Binary files a/sites/all/themes/vibio/images/arrow-white-down.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/bg-content-tile.jpg b/sites/all/themes/vibio/images/bg-content-tile.jpg
deleted file mode 100644
index 38e1334..0000000
Binary files a/sites/all/themes/vibio/images/bg-content-tile.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/images/bg-light-blue-tile.jpg b/sites/all/themes/vibio/images/bg-light-blue-tile.jpg
deleted file mode 100644
index f7aab7a..0000000
Binary files a/sites/all/themes/vibio/images/bg-light-blue-tile.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/images/bgtile.jpg b/sites/all/themes/vibio/images/bgtile.jpg
deleted file mode 100644
index 8738f22..0000000
Binary files a/sites/all/themes/vibio/images/bgtile.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/images/border-grey-grad.png b/sites/all/themes/vibio/images/border-grey-grad.png
deleted file mode 100644
index 2a35abb..0000000
Binary files a/sites/all/themes/vibio/images/border-grey-grad.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/buttons/blueButton_L.png b/sites/all/themes/vibio/images/buttons/blueButton_L.png
deleted file mode 100644
index 8b43926..0000000
Binary files a/sites/all/themes/vibio/images/buttons/blueButton_L.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/buttons/blueButton_Mid.png b/sites/all/themes/vibio/images/buttons/blueButton_Mid.png
deleted file mode 100644
index 167f293..0000000
Binary files a/sites/all/themes/vibio/images/buttons/blueButton_Mid.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/buttons/blueButton_R.png b/sites/all/themes/vibio/images/buttons/blueButton_R.png
deleted file mode 100644
index 5605af1..0000000
Binary files a/sites/all/themes/vibio/images/buttons/blueButton_R.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/close_button.png b/sites/all/themes/vibio/images/close_button.png
deleted file mode 100644
index 886b1d9..0000000
Binary files a/sites/all/themes/vibio/images/close_button.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/close_button_dialog.png b/sites/all/themes/vibio/images/close_button_dialog.png
deleted file mode 100644
index 20b90fa..0000000
Binary files a/sites/all/themes/vibio/images/close_button_dialog.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/collections/box.png b/sites/all/themes/vibio/images/collections/box.png
deleted file mode 100644
index bf6fdd8..0000000
Binary files a/sites/all/themes/vibio/images/collections/box.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/collections/collections.png b/sites/all/themes/vibio/images/collections/collections.png
deleted file mode 100644
index 661c157..0000000
Binary files a/sites/all/themes/vibio/images/collections/collections.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/collections/expand.png b/sites/all/themes/vibio/images/collections/expand.png
deleted file mode 100644
index adac66a..0000000
Binary files a/sites/all/themes/vibio/images/collections/expand.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/collections/minimize.png b/sites/all/themes/vibio/images/collections/minimize.png
deleted file mode 100644
index e11e299..0000000
Binary files a/sites/all/themes/vibio/images/collections/minimize.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/facebook/link-account.png b/sites/all/themes/vibio/images/facebook/link-account.png
deleted file mode 100644
index 04a638b..0000000
Binary files a/sites/all/themes/vibio/images/facebook/link-account.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/facebook/login-button.png b/sites/all/themes/vibio/images/facebook/login-button.png
deleted file mode 100644
index 1df09d1..0000000
Binary files a/sites/all/themes/vibio/images/facebook/login-button.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/facebook/logo.png b/sites/all/themes/vibio/images/facebook/logo.png
deleted file mode 100644
index 1b5872e..0000000
Binary files a/sites/all/themes/vibio/images/facebook/logo.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/facebook/share.png b/sites/all/themes/vibio/images/facebook/share.png
deleted file mode 100644
index 767ad76..0000000
Binary files a/sites/all/themes/vibio/images/facebook/share.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/facebook/share_button.png b/sites/all/themes/vibio/images/facebook/share_button.png
deleted file mode 100644
index 715ba18..0000000
Binary files a/sites/all/themes/vibio/images/facebook/share_button.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/icons/acct_dropdown.png b/sites/all/themes/vibio/images/icons/acct_dropdown.png
deleted file mode 100644
index 10fd426..0000000
Binary files a/sites/all/themes/vibio/images/icons/acct_dropdown.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/icons/acct_dropdown_selected.png b/sites/all/themes/vibio/images/icons/acct_dropdown_selected.png
deleted file mode 100644
index 69d4054..0000000
Binary files a/sites/all/themes/vibio/images/icons/acct_dropdown_selected.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/icons/default_item.png b/sites/all/themes/vibio/images/icons/default_item.png
deleted file mode 100644
index 1f708a3..0000000
Binary files a/sites/all/themes/vibio/images/icons/default_item.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/icons/default_user.png b/sites/all/themes/vibio/images/icons/default_user.png
deleted file mode 100644
index 2e711b7..0000000
Binary files a/sites/all/themes/vibio/images/icons/default_user.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/icons/default_user_large.png b/sites/all/themes/vibio/images/icons/default_user_large.png
deleted file mode 100644
index c26aec1..0000000
Binary files a/sites/all/themes/vibio/images/icons/default_user_large.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/icons/mail.png b/sites/all/themes/vibio/images/icons/mail.png
deleted file mode 100644
index 8ec273c..0000000
Binary files a/sites/all/themes/vibio/images/icons/mail.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/icons/messages.png b/sites/all/themes/vibio/images/icons/messages.png
deleted file mode 100644
index 2011991..0000000
Binary files a/sites/all/themes/vibio/images/icons/messages.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/item/pricetag-large-dollarsign.png b/sites/all/themes/vibio/images/item/pricetag-large-dollarsign.png
deleted file mode 100644
index 231acf7..0000000
Binary files a/sites/all/themes/vibio/images/item/pricetag-large-dollarsign.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/item/pricetag-large.png b/sites/all/themes/vibio/images/item/pricetag-large.png
deleted file mode 100644
index 783d01e..0000000
Binary files a/sites/all/themes/vibio/images/item/pricetag-large.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/item/pricetag-small.png b/sites/all/themes/vibio/images/item/pricetag-small.png
deleted file mode 100644
index 95a8e3b..0000000
Binary files a/sites/all/themes/vibio/images/item/pricetag-small.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/item/pricetag_left.png b/sites/all/themes/vibio/images/item/pricetag_left.png
deleted file mode 100644
index 66c6c9d..0000000
Binary files a/sites/all/themes/vibio/images/item/pricetag_left.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/item/pricetag_right.png b/sites/all/themes/vibio/images/item/pricetag_right.png
deleted file mode 100644
index 3bd08ee..0000000
Binary files a/sites/all/themes/vibio/images/item/pricetag_right.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/messages-error-ie6.png b/sites/all/themes/vibio/images/messages-error-ie6.png
deleted file mode 100644
index 054b9f2..0000000
Binary files a/sites/all/themes/vibio/images/messages-error-ie6.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/messages-error.png b/sites/all/themes/vibio/images/messages-error.png
deleted file mode 100644
index 012813b..0000000
Binary files a/sites/all/themes/vibio/images/messages-error.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/messages-status-ie6.png b/sites/all/themes/vibio/images/messages-status-ie6.png
deleted file mode 100644
index f9eb63f..0000000
Binary files a/sites/all/themes/vibio/images/messages-status-ie6.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/messages-status.png b/sites/all/themes/vibio/images/messages-status.png
deleted file mode 100644
index 9f07a42..0000000
Binary files a/sites/all/themes/vibio/images/messages-status.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/messages-warning-ie6.png b/sites/all/themes/vibio/images/messages-warning-ie6.png
deleted file mode 100644
index 551a9db..0000000
Binary files a/sites/all/themes/vibio/images/messages-warning-ie6.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/messages-warning.png b/sites/all/themes/vibio/images/messages-warning.png
deleted file mode 100644
index e727711..0000000
Binary files a/sites/all/themes/vibio/images/messages-warning.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/new_user/arrow_Completed.png b/sites/all/themes/vibio/images/new_user/arrow_Completed.png
deleted file mode 100644
index 06feb01..0000000
Binary files a/sites/all/themes/vibio/images/new_user/arrow_Completed.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/new_user/arrow_notDone.png b/sites/all/themes/vibio/images/new_user/arrow_notDone.png
deleted file mode 100644
index 448e77e..0000000
Binary files a/sites/all/themes/vibio/images/new_user/arrow_notDone.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/new_user/arrow_presentStep.png b/sites/all/themes/vibio/images/new_user/arrow_presentStep.png
deleted file mode 100644
index f9c3a64..0000000
Binary files a/sites/all/themes/vibio/images/new_user/arrow_presentStep.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/new_user/blueButton_L.png b/sites/all/themes/vibio/images/new_user/blueButton_L.png
deleted file mode 100644
index 8b43926..0000000
Binary files a/sites/all/themes/vibio/images/new_user/blueButton_L.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/new_user/blueButton_Mid.png b/sites/all/themes/vibio/images/new_user/blueButton_Mid.png
deleted file mode 100644
index 167f293..0000000
Binary files a/sites/all/themes/vibio/images/new_user/blueButton_Mid.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/new_user/blueButton_R.png b/sites/all/themes/vibio/images/new_user/blueButton_R.png
deleted file mode 100644
index 5605af1..0000000
Binary files a/sites/all/themes/vibio/images/new_user/blueButton_R.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/new_user/done_check.png b/sites/all/themes/vibio/images/new_user/done_check.png
deleted file mode 100644
index b2339d8..0000000
Binary files a/sites/all/themes/vibio/images/new_user/done_check.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/new_user/mag_glass.png b/sites/all/themes/vibio/images/new_user/mag_glass.png
deleted file mode 100644
index 040cef4..0000000
Binary files a/sites/all/themes/vibio/images/new_user/mag_glass.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/new_user/numerical_bg.png b/sites/all/themes/vibio/images/new_user/numerical_bg.png
deleted file mode 100644
index 50e2fa0..0000000
Binary files a/sites/all/themes/vibio/images/new_user/numerical_bg.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/new_user/numerical_bg_gray.png b/sites/all/themes/vibio/images/new_user/numerical_bg_gray.png
deleted file mode 100644
index 4884dd0..0000000
Binary files a/sites/all/themes/vibio/images/new_user/numerical_bg_gray.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/page/footer.png b/sites/all/themes/vibio/images/page/footer.png
deleted file mode 100644
index 3a93bcc..0000000
Binary files a/sites/all/themes/vibio/images/page/footer.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/page/header.png b/sites/all/themes/vibio/images/page/header.png
deleted file mode 100644
index f27a3ff..0000000
Binary files a/sites/all/themes/vibio/images/page/header.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/page/top_bar.png b/sites/all/themes/vibio/images/page/top_bar.png
deleted file mode 100644
index ec86e1a..0000000
Binary files a/sites/all/themes/vibio/images/page/top_bar.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/progress/progressbar_high.png b/sites/all/themes/vibio/images/progress/progressbar_high.png
deleted file mode 100644
index 6acfc02..0000000
Binary files a/sites/all/themes/vibio/images/progress/progressbar_high.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/progress/progressbar_low.png b/sites/all/themes/vibio/images/progress/progressbar_low.png
deleted file mode 100644
index ae2d52d..0000000
Binary files a/sites/all/themes/vibio/images/progress/progressbar_low.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/progress/progressbar_medium.png b/sites/all/themes/vibio/images/progress/progressbar_medium.png
deleted file mode 100644
index 36007b0..0000000
Binary files a/sites/all/themes/vibio/images/progress/progressbar_medium.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/search-icon.png b/sites/all/themes/vibio/images/search-icon.png
deleted file mode 100644
index d076880..0000000
Binary files a/sites/all/themes/vibio/images/search-icon.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/search_button.png b/sites/all/themes/vibio/images/search_button.png
deleted file mode 100644
index ab388b4..0000000
Binary files a/sites/all/themes/vibio/images/search_button.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/submit-small.png b/sites/all/themes/vibio/images/submit-small.png
deleted file mode 100644
index 37e5c82..0000000
Binary files a/sites/all/themes/vibio/images/submit-small.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/tab-bar.png b/sites/all/themes/vibio/images/tab-bar.png
deleted file mode 100644
index 2f403d5..0000000
Binary files a/sites/all/themes/vibio/images/tab-bar.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/tab-left-ie6.png b/sites/all/themes/vibio/images/tab-left-ie6.png
deleted file mode 100644
index 5c512ae..0000000
Binary files a/sites/all/themes/vibio/images/tab-left-ie6.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/tab-secondary-bg.png b/sites/all/themes/vibio/images/tab-secondary-bg.png
deleted file mode 100644
index a5a617e..0000000
Binary files a/sites/all/themes/vibio/images/tab-secondary-bg.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/tab-secondary.png b/sites/all/themes/vibio/images/tab-secondary.png
deleted file mode 100644
index bf4e8d2..0000000
Binary files a/sites/all/themes/vibio/images/tab-secondary.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/tab_end.png b/sites/all/themes/vibio/images/tab_end.png
deleted file mode 100644
index 58d223d..0000000
Binary files a/sites/all/themes/vibio/images/tab_end.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/tab_left.png b/sites/all/themes/vibio/images/tab_left.png
deleted file mode 100644
index fbe3cac..0000000
Binary files a/sites/all/themes/vibio/images/tab_left.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/tabs/bigtab_bar.png b/sites/all/themes/vibio/images/tabs/bigtab_bar.png
deleted file mode 100644
index 81a5369..0000000
Binary files a/sites/all/themes/vibio/images/tabs/bigtab_bar.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/tabs/bigtab_end.png b/sites/all/themes/vibio/images/tabs/bigtab_end.png
deleted file mode 100644
index 6f5360d..0000000
Binary files a/sites/all/themes/vibio/images/tabs/bigtab_end.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/tabs/bigtab_left.png b/sites/all/themes/vibio/images/tabs/bigtab_left.png
deleted file mode 100644
index 4ed4783..0000000
Binary files a/sites/all/themes/vibio/images/tabs/bigtab_left.png and /dev/null differ
diff --git a/sites/all/themes/vibio/images/thirdparty/ebay.gif b/sites/all/themes/vibio/images/thirdparty/ebay.gif
deleted file mode 100644
index 0de1977..0000000
Binary files a/sites/all/themes/vibio/images/thirdparty/ebay.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/images/thirdparty/facebook.png b/sites/all/themes/vibio/images/thirdparty/facebook.png
deleted file mode 100644
index 846ee55..0000000
Binary files a/sites/all/themes/vibio/images/thirdparty/facebook.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/README.txt b/sites/all/themes/vibio/js/README.txt
deleted file mode 100644
index c57a074..0000000
--- a/sites/all/themes/vibio/js/README.txt
+++ /dev/null
@@ -1,16 +0,0 @@
-// $Id: README.txt,v 1.2 2009/11/08 18:28:49 johnalbin Exp $
-
-Your theme can add JavaScript files in two ways:
-
-1. To add a JavaScript file to all pages on your website, edit your sub-theme's
-   .info file and add a line like this one:
-
-     scripts[] = js/my-jquery-script.js
-
-2. To add a JavaScript file depending on a certain condition, you can add it
-   using some PHP code in a preprocess function:
-
-     drupal_add_js('js/my-jquery-script.js', 'theme');
-
-   For the full documentation of drupal_add_js(), see:
-     http://api.drupal.org/api/function/drupal_add_js
diff --git a/sites/all/themes/vibio/js/badge.js b/sites/all/themes/vibio/js/badge.js
deleted file mode 100644
index f5fbed2..0000000
--- a/sites/all/themes/vibio/js/badge.js
+++ /dev/null
@@ -1,59 +0,0 @@
-$(document).ready(function()
-{
-	Drupal.settings.badge = Drupal.settings.badge || {};
-	
-	if (Drupal.settings.badge.popup_html)
-	{
-		vibio_dialog.create(Drupal.settings.badge.popup_html);
-	}
-	
-	var unearned_badges = false;
-	$(".badges_unearned").click(function()
-	{		
-		if (!unearned_badges)
-		{
-			vibio_utility.dialog_busy();
-			
-			$.ajax({
-				url: $(this).attr("href"),
-				success: function(html, stat)
-				{
-					unearned_badges = html;
-					vibio_utility.dialog_unbusy(unearned_badges);
-				}
-			});
-		}
-		else
-		{
-			vibio_dialog.create(unearned_badges);
-		}
-		
-		return false;
-	});
-	
-	var badge_info = {};
-	$(".badge_get_info").live("click", function()
-	{
-		var href = $(this).attr("href");
-		
-		if (badge_info[href])
-		{
-			vibio_dialog.create(badge_info[href]);
-		}
-		else
-		{
-			vibio_utility.dialog_busy();
-			
-			$.ajax({
-				url: href,
-				success: function(html, stat)
-				{
-					badge_info[href] = html;
-					vibio_utility.dialog_unbusy(badge_info[href]);
-				}
-			})
-		}
-		
-		return false;
-	});
-});
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/collections.js b/sites/all/themes/vibio/js/collections.js
deleted file mode 100644
index 7ec1d75..0000000
--- a/sites/all/themes/vibio/js/collections.js
+++ /dev/null
@@ -1,101 +0,0 @@
-$(document).ready(function()
-{
-	$(".collection_preview_init").live("click", function()
-	{
-		var load_request_sent = $.data(this, "preview_requested");
-		var is_expanded = $(this).hasClass("expanded");
-		var preview = $(this).siblings(".collection_preview_items");
-		var loading = $(this).siblings(".collection_preview_loading");
-
-		if (loading.length && load_request_sent) // currently loading
-		{
-			return;
-		}
-
-		if (is_expanded)
-		{
-			$(this)
-				.removeClass("expanded")
-				.find("img")
-					.attr("src", "/themes/vibio/images/collections/expand.png")
-					.end()
-				.find("span")
-					.html(Drupal.t("Expand Item List"));
-					
-			if (loading.length)
-			{
-				loading.hide();
-			}
-			else // if there isn't a loading div, then we should collapse the preview div
-			{
-				preview.slideToggle();
-			}
-		}
-		else
-		{
-			$(this)
-				.addClass("expanded")
-				.find("img")
-					.attr("src", "/themes/vibio/images/collections/minimize.png")
-					.end()
-				.find("span")
-					.html(Drupal.t("Minimize Item List"));
-
-			if (loading.length)
-			{
-				loading.show();
-			}
-			else
-			{
-				preview.slideToggle();
-			}
-		}
-
-		if (!load_request_sent)
-		{
-			$.data(this, "preview_requested", true);
-			var cid = $(this).closest(".collection_list_collection").attr("id").split("collection_")[1];
-
-			$.ajax({
-				url: "/collections/"+cid,
-				data: {
-					preview: 1,
-					ajax: 1
-				},
-				success: function(html, stat)
-				{
-					preview
-						.html(html)
-						.slideToggle();
-				},
-				complete: function()
-				{
-					loading.remove();
-				}
-			});
-		}
-	});
-	
-	$("#views-exposed-form-user-collection-default #edit-collection-order-by").livequery("change", function()
-	{
-		var sort_args = $(this).val().split("-");
-		
-		$(this)
-			.closest("#views-exposed-form-user-collection-default")
-				.find("#edit-order")
-					.val(sort_args[0])
-					.end()
-				.find("#edit-sort")
-					.val(sort_args[1]);
-	});
-
-	$("select.inventory_view_type_select").livequery("change", function()
-	{
-		window.location = $(this).val();
-	});
-
-	$("#collection-edit #edit-delete").click(function()
-	{
-		return confirm(Drupal.t("Are you sure you want to delete this collection?"));
-	});
-});
diff --git a/sites/all/themes/vibio/js/ebay-account.js b/sites/all/themes/vibio/js/ebay-account.js
deleted file mode 100644
index 2d985e9..0000000
--- a/sites/all/themes/vibio/js/ebay-account.js
+++ /dev/null
@@ -1,48 +0,0 @@
-$(document).ready(function()
-{
-	$(".ebay_remove_account").click(function()
-	{
-		var account_name = $(this).siblings(".account_id").text();
-		var confirm_text = external_accounts.ebay.confirm_text.replace('!account_name', account_name);
-		
-		if (!confirm(confirm_text))
-		{
-			return false;
-		}
-		
-		$.ajax({
-			url: "/ebay/ajax/service",
-			type: "post",
-			data: {
-				action: "remove_account",
-				account: account_name
-			},
-			dataType: "json",
-			success: function(json, stat)
-			{
-				alert(json.message);
-			}
-		});
-		
-		return false;
-	});
-	
-	$(".ebay_add_account").live("click", function()
-	{
-		vibio_utility.dialog_busy();
-		
-		$.ajax({
-			url: "/ebay/ajax/theme",
-			type: "post",
-			data: {
-				action: "ebay_link_account_init"
-			},
-			success: function(html, stat)
-			{
-				vibio_dialog.create(html);
-			}
-		});
-		
-		return false;
-	});
-});
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/ebay-search.js b/sites/all/themes/vibio/js/ebay-search.js
deleted file mode 100644
index 225d407..0000000
--- a/sites/all/themes/vibio/js/ebay-search.js
+++ /dev/null
@@ -1,39 +0,0 @@
-$(document).ready(function()
-{
-	$(".ebay_search_results .pager a").live("click", function()
-	{
-		var search_results = $(this).closest(".ebay_search_results");
-		var get_args = $(this).attr("href").split("?")[1].split('&');
-		var next_page = 0;
-		
-		$.each(get_args, function(i, e)
-		{
-			var args = e.split("=");
-			if (args[0] == "page")
-			{
-				next_page = parseInt(args[1]);
-			}
-		});
-		
-		var search_diff = {
-			page_number:  next_page + 1,
-			action: "find_items_advanced",
-			hide_wrapper: true
-		};
-		var next_search = $.extend({}, ebay_search_args, search_diff);
-		
-		search_results.html('');
-		
-		$.ajax({
-			url: "/ebay/ajax/service",
-			type: "post",
-			data: next_search,
-			success: function(html, stat)
-			{
-				search_results.html(html);
-			}
-		})
-		
-		return false;
-	});
-});
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/facebook.js b/sites/all/themes/vibio/js/facebook.js
deleted file mode 100644
index f7093d0..0000000
--- a/sites/all/themes/vibio/js/facebook.js
+++ /dev/null
@@ -1,228 +0,0 @@
-fb_ajax_actions = {};
-
-$(document).ready(function()
-{
-	if (typeof FB == "undefinged")
-	{
-		return;
-	}
-	
-	FB.init({
-		appId: fb_settings.app_id,
-		status: true,
-		cookie: true,
-		xfbml: true
-	});
-	
-	var fb_next_action, fb_next_action_args, fb_do_reload = false;
-	var fb_next_action_args;
-	var fb_login_callbacks = {
-		"signup": function(res)
-		{
-			if (res.session)
-			{
-				var destination = vibio_utility.get_get_arg("destination");
-				destination = destination ? destination : window.location.pathname.substring(1);
-				window.location = "/facebook/signup?destination="+destination
-			}
-		},
-		"link": function(res)
-		{
-			if (res.session)
-			{
-				window.location = "/facebook/link-account?destination="+window.location.pathname.substring(1);
-			}
-		},
-		"link_ajax": function(res)
-		{
-			if (res.session)
-			{
-				$.ajax({
-					url: "/facebook/link-account-ajax",
-					dataType: "json",
-					success: function(json, stat)
-					{
-						vibio_utility.set_message(json.message, json.status);
-						
-						if (json.status != "error")
-						{
-							fb_settings.fb_uid = json.fb_uid;
-							vibio_utility.invoke(fb_ajax_actions.ajax_link);
-						}
-						else
-						{
-							FB.logout();
-						}
-					}
-				});
-			}
-		},
-		"refresh": function(res)
-		{
-			if (vibio_dialog.dialog)
-			{
-				vibio_dialog.dialog.dialog("close");
-			}
-			
-			if (res.session)
-			{
-				if (res.session.uid == fb_settings.fb_uid)
-				{
-					if (fb_do_reload)
-					{
-						window.location.reload();
-					}
-					else if (typeof fb_next_action != "undefined")
-					{
-						fb_next_action(fb_next_action_args);
-					}
-				}
-				else
-				{
-					FB.logout();
-					incorrect_login();
-				}
-			}
-		}
-	};
-	
-	$(".fb_login").live("click", function()
-	{
-		var fb_callback = $(this).hasClass("fb_refresh") ? fb_login_callbacks.refresh : fb_login_callbacks.signup;
-		
-		if ($(this).hasClass("fb_reload"))
-		{
-			fb_do_reload = true;
-		}
-		
-		FB.getLoginStatus(function(res)
-		{
-			if (res.session)
-			{
-				fb_callback(res);
-			}
-			else
-			{
-				FB.login(fb_callback, { perms: fb_settings.perms });
-			}
-		});
-		
-		return false;
-	});
-	
-	$(".fb_link_account").live("click", function()
-	{
-		var callback = $(this).hasClass("fb_link_account_ajax") ? "link_ajax" : "link";
-		FB.login(fb_login_callbacks[callback], { perms: fb_settings.perms });
-		return false;
-	});
-	
-	$(".fb_remove_account").live("click", function()
-	{
-		var href = $(this).attr("href")+"?destination="+window.location.pathname.substring(1);
-		window.location = href;
-		return false;
-	});
-	
-	$(".fb_share").live("click", function()
-	{
-		var params = JSON.parse($(this).siblings(".fb_share_params").text()) || {};
-		verify_login(share, params);
-		
-		return false;
-	});
-	
-	var verify_login = function(action, params)
-	{
-		if (!fb_settings.fb_uid)
-		{
-			prompt_account_link();
-			return;
-		}
-		
-		FB.getLoginStatus(function(res)
-		{
-			if (res.session)
-			{
-				if (res.session.uid == fb_settings.fb_uid)
-				{
-					action(params);
-				}
-				else
-				{
-					incorrect_login();
-				}
-			}
-			else
-			{
-				prompt_login();
-			}
-		});
-	}
-	
-	var share = function(post_params)
-	{	
-		var defaults = {
-			method: "stream.publish",
-			display: "popup"
-		};
-		post_params = $.extend({}, defaults, post_params);
-		
-		FB.ui(post_params, function(response)
-		{
-			if (response && response.post_id)
-			{
-				//share_success();
-			}
-			else
-			{
-				//what should we do here?
-			}
-		});
-		
-		return false;
-	}
-	
-	var prompt_login = function()
-	{
-		vibio_dialog.create($("#facebook_login_prompt").html());
-		vibio_dialog.set_options({"dialogClass": "fb_popup"});
-	}
-	
-	var incorrect_login = function()
-	{
-		vibio_dialog.create($("#facebook_wrong_login").html());
-		vibio_dialog.set_options({"dialogClass": "fb_popup"});
-	}
-	
-	var share_success = function()
-	{
-		vibio_dialog.create($("#facebook_share_success").html());
-		vibio_dialog.set_options({"dialogClass": "fb_popup"});
-	}
-	
-	var prompt_account_link = function()
-	{
-		vibio_dialog.create($("#facebook_prompt_account_link").html());
-		vibio_dialog.set_options({"dialogClass": "fb_popup"});
-	}
-	
-	if (typeof fb_share_prompts != "undefined")
-	{
-		if (!fb_settings.fb_uid)
-		{
-			return;
-		}
-		
-		$.each (fb_share_prompts, function(i, share_params)
-		{
-			FB.getLoginStatus(function(res)
-			{
-				if (res.session && res.session.uid == fb_settings.fb_uid)
-				{
-					share(share_params);
-				}
-			});
-		});
-	}
-});
diff --git a/sites/all/themes/vibio/js/imap.js b/sites/all/themes/vibio/js/imap.js
deleted file mode 100644
index 50dfb8a..0000000
--- a/sites/all/themes/vibio/js/imap.js
+++ /dev/null
@@ -1,180 +0,0 @@
-$(document).ready(function()
-{
-	var data_dictionary = {};
-	
-	$(".imap_delete_form").submit(function()
-	{
-		if (!confirm(Drupal.t("Are you sure you want to delete the image?")))
-		{
-			return false;
-		}
-		
-		var form = $(this);
-		var imap_id = form.attr("id").split("imap-fetch-delete-form-")[1];
-		
-		profile_actions.show_busy(form);
-		
-		$.ajax({
-			url: "/imap/ajax",
-			type: "post",
-			data: {
-				action: "delete",
-				id: imap_id
-			},
-			dataType: "json",
-			success: function(json, stat)
-			{
-				if (json.saved)
-				{
-					profile_actions.remove_notification(form);
-				}
-				
-				vibio_utility.set_message(json.message, json.saved ? "status" : "error");
-			},
-			complete: function()
-			{
-				profile_actions.hide_busy(form);
-			}
-		});
-		
-		return false;
-	});
-	
-	$(".imap_attach_form")
-		.each(function()
-		{
-			var form = $(this);
-			var cid_select = form.find("select[name='cid']");
-			var nid_select = alter_element(form, "nid", "disable");
-			var submit = alter_element(form, "submit", "disable");
-			
-			cid_select.change(function()
-			{
-				nid_select.attr("disabled", "disabled");
-				submit.attr("disabled", "disabled");
-				
-				var cid = $(this).val();
-				
-				if (cid == -1)
-				{
-					return;
-				}
-				
-				if (typeof data_dictionary["collection_items_"+cid] == "undefined")
-				{
-					data_dictionary["collection_items_"+cid] = {};
-					profile_actions.show_busy(form);
-					
-					$.ajax({
-						url: "/imap/ajax",
-						type: "post",
-						data: {
-							action: "get_collection_items",
-							cid: cid
-						},
-						dataType: "json",
-						success: function(json, stat)
-						{
-							data_dictionary["collection_items_"+cid] = json.message;
-						},
-						complete: function()
-						{
-							profile_actions.hide_busy(form);
-							fill_item_elements(nid_select, data_dictionary["collection_items_"+cid]);
-							nid_select.attr("disabled", false);
-						}
-					});
-				}
-				else
-				{
-					fill_item_elements(nid_select, data_dictionary["collection_items_"+cid]);
-					nid_select.attr("disabled", false);
-				}
-			});
-			
-			nid_select.change(function()
-			{
-				var nid = $(this).val();
-				
-				if (nid == -1)
-				{
-					submit.attr("disabled", "disabled");
-					return;
-				}
-				
-				submit.attr("disabled", false);
-			});
-		})
-		.submit(function()
-		{
-			var form = $(this);
-			var cid_select = form.find("select[name='cid']");
-			var nid_select = alter_element(form, "nid", "disable");
-			var submit = alter_element(form, "submit", "disable");
-			var imap_id = form.attr("id").split("imap-fetch-attach-form-")[1];
-			cid_select.attr("disabled", "disabled");
-			
-			profile_actions.show_busy(form);
-			
-			$.ajax({
-				url: "/imap/ajax",
-				type: "post",
-				data: {
-					action: "attach_image",
-					id: imap_id,
-					nid: nid_select.val()
-				},
-				dataType: "json",
-				success: function(json, stat)
-				{
-					if (json.saved)
-					{
-						profile_actions.remove_notification(form);
-					}
-					
-					vibio_utility.set_message(json.message, json.saved ? "status" : "error");
-				},
-				complete: function()
-				{
-					profile_actions.hide_busy(form);
-					cid_select.attr("disabled", false);
-					nid_select.attr("disabled", false);
-					submit.attr("disabled", false);
-				}
-			});
-			
-			return false;
-		});
-		
-	function alter_element(form, element, action)
-	{
-		var disabled_val = action == "disable" ? "disabled" : false;
-		var target_element = false;
-		
-		if (element == "nid")
-		{
-			target_element = form.find("select[name='nid']");
-		}
-		else if (element == "submit")
-		{
-			target_element = form.find("input.form-submit");
-		}
-		
-		return target_element ? target_element.attr("disabled", disabled_val) : false;
-	}
-	
-	function fill_item_elements(select, options)
-	{
-		var option_html = "";
-		$.each(options, function(nid, title)
-		{
-			option_html += "<option value='"+nid+"'>"+title+"</option>";
-		});
-		
-		select
-			.find("option:gt(0)")
-				.remove()
-				.end()
-			.append(option_html);
-	}
-});
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/jquery-csb-1.0.js b/sites/all/themes/vibio/js/jquery-csb-1.0.js
deleted file mode 100644
index 231e091..0000000
--- a/sites/all/themes/vibio/js/jquery-csb-1.0.js
+++ /dev/null
@@ -1,65 +0,0 @@
-// jQuery csb (custom selectbox) plugin
-// version 1.0
-// Author Mihkel Oviir
-
-(function($){
-	
-	$.fn.csb = function(options) {
-		$(this).hide();
-
-		var style = options.style;
-		var mode = options.mode;
-
-		var thisid = $(this).attr('id');
-		var selected = this.find("option[selected]");
-
-		if (mode == 'link') var selects = this.find("option:not([selected])");
-		else var selects = this.find("option");
-		$(this).parent().append('<dl id="'+thisid+'" class="'+style+'"></dl>');
-		$('dl#'+thisid).append('<dt><a name="' + selected.val() + '">' + selected.text() + '</a></dt>');
-		$('dl#'+thisid).append('<dd><ul></ul></dd>');
-		selects.each(function(){
-			$('dl#'+ thisid + " dd ul").append('<li><a name="' + $(this).val() + '">' + $(this).text() + '</a></li>');
-		});
-
-		$('.'+style+' dt').click(function() {
-			$('.'+style+' dd ul').toggle();
-			return false;
-		});
-
-		$(document).bind('click', function(e) {
-			var $clicked = $(e.target);
-			if (! $clicked.parents().hasClass(style)) $('.'+style+' dd ul').hide();
-		});
-
-		if (mode == 'link') {
-			$('.'+style+' dd ul li a').live('click',function() {
-				$('.'+style+' dd ul').hide();
-				var functvar = $(this).attr('name');
-				
-				// now call a callback function
-				if(typeof options.callback == 'function'){
-					options.callback(functvar);
-				}
-				return false;
-			});
-		}
-		else {
-			$('.'+style+' dd ul li').live('click',function() {
-				var text = $(this).find("a").html();
-				$('.'+style+' dt a').html(text);
-				$('.'+style+' dd ul').hide();
-
-				var source = $('select#'+thisid);
-				var functvar = $(this).find("a").attr('name');
-				source.val(functvar);
-				
-				// now call a callback function
-				if(typeof options.callback == 'function'){
-					options.callback(functvar);
-				}
-				return false;
-			});
-		}	
-	}
-})(jQuery); // plugina lpp
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/jquery-ui-1.8.2.custom.min.js b/sites/all/themes/vibio/js/jquery-ui-1.8.2.custom.min.js
deleted file mode 100644
index c11e844..0000000
--- a/sites/all/themes/vibio/js/jquery-ui-1.8.2.custom.min.js
+++ /dev/null
@@ -1,1012 +0,0 @@
-/*!
- * jQuery UI 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI
- */
-(function(c){c.ui=c.ui||{};if(!c.ui.version){c.extend(c.ui,{version:"1.8.2",plugin:{add:function(a,b,d){a=c.ui[a].prototype;for(var e in d){a.plugins[e]=a.plugins[e]||[];a.plugins[e].push([b,d[e]])}},call:function(a,b,d){if((b=a.plugins[b])&&a.element[0].parentNode)for(var e=0;e<b.length;e++)a.options[b[e][0]]&&b[e][1].apply(a.element,d)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(a,b){if(c(a).css("overflow")==
-"hidden")return false;b=b&&b=="left"?"scrollLeft":"scrollTop";var d=false;if(a[b]>0)return true;a[b]=1;d=a[b]>0;a[b]=0;return d},isOverAxis:function(a,b,d){return a>b&&a<b+d},isOver:function(a,b,d,e,f,g){return c.ui.isOverAxis(a,d,f)&&c.ui.isOverAxis(b,e,g)},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,
-NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});c.fn.extend({_focus:c.fn.focus,focus:function(a,b){return typeof a==="number"?this.each(function(){var d=this;setTimeout(function(){c(d).focus();b&&b.call(d)},a)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect",
-"none")},scrollParent:function(){var a;a=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this,"position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",
-1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?c(document):a},zIndex:function(a){if(a!==undefined)return this.css("zIndex",a);if(this.length){a=c(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position");if(b=="absolute"||b=="relative"||b=="fixed"){b=parseInt(a.css("zIndex"));if(!isNaN(b)&&b!=0)return b}a=a.parent()}}return 0}});c.extend(c.expr[":"],{data:function(a,b,d){return!!c.data(a,d[3])},focusable:function(a){var b=a.nodeName.toLowerCase(),d=c.attr(a,"tabindex");return(/input|select|textarea|button|object/.test(b)?
-!a.disabled:"a"==b||"area"==b?a.href||!isNaN(d):!isNaN(d))&&!c(a)["area"==b?"parents":"closest"](":hidden").length},tabbable:function(a){var b=c.attr(a,"tabindex");return(isNaN(b)||b>=0)&&c(a).is(":focusable")}})}})(jQuery);
-;/*!
- * jQuery UI Widget 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Widget
- */
-(function(b){var j=b.fn.remove;b.fn.remove=function(a,c){return this.each(function(){if(!c)if(!a||b.filter(a,[this]).length)b("*",this).add(this).each(function(){b(this).triggerHandler("remove")});return j.call(b(this),a,c)})};b.widget=function(a,c,d){var e=a.split(".")[0],f;a=a.split(".")[1];f=e+"-"+a;if(!d){d=c;c=b.Widget}b.expr[":"][f]=function(h){return!!b.data(h,a)};b[e]=b[e]||{};b[e][a]=function(h,g){arguments.length&&this._createWidget(h,g)};c=new c;c.options=b.extend({},c.options);b[e][a].prototype=
-b.extend(true,c,{namespace:e,widgetName:a,widgetEventPrefix:b[e][a].prototype.widgetEventPrefix||a,widgetBaseClass:f},d);b.widget.bridge(a,b[e][a])};b.widget.bridge=function(a,c){b.fn[a]=function(d){var e=typeof d==="string",f=Array.prototype.slice.call(arguments,1),h=this;d=!e&&f.length?b.extend.apply(null,[true,d].concat(f)):d;if(e&&d.substring(0,1)==="_")return h;e?this.each(function(){var g=b.data(this,a),i=g&&b.isFunction(g[d])?g[d].apply(g,f):g;if(i!==g&&i!==undefined){h=i;return false}}):this.each(function(){var g=
-b.data(this,a);if(g){d&&g.option(d);g._init()}else b.data(this,a,new c(d,this))});return h}};b.Widget=function(a,c){arguments.length&&this._createWidget(a,c)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(a,c){this.element=b(c).data(this.widgetName,this);this.options=b.extend(true,{},this.options,b.metadata&&b.metadata.get(c)[this.widgetName],a);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()});this._create();
-this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(a,c){var d=a,e=this;if(arguments.length===0)return b.extend({},e.options);if(typeof a==="string"){if(c===undefined)return this.options[a];d={};d[a]=c}b.each(d,function(f,
-h){e._setOption(f,h)});return e},_setOption:function(a,c){this.options[a]=c;if(a==="disabled")this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(a,c,d){var e=this.options[a];c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d=d||{};if(c.originalEvent){a=
-b.event.props.length;for(var f;a;){f=b.event.props[--a];c[f]=c.originalEvent[f]}}this.element.trigger(c,d);return!(b.isFunction(e)&&e.call(this.element[0],c,d)===false||c.isDefaultPrevented())}}})(jQuery);
-;/*!
- * jQuery UI Mouse 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Mouse
- *
- * Depends:
- *	jquery.ui.widget.js
- */
-(function(c){c.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(a._preventClickEvent){a._preventClickEvent=false;b.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){a.originalEvent=a.originalEvent||{};if(!a.originalEvent.mouseHandled){this._mouseStarted&&
-this._mouseUp(a);this._mouseDownEvent=a;var b=this,e=a.which==1,f=typeof this.options.cancel=="string"?c(a.target).parents().add(a.target).filter(this.options.cancel).length:false;if(!e||f||!this._mouseCapture(a))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){b.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=this._mouseStart(a)!==false;if(!this._mouseStarted){a.preventDefault();
-return true}}this._mouseMoveDelegate=function(d){return b._mouseMove(d)};this._mouseUpDelegate=function(d){return b._mouseUp(d)};c(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);c.browser.safari||a.preventDefault();return a.originalEvent.mouseHandled=true}},_mouseMove:function(a){if(c.browser.msie&&!a.button)return this._mouseUp(a);if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}if(this._mouseDistanceMet(a)&&
-this._mouseDelayMet(a))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==false)?this._mouseDrag(a):this._mouseUp(a);return!this._mouseStarted},_mouseUp:function(a){c(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=a.target==this._mouseDownEvent.target;this._mouseStop(a)}return false},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-
-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
-;/*
- * jQuery UI Position 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Position
- */
-(function(c){c.ui=c.ui||{};var m=/left|center|right/,n=/top|center|bottom/,p=c.fn.position,q=c.fn.offset;c.fn.position=function(a){if(!a||!a.of)return p.apply(this,arguments);a=c.extend({},a);var b=c(a.of),d=(a.collision||"flip").split(" "),e=a.offset?a.offset.split(" "):[0,0],g,h,i;if(a.of.nodeType===9){g=b.width();h=b.height();i={top:0,left:0}}else if(a.of.scrollTo&&a.of.document){g=b.width();h=b.height();i={top:b.scrollTop(),left:b.scrollLeft()}}else if(a.of.preventDefault){a.at="left top";g=h=
-0;i={top:a.of.pageY,left:a.of.pageX}}else{g=b.outerWidth();h=b.outerHeight();i=b.offset()}c.each(["my","at"],function(){var f=(a[this]||"").split(" ");if(f.length===1)f=m.test(f[0])?f.concat(["center"]):n.test(f[0])?["center"].concat(f):["center","center"];f[0]=m.test(f[0])?f[0]:"center";f[1]=n.test(f[1])?f[1]:"center";a[this]=f});if(d.length===1)d[1]=d[0];e[0]=parseInt(e[0],10)||0;if(e.length===1)e[1]=e[0];e[1]=parseInt(e[1],10)||0;if(a.at[0]==="right")i.left+=g;else if(a.at[0]==="center")i.left+=
-g/2;if(a.at[1]==="bottom")i.top+=h;else if(a.at[1]==="center")i.top+=h/2;i.left+=e[0];i.top+=e[1];return this.each(function(){var f=c(this),k=f.outerWidth(),l=f.outerHeight(),j=c.extend({},i);if(a.my[0]==="right")j.left-=k;else if(a.my[0]==="center")j.left-=k/2;if(a.my[1]==="bottom")j.top-=l;else if(a.my[1]==="center")j.top-=l/2;j.left=parseInt(j.left);j.top=parseInt(j.top);c.each(["left","top"],function(o,r){c.ui.position[d[o]]&&c.ui.position[d[o]][r](j,{targetWidth:g,targetHeight:h,elemWidth:k,
-elemHeight:l,offset:e,my:a.my,at:a.at})});c.fn.bgiframe&&f.bgiframe();f.offset(c.extend(j,{using:a.using}))})};c.ui.position={fit:{left:function(a,b){var d=c(window);b=a.left+b.elemWidth-d.width()-d.scrollLeft();a.left=b>0?a.left-b:Math.max(0,a.left)},top:function(a,b){var d=c(window);b=a.top+b.elemHeight-d.height()-d.scrollTop();a.top=b>0?a.top-b:Math.max(0,a.top)}},flip:{left:function(a,b){if(b.at[0]!=="center"){var d=c(window);d=a.left+b.elemWidth-d.width()-d.scrollLeft();var e=b.my[0]==="left"?
--b.elemWidth:b.my[0]==="right"?b.elemWidth:0,g=-2*b.offset[0];a.left+=a.left<0?e+b.targetWidth+g:d>0?e-b.targetWidth+g:0}},top:function(a,b){if(b.at[1]!=="center"){var d=c(window);d=a.top+b.elemHeight-d.height()-d.scrollTop();var e=b.my[1]==="top"?-b.elemHeight:b.my[1]==="bottom"?b.elemHeight:0,g=b.at[1]==="top"?b.targetHeight:-b.targetHeight,h=-2*b.offset[1];a.top+=a.top<0?e+b.targetHeight+h:d>0?e+g+h:0}}}};if(!c.offset.setOffset){c.offset.setOffset=function(a,b){if(/static/.test(c.curCSS(a,"position")))a.style.position=
-"relative";var d=c(a),e=d.offset(),g=parseInt(c.curCSS(a,"top",true),10)||0,h=parseInt(c.curCSS(a,"left",true),10)||0;e={top:b.top-e.top+g,left:b.left-e.left+h};"using"in b?b.using.call(a,e):d.css(e)};c.fn.offset=function(a){var b=this[0];if(!b||!b.ownerDocument)return null;if(a)return this.each(function(){c.offset.setOffset(this,a)});return q.call(this)}}})(jQuery);
-;/*
- * jQuery UI Draggable 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Draggables
- *
- * Depends:
- *	jquery.ui.core.js
- *	jquery.ui.mouse.js
- *	jquery.ui.widget.js
- */
-(function(d){d.widget("ui.draggable",d.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
-"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(a){var b=
-this.options;if(this.helper||b.disabled||d(a.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(a);if(!this.handle)return false;return true},_mouseStart:function(a){var b=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();if(d.ui.ddmanager)d.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-
-this.margins.top,left:this.offset.left-this.margins.left};d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);b.containment&&this._setContainment();if(this._trigger("start",a)===false){this._clear();return false}this._cacheHelperProportions();
-d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(a,true);return true},_mouseDrag:function(a,b){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!b){b=this._uiHash();if(this._trigger("drag",a,b)===false){this._mouseUp({});return false}this.position=b.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||
-this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);return false},_mouseStop:function(a){var b=false;if(d.ui.ddmanager&&!this.options.dropBehaviour)b=d.ui.ddmanager.drop(this,a);if(this.dropped){b=this.dropped;this.dropped=false}if(!this.element[0]||!this.element[0].parentNode)return false;if(this.options.revert=="invalid"&&!b||this.options.revert=="valid"&&b||this.options.revert===true||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,
-b)){var c=this;d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",a)!==false&&c._clear()})}else this._trigger("stop",a)!==false&&this._clear();return false},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var b=!this.options.handle||!d(this.options.handle,this.element).length?true:false;d(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==
-a.target)b=true});return b},_createHelper:function(a){var b=this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a])):b.helper=="clone"?this.element.clone():this.element;a.parents("body").length||a.appendTo(b.appendTo=="parent"?this.element[0].parentNode:b.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(d.isArray(a))a={left:+a[0],top:+a[1]||
-0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],
-this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-
-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment==
-"parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&
-a.containment.constructor!=Array){var b=d(a.containment)[0];if(b){a=d(a.containment).offset();var c=d(b).css("overflow")!="hidden";this.containment=[a.left+(parseInt(d(b).css("borderLeftWidth"),10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(d(b).css("borderTopWidth"),10)||0)+(parseInt(d(b).css("paddingTop"),10)||0)-this.margins.top,a.left+(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),10)||0)-(parseInt(d(b).css("paddingRight"),
-10)||0)-this.helperProportions.width-this.margins.left,a.top+(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(a.containment.constructor==Array)this.containment=a.containment},_convertPositionTo:function(a,b){if(!b)b=this.position;a=a=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],
-this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName);return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:c.scrollTop())*a),left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():
-f?0:c.scrollLeft())*a)}},_generatePosition:function(a){var b=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName),e=a.pageX,g=a.pageY;if(this.originalPosition){if(this.containment){if(a.pageX-this.offset.click.left<this.containment[0])e=this.containment[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<this.containment[1])g=this.containment[1]+
-this.offset.click.top;if(a.pageX-this.offset.click.left>this.containment[2])e=this.containment[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>this.containment[3])g=this.containment[3]+this.offset.click.top}if(b.grid){g=this.originalPageY+Math.round((g-this.originalPageY)/b.grid[1])*b.grid[1];g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-b.grid[1]:g+b.grid[1]:g;e=this.originalPageX+
-Math.round((e-this.originalPageX)/b.grid[0])*b.grid[0];e=this.containment?!(e-this.offset.click.left<this.containment[0]||e-this.offset.click.left>this.containment[2])?e:!(e-this.offset.click.left<this.containment[0])?e-b.grid[0]:e+b.grid[0]:e}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:c.scrollTop()),left:e-this.offset.click.left-
-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:c.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(a,b,c){c=c||this._uiHash();d.ui.plugin.call(this,a,[b,c]);if(a=="drag")this.positionAbs=
-this._convertPositionTo("absolute");return d.Widget.prototype._trigger.call(this,a,b,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.extend(d.ui.draggable,{version:"1.8.2"});d.ui.plugin.add("draggable","connectToSortable",{start:function(a,b){var c=d(this).data("draggable"),f=c.options,e=d.extend({},b,{item:c.element});c.sortables=[];d(f.connectToSortable).each(function(){var g=d.data(this,"sortable");
-if(g&&!g.options.disabled){c.sortables.push({instance:g,shouldRevert:g.options.revert});g._refreshItems();g._trigger("activate",a,e)}})},stop:function(a,b){var c=d(this).data("draggable"),f=d.extend({},b,{item:c.element});d.each(c.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;c.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(a);this.instance.options.helper=this.instance.options._helper;
-c.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",a,f)}})},drag:function(a,b){var c=d(this).data("draggable"),f=this;d.each(c.sortables,function(){this.instance.positionAbs=c.positionAbs;this.instance.helperProportions=c.helperProportions;this.instance.offset.click=c.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=
-1;this.instance.currentItem=d(f).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return b.helper[0]};a.target=this.instance.currentItem[0];this.instance._mouseCapture(a,true);this.instance._mouseStart(a,true,true);this.instance.offset.click.top=c.offset.click.top;this.instance.offset.click.left=c.offset.click.left;this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left;
-this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top;c._trigger("toSortable",a);c.dropped=this.instance.element;c.currentItem=c.element;this.instance.fromOutside=c}this.instance.currentItem&&this.instance._mouseDrag(a)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",a,this.instance._uiHash(this.instance));this.instance._mouseStop(a,true);this.instance.options.helper=
-this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();c._trigger("fromSortable",a);c.dropped=false}})}});d.ui.plugin.add("draggable","cursor",{start:function(){var a=d("body"),b=d(this).data("draggable").options;if(a.css("cursor"))b._cursor=a.css("cursor");a.css("cursor",b.cursor)},stop:function(){var a=d(this).data("draggable").options;a._cursor&&d("body").css("cursor",a._cursor)}});d.ui.plugin.add("draggable","iframeFix",{start:function(){var a=
-d(this).data("draggable").options;d(a.iframeFix===true?"iframe":a.iframeFix).each(function(){d('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(d(this).offset()).appendTo("body")})},stop:function(){d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});d.ui.plugin.add("draggable","opacity",{start:function(a,b){a=d(b.helper);b=d(this).data("draggable").options;
-if(a.css("opacity"))b._opacity=a.css("opacity");a.css("opacity",b.opacity)},stop:function(a,b){a=d(this).data("draggable").options;a._opacity&&d(b.helper).css("opacity",a._opacity)}});d.ui.plugin.add("draggable","scroll",{start:function(){var a=d(this).data("draggable");if(a.scrollParent[0]!=document&&a.scrollParent[0].tagName!="HTML")a.overflowOffset=a.scrollParent.offset()},drag:function(a){var b=d(this).data("draggable"),c=b.options,f=false;if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!=
-"HTML"){if(!c.axis||c.axis!="x")if(b.overflowOffset.top+b.scrollParent[0].offsetHeight-a.pageY<c.scrollSensitivity)b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop+c.scrollSpeed;else if(a.pageY-b.overflowOffset.top<c.scrollSensitivity)b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop-c.scrollSpeed;if(!c.axis||c.axis!="y")if(b.overflowOffset.left+b.scrollParent[0].offsetWidth-a.pageX<c.scrollSensitivity)b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft+c.scrollSpeed;else if(a.pageX-
-b.overflowOffset.left<c.scrollSensitivity)b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft-c.scrollSpeed}else{if(!c.axis||c.axis!="x")if(a.pageY-d(document).scrollTop()<c.scrollSensitivity)f=d(document).scrollTop(d(document).scrollTop()-c.scrollSpeed);else if(d(window).height()-(a.pageY-d(document).scrollTop())<c.scrollSensitivity)f=d(document).scrollTop(d(document).scrollTop()+c.scrollSpeed);if(!c.axis||c.axis!="y")if(a.pageX-d(document).scrollLeft()<c.scrollSensitivity)f=d(document).scrollLeft(d(document).scrollLeft()-
-c.scrollSpeed);else if(d(window).width()-(a.pageX-d(document).scrollLeft())<c.scrollSensitivity)f=d(document).scrollLeft(d(document).scrollLeft()+c.scrollSpeed)}f!==false&&d.ui.ddmanager&&!c.dropBehaviour&&d.ui.ddmanager.prepareOffsets(b,a)}});d.ui.plugin.add("draggable","snap",{start:function(){var a=d(this).data("draggable"),b=a.options;a.snapElements=[];d(b.snap.constructor!=String?b.snap.items||":data(draggable)":b.snap).each(function(){var c=d(this),f=c.offset();this!=a.element[0]&&a.snapElements.push({item:this,
-width:c.outerWidth(),height:c.outerHeight(),top:f.top,left:f.left})})},drag:function(a,b){for(var c=d(this).data("draggable"),f=c.options,e=f.snapTolerance,g=b.offset.left,n=g+c.helperProportions.width,m=b.offset.top,o=m+c.helperProportions.height,h=c.snapElements.length-1;h>=0;h--){var i=c.snapElements[h].left,k=i+c.snapElements[h].width,j=c.snapElements[h].top,l=j+c.snapElements[h].height;if(i-e<g&&g<k+e&&j-e<m&&m<l+e||i-e<g&&g<k+e&&j-e<o&&o<l+e||i-e<n&&n<k+e&&j-e<m&&m<l+e||i-e<n&&n<k+e&&j-e<o&&
-o<l+e){if(f.snapMode!="inner"){var p=Math.abs(j-o)<=e,q=Math.abs(l-m)<=e,r=Math.abs(i-n)<=e,s=Math.abs(k-g)<=e;if(p)b.position.top=c._convertPositionTo("relative",{top:j-c.helperProportions.height,left:0}).top-c.margins.top;if(q)b.position.top=c._convertPositionTo("relative",{top:l,left:0}).top-c.margins.top;if(r)b.position.left=c._convertPositionTo("relative",{top:0,left:i-c.helperProportions.width}).left-c.margins.left;if(s)b.position.left=c._convertPositionTo("relative",{top:0,left:k}).left-c.margins.left}var t=
-p||q||r||s;if(f.snapMode!="outer"){p=Math.abs(j-m)<=e;q=Math.abs(l-o)<=e;r=Math.abs(i-g)<=e;s=Math.abs(k-n)<=e;if(p)b.position.top=c._convertPositionTo("relative",{top:j,left:0}).top-c.margins.top;if(q)b.position.top=c._convertPositionTo("relative",{top:l-c.helperProportions.height,left:0}).top-c.margins.top;if(r)b.position.left=c._convertPositionTo("relative",{top:0,left:i}).left-c.margins.left;if(s)b.position.left=c._convertPositionTo("relative",{top:0,left:k-c.helperProportions.width}).left-c.margins.left}if(!c.snapElements[h].snapping&&
-(p||q||r||s||t))c.options.snap.snap&&c.options.snap.snap.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[h].item}));c.snapElements[h].snapping=p||q||r||s||t}else{c.snapElements[h].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[h].item}));c.snapElements[h].snapping=false}}}});d.ui.plugin.add("draggable","stack",{start:function(){var a=d(this).data("draggable").options;a=d.makeArray(d(a.stack)).sort(function(c,f){return(parseInt(d(c).css("zIndex"),
-10)||0)-(parseInt(d(f).css("zIndex"),10)||0)});if(a.length){var b=parseInt(a[0].style.zIndex)||0;d(a).each(function(c){this.style.zIndex=b+c});this[0].style.zIndex=b+a.length}}});d.ui.plugin.add("draggable","zIndex",{start:function(a,b){a=d(b.helper);b=d(this).data("draggable").options;if(a.css("zIndex"))b._zIndex=a.css("zIndex");a.css("zIndex",b.zIndex)},stop:function(a,b){a=d(this).data("draggable").options;a._zIndex&&d(b.helper).css("zIndex",a._zIndex)}})})(jQuery);
-;/*
- * jQuery UI Droppable 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Droppables
- *
- * Depends:
- *	jquery.ui.core.js
- *	jquery.ui.widget.js
- *	jquery.ui.mouse.js
- *	jquery.ui.draggable.js
- */
-(function(d){d.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var a=this.options,b=a.accept;this.isover=0;this.isout=1;this.accept=d.isFunction(b)?b:function(c){return c.is(b)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};d.ui.ddmanager.droppables[a.scope]=d.ui.ddmanager.droppables[a.scope]||[];d.ui.ddmanager.droppables[a.scope].push(this);
-a.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var a=d.ui.ddmanager.droppables[this.options.scope],b=0;b<a.length;b++)a[b]==this&&a.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(a,b){if(a=="accept")this.accept=d.isFunction(b)?b:function(c){return c.is(b)};d.Widget.prototype._setOption.apply(this,arguments)},_activate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&
-this.element.addClass(this.options.activeClass);b&&this._trigger("activate",a,this.ui(b))},_deactivate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);b&&this._trigger("deactivate",a,this.ui(b))},_over:function(a){var b=d.ui.ddmanager.current;if(!(!b||(b.currentItem||b.element)[0]==this.element[0]))if(this.accept.call(this.element[0],b.currentItem||b.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
-this._trigger("over",a,this.ui(b))}},_out:function(a){var b=d.ui.ddmanager.current;if(!(!b||(b.currentItem||b.element)[0]==this.element[0]))if(this.accept.call(this.element[0],b.currentItem||b.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",a,this.ui(b))}},_drop:function(a,b){var c=b||d.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return false;var e=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=
-d.data(this,"droppable");if(g.options.greedy&&!g.options.disabled&&g.options.scope==c.options.scope&&g.accept.call(g.element[0],c.currentItem||c.element)&&d.ui.intersect(c,d.extend(g,{offset:g.element.offset()}),g.options.tolerance)){e=true;return false}});if(e)return false;if(this.accept.call(this.element[0],c.currentItem||c.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",
-a,this.ui(c));return this.element}return false},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});d.extend(d.ui.droppable,{version:"1.8.2"});d.ui.intersect=function(a,b,c){if(!b.offset)return false;var e=(a.positionAbs||a.position.absolute).left,g=e+a.helperProportions.width,f=(a.positionAbs||a.position.absolute).top,h=f+a.helperProportions.height,i=b.offset.left,k=i+b.proportions.width,j=b.offset.top,l=j+b.proportions.height;
-switch(c){case "fit":return i<e&&g<k&&j<f&&h<l;case "intersect":return i<e+a.helperProportions.width/2&&g-a.helperProportions.width/2<k&&j<f+a.helperProportions.height/2&&h-a.helperProportions.height/2<l;case "pointer":return d.ui.isOver((a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,j,i,b.proportions.height,b.proportions.width);case "touch":return(f>=j&&f<=l||h>=j&&h<=l||f<j&&h>l)&&(e>=i&&
-e<=k||g>=i&&g<=k||e<i&&g>k);default:return false}};d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,b){var c=d.ui.ddmanager.droppables[a.options.scope]||[],e=b?b.type:null,g=(a.currentItem||a.element).find(":data(droppable)").andSelf(),f=0;a:for(;f<c.length;f++)if(!(c[f].options.disabled||a&&!c[f].accept.call(c[f].element[0],a.currentItem||a.element))){for(var h=0;h<g.length;h++)if(g[h]==c[f].element[0]){c[f].proportions.height=0;continue a}c[f].visible=c[f].element.css("display")!=
-"none";if(c[f].visible){c[f].offset=c[f].element.offset();c[f].proportions={width:c[f].element[0].offsetWidth,height:c[f].element[0].offsetHeight};e=="mousedown"&&c[f]._activate.call(c[f],b)}}},drop:function(a,b){var c=false;d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&d.ui.intersect(a,this,this.options.tolerance))c=c||this._drop.call(this,b);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||
-a.element)){this.isout=1;this.isover=0;this._deactivate.call(this,b)}}});return c},drag:function(a,b){a.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(a,b);d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var c=d.ui.intersect(a,this,this.options.tolerance);if(c=!c&&this.isover==1?"isout":c&&this.isover==0?"isover":null){var e;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");if(g.length){e=
-d.data(g[0],"droppable");e.greedyChild=c=="isover"?1:0}}if(e&&c=="isover"){e.isover=0;e.isout=1;e._out.call(e,b)}this[c]=1;this[c=="isout"?"isover":"isout"]=0;this[c=="isover"?"_over":"_out"].call(this,b);if(e&&c=="isout"){e.isout=0;e.isover=1;e._over.call(e,b)}}}})}}})(jQuery);
-;/*
- * jQuery UI Resizable 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Resizables
- *
- * Depends:
- *	jquery.ui.core.js
- *	jquery.ui.mouse.js
- *	jquery.ui.widget.js
- */
-(function(d){d.widget("ui.resizable",d.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var b=this,a=this.options;this.element.addClass("ui-resizable");d.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,
-_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){/relative/.test(this.element.css("position"))&&d.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"});this.element.wrap(d('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),
-top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=
-this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=a.handles||(!d(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",
-nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all")this.handles="n,e,s,w,se,sw,ne,nw";var c=this.handles.split(",");this.handles={};for(var e=0;e<c.length;e++){var g=d.trim(c[e]),f=d('<div class="ui-resizable-handle '+("ui-resizable-"+g)+'"></div>');/sw|se|ne|nw/.test(g)&&f.css({zIndex:++a.zIndex});"se"==g&&f.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[g]=".ui-resizable-"+g;this.element.append(f)}}this._renderAxis=function(h){h=h||this.element;for(var i in this.handles){if(this.handles[i].constructor==
-String)this.handles[i]=d(this.handles[i],this.element).show();if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var j=d(this.handles[i],this.element),l=0;l=/sw|ne|nw|se|n|s/.test(i)?j.outerHeight():j.outerWidth();j=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");h.css(j,l);this._proportionallyResize()}d(this.handles[i])}};this._renderAxis(this.element);this._handles=d(".ui-resizable-handle",this.element).disableSelection();
-this._handles.mouseover(function(){if(!b.resizing){if(this.className)var h=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=h&&h[1]?h[1]:"se"}});if(a.autoHide){this._handles.hide();d(this.element).addClass("ui-resizable-autohide").hover(function(){d(this).removeClass("ui-resizable-autohide");b._handles.show()},function(){if(!b.resizing){d(this).addClass("ui-resizable-autohide");b._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(c){d(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
-if(this.elementIsWrapper){b(this.element);var a=this.element;a.after(this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);b(this.originalElement);return this},_mouseCapture:function(b){var a=false;for(var c in this.handles)if(d(this.handles[c])[0]==b.target)a=true;return!this.options.disabled&&a},_mouseStart:function(b){var a=this.options,c=this.element.position(),
-e=this.element;this.resizing=true;this.documentScroll={top:d(document).scrollTop(),left:d(document).scrollLeft()};if(e.is(".ui-draggable")||/absolute/.test(e.css("position")))e.css({position:"absolute",top:c.top,left:c.left});d.browser.opera&&/relative/.test(e.css("position"))&&e.css({position:"relative",top:"auto",left:"auto"});this._renderProxy();c=m(this.helper.css("left"));var g=m(this.helper.css("top"));if(a.containment){c+=d(a.containment).scrollLeft()||0;g+=d(a.containment).scrollTop()||0}this.offset=
-this.helper.offset();this.position={left:c,top:g};this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalPosition={left:c,top:g};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio=typeof a.aspectRatio=="number"?a.aspectRatio:
-this.originalSize.width/this.originalSize.height||1;a=d(".ui-resizable-"+this.axis).css("cursor");d("body").css("cursor",a=="auto"?this.axis+"-resize":a);e.addClass("ui-resizable-resizing");this._propagate("start",b);return true},_mouseDrag:function(b){var a=this.helper,c=this.originalMousePosition,e=this._change[this.axis];if(!e)return false;c=e.apply(this,[b,b.pageX-c.left||0,b.pageY-c.top||0]);if(this._aspectRatio||b.shiftKey)c=this._updateRatio(c,b);c=this._respectSize(c,b);this._propagate("resize",
-b);a.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(c);this._trigger("resize",b,this.ui());return false},_mouseStop:function(b){this.resizing=false;var a=this.options,c=this;if(this._helper){var e=this._proportionallyResizeElements,g=e.length&&/textarea/i.test(e[0].nodeName);e=g&&d.ui.hasScroll(e[0],"left")?0:c.sizeDiff.height;
-g={width:c.size.width-(g?0:c.sizeDiff.width),height:c.size.height-e};e=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null;var f=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;a.animate||this.element.css(d.extend(g,{top:f,left:e}));c.helper.height(c.size.height);c.helper.width(c.size.width);this._helper&&!a.animate&&this._proportionallyResize()}d("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",
-b);this._helper&&this.helper.remove();return false},_updateCache:function(b){this.offset=this.helper.offset();if(k(b.left))this.position.left=b.left;if(k(b.top))this.position.top=b.top;if(k(b.height))this.size.height=b.height;if(k(b.width))this.size.width=b.width},_updateRatio:function(b){var a=this.position,c=this.size,e=this.axis;if(b.height)b.width=c.height*this.aspectRatio;else if(b.width)b.height=c.width/this.aspectRatio;if(e=="sw"){b.left=a.left+(c.width-b.width);b.top=null}if(e=="nw"){b.top=
-a.top+(c.height-b.height);b.left=a.left+(c.width-b.width)}return b},_respectSize:function(b){var a=this.options,c=this.axis,e=k(b.width)&&a.maxWidth&&a.maxWidth<b.width,g=k(b.height)&&a.maxHeight&&a.maxHeight<b.height,f=k(b.width)&&a.minWidth&&a.minWidth>b.width,h=k(b.height)&&a.minHeight&&a.minHeight>b.height;if(f)b.width=a.minWidth;if(h)b.height=a.minHeight;if(e)b.width=a.maxWidth;if(g)b.height=a.maxHeight;var i=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,
-l=/sw|nw|w/.test(c);c=/nw|ne|n/.test(c);if(f&&l)b.left=i-a.minWidth;if(e&&l)b.left=i-a.maxWidth;if(h&&c)b.top=j-a.minHeight;if(g&&c)b.top=j-a.maxHeight;if((a=!b.width&&!b.height)&&!b.left&&b.top)b.top=null;else if(a&&!b.top&&b.left)b.left=null;return b},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b=this.helper||this.element,a=0;a<this._proportionallyResizeElements.length;a++){var c=this._proportionallyResizeElements[a];if(!this.borderDif){var e=[c.css("borderTopWidth"),
-c.css("borderRightWidth"),c.css("borderBottomWidth"),c.css("borderLeftWidth")],g=[c.css("paddingTop"),c.css("paddingRight"),c.css("paddingBottom"),c.css("paddingLeft")];this.borderDif=d.map(e,function(f,h){f=parseInt(f,10)||0;h=parseInt(g[h],10)||0;return f+h})}d.browser.msie&&(d(b).is(":hidden")||d(b).parents(":hidden").length)||c.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.options;this.elementOffset=
-this.element.offset();if(this._helper){this.helper=this.helper||d('<div style="overflow:hidden;"></div>');var a=d.browser.msie&&d.browser.version<7,c=a?1:0;a=a?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+a,height:this.element.outerHeight()+a,position:"absolute",left:this.elementOffset.left-c+"px",top:this.elementOffset.top-c+"px",zIndex:++b.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(b,a){return{width:this.originalSize.width+
-a}},w:function(b,a){return{left:this.originalPosition.left+a,width:this.originalSize.width-a}},n:function(b,a,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(b,a,c){return{height:this.originalSize.height+c}},se:function(b,a,c){return d.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,a,c]))},sw:function(b,a,c){return d.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,a,c]))},ne:function(b,a,c){return d.extend(this._change.n.apply(this,
-arguments),this._change.e.apply(this,[b,a,c]))},nw:function(b,a,c){return d.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,a,c]))}},_propagate:function(b,a){d.ui.plugin.call(this,b,[a,this.ui()]);b!="resize"&&this._trigger(b,a,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});d.extend(d.ui.resizable,
-{version:"1.8.2"});d.ui.plugin.add("resizable","alsoResize",{start:function(){var b=d(this).data("resizable").options,a=function(c){d(c).each(function(){d(this).data("resizable-alsoresize",{width:parseInt(d(this).width(),10),height:parseInt(d(this).height(),10),left:parseInt(d(this).css("left"),10),top:parseInt(d(this).css("top"),10)})})};if(typeof b.alsoResize=="object"&&!b.alsoResize.parentNode)if(b.alsoResize.length){b.alsoResize=b.alsoResize[0];a(b.alsoResize)}else d.each(b.alsoResize,function(c){a(c)});
-else a(b.alsoResize)},resize:function(){var b=d(this).data("resizable"),a=b.options,c=b.originalSize,e=b.originalPosition,g={height:b.size.height-c.height||0,width:b.size.width-c.width||0,top:b.position.top-e.top||0,left:b.position.left-e.left||0},f=function(h,i){d(h).each(function(){var j=d(this),l=d(this).data("resizable-alsoresize"),p={};d.each((i&&i.length?i:["width","height","top","left"])||["width","height","top","left"],function(n,o){if((n=(l[o]||0)+(g[o]||0))&&n>=0)p[o]=n||null});if(/relative/.test(j.css("position"))&&
-d.browser.opera){b._revertToRelativePosition=true;j.css({position:"absolute",top:"auto",left:"auto"})}j.css(p)})};typeof a.alsoResize=="object"&&!a.alsoResize.nodeType?d.each(a.alsoResize,function(h,i){f(h,i)}):f(a.alsoResize)},stop:function(){var b=d(this).data("resizable");if(b._revertToRelativePosition&&d.browser.opera){b._revertToRelativePosition=false;el.css({position:"relative"})}d(this).removeData("resizable-alsoresize-start")}});d.ui.plugin.add("resizable","animate",{stop:function(b){var a=
-d(this).data("resizable"),c=a.options,e=a._proportionallyResizeElements,g=e.length&&/textarea/i.test(e[0].nodeName),f=g&&d.ui.hasScroll(e[0],"left")?0:a.sizeDiff.height;g={width:a.size.width-(g?0:a.sizeDiff.width),height:a.size.height-f};f=parseInt(a.element.css("left"),10)+(a.position.left-a.originalPosition.left)||null;var h=parseInt(a.element.css("top"),10)+(a.position.top-a.originalPosition.top)||null;a.element.animate(d.extend(g,h&&f?{top:h,left:f}:{}),{duration:c.animateDuration,easing:c.animateEasing,
-step:function(){var i={width:parseInt(a.element.css("width"),10),height:parseInt(a.element.css("height"),10),top:parseInt(a.element.css("top"),10),left:parseInt(a.element.css("left"),10)};e&&e.length&&d(e[0]).css({width:i.width,height:i.height});a._updateCache(i);a._propagate("resize",b)}})}});d.ui.plugin.add("resizable","containment",{start:function(){var b=d(this).data("resizable"),a=b.element,c=b.options.containment;if(a=c instanceof d?c.get(0):/parent/.test(c)?a.parent().get(0):c){b.containerElement=
-d(a);if(/document/.test(c)||c==document){b.containerOffset={left:0,top:0};b.containerPosition={left:0,top:0};b.parentData={element:d(document),left:0,top:0,width:d(document).width(),height:d(document).height()||document.body.parentNode.scrollHeight}}else{var e=d(a),g=[];d(["Top","Right","Left","Bottom"]).each(function(i,j){g[i]=m(e.css("padding"+j))});b.containerOffset=e.offset();b.containerPosition=e.position();b.containerSize={height:e.innerHeight()-g[3],width:e.innerWidth()-g[1]};c=b.containerOffset;
-var f=b.containerSize.height,h=b.containerSize.width;h=d.ui.hasScroll(a,"left")?a.scrollWidth:h;f=d.ui.hasScroll(a)?a.scrollHeight:f;b.parentData={element:a,left:c.left,top:c.top,width:h,height:f}}}},resize:function(b){var a=d(this).data("resizable"),c=a.options,e=a.containerOffset,g=a.position;b=a._aspectRatio||b.shiftKey;var f={top:0,left:0},h=a.containerElement;if(h[0]!=document&&/static/.test(h.css("position")))f=e;if(g.left<(a._helper?e.left:0)){a.size.width+=a._helper?a.position.left-e.left:
-a.position.left-f.left;if(b)a.size.height=a.size.width/c.aspectRatio;a.position.left=c.helper?e.left:0}if(g.top<(a._helper?e.top:0)){a.size.height+=a._helper?a.position.top-e.top:a.position.top;if(b)a.size.width=a.size.height*c.aspectRatio;a.position.top=a._helper?e.top:0}a.offset.left=a.parentData.left+a.position.left;a.offset.top=a.parentData.top+a.position.top;c=Math.abs((a._helper?a.offset.left-f.left:a.offset.left-f.left)+a.sizeDiff.width);e=Math.abs((a._helper?a.offset.top-f.top:a.offset.top-
-e.top)+a.sizeDiff.height);g=a.containerElement.get(0)==a.element.parent().get(0);f=/relative|absolute/.test(a.containerElement.css("position"));if(g&&f)c-=a.parentData.left;if(c+a.size.width>=a.parentData.width){a.size.width=a.parentData.width-c;if(b)a.size.height=a.size.width/a.aspectRatio}if(e+a.size.height>=a.parentData.height){a.size.height=a.parentData.height-e;if(b)a.size.width=a.size.height*a.aspectRatio}},stop:function(){var b=d(this).data("resizable"),a=b.options,c=b.containerOffset,e=b.containerPosition,
-g=b.containerElement,f=d(b.helper),h=f.offset(),i=f.outerWidth()-b.sizeDiff.width;f=f.outerHeight()-b.sizeDiff.height;b._helper&&!a.animate&&/relative/.test(g.css("position"))&&d(this).css({left:h.left-e.left-c.left,width:i,height:f});b._helper&&!a.animate&&/static/.test(g.css("position"))&&d(this).css({left:h.left-e.left-c.left,width:i,height:f})}});d.ui.plugin.add("resizable","ghost",{start:function(){var b=d(this).data("resizable"),a=b.options,c=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:0.25,
-display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof a.ghost=="string"?a.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=d(this).data("resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=d(this).data("resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});d.ui.plugin.add("resizable","grid",{resize:function(){var b=
-d(this).data("resizable"),a=b.options,c=b.size,e=b.originalSize,g=b.originalPosition,f=b.axis;a.grid=typeof a.grid=="number"?[a.grid,a.grid]:a.grid;var h=Math.round((c.width-e.width)/(a.grid[0]||1))*(a.grid[0]||1);a=Math.round((c.height-e.height)/(a.grid[1]||1))*(a.grid[1]||1);if(/^(se|s|e)$/.test(f)){b.size.width=e.width+h;b.size.height=e.height+a}else if(/^(ne)$/.test(f)){b.size.width=e.width+h;b.size.height=e.height+a;b.position.top=g.top-a}else{if(/^(sw)$/.test(f)){b.size.width=e.width+h;b.size.height=
-e.height+a}else{b.size.width=e.width+h;b.size.height=e.height+a;b.position.top=g.top-a}b.position.left=g.left-h}}});var m=function(b){return parseInt(b,10)||0},k=function(b){return!isNaN(parseInt(b,10))}})(jQuery);
-;
-/*
- * jQuery UI Selectable 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Selectables
- *
- * Depends:
- *	jquery.ui.core.js
- *	jquery.ui.mouse.js
- *	jquery.ui.widget.js
- */
-(function($) {
-
-$.widget("ui.selectable", $.ui.mouse, {
-	options: {
-		appendTo: 'body',
-		autoRefresh: true,
-		distance: 0,
-		filter: '*',
-		tolerance: 'touch'
-	},
-	_create: function() {
-		var self = this;
-
-		this.element.addClass("ui-selectable");
-
-		this.dragged = false;
-
-		// cache selectee children based on filter
-		var selectees;
-		this.refresh = function() {
-			selectees = $(self.options.filter, self.element[0]);
-			selectees.each(function() {
-				var $this = $(this);
-				var pos = $this.offset();
-				$.data(this, "selectable-item", {
-					element: this,
-					$element: $this,
-					left: pos.left,
-					top: pos.top,
-					right: pos.left + $this.outerWidth(),
-					bottom: pos.top + $this.outerHeight(),
-					startselected: false,
-					selected: $this.hasClass('ui-selected'),
-					selecting: $this.hasClass('ui-selecting'),
-					unselecting: $this.hasClass('ui-unselecting')
-				});
-			});
-		};
-		this.refresh();
-
-		this.selectees = selectees.addClass("ui-selectee");
-
-		this._mouseInit();
-
-		this.helper = $("<div class='ui-selectable-helper'></div>");
-	},
-
-	destroy: function() {
-		this.selectees
-			.removeClass("ui-selectee")
-			.removeData("selectable-item");
-		this.element
-			.removeClass("ui-selectable ui-selectable-disabled")
-			.removeData("selectable")
-			.unbind(".selectable");
-		this._mouseDestroy();
-
-		return this;
-	},
-
-	_mouseStart: function(event) {
-		var self = this;
-
-		this.opos = [event.pageX, event.pageY];
-
-		if (this.options.disabled)
-			return;
-
-		var options = this.options;
-
-		this.selectees = $(options.filter, this.element[0]);
-
-		this._trigger("start", event);
-
-		$(options.appendTo).append(this.helper);
-		// position helper (lasso)
-		this.helper.css({
-			"z-index": 100,
-			"position": "absolute",
-			"left": event.clientX,
-			"top": event.clientY,
-			"width": 0,
-			"height": 0
-		});
-
-		if (options.autoRefresh) {
-			this.refresh();
-		}
-
-		this.selectees.filter('.ui-selected').each(function() {
-			var selectee = $.data(this, "selectable-item");
-			selectee.startselected = true;
-			if (!event.metaKey) {
-				selectee.$element.removeClass('ui-selected');
-				selectee.selected = false;
-				selectee.$element.addClass('ui-unselecting');
-				selectee.unselecting = true;
-				// selectable UNSELECTING callback
-				self._trigger("unselecting", event, {
-					unselecting: selectee.element
-				});
-			}
-		});
-
-		$(event.target).parents().andSelf().each(function() {
-			var selectee = $.data(this, "selectable-item");
-			if (selectee) {
-				var doSelect = !event.metaKey || !selectee.$element.hasClass('ui-selected');
-				selectee.$element
-					.removeClass(doSelect ? "ui-unselecting" : "ui-selected")
-					.addClass(doSelect ? "ui-selecting" : "ui-unselecting");
-				selectee.unselecting = !doSelect;
-				selectee.selecting = doSelect;
-				selectee.selected = doSelect;
-				// selectable (UN)SELECTING callback
-				if (doSelect) {
-					self._trigger("selecting", event, {
-						selecting: selectee.element
-					});
-				} else {
-					self._trigger("unselecting", event, {
-						unselecting: selectee.element
-					});
-				}
-				return false;
-			}
-		});
-
-	},
-
-	_mouseDrag: function(event) {
-		var self = this;
-		this.dragged = true;
-
-		if (this.options.disabled)
-			return;
-
-		var options = this.options;
-
-		var x1 = this.opos[0], y1 = this.opos[1], x2 = event.pageX, y2 = event.pageY;
-		if (x1 > x2) { var tmp = x2; x2 = x1; x1 = tmp; }
-		if (y1 > y2) { var tmp = y2; y2 = y1; y1 = tmp; }
-		this.helper.css({left: x1, top: y1, width: x2-x1, height: y2-y1});
-
-		this.selectees.each(function() {
-			var selectee = $.data(this, "selectable-item");
-			//prevent helper from being selected if appendTo: selectable
-			if (!selectee || selectee.element == self.element[0])
-				return;
-			var hit = false;
-			if (options.tolerance == 'touch') {
-				hit = ( !(selectee.left > x2 || selectee.right < x1 || selectee.top > y2 || selectee.bottom < y1) );
-			} else if (options.tolerance == 'fit') {
-				hit = (selectee.left > x1 && selectee.right < x2 && selectee.top > y1 && selectee.bottom < y2);
-			}
-
-			if (hit) {
-				// SELECT
-				if (selectee.selected) {
-					selectee.$element.removeClass('ui-selected');
-					selectee.selected = false;
-				}
-				if (selectee.unselecting) {
-					selectee.$element.removeClass('ui-unselecting');
-					selectee.unselecting = false;
-				}
-				if (!selectee.selecting) {
-					selectee.$element.addClass('ui-selecting');
-					selectee.selecting = true;
-					// selectable SELECTING callback
-					self._trigger("selecting", event, {
-						selecting: selectee.element
-					});
-				}
-			} else {
-				// UNSELECT
-				if (selectee.selecting) {
-					if (event.metaKey && selectee.startselected) {
-						selectee.$element.removeClass('ui-selecting');
-						selectee.selecting = false;
-						selectee.$element.addClass('ui-selected');
-						selectee.selected = true;
-					} else {
-						selectee.$element.removeClass('ui-selecting');
-						selectee.selecting = false;
-						if (selectee.startselected) {
-							selectee.$element.addClass('ui-unselecting');
-							selectee.unselecting = true;
-						}
-						// selectable UNSELECTING callback
-						self._trigger("unselecting", event, {
-							unselecting: selectee.element
-						});
-					}
-				}
-				if (selectee.selected) {
-					if (!event.metaKey && !selectee.startselected) {
-						selectee.$element.removeClass('ui-selected');
-						selectee.selected = false;
-
-						selectee.$element.addClass('ui-unselecting');
-						selectee.unselecting = true;
-						// selectable UNSELECTING callback
-						self._trigger("unselecting", event, {
-							unselecting: selectee.element
-						});
-					}
-				}
-			}
-		});
-
-		return false;
-	},
-
-	_mouseStop: function(event) {
-		var self = this;
-
-		this.dragged = false;
-
-		var options = this.options;
-
-		$('.ui-unselecting', this.element[0]).each(function() {
-			var selectee = $.data(this, "selectable-item");
-			selectee.$element.removeClass('ui-unselecting');
-			selectee.unselecting = false;
-			selectee.startselected = false;
-			self._trigger("unselected", event, {
-				unselected: selectee.element
-			});
-		});
-		$('.ui-selecting', this.element[0]).each(function() {
-			var selectee = $.data(this, "selectable-item");
-			selectee.$element.removeClass('ui-selecting').addClass('ui-selected');
-			selectee.selecting = false;
-			selectee.selected = true;
-			selectee.startselected = true;
-			self._trigger("selected", event, {
-				selected: selectee.element
-			});
-		});
-		this._trigger("stop", event);
-
-		this.helper.remove();
-
-		return false;
-	}
-
-});
-
-$.extend($.ui.selectable, {
-	version: "1.8.2"
-});
-
-})(jQuery);
-(function(e){e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var c=this;this.element.addClass("ui-selectable");this.dragged=false;var f;this.refresh=function(){f=e(c.options.filter,c.element[0]);f.each(function(){var d=e(this),b=d.offset();e.data(this,"selectable-item",{element:this,$element:d,left:b.left,top:b.top,right:b.left+d.outerWidth(),bottom:b.top+d.outerHeight(),startselected:false,selected:d.hasClass("ui-selected"),
-selecting:d.hasClass("ui-selecting"),unselecting:d.hasClass("ui-unselecting")})})};this.refresh();this.selectees=f.addClass("ui-selectee");this._mouseInit();this.helper=e("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(c){var f=this;this.opos=[c.pageX,
-c.pageY];if(!this.options.disabled){var d=this.options;this.selectees=e(d.filter,this.element[0]);this._trigger("start",c);e(d.appendTo).append(this.helper);this.helper.css({"z-index":100,position:"absolute",left:c.clientX,top:c.clientY,width:0,height:0});d.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var b=e.data(this,"selectable-item");b.startselected=true;if(!c.metaKey){b.$element.removeClass("ui-selected");b.selected=false;b.$element.addClass("ui-unselecting");
-b.unselecting=true;f._trigger("unselecting",c,{unselecting:b.element})}});e(c.target).parents().andSelf().each(function(){var b=e.data(this,"selectable-item");if(b){var g=!c.metaKey||!b.$element.hasClass("ui-selected");b.$element.removeClass(g?"ui-unselecting":"ui-selected").addClass(g?"ui-selecting":"ui-unselecting");b.unselecting=!g;b.selecting=g;(b.selected=g)?f._trigger("selecting",c,{selecting:b.element}):f._trigger("unselecting",c,{unselecting:b.element});return false}})}},_mouseDrag:function(c){var f=
-this;this.dragged=true;if(!this.options.disabled){var d=this.options,b=this.opos[0],g=this.opos[1],h=c.pageX,i=c.pageY;if(b>h){var j=h;h=b;b=j}if(g>i){j=i;i=g;g=j}this.helper.css({left:b,top:g,width:h-b,height:i-g});this.selectees.each(function(){var a=e.data(this,"selectable-item");if(!(!a||a.element==f.element[0])){var k=false;if(d.tolerance=="touch")k=!(a.left>h||a.right<b||a.top>i||a.bottom<g);else if(d.tolerance=="fit")k=a.left>b&&a.right<h&&a.top>g&&a.bottom<i;if(k){if(a.selected){a.$element.removeClass("ui-selected");
-a.selected=false}if(a.unselecting){a.$element.removeClass("ui-unselecting");a.unselecting=false}if(!a.selecting){a.$element.addClass("ui-selecting");a.selecting=true;f._trigger("selecting",c,{selecting:a.element})}}else{if(a.selecting)if(c.metaKey&&a.startselected){a.$element.removeClass("ui-selecting");a.selecting=false;a.$element.addClass("ui-selected");a.selected=true}else{a.$element.removeClass("ui-selecting");a.selecting=false;if(a.startselected){a.$element.addClass("ui-unselecting");a.unselecting=
-true}f._trigger("unselecting",c,{unselecting:a.element})}if(a.selected)if(!c.metaKey&&!a.startselected){a.$element.removeClass("ui-selected");a.selected=false;a.$element.addClass("ui-unselecting");a.unselecting=true;f._trigger("unselecting",c,{unselecting:a.element})}}}});return false}},_mouseStop:function(c){var f=this;this.dragged=false;e(".ui-unselecting",this.element[0]).each(function(){var d=e.data(this,"selectable-item");d.$element.removeClass("ui-unselecting");d.unselecting=false;d.startselected=
-false;f._trigger("unselected",c,{unselected:d.element})});e(".ui-selecting",this.element[0]).each(function(){var d=e.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected");d.selecting=false;d.selected=true;d.startselected=true;f._trigger("selected",c,{selected:d.element})});this._trigger("stop",c);this.helper.remove();return false}});e.extend(e.ui.selectable,{version:"1.8.2"})})(jQuery);
-;/*
- * jQuery UI Sortable 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Sortables
- *
- * Depends:
- *	jquery.ui.core.js
- *	jquery.ui.mouse.js
- *	jquery.ui.widget.js
- */
-(function(d){d.widget("ui.sortable",d.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");
-this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData("sortable-item");return this},_setOption:function(a,b){if(a==="disabled"){this.options[a]=b;this.widget()[b?"addClass":"removeClass"]("ui-sortable-disabled")}else d.Widget.prototype._setOption.apply(this,
-arguments)},_mouseCapture:function(a,b){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(a);var c=null,e=this;d(a.target).parents().each(function(){if(d.data(this,"sortable-item")==e){c=d(this);return false}});if(d.data(a.target,"sortable-item")==e)c=d(a.target);if(!c)return false;if(this.options.handle&&!b){var f=false;d(this.options.handle,c).find("*").andSelf().each(function(){if(this==a.target)f=true});if(!f)return false}this.currentItem=
-c;this._removeCurrentsFromItems();return true},_mouseStart:function(a,b,c){b=this.options;var e=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(a);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");d.extend(this.offset,
-{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();b.containment&&this._setContainment();
-if(b.cursor){if(d("body").css("cursor"))this._storedCursor=d("body").css("cursor");d("body").css("cursor",b.cursor)}if(b.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",b.opacity)}if(b.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",b.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",
-a,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!c)for(c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("activate",a,e._uiHash(this));if(d.ui.ddmanager)d.ui.ddmanager.current=this;d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(a);return true},_mouseDrag:function(a){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");
-if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var b=this.options,c=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<b.scrollSensitivity)this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+b.scrollSpeed;else if(a.pageY-this.overflowOffset.top<b.scrollSensitivity)this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-b.scrollSpeed;if(this.overflowOffset.left+
-this.scrollParent[0].offsetWidth-a.pageX<b.scrollSensitivity)this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+b.scrollSpeed;else if(a.pageX-this.overflowOffset.left<b.scrollSensitivity)this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-b.scrollSpeed}else{if(a.pageY-d(document).scrollTop()<b.scrollSensitivity)c=d(document).scrollTop(d(document).scrollTop()-b.scrollSpeed);else if(d(window).height()-(a.pageY-d(document).scrollTop())<b.scrollSensitivity)c=d(document).scrollTop(d(document).scrollTop()+
-b.scrollSpeed);if(a.pageX-d(document).scrollLeft()<b.scrollSensitivity)c=d(document).scrollLeft(d(document).scrollLeft()-b.scrollSpeed);else if(d(window).width()-(a.pageX-d(document).scrollLeft())<b.scrollSensitivity)c=d(document).scrollLeft(d(document).scrollLeft()+b.scrollSpeed)}c!==false&&d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+
-"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(b=this.items.length-1;b>=0;b--){c=this.items[b];var e=c.item[0],f=this._intersectsWithPointer(c);if(f)if(e!=this.currentItem[0]&&this.placeholder[f==1?"next":"prev"]()[0]!=e&&!d.ui.contains(this.placeholder[0],e)&&(this.options.type=="semi-dynamic"?!d.ui.contains(this.element[0],e):true)){this.direction=f==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(c))this._rearrange(a,
-c);else break;this._trigger("change",a,this._uiHash());break}}this._contactContainers(a);d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);this._trigger("sort",a,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(a,b){if(a){d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,a);if(this.options.revert){var c=this;b=c.placeholder.offset();c.reverting=true;d(this.helper).animate({left:b.left-this.offset.parent.left-c.margins.left+(this.offsetParent[0]==
-document.body?0:this.offsetParent[0].scrollLeft),top:b.top-this.offset.parent.top-c.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){c._clear(a)})}else this._clear(a,b);return false}},cancel:function(){var a=this;if(this.dragging){this._mouseUp();this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--){this.containers[b]._trigger("deactivate",
-null,a._uiHash(this));if(this.containers[b].containerCache.over){this.containers[b]._trigger("out",null,a._uiHash(this));this.containers[b].containerCache.over=0}}}this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();d.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):
-d(this.domPosition.parent).prepend(this.currentItem);return this},serialize:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];a=a||{};d(b).each(function(){var e=(d(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[-=_](.+)/);if(e)c.push((a.key||e[1]+"[]")+"="+(a.key&&a.expression?e[1]:e[2]))});return c.join("&")},toArray:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];a=a||{};b.each(function(){c.push(d(a.item||this).attr(a.attribute||"id")||"")});return c},
-_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,e=this.positionAbs.top,f=e+this.helperProportions.height,g=a.left,h=g+a.width,i=a.top,k=i+a.height,j=this.offset.click.top,l=this.offset.click.left;j=e+j>i&&e+j<k&&b+l>g&&b+l<h;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?j:g<b+this.helperProportions.width/
-2&&c-this.helperProportions.width/2<h&&i<e+this.helperProportions.height/2&&f-this.helperProportions.height/2<k},_intersectsWithPointer:function(a){var b=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height);a=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width);b=b&&a;a=this._getDragVerticalDirection();var c=this._getDragHorizontalDirection();if(!b)return false;return this.floating?c&&c=="right"||a=="down"?2:1:a&&(a=="down"?2:1)},_intersectsWithSides:function(a){var b=
-d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var c=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?e=="right"&&a||e=="left"&&!a:c&&(c=="down"&&b||c=="up"&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=
-this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){var b=[],c=[],e=this._connectWith();if(e&&a)for(a=e.length-1;a>=0;a--)for(var f=d(e[a]),g=f.length-1;g>=0;g--){var h=d.data(f[g],"sortable");if(h&&h!=this&&!h.options.disabled)c.push([d.isFunction(h.options.items)?
-h.options.items.call(h.element):d(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}c.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(a=c.length-1;a>=0;a--)c[a][0].each(function(){b.push(this)});return d(b)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data(sortable-item)"),
-b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(a){this.items=[];this.containers=[this];var b=this.items,c=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):d(this.options.items,this.element),this]],e=this._connectWith();if(e)for(var f=e.length-1;f>=0;f--)for(var g=d(e[f]),h=g.length-1;h>=0;h--){var i=d.data(g[h],"sortable");if(i&&i!=this&&!i.options.disabled){c.push([d.isFunction(i.options.items)?
-i.options.items.call(i.element[0],a,{item:this.currentItem}):d(i.options.items,i.element),i]);this.containers.push(i)}}for(f=c.length-1;f>=0;f--){a=c[f][1];e=c[f][0];h=0;for(g=e.length;h<g;h++){i=d(e[h]);i.data("sortable-item",a);b.push({item:i,instance:a,width:0,height:0,left:0,top:0})}}},refreshPositions:function(a){if(this.offsetParent&&this.helper)this.offset.parent=this._getParentOffset();for(var b=this.items.length-1;b>=0;b--){var c=this.items[b],e=this.options.toleranceElement?d(this.options.toleranceElement,
-c.item):c.item;if(!a){c.width=e.outerWidth();c.height=e.outerHeight()}e=e.offset();c.left=e.left;c.top=e.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(b=this.containers.length-1;b>=0;b--){e=this.containers[b].element.offset();this.containers[b].containerCache.left=e.left;this.containers[b].containerCache.top=e.top;this.containers[b].containerCache.width=this.containers[b].element.outerWidth();this.containers[b].containerCache.height=
-this.containers[b].element.outerHeight()}return this},_createPlaceholder:function(a){var b=a||this,c=b.options;if(!c.placeholder||c.placeholder.constructor==String){var e=c.placeholder;c.placeholder={element:function(){var f=d(document.createElement(b.currentItem[0].nodeName)).addClass(e||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!e)f.style.visibility="hidden";return f},update:function(f,g){if(!(e&&!c.forcePlaceholderSize)){g.height()||g.height(b.currentItem.innerHeight()-
-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10));g.width()||g.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}}}}b.placeholder=d(c.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);c.placeholder.update(b,b.placeholder)},_contactContainers:function(a){for(var b=null,c=null,e=this.containers.length-1;e>=0;e--)if(!d.ui.contains(this.currentItem[0],
-this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(!(b&&d.ui.contains(this.containers[e].element[0],b.element[0]))){b=this.containers[e];c=e}}else if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",a,this._uiHash(this));this.containers[e].containerCache.over=0}if(b)if(this.containers.length===1){this.containers[c]._trigger("over",a,this._uiHash(this));this.containers[c].containerCache.over=1}else if(this.currentContainer!=this.containers[c]){b=
-1E4;e=null;for(var f=this.positionAbs[this.containers[c].floating?"left":"top"],g=this.items.length-1;g>=0;g--)if(d.ui.contains(this.containers[c].element[0],this.items[g].item[0])){var h=this.items[g][this.containers[c].floating?"left":"top"];if(Math.abs(h-f)<b){b=Math.abs(h-f);e=this.items[g]}}if(e||this.options.dropOnEmpty){this.currentContainer=this.containers[c];e?this._rearrange(a,e,null,true):this._rearrange(a,null,this.containers[c].element,true);this._trigger("change",a,this._uiHash());this.containers[c]._trigger("change",
-a,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[c]._trigger("over",a,this._uiHash(this));this.containers[c].containerCache.over=1}}},_createHelper:function(a){var b=this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a,this.currentItem])):b.helper=="clone"?this.currentItem.clone():this.currentItem;a.parents("body").length||d(b.appendTo!="parent"?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]);if(a[0]==
-this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(a[0].style.width==""||b.forceHelperSize)a.width(this.currentItem.width());if(a[0].style.height==""||b.forceHelperSize)a.height(this.currentItem.height());return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(d.isArray(a))a={left:+a[0],top:+a[1]||
-0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],
-this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-
-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;
-if(a.containment=="parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)){var b=
-d(a.containment)[0];a=d(a.containment).offset();var c=d(b).css("overflow")!="hidden";this.containment=[a.left+(parseInt(d(b).css("borderLeftWidth"),10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(d(b).css("borderTopWidth"),10)||0)+(parseInt(d(b).css("paddingTop"),10)||0)-this.margins.top,a.left+(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),10)||0)-(parseInt(d(b).css("paddingRight"),10)||0)-this.helperProportions.width-
-this.margins.left,a.top+(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,b){if(!b)b=this.position;a=a=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(c[0].tagName);return{top:b.top+
-this.offset.relative.top*a+this.offset.parent.top*a-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:c.scrollTop())*a),left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:c.scrollLeft())*a)}},_generatePosition:function(a){var b=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],
-this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(c[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var f=a.pageX,g=a.pageY;if(this.originalPosition){if(this.containment){if(a.pageX-this.offset.click.left<this.containment[0])f=this.containment[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<this.containment[1])g=this.containment[1]+this.offset.click.top;
-if(a.pageX-this.offset.click.left>this.containment[2])f=this.containment[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>this.containment[3])g=this.containment[3]+this.offset.click.top}if(b.grid){g=this.originalPageY+Math.round((g-this.originalPageY)/b.grid[1])*b.grid[1];g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-b.grid[1]:g+b.grid[1]:g;f=this.originalPageX+Math.round((f-
-this.originalPageX)/b.grid[0])*b.grid[0];f=this.containment?!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:!(f-this.offset.click.left<this.containment[0])?f-b.grid[0]:f+b.grid[0]:f}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:c.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+
-(d.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:c.scrollLeft())}},_rearrange:function(a,b,c,e){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var f=this,g=this.counter;window.setTimeout(function(){g==f.counter&&f.refreshPositions(!e)},0)},_clear:function(a,b){this.reverting=false;var c=[];!this._noFinalSort&&
-this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)if(this._storedCSS[e]=="auto"||this._storedCSS[e]=="static")this._storedCSS[e]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!b&&c.push(function(f){this._trigger("receive",f,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||
-this.domPosition.parent!=this.currentItem.parent()[0])&&!b)c.push(function(f){this._trigger("update",f,this._uiHash())});if(!d.ui.contains(this.element[0],this.currentItem[0])){b||c.push(function(f){this._trigger("remove",f,this._uiHash())});for(e=this.containers.length-1;e>=0;e--)if(d.ui.contains(this.containers[e].element[0],this.currentItem[0])&&!b){c.push(function(f){return function(g){f._trigger("receive",g,this._uiHash(this))}}.call(this,this.containers[e]));c.push(function(f){return function(g){f._trigger("update",
-g,this._uiHash(this))}}.call(this,this.containers[e]))}}for(e=this.containers.length-1;e>=0;e--){b||c.push(function(f){return function(g){f._trigger("deactivate",g,this._uiHash(this))}}.call(this,this.containers[e]));if(this.containers[e].containerCache.over){c.push(function(f){return function(g){f._trigger("out",g,this._uiHash(this))}}.call(this,this.containers[e]));this.containers[e].containerCache.over=0}}this._storedCursor&&d("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",
-this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",a,this._uiHash());for(e=0;e<c.length;e++)c[e].call(this,a);this._trigger("stop",a,this._uiHash())}return false}b||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!b){for(e=
-0;e<c.length;e++)c[e].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){d.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(a){var b=a||this;return{helper:b.helper,placeholder:b.placeholder||d([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:a?a.element:null}}});d.extend(d.ui.sortable,{version:"1.8.2"})})(jQuery);
-;/*
- * jQuery UI Accordion 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Accordion
- *
- * Depends:
- *	jquery.ui.core.js
- *	jquery.ui.widget.js
- */
-(function(c){c.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:true,clearStyle:false,collapsible:false,event:"click",fillSpace:false,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:false,navigationFilter:function(){return this.href.toLowerCase()==location.href.toLowerCase()}},_create:function(){var a=this.options,b=this;this.running=0;this.element.addClass("ui-accordion ui-widget ui-helper-reset");
-this.element.children("li").addClass("ui-accordion-li-fix");this.headers=this.element.find(a.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){c(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){c(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){c(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){c(this).removeClass("ui-state-focus")});this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");
-if(a.navigation){var d=this.element.find("a").filter(a.navigationFilter);if(d.length){var f=d.closest(".ui-accordion-header");this.active=f.length?f:d.closest(".ui-accordion-content").prev()}}this.active=this._findActive(this.active||a.active).toggleClass("ui-state-default").toggleClass("ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");this.active.next().addClass("ui-accordion-content-active");this._createIcons();this.resize();this.element.attr("role","tablist");this.headers.attr("role",
-"tab").bind("keydown",function(g){return b._keydown(g)}).next().attr("role","tabpanel");this.headers.not(this.active||"").attr("aria-expanded","false").attr("tabIndex","-1").next().hide();this.active.length?this.active.attr("aria-expanded","true").attr("tabIndex","0"):this.headers.eq(0).attr("tabIndex","0");c.browser.safari||this.headers.find("a").attr("tabIndex","-1");a.event&&this.headers.bind(a.event+".accordion",function(g){b._clickHandler.call(b,g,this);g.preventDefault()})},_createIcons:function(){var a=
-this.options;if(a.icons){c("<span/>").addClass("ui-icon "+a.icons.header).prependTo(this.headers);this.active.find(".ui-icon").toggleClass(a.icons.header).toggleClass(a.icons.headerSelected);this.element.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var a=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role").unbind(".accordion").removeData("accordion");
-this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabIndex");this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var b=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active");if(a.autoHeight||a.fillHeight)b.css("height",
-"");return this},_setOption:function(a,b){c.Widget.prototype._setOption.apply(this,arguments);a=="active"&&this.activate(b);if(a=="icons"){this._destroyIcons();b&&this._createIcons()}},_keydown:function(a){var b=c.ui.keyCode;if(!(this.options.disabled||a.altKey||a.ctrlKey)){var d=this.headers.length,f=this.headers.index(a.target),g=false;switch(a.keyCode){case b.RIGHT:case b.DOWN:g=this.headers[(f+1)%d];break;case b.LEFT:case b.UP:g=this.headers[(f-1+d)%d];break;case b.SPACE:case b.ENTER:this._clickHandler({target:a.target},
-a.target);a.preventDefault()}if(g){c(a.target).attr("tabIndex","-1");c(g).attr("tabIndex","0");g.focus();return false}return true}},resize:function(){var a=this.options,b;if(a.fillSpace){if(c.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}b=this.element.parent().height();c.browser.msie&&this.element.parent().css("overflow",d);this.headers.each(function(){b-=c(this).outerHeight(true)});this.headers.next().each(function(){c(this).height(Math.max(0,
-b-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")}else if(a.autoHeight){b=0;this.headers.next().each(function(){b=Math.max(b,c(this).height())}).height(b)}return this},activate:function(a){this.options.active=a;a=this._findActive(a)[0];this._clickHandler({target:a},a);return this},_findActive:function(a){return a?typeof a=="number"?this.headers.filter(":eq("+a+")"):this.headers.not(this.headers.not(a)):a===false?c([]):this.headers.filter(":eq(0)")},_clickHandler:function(a,b){var d=
-this.options;if(!d.disabled)if(a.target){a=c(a.currentTarget||b);b=a[0]==this.active[0];d.active=d.collapsible&&b?false:c(".ui-accordion-header",this.element).index(a);if(!(this.running||!d.collapsible&&b)){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").find(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header);if(!b){a.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").find(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected);
-a.next().addClass("ui-accordion-content-active")}e=a.next();f=this.active.next();g={options:d,newHeader:b&&d.collapsible?c([]):a,oldHeader:this.active,newContent:b&&d.collapsible?c([]):e,oldContent:f};d=this.headers.index(this.active[0])>this.headers.index(a[0]);this.active=b?c([]):a;this._toggle(e,f,g,b,d)}}else if(d.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").find(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header);
-this.active.next().addClass("ui-accordion-content-active");var f=this.active.next(),g={options:d,newHeader:c([]),oldHeader:d.active,newContent:c([]),oldContent:f},e=this.active=c([]);this._toggle(e,f,g)}},_toggle:function(a,b,d,f,g){var e=this.options,k=this;this.toShow=a;this.toHide=b;this.data=d;var i=function(){if(k)return k._completed.apply(k,arguments)};this._trigger("changestart",null,this.data);this.running=b.size()===0?a.size():b.size();if(e.animated){d={};d=e.collapsible&&f?{toShow:c([]),
-toHide:b,complete:i,down:g,autoHeight:e.autoHeight||e.fillSpace}:{toShow:a,toHide:b,complete:i,down:g,autoHeight:e.autoHeight||e.fillSpace};if(!e.proxied)e.proxied=e.animated;if(!e.proxiedDuration)e.proxiedDuration=e.duration;e.animated=c.isFunction(e.proxied)?e.proxied(d):e.proxied;e.duration=c.isFunction(e.proxiedDuration)?e.proxiedDuration(d):e.proxiedDuration;f=c.ui.accordion.animations;var h=e.duration,j=e.animated;if(j&&!f[j]&&!c.easing[j])j="slide";f[j]||(f[j]=function(l){this.slide(l,{easing:j,
-duration:h||700})});f[j](d)}else{if(e.collapsible&&f)a.toggle();else{b.hide();a.show()}i(true)}b.prev().attr("aria-expanded","false").attr("tabIndex","-1").blur();a.prev().attr("aria-expanded","true").attr("tabIndex","0").focus()},_completed:function(a){var b=this.options;this.running=a?0:--this.running;if(!this.running){b.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""});this.toHide.removeClass("ui-accordion-content-active");this._trigger("change",null,this.data)}}});c.extend(c.ui.accordion,
-{version:"1.8.2",animations:{slide:function(a,b){a=c.extend({easing:"swing",duration:300},a,b);if(a.toHide.size())if(a.toShow.size()){var d=a.toShow.css("overflow"),f=0,g={},e={},k;b=a.toShow;k=b[0].style.width;b.width(parseInt(b.parent().width(),10)-parseInt(b.css("paddingLeft"),10)-parseInt(b.css("paddingRight"),10)-(parseInt(b.css("borderLeftWidth"),10)||0)-(parseInt(b.css("borderRightWidth"),10)||0));c.each(["height","paddingTop","paddingBottom"],function(i,h){e[h]="hide";i=(""+c.css(a.toShow[0],
-h)).match(/^([\d+-.]+)(.*)$/);g[h]={value:i[1],unit:i[2]||"px"}});a.toShow.css({height:0,overflow:"hidden"}).show();a.toHide.filter(":hidden").each(a.complete).end().filter(":visible").animate(e,{step:function(i,h){if(h.prop=="height")f=h.end-h.start===0?0:(h.now-h.start)/(h.end-h.start);a.toShow[0].style[h.prop]=f*g[h.prop].value+g[h.prop].unit},duration:a.duration,easing:a.easing,complete:function(){a.autoHeight||a.toShow.css("height","");a.toShow.css("width",k);a.toShow.css({overflow:d});a.complete()}})}else a.toHide.animate({height:"hide"},
-a);else a.toShow.animate({height:"show"},a)},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1E3:200})}}})})(jQuery);
-;/*
- * jQuery UI Autocomplete 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Autocomplete
- *
- * Depends:
- *	jquery.ui.core.js
- *	jquery.ui.widget.js
- *	jquery.ui.position.js
- */
-(function(e){e.widget("ui.autocomplete",{options:{minLength:1,delay:300},_create:function(){var a=this,c=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(d){var b=e.ui.keyCode;switch(d.keyCode){case b.PAGE_UP:a._move("previousPage",d);break;case b.PAGE_DOWN:a._move("nextPage",d);break;case b.UP:a._move("previous",d);d.preventDefault();
-break;case b.DOWN:a._move("next",d);d.preventDefault();break;case b.ENTER:case b.NUMPAD_ENTER:a.menu.active&&d.preventDefault();case b.TAB:if(!a.menu.active)return;a.menu.select(d);break;case b.ESCAPE:a.element.val(a.term);a.close(d);break;case b.LEFT:case b.RIGHT:case b.SHIFT:case b.CONTROL:case b.ALT:case b.COMMAND:case b.COMMAND_RIGHT:case b.INSERT:case b.CAPS_LOCK:case b.END:case b.HOME:break;default:clearTimeout(a.searching);a.searching=setTimeout(function(){a.search(null,d)},a.options.delay);
-break}}).bind("focus.autocomplete",function(){a.selectedItem=null;a.previous=a.element.val()}).bind("blur.autocomplete",function(d){clearTimeout(a.searching);a.closing=setTimeout(function(){a.close(d);a._change(d)},150)});this._initSource();this.response=function(){return a._response.apply(a,arguments)};this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo("body",c).mousedown(function(){setTimeout(function(){clearTimeout(a.closing)},13)}).menu({focus:function(d,b){b=b.item.data("item.autocomplete");
-false!==a._trigger("focus",null,{item:b})&&/^key/.test(d.originalEvent.type)&&a.element.val(b.value)},selected:function(d,b){b=b.item.data("item.autocomplete");false!==a._trigger("select",d,{item:b})&&a.element.val(b.value);a.close(d);d=a.previous;if(a.element[0]!==c.activeElement){a.element.focus();a.previous=d}a.selectedItem=b},blur:function(){a.menu.element.is(":visible")&&a.element.val(a.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");e.fn.bgiframe&&this.menu.element.bgiframe()},
-destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();e.Widget.prototype.destroy.call(this)},_setOption:function(a){e.Widget.prototype._setOption.apply(this,arguments);a==="source"&&this._initSource()},_initSource:function(){var a,c;if(e.isArray(this.options.source)){a=this.options.source;this.source=function(d,b){b(e.ui.autocomplete.filter(a,d.term))}}else if(typeof this.options.source===
-"string"){c=this.options.source;this.source=function(d,b){e.getJSON(c,d,b)}}else this.source=this.options.source},search:function(a,c){a=a!=null?a:this.element.val();if(a.length<this.options.minLength)return this.close(c);clearTimeout(this.closing);if(this._trigger("search")!==false)return this._search(a)},_search:function(a){this.term=this.element.addClass("ui-autocomplete-loading").val();this.source({term:a},this.response)},_response:function(a){if(a.length){a=this._normalize(a);this._suggest(a);
-this._trigger("open")}else this.close();this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this._trigger("close",a);this.menu.element.hide();this.menu.deactivate()}},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){if(a.length&&a[0].label&&a[0].value)return a;return e.map(a,function(c){if(typeof c==="string")return{label:c,value:c};return e.extend({label:c.label||
-c.value,value:c.value||c.label},c)})},_suggest:function(a){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1),d;this._renderMenu(c,a);this.menu.deactivate();this.menu.refresh();this.menu.element.show().position({my:"left top",at:"left bottom",of:this.element,collision:"none"});a=c.width("").width();d=this.element.width();c.width(Math.max(a,d))},_renderMenu:function(a,c){var d=this;e.each(c,function(b,f){d._renderItem(a,f)})},_renderItem:function(a,c){return e("<li></li>").data("item.autocomplete",
-c).append("<a>"+c.label+"</a>").appendTo(a)},_move:function(a,c){if(this.menu.element.is(":visible"))if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term);this.menu.deactivate()}else this.menu[a](c);else this.search(null,c)},widget:function(){return this.menu.element}});e.extend(e.ui.autocomplete,{escapeRegex:function(a){return a.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")},filter:function(a,c){var d=new RegExp(e.ui.autocomplete.escapeRegex(c),
-"i");return e.grep(a,function(b){return d.test(b.label||b.value||b)})}})})(jQuery);
-(function(e){e.widget("ui.menu",{_create:function(){var a=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(e(c.target).closest(".ui-menu-item a").length){c.preventDefault();a.select(c)}});this.refresh()},refresh:function(){var a=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",
--1).mouseenter(function(c){a.activate(c,e(this).parent())}).mouseleave(function(){a.deactivate()})},activate:function(a,c){this.deactivate();if(this.hasScroll()){var d=c.offset().top-this.element.offset().top,b=this.element.attr("scrollTop"),f=this.element.height();if(d<0)this.element.attr("scrollTop",b+d);else d>f&&this.element.attr("scrollTop",b+d-f+c.height())}this.active=c.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",a,{item:c})},deactivate:function(){if(this.active){this.active.children("a").removeClass("ui-state-hover").removeAttr("id");
-this._trigger("blur");this.active=null}},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prev().length},last:function(){return this.active&&!this.active.next().length},move:function(a,c,d){if(this.active){a=this.active[a+"All"](".ui-menu-item").eq(0);a.length?this.activate(d,a):this.activate(d,this.element.children(c))}else this.activate(d,this.element.children(c))},nextPage:function(a){if(this.hasScroll())if(!this.active||
-this.last())this.activate(a,this.element.children(":first"));else{var c=this.active.offset().top,d=this.element.height(),b=this.element.children("li").filter(function(){var f=e(this).offset().top-c-d+e(this).height();return f<10&&f>-10});b.length||(b=this.element.children(":last"));this.activate(a,b)}else this.activate(a,this.element.children(!this.active||this.last()?":first":":last"))},previousPage:function(a){if(this.hasScroll())if(!this.active||this.first())this.activate(a,this.element.children(":last"));
-else{var c=this.active.offset().top,d=this.element.height();result=this.element.children("li").filter(function(){var b=e(this).offset().top-c+d-e(this).height();return b<10&&b>-10});result.length||(result=this.element.children(":first"));this.activate(a,result)}else this.activate(a,this.element.children(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})})(jQuery);
-;/*
- * jQuery UI Button 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Button
- *
- * Depends:
- *	jquery.ui.core.js
- *	jquery.ui.widget.js
- */
-(function(a){var g,i=function(b){a(":ui-button",b.target.form).each(function(){var c=a(this).data("button");setTimeout(function(){c.refresh()},1)})},h=function(b){var c=b.name,d=b.form,e=a([]);if(c)e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form});return e};a.widget("ui.button",{options:{text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",i);this._determineButtonType();
-this.hasTitle=!!this.buttonElement.attr("title");var b=this,c=this.options,d=this.type==="checkbox"||this.type==="radio",e="ui-state-hover"+(!d?" ui-state-active":"");if(c.label===null)c.label=this.buttonElement.html();if(this.element.is(":disabled"))c.disabled=true;this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){if(!c.disabled){a(this).addClass("ui-state-hover");this===g&&a(this).addClass("ui-state-active")}}).bind("mouseleave.button",
-function(){c.disabled||a(this).removeClass(e)}).bind("focus.button",function(){a(this).addClass("ui-state-focus")}).bind("blur.button",function(){a(this).removeClass("ui-state-focus")});d&&this.element.bind("change.button",function(){b.refresh()});if(this.type==="checkbox")this.buttonElement.bind("click.button",function(){if(c.disabled)return false;a(this).toggleClass("ui-state-active");b.buttonElement.attr("aria-pressed",b.element[0].checked)});else if(this.type==="radio")this.buttonElement.bind("click.button",
-function(){if(c.disabled)return false;a(this).addClass("ui-state-active");b.buttonElement.attr("aria-pressed",true);var f=b.element[0];h(f).not(f).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",false)});else{this.buttonElement.bind("mousedown.button",function(){if(c.disabled)return false;a(this).addClass("ui-state-active");g=this;a(document).one("mouseup",function(){g=null})}).bind("mouseup.button",function(){if(c.disabled)return false;a(this).removeClass("ui-state-active")}).bind("keydown.button",
-function(f){if(c.disabled)return false;if(f.keyCode==a.ui.keyCode.SPACE||f.keyCode==a.ui.keyCode.ENTER)a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")});this.buttonElement.is("a")&&this.buttonElement.keyup(function(f){f.keyCode===a.ui.keyCode.SPACE&&a(this).click()})}this._setOption("disabled",c.disabled)},_determineButtonType:function(){this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?
-"input":"button";if(this.type==="checkbox"||this.type==="radio"){this.buttonElement=this.element.parents().last().find("[for="+this.element.attr("id")+"]");this.element.addClass("ui-helper-hidden-accessible");var b=this.element.is(":checked");b&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",b)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
-this.hasTitle||this.buttonElement.removeAttr("title");a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);if(b==="disabled")c?this.element.attr("disabled",true):this.element.removeAttr("disabled");this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b);if(this.type==="radio")h(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
-true):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",false)});else if(this.type==="checkbox")this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",true):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",false)},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon ui-button-text-only"),
-c=a("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary;if(d.primary||d.secondary){b.addClass("ui-button-text-icon"+(e?"s":""));d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>");d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>");if(!this.options.text){b.addClass(e?"ui-button-icons-only":"ui-button-icon-only").removeClass("ui-button-text-icons ui-button-text-icon");
-this.hasTitle||b.attr("title",c)}}else b.addClass("ui-button-text-only")}}});a.widget("ui.buttonset",{_create:function(){this.element.addClass("ui-buttonset");this._init()},_init:function(){this.refresh()},_setOption:function(b,c){b==="disabled"&&this.buttons.button("option",b,c);a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(":button, :submit, :reset, :checkbox, :radio, a, :data(button)").filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},
-destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");a.Widget.prototype.destroy.call(this)}})})(jQuery);
-;/*
- * jQuery UI Dialog 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Dialog
- *
- * Depends:
- *	jquery.ui.core.js
- *	jquery.ui.widget.js
- *  jquery.ui.button.js
- *	jquery.ui.draggable.js
- *	jquery.ui.mouse.js
- *	jquery.ui.position.js
- *	jquery.ui.resizable.js
- */
-(function(c){c.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:"center",resizable:true,show:null,stack:true,title:"",width:300,zIndex:1E3},_create:function(){this.originalTitle=this.element.attr("title");var a=this,b=a.options,d=b.title||a.originalTitle||"&#160;",e=c.ui.dialog.getTitleId(a.element),g=(a.uiDialog=c("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+
-b.dialogClass).css({zIndex:b.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(i){if(b.closeOnEscape&&i.keyCode&&i.keyCode===c.ui.keyCode.ESCAPE){a.close(i);i.preventDefault()}}).attr({role:"dialog","aria-labelledby":e}).mousedown(function(i){a.moveToTop(false,i)});a.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g);var f=(a.uiDialogTitlebar=c("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g),
-h=c('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){h.addClass("ui-state-hover")},function(){h.removeClass("ui-state-hover")}).focus(function(){h.addClass("ui-state-focus")}).blur(function(){h.removeClass("ui-state-focus")}).click(function(i){a.close(i);return false}).appendTo(f);(a.uiDialogTitlebarCloseText=c("<span></span>")).addClass("ui-icon ui-icon-closethick").text(b.closeText).appendTo(h);c("<span></span>").addClass("ui-dialog-title").attr("id",
-e).html(d).prependTo(f);if(c.isFunction(b.beforeclose)&&!c.isFunction(b.beforeClose))b.beforeClose=b.beforeclose;f.find("*").add(f).disableSelection();b.draggable&&c.fn.draggable&&a._makeDraggable();b.resizable&&c.fn.resizable&&a._makeResizable();a._createButtons(b.buttons);a._isOpen=false;c.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;a.overlay&&a.overlay.destroy();a.uiDialog.hide();a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");
-a.uiDialog.remove();a.originalTitle&&a.element.attr("title",a.originalTitle);return a},widget:function(){return this.uiDialog},close:function(a){var b=this,d;if(false!==b._trigger("beforeClose",a)){b.overlay&&b.overlay.destroy();b.uiDialog.unbind("keypress.ui-dialog");b._isOpen=false;if(b.options.hide)b.uiDialog.hide(b.options.hide,function(){b._trigger("close",a)});else{b.uiDialog.hide();b._trigger("close",a)}c.ui.dialog.overlay.resize();if(b.options.modal){d=0;c(".ui-dialog").each(function(){if(this!==
-b.uiDialog[0])d=Math.max(d,c(this).css("z-index"))});c.ui.dialog.maxZ=d}return b}},isOpen:function(){return this._isOpen},moveToTop:function(a,b){var d=this,e=d.options;if(e.modal&&!a||!e.stack&&!e.modal)return d._trigger("focus",b);if(e.zIndex>c.ui.dialog.maxZ)c.ui.dialog.maxZ=e.zIndex;if(d.overlay){c.ui.dialog.maxZ+=1;d.overlay.$el.css("z-index",c.ui.dialog.overlay.maxZ=c.ui.dialog.maxZ)}a={scrollTop:d.element.attr("scrollTop"),scrollLeft:d.element.attr("scrollLeft")};c.ui.dialog.maxZ+=1;d.uiDialog.css("z-index",
-c.ui.dialog.maxZ);d.element.attr(a);d._trigger("focus",b);return d},open:function(){if(!this._isOpen){var a=this,b=a.options,d=a.uiDialog;a.overlay=b.modal?new c.ui.dialog.overlay(a):null;d.next().length&&d.appendTo("body");a._size();a._position(b.position);d.show(b.show);a.moveToTop(true);b.modal&&d.bind("keypress.ui-dialog",function(e){if(e.keyCode===c.ui.keyCode.TAB){var g=c(":tabbable",this),f=g.filter(":first");g=g.filter(":last");if(e.target===g[0]&&!e.shiftKey){f.focus(1);return false}else if(e.target===
-f[0]&&e.shiftKey){g.focus(1);return false}}});c([]).add(d.find(".ui-dialog-content :tabbable:first")).add(d.find(".ui-dialog-buttonpane :tabbable:first")).add(d).filter(":first").focus();a._trigger("open");a._isOpen=true;return a}},_createButtons:function(a){var b=this,d=false,e=c("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");b.uiDialog.find(".ui-dialog-buttonpane").remove();typeof a==="object"&&a!==null&&c.each(a,function(){return!(d=true)});if(d){c.each(a,
-function(g,f){g=c('<button type="button"></button>').text(g).click(function(){f.apply(b.element[0],arguments)}).appendTo(e);c.fn.button&&g.button()});e.appendTo(b.uiDialog)}},_makeDraggable:function(){function a(f){return{position:f.position,offset:f.offset}}var b=this,d=b.options,e=c(document),g;b.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(f,h){g=d.height==="auto"?"auto":c(this).height();c(this).height(c(this).height()).addClass("ui-dialog-dragging");
-b._trigger("dragStart",f,a(h))},drag:function(f,h){b._trigger("drag",f,a(h))},stop:function(f,h){d.position=[h.position.left-e.scrollLeft(),h.position.top-e.scrollTop()];c(this).removeClass("ui-dialog-dragging").height(g);b._trigger("dragStop",f,a(h));c.ui.dialog.overlay.resize()}})},_makeResizable:function(a){function b(f){return{originalPosition:f.originalPosition,originalSize:f.originalSize,position:f.position,size:f.size}}a=a===undefined?this.options.resizable:a;var d=this,e=d.options,g=d.uiDialog.css("position");
-a=typeof a==="string"?a:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:a,start:function(f,h){c(this).addClass("ui-dialog-resizing");d._trigger("resizeStart",f,b(h))},resize:function(f,h){d._trigger("resize",f,b(h))},stop:function(f,h){c(this).removeClass("ui-dialog-resizing");e.height=c(this).height();e.width=c(this).width();d._trigger("resizeStop",
-f,b(h));c.ui.dialog.overlay.resize()}}).css("position",g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(a){var b=[],d=[0,0];a=a||c.ui.dialog.prototype.options.position;if(typeof a==="string"||typeof a==="object"&&"0"in a){b=a.split?a.split(" "):[a[0],a[1]];if(b.length===1)b[1]=b[0];c.each(["left","top"],function(e,g){if(+b[e]===b[e]){d[e]=b[e];b[e]=
-g}})}else if(typeof a==="object"){if("left"in a){b[0]="left";d[0]=a.left}else if("right"in a){b[0]="right";d[0]=-a.right}if("top"in a){b[1]="top";d[1]=a.top}else if("bottom"in a){b[1]="bottom";d[1]=-a.bottom}}(a=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position({my:b.join(" "),at:b.join(" "),offset:d.join(" "),of:window,collision:"fit",using:function(e){var g=c(this).css(e).offset().top;g<0&&c(this).css("top",e.top-g)}});a||this.uiDialog.hide()},_setOption:function(a,
-b){var d=this,e=d.uiDialog,g=e.is(":data(resizable)"),f=false;switch(a){case "beforeclose":a="beforeClose";break;case "buttons":d._createButtons(b);break;case "closeText":d.uiDialogTitlebarCloseText.text(""+b);break;case "dialogClass":e.removeClass(d.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+b);break;case "disabled":b?e.addClass("ui-dialog-disabled"):e.removeClass("ui-dialog-disabled");break;case "draggable":b?d._makeDraggable():e.draggable("destroy");break;
-case "height":f=true;break;case "maxHeight":g&&e.resizable("option","maxHeight",b);f=true;break;case "maxWidth":g&&e.resizable("option","maxWidth",b);f=true;break;case "minHeight":g&&e.resizable("option","minHeight",b);f=true;break;case "minWidth":g&&e.resizable("option","minWidth",b);f=true;break;case "position":d._position(b);break;case "resizable":g&&!b&&e.resizable("destroy");g&&typeof b==="string"&&e.resizable("option","handles",b);!g&&b!==false&&d._makeResizable(b);break;case "title":c(".ui-dialog-title",
-d.uiDialogTitlebar).html(""+(b||"&#160;"));break;case "width":f=true;break}c.Widget.prototype._setOption.apply(d,arguments);f&&d._size()},_size:function(){var a=this.options,b;this.element.css({width:"auto",minHeight:0,height:0});b=this.uiDialog.css({height:"auto",width:a.width}).height();this.element.css(a.height==="auto"?{minHeight:Math.max(a.minHeight-b,0),height:"auto"}:{minHeight:0,height:Math.max(a.height-b,0)}).show();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",
-this._minHeight())}});c.extend(c.ui.dialog,{version:"1.8.2",uuid:0,maxZ:0,getTitleId:function(a){a=a.attr("id");if(!a){this.uuid+=1;a=this.uuid}return"ui-dialog-title-"+a},overlay:function(a){this.$el=c.ui.dialog.overlay.create(a)}});c.extend(c.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:c.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(a){if(this.instances.length===0){setTimeout(function(){c.ui.dialog.overlay.instances.length&&
-c(document).bind(c.ui.dialog.overlay.events,function(d){return c(d.target).zIndex()>=c.ui.dialog.overlay.maxZ})},1);c(document).bind("keydown.dialog-overlay",function(d){if(a.options.closeOnEscape&&d.keyCode&&d.keyCode===c.ui.keyCode.ESCAPE){a.close(d);d.preventDefault()}});c(window).bind("resize.dialog-overlay",c.ui.dialog.overlay.resize)}var b=(this.oldInstances.pop()||c("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});c.fn.bgiframe&&
-b.bgiframe();this.instances.push(b);return b},destroy:function(a){this.oldInstances.push(this.instances.splice(c.inArray(a,this.instances),1)[0]);this.instances.length===0&&c([document,window]).unbind(".dialog-overlay");a.remove();var b=0;c.each(this.instances,function(){b=Math.max(b,this.css("z-index"))});this.maxZ=b},height:function(){var a,b;if(c.browser.msie&&c.browser.version<7){a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);b=Math.max(document.documentElement.offsetHeight,
-document.body.offsetHeight);return a<b?c(window).height()+"px":a+"px"}else return c(document).height()+"px"},width:function(){var a,b;if(c.browser.msie&&c.browser.version<7){a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);b=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return a<b?c(window).width()+"px":a+"px"}else return c(document).width()+"px"},resize:function(){var a=c([]);c.each(c.ui.dialog.overlay.instances,function(){a=a.add(this)});a.css({width:0,
-height:0}).css({width:c.ui.dialog.overlay.width(),height:c.ui.dialog.overlay.height()})}});c.extend(c.ui.dialog.overlay.prototype,{destroy:function(){c.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);
-;/*
- * jQuery UI Slider 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Slider
- *
- * Depends:
- *	jquery.ui.core.js
- *	jquery.ui.mouse.js
- *	jquery.ui.widget.js
- */
-(function(d){d.widget("ui.slider",d.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var a=this,b=this.options;this._mouseSliding=this._keySliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");b.disabled&&this.element.addClass("ui-slider-disabled ui-disabled");
-this.range=d([]);if(b.range){if(b.range===true){this.range=d("<div></div>");if(!b.values)b.values=[this._valueMin(),this._valueMin()];if(b.values.length&&b.values.length!==2)b.values=[b.values[0],b.values[0]]}else this.range=d("<div></div>");this.range.appendTo(this.element).addClass("ui-slider-range");if(b.range==="min"||b.range==="max")this.range.addClass("ui-slider-range-"+b.range);this.range.addClass("ui-widget-header")}d(".ui-slider-handle",this.element).length===0&&d("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");
-if(b.values&&b.values.length)for(;d(".ui-slider-handle",this.element).length<b.values.length;)d("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=d(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(c){c.preventDefault()}).hover(function(){b.disabled||d(this).addClass("ui-state-hover")},function(){d(this).removeClass("ui-state-hover")}).focus(function(){if(b.disabled)d(this).blur();
-else{d(".ui-slider .ui-state-focus").removeClass("ui-state-focus");d(this).addClass("ui-state-focus")}}).blur(function(){d(this).removeClass("ui-state-focus")});this.handles.each(function(c){d(this).data("index.ui-slider-handle",c)});this.handles.keydown(function(c){var e=true,f=d(this).data("index.ui-slider-handle"),g,h,i;if(!a.options.disabled){switch(c.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:e=
-false;if(!a._keySliding){a._keySliding=true;d(this).addClass("ui-state-active");g=a._start(c,f);if(g===false)return}break}i=a.options.step;g=a.options.values&&a.options.values.length?(h=a.values(f)):(h=a.value());switch(c.keyCode){case d.ui.keyCode.HOME:h=a._valueMin();break;case d.ui.keyCode.END:h=a._valueMax();break;case d.ui.keyCode.PAGE_UP:h=a._trimAlignValue(g+(a._valueMax()-a._valueMin())/5);break;case d.ui.keyCode.PAGE_DOWN:h=a._trimAlignValue(g-(a._valueMax()-a._valueMin())/5);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(g===
-a._valueMax())return;h=a._trimAlignValue(g+i);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(g===a._valueMin())return;h=a._trimAlignValue(g-i);break}a._slide(c,f,h);return e}}).keyup(function(c){var e=d(this).data("index.ui-slider-handle");if(a._keySliding){a._keySliding=false;a._stop(c,e);a._change(c,e);d(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");
-this._mouseDestroy();return this},_mouseCapture:function(a){var b=this.options,c,e,f,g,h,i;if(b.disabled)return false;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();c={x:a.pageX,y:a.pageY};e=this._normValueFromMouse(c);f=this._valueMax()-this._valueMin()+1;h=this;this.handles.each(function(j){var k=Math.abs(e-h.values(j));if(f>k){f=k;g=d(this);i=j}});if(b.range===true&&this.values(1)===b.min){i+=1;g=d(this.handles[i])}if(this._start(a,
-i)===false)return false;this._mouseSliding=true;h._handleIndex=i;g.addClass("ui-state-active").focus();b=g.offset();this._clickOffset=!d(a.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:a.pageX-b.left-g.width()/2,top:a.pageY-b.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)};e=this._normValueFromMouse(c);this._slide(a,i,e);return this._animateOff=true},_mouseStart:function(){return true},
-_mouseDrag:function(a){var b=this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,b);return false},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b;
-if(this.orientation==="horizontal"){b=this.elementSize.width;a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{b=this.elementSize.height;a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}b=a/b;if(b>1)b=1;if(b<0)b=0;if(this.orientation==="vertical")b=1-b;a=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+b*a)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};if(this.options.values&&this.options.values.length){c.value=
-this.values(b);c.values=this.values()}return this._trigger("start",a,c)},_slide:function(a,b,c){var e;if(this.options.values&&this.options.values.length){e=this.values(b?0:1);if(this.options.values.length===2&&this.options.range===true&&(b===0&&c>e||b===1&&c<e))c=e;if(c!==this.values(b)){e=this.values();e[b]=c;a=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e});this.values(b?0:1);a!==false&&this.values(b,c,true)}}else if(c!==this.value()){a=this._trigger("slide",a,{handle:this.handles[b],
-value:c});a!==false&&this.value(c)}},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};if(this.options.values&&this.options.values.length){c.value=this.values(b);c.values=this.values()}this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};if(this.options.values&&this.options.values.length){c.value=this.values(b);c.values=this.values()}this._trigger("change",a,c)}},value:function(a){if(arguments.length){this.options.value=
-this._trimAlignValue(a);this._refreshValue();this._change(null,0)}return this._value()},values:function(a,b){var c,e,f;if(arguments.length>1){this.options.values[a]=this._trimAlignValue(b);this._refreshValue();this._change(null,a)}if(arguments.length)if(d.isArray(arguments[0])){c=this.options.values;e=arguments[0];for(f=0;f<c.length;f+=1){c[f]=this._trimAlignValue(e[f]);this._change(null,f)}this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(a):this.value();
-else return this._values()},_setOption:function(a,b){var c,e=0;if(d.isArray(this.options.values))e=this.options.values.length;d.Widget.prototype._setOption.apply(this,arguments);switch(a){case "disabled":if(b){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}break;case "orientation":this._detectOrientation();
-this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case "value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case "values":this._animateOff=true;this._refreshValue();for(c=0;c<e;c+=1)this._change(null,c);this._animateOff=false;break}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c;if(arguments.length){b=this.options.values[a];
-return b=this._trimAlignValue(b)}else{b=this.options.values.slice();for(c=0;c<b.length;c+=1)b[c]=this._trimAlignValue(b[c]);return b}},_trimAlignValue:function(a){if(a<this._valueMin())return this._valueMin();if(a>this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=a%b;a=a-c;if(Math.abs(c)*2>=b)a+=c>0?b:-b;return parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var a=
-this.options.range,b=this.options,c=this,e=!this._animateOff?b.animate:false,f,g={},h,i,j,k;if(this.options.values&&this.options.values.length)this.handles.each(function(l){f=(c.values(l)-c._valueMin())/(c._valueMax()-c._valueMin())*100;g[c.orientation==="horizontal"?"left":"bottom"]=f+"%";d(this).stop(1,1)[e?"animate":"css"](g,b.animate);if(c.options.range===true)if(c.orientation==="horizontal"){if(l===0)c.range.stop(1,1)[e?"animate":"css"]({left:f+"%"},b.animate);if(l===1)c.range[e?"animate":"css"]({width:f-
-h+"%"},{queue:false,duration:b.animate})}else{if(l===0)c.range.stop(1,1)[e?"animate":"css"]({bottom:f+"%"},b.animate);if(l===1)c.range[e?"animate":"css"]({height:f-h+"%"},{queue:false,duration:b.animate})}h=f});else{i=this.value();j=this._valueMin();k=this._valueMax();f=k!==j?(i-j)/(k-j)*100:0;g[c.orientation==="horizontal"?"left":"bottom"]=f+"%";this.handle.stop(1,1)[e?"animate":"css"](g,b.animate);if(a==="min"&&this.orientation==="horizontal")this.range.stop(1,1)[e?"animate":"css"]({width:f+"%"},
-b.animate);if(a==="max"&&this.orientation==="horizontal")this.range[e?"animate":"css"]({width:100-f+"%"},{queue:false,duration:b.animate});if(a==="min"&&this.orientation==="vertical")this.range.stop(1,1)[e?"animate":"css"]({height:f+"%"},b.animate);if(a==="max"&&this.orientation==="vertical")this.range[e?"animate":"css"]({height:100-f+"%"},{queue:false,duration:b.animate})}}});d.extend(d.ui.slider,{version:"1.8.2"})})(jQuery);
-;/*
- * jQuery UI Tabs 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Tabs
- *
- * Depends:
- *	jquery.ui.core.js
- *	jquery.ui.widget.js
- */
-(function(d){function s(){return++u}function v(){return++w}var u=0,w=0;d.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:false,cookie:null,collapsible:false,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'},_create:function(){this._tabify(true)},_setOption:function(c,e){if(c=="selected")this.options.collapsible&&
-e==this.options.selected||this.select(e);else{this.options[c]=e;this._tabify()}},_tabId:function(c){return c.title&&c.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+s()},_sanitizeSelector:function(c){return c.replace(/:/g,"\\:")},_cookie:function(){var c=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+v());return d.cookie.apply(null,[c].concat(d.makeArray(arguments)))},_ui:function(c,e){return{tab:c,panel:e,index:this.anchors.index(c)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var c=
-d(this);c.html(c.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function e(g,f){g.css({display:""});!d.support.opacity&&f.opacity&&g[0].style.removeAttribute("filter")}this.list=this.element.find("ol,ul").eq(0);this.lis=d("li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return d("a",this)[0]});this.panels=d([]);var a=this,b=this.options,h=/^#.+/;this.anchors.each(function(g,f){var j=d(f).attr("href"),l=j.split("#")[0],p;if(l&&(l===location.toString().split("#")[0]||
-(p=d("base")[0])&&l===p.href)){j=f.hash;f.href=j}if(h.test(j))a.panels=a.panels.add(a._sanitizeSelector(j));else if(j!="#"){d.data(f,"href.tabs",j);d.data(f,"load.tabs",j.replace(/#.*$/,""));j=a._tabId(f);f.href="#"+j;f=d("#"+j);if(!f.length){f=d(b.panelTemplate).attr("id",j).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(a.panels[g-1]||a.list);f.data("destroy.tabs",true)}a.panels=a.panels.add(f)}else b.disabled.push(g)});if(c){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");
-this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(b.selected===undefined){location.hash&&this.anchors.each(function(g,f){if(f.hash==location.hash){b.selected=g;return false}});if(typeof b.selected!="number"&&b.cookie)b.selected=parseInt(a._cookie(),10);if(typeof b.selected!="number"&&this.lis.filter(".ui-tabs-selected").length)b.selected=
-this.lis.index(this.lis.filter(".ui-tabs-selected"));b.selected=b.selected||(this.lis.length?0:-1)}else if(b.selected===null)b.selected=-1;b.selected=b.selected>=0&&this.anchors[b.selected]||b.selected<0?b.selected:0;b.disabled=d.unique(b.disabled.concat(d.map(this.lis.filter(".ui-state-disabled"),function(g){return a.lis.index(g)}))).sort();d.inArray(b.selected,b.disabled)!=-1&&b.disabled.splice(d.inArray(b.selected,b.disabled),1);this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");
-if(b.selected>=0&&this.anchors.length){this.panels.eq(b.selected).removeClass("ui-tabs-hide");this.lis.eq(b.selected).addClass("ui-tabs-selected ui-state-active");a.element.queue("tabs",function(){a._trigger("show",null,a._ui(a.anchors[b.selected],a.panels[b.selected]))});this.load(b.selected)}d(window).bind("unload",function(){a.lis.add(a.anchors).unbind(".tabs");a.lis=a.anchors=a.panels=null})}else b.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));this.element[b.collapsible?"addClass":
-"removeClass"]("ui-tabs-collapsible");b.cookie&&this._cookie(b.selected,b.cookie);c=0;for(var i;i=this.lis[c];c++)d(i)[d.inArray(c,b.disabled)!=-1&&!d(i).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");b.cache===false&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if(b.event!="mouseover"){var k=function(g,f){f.is(":not(.ui-state-disabled)")&&f.addClass("ui-state-"+g)},n=function(g,f){f.removeClass("ui-state-"+g)};this.lis.bind("mouseover.tabs",
-function(){k("hover",d(this))});this.lis.bind("mouseout.tabs",function(){n("hover",d(this))});this.anchors.bind("focus.tabs",function(){k("focus",d(this).closest("li"))});this.anchors.bind("blur.tabs",function(){n("focus",d(this).closest("li"))})}var m,o;if(b.fx)if(d.isArray(b.fx)){m=b.fx[0];o=b.fx[1]}else m=o=b.fx;var q=o?function(g,f){d(g).closest("li").addClass("ui-tabs-selected ui-state-active");f.hide().removeClass("ui-tabs-hide").animate(o,o.duration||"normal",function(){e(f,o);a._trigger("show",
-null,a._ui(g,f[0]))})}:function(g,f){d(g).closest("li").addClass("ui-tabs-selected ui-state-active");f.removeClass("ui-tabs-hide");a._trigger("show",null,a._ui(g,f[0]))},r=m?function(g,f){f.animate(m,m.duration||"normal",function(){a.lis.removeClass("ui-tabs-selected ui-state-active");f.addClass("ui-tabs-hide");e(f,m);a.element.dequeue("tabs")})}:function(g,f){a.lis.removeClass("ui-tabs-selected ui-state-active");f.addClass("ui-tabs-hide");a.element.dequeue("tabs")};this.anchors.bind(b.event+".tabs",
-function(){var g=this,f=d(this).closest("li"),j=a.panels.filter(":not(.ui-tabs-hide)"),l=d(a._sanitizeSelector(this.hash));if(f.hasClass("ui-tabs-selected")&&!b.collapsible||f.hasClass("ui-state-disabled")||f.hasClass("ui-state-processing")||a._trigger("select",null,a._ui(this,l[0]))===false){this.blur();return false}b.selected=a.anchors.index(this);a.abort();if(b.collapsible)if(f.hasClass("ui-tabs-selected")){b.selected=-1;b.cookie&&a._cookie(b.selected,b.cookie);a.element.queue("tabs",function(){r(g,
-j)}).dequeue("tabs");this.blur();return false}else if(!j.length){b.cookie&&a._cookie(b.selected,b.cookie);a.element.queue("tabs",function(){q(g,l)});a.load(a.anchors.index(this));this.blur();return false}b.cookie&&a._cookie(b.selected,b.cookie);if(l.length){j.length&&a.element.queue("tabs",function(){r(g,j)});a.element.queue("tabs",function(){q(g,l)});a.load(a.anchors.index(this))}else throw"jQuery UI Tabs: Mismatching fragment identifier.";d.browser.msie&&this.blur()});this.anchors.bind("click.tabs",
-function(){return false})},destroy:function(){var c=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var e=d.data(this,"href.tabs");if(e)this.href=e;var a=d(this).unbind(".tabs");d.each(["href","load","cache"],function(b,h){a.removeData(h+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){d.data(this,
-"destroy.tabs")?d(this).remove():d(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});c.cookie&&this._cookie(null,c.cookie);return this},add:function(c,e,a){if(a===undefined)a=this.anchors.length;var b=this,h=this.options;e=d(h.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,e));c=!c.indexOf("#")?c.replace("#",""):this._tabId(d("a",e)[0]);e.addClass("ui-state-default ui-corner-top").data("destroy.tabs",
-true);var i=d("#"+c);i.length||(i=d(h.panelTemplate).attr("id",c).data("destroy.tabs",true));i.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(a>=this.lis.length){e.appendTo(this.list);i.appendTo(this.list[0].parentNode)}else{e.insertBefore(this.lis[a]);i.insertBefore(this.panels[a])}h.disabled=d.map(h.disabled,function(k){return k>=a?++k:k});this._tabify();if(this.anchors.length==1){h.selected=0;e.addClass("ui-tabs-selected ui-state-active");i.removeClass("ui-tabs-hide");
-this.element.queue("tabs",function(){b._trigger("show",null,b._ui(b.anchors[0],b.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[a],this.panels[a]));return this},remove:function(c){var e=this.options,a=this.lis.eq(c).remove(),b=this.panels.eq(c).remove();if(a.hasClass("ui-tabs-selected")&&this.anchors.length>1)this.select(c+(c+1<this.anchors.length?1:-1));e.disabled=d.map(d.grep(e.disabled,function(h){return h!=c}),function(h){return h>=c?--h:h});this._tabify();this._trigger("remove",
-null,this._ui(a.find("a")[0],b[0]));return this},enable:function(c){var e=this.options;if(d.inArray(c,e.disabled)!=-1){this.lis.eq(c).removeClass("ui-state-disabled");e.disabled=d.grep(e.disabled,function(a){return a!=c});this._trigger("enable",null,this._ui(this.anchors[c],this.panels[c]));return this}},disable:function(c){var e=this.options;if(c!=e.selected){this.lis.eq(c).addClass("ui-state-disabled");e.disabled.push(c);e.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[c],this.panels[c]))}return this},
-select:function(c){if(typeof c=="string")c=this.anchors.index(this.anchors.filter("[href$="+c+"]"));else if(c===null)c=-1;if(c==-1&&this.options.collapsible)c=this.options.selected;this.anchors.eq(c).trigger(this.options.event+".tabs");return this},load:function(c){var e=this,a=this.options,b=this.anchors.eq(c)[0],h=d.data(b,"load.tabs");this.abort();if(!h||this.element.queue("tabs").length!==0&&d.data(b,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(c).addClass("ui-state-processing");
-if(a.spinner){var i=d("span",b);i.data("label.tabs",i.html()).html(a.spinner)}this.xhr=d.ajax(d.extend({},a.ajaxOptions,{url:h,success:function(k,n){d(e._sanitizeSelector(b.hash)).html(k);e._cleanup();a.cache&&d.data(b,"cache.tabs",true);e._trigger("load",null,e._ui(e.anchors[c],e.panels[c]));try{a.ajaxOptions.success(k,n)}catch(m){}},error:function(k,n){e._cleanup();e._trigger("load",null,e._ui(e.anchors[c],e.panels[c]));try{a.ajaxOptions.error(k,n,c,b)}catch(m){}}}));e.element.dequeue("tabs");return this}},
-abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup();return this},url:function(c,e){this.anchors.eq(c).removeData("cache.tabs").data("load.tabs",e);return this},length:function(){return this.anchors.length}});d.extend(d.ui.tabs,{version:"1.8.2"});d.extend(d.ui.tabs.prototype,{rotation:null,rotate:function(c,e){var a=this,b=this.options,h=a._rotate||(a._rotate=
-function(i){clearTimeout(a.rotation);a.rotation=setTimeout(function(){var k=b.selected;a.select(++k<a.anchors.length?k:0)},c);i&&i.stopPropagation()});e=a._unrotate||(a._unrotate=!e?function(i){i.clientX&&a.rotate(null)}:function(){t=b.selected;h()});if(c){this.element.bind("tabsshow",h);this.anchors.bind(b.event+".tabs",e);h()}else{clearTimeout(a.rotation);this.element.unbind("tabsshow",h);this.anchors.unbind(b.event+".tabs",e);delete this._rotate;delete this._unrotate}return this}})})(jQuery);
-;/*
- * jQuery UI Datepicker 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Datepicker
- *
- * Depends:
- *	jquery.ui.core.js
- */
-(function(d){function J(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass=
-"ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su",
-"Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",
-minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};d.extend(this._defaults,this.regional[""]);this.dpDiv=d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-helper-hidden-accessible"></div>')}function E(a,b){d.extend(a,
-b);for(var c in b)if(b[c]==null||b[c]==undefined)a[c]=b[c];return a}d.extend(d.ui,{datepicker:{version:"1.8.2"}});var y=(new Date).getTime();d.extend(J.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){E(this._defaults,a||{});return this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=
-f}}}e=a.nodeName.toLowerCase();f=e=="div"||e=="span";if(!a.id){this.uuid+=1;a.id="dp"+this.uuid}var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{});if(e=="input")this._connectDatepicker(a,i);else f&&this._inlineDatepicker(a,i)},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}},
-_connectDatepicker:function(a,b){var c=d(a);b.append=d([]);b.trigger=d([]);if(!c.hasClass(this.markerClassName)){this._attachments(c,b);c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});this._autoSize(b);d.data(a,"datepicker",b)}},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&
-b.append.remove();if(c){b.append=d('<span class="'+this._appendClass+'">'+c+"</span>");a[e?"before":"after"](b.append)}a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");if(c=="focus"||c=="both")a.focus(this._showDatepicker);if(c=="button"||c=="both"){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(f==
-""?c:d("<img/>").attr({src:f,alt:c,title:c})));a[e?"before":"after"](b.trigger);b.trigger.click(function(){d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]);return false})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var e=function(f){for(var h=0,i=0,g=0;g<f.length;g++)if(f[g].length>h){h=f[g].length;i=g}return i};b.setMonth(e(this._get(a,
-c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(e(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);if(!c.hasClass(this.markerClassName)){c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});d.data(a,"datepicker",b);this._setDate(b,this._getDefaultDate(b),
-true);this._updateDatepicker(b);this._updateAlternate(b)}},_dialogDatepicker:function(a,b,c,e,f){a=this._dialogInst;if(!a){this.uuid+=1;this._dialogInput=d('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);d("body").append(this._dialogInput);a=this._dialogInst=this._newInst(this._dialogInput,false);a.settings={};d.data(this._dialogInput[0],"datepicker",a)}E(a.settings,e||{});b=b&&b.constructor==
-Date?this._formatDate(a,b):b;this._dialogInput.val(b);this._pos=f?f.length?f:[f.pageX,f.pageY]:null;if(!this._pos)this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)];this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=c;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);
-d.blockUI&&d.blockUI(this.dpDiv);d.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker");if(e=="input"){c.append.remove();c.trigger.remove();b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else if(e=="div"||e=="span")b.removeClass(this.markerClassName).empty()}},
-_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=false;c.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(e=="div"||e=="span")b.children("."+this._inlineClass).children().removeClass("ui-state-disabled");this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f})}},_disableDatepicker:function(a){var b=
-d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=true;c.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(e=="div"||e=="span")b.children("."+this._inlineClass).children().addClass("ui-state-disabled");this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return false;
-for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return true;return false},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?d.extend({},d.datepicker._defaults):e?b=="all"?d.extend({},e.settings):this._get(e,b):null;var f=b||{};if(typeof b=="string"){f={};f[b]=c}if(e){this._curInst==e&&
-this._hideDatepicker();var h=this._getDateDatepicker(a,true);E(e.settings,f);this._attachments(d(a),e);this._autoSize(e);this._setDateDatepicker(a,h);this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a)){this._setDate(a,b);this._updateDatepicker(a);this._updateAlternate(a)}},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&
-!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=true,e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=true;if(d.datepicker._datepickerShowing)switch(a.keyCode){case 9:d.datepicker._hideDatepicker();c=false;break;case 13:c=d("td."+d.datepicker._dayOverClass,b.dpDiv).add(d("td."+d.datepicker._currentClass,b.dpDiv));c[0]?d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]):d.datepicker._hideDatepicker();
-return false;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:if(a.ctrlKey||a.metaKey)d.datepicker._clearDate(a.target);c=a.ctrlKey||a.metaKey;break;case 36:if(a.ctrlKey||a.metaKey)d.datepicker._gotoToday(a.target);c=a.ctrlKey||
-a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,e?+1:-1,"D");c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey)d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 38:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,-7,"D");c=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,e?-1:+1,"D");c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey)d.datepicker._adjustDate(a.target,
-a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 40:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,+7,"D");c=a.ctrlKey||a.metaKey;break;default:c=false}else if(a.keyCode==36&&a.ctrlKey)d.datepicker._showDatepicker(this);else c=false;if(c){a.preventDefault();a.stopPropagation()}},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));
-var c=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||c<" "||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal)try{if(d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))){d.datepicker._setDateFromField(a);d.datepicker._updateAlternate(a);d.datepicker._updateDatepicker(a)}}catch(b){d.datepicker.log(b)}return true},_showDatepicker:function(a){a=a.target||
-a;if(a.nodeName.toLowerCase()!="input")a=d("input",a.parentNode)[0];if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput==a)){var b=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!=b&&d.datepicker._curInst.dpDiv.stop(true,true);var c=d.datepicker._get(b,"beforeShow");E(b.settings,c?c.apply(a,[a,b]):{});b.lastVal=null;d.datepicker._lastInput=a;d.datepicker._setDateFromField(b);if(d.datepicker._inDialog)a.value="";if(!d.datepicker._pos){d.datepicker._pos=d.datepicker._findPos(a);
-d.datepicker._pos[1]+=a.offsetHeight}var e=false;d(a).parents().each(function(){e|=d(this).css("position")=="fixed";return!e});if(e&&d.browser.opera){d.datepicker._pos[0]-=document.documentElement.scrollLeft;d.datepicker._pos[1]-=document.documentElement.scrollTop}c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]};d.datepicker._pos=null;b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(b);c=d.datepicker._checkOffset(b,c,e);b.dpDiv.css({position:d.datepicker._inDialog&&
-d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");var f=d.datepicker._get(b,"duration"),h=function(){d.datepicker._datepickerShowing=true;var i=d.datepicker._getBorders(b.dpDiv);b.dpDiv.find("iframe.ui-datepicker-cover").css({left:-i[0],top:-i[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})};b.dpDiv.zIndex(d(a).zIndex()+1);d.effects&&d.effects[c]?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,
-h):b.dpDiv[c||"show"](c?f:null,h);if(!c||!f)h();b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus();d.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this,c=d.datepicker._getBorders(a.dpDiv);a.dpDiv.empty().append(this._generateHTML(a)).find("iframe.ui-datepicker-cover").css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}).end().find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){d(this).removeClass("ui-state-hover");
-this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){if(!b._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])){d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");d(this).addClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).addClass("ui-datepicker-prev-hover");
-this.className.indexOf("ui-datepicker-next")!=-1&&d(this).addClass("ui-datepicker-next-hover")}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();c=this._getNumberOfMonths(a);var e=c[1];e>1?a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em"):a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");a.dpDiv[(c[0]!=1||c[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");
-a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input.focus()},_getBorders:function(a){var b=function(c){return{thin:1,medium:2,thick:3}[c]||c};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),h=a.input?a.input.outerWidth():0,i=a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+d(document).scrollLeft(),
-k=document.documentElement.clientHeight+d(document).scrollTop();b.left-=this._get(a,"isRTL")?e-h:0;b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0;b.top-=c&&b.top==a.input.offset().top+i?d(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0);b.top-=Math.min(b.top,b.top+f>k&&k>f?Math.abs(f+i):0);return b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1);)a=a[b?"previousSibling":"nextSibling"];
-a=d(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=d.data(a,"datepicker")))if(this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b);this._curInst=null};d.effects&&d.effects[a]?b.dpDiv.hide(a,d.datepicker._get(b,"showOptions"),c,e):b.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?c:null,e);a||e();if(a=this._get(b,"onClose"))a.apply(b.input?b.input[0]:null,[b.input?b.input.val():
-"",b]);this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(d.blockUI){d.unblockUI();d("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(d.datepicker._curInst){a=d(a.target);a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&
-!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)&&d.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);if(!this._isDisabledDatepicker(a[0])){this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c);this._updateDatepicker(e)}},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay){b.selectedDay=b.currentDay;b.drawMonth=b.selectedMonth=b.currentMonth;
-b.drawYear=b.selectedYear=b.currentYear}else{var c=new Date;b.selectedDay=c.getDate();b.drawMonth=b.selectedMonth=c.getMonth();b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b);this._adjustDate(a)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e._selectingMonthYear=false;e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_clickMonthYear:function(a){a=this._getInst(d(a)[0]);
-a.input&&a._selectingMonthYear&&!d.browser.msie&&a.input.focus();a._selectingMonthYear=!a._selectingMonthYear},_selectDay:function(a,b,c,e){var f=d(a);if(!(d(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0]))){f=this._getInst(f[0]);f.selectedDay=f.currentDay=d("a",e).html();f.selectedMonth=f.currentMonth=b;f.selectedYear=f.currentYear=c;this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){a=d(a);this._getInst(a[0]);this._selectDate(a,
-"")},_selectDate:function(a,b){a=this._getInst(d(a)[0]);b=b!=null?b:this._formatDate(a);a.input&&a.input.val(b);this._updateAlternate(a);var c=this._get(a,"onSelect");if(c)c.apply(a.input?a.input[0]:null,[b,a]);else a.input&&a.input.trigger("change");if(a.inline)this._updateDatepicker(a);else{this._hideDatepicker();this._lastInput=a.input[0];typeof a.input[0]!="object"&&a.input.focus();this._lastInput=null}},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||
-this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){a=a.getDay();return[a>0&&a<6,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;
-for(var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff,f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames,i=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,k=c=-1,l=-1,u=-1,j=false,o=function(p){(p=z+1<a.length&&a.charAt(z+1)==p)&&z++;return p},m=function(p){o(p);p=new RegExp("^\\d{1,"+(p=="@"?14:p=="!"?20:p=="y"?4:p=="o"?3:2)+"}");p=b.substring(s).match(p);if(!p)throw"Missing number at position "+
-s;s+=p[0].length;return parseInt(p[0],10)},n=function(p,w,G){p=o(p)?G:w;for(w=0;w<p.length;w++)if(b.substr(s,p[w].length)==p[w]){s+=p[w].length;return w+1}throw"Unknown name at position "+s;},r=function(){if(b.charAt(s)!=a.charAt(z))throw"Unexpected literal at position "+s;s++},s=0,z=0;z<a.length;z++)if(j)if(a.charAt(z)=="'"&&!o("'"))j=false;else r();else switch(a.charAt(z)){case "d":l=m("d");break;case "D":n("D",f,h);break;case "o":u=m("o");break;case "m":k=m("m");break;case "M":k=n("M",i,g);break;
-case "y":c=m("y");break;case "@":var v=new Date(m("@"));c=v.getFullYear();k=v.getMonth()+1;l=v.getDate();break;case "!":v=new Date((m("!")-this._ticksTo1970)/1E4);c=v.getFullYear();k=v.getMonth()+1;l=v.getDate();break;case "'":if(o("'"))r();else j=true;break;default:r()}if(c==-1)c=(new Date).getFullYear();else if(c<100)c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=e?0:-100);if(u>-1){k=1;l=u;do{e=this._getDaysInMonth(c,k-1);if(l<=e)break;k++;l-=e}while(1)}v=this._daylightSavingAdjust(new Date(c,
-k-1,l));if(v.getFullYear()!=c||v.getMonth()+1!=k||v.getDate()!=l)throw"Invalid date";return v},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1E7,formatDate:function(a,b,c){if(!b)return"";var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?
-c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var i=function(o){(o=j+1<a.length&&a.charAt(j+1)==o)&&j++;return o},g=function(o,m,n){m=""+m;if(i(o))for(;m.length<n;)m="0"+m;return m},k=function(o,m,n,r){return i(o)?r[m]:n[m]},l="",u=false;if(b)for(var j=0;j<a.length;j++)if(u)if(a.charAt(j)=="'"&&!i("'"))u=false;else l+=a.charAt(j);else switch(a.charAt(j)){case "d":l+=g("d",b.getDate(),2);break;
-case "D":l+=k("D",b.getDay(),e,f);break;case "o":l+=g("o",(b.getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5,3);break;case "m":l+=g("m",b.getMonth()+1,2);break;case "M":l+=k("M",b.getMonth(),h,c);break;case "y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case "@":l+=b.getTime();break;case "!":l+=b.getTime()*1E4+this._ticksTo1970;break;case "'":if(i("'"))l+="'";else u=true;break;default:l+=a.charAt(j)}return l},_possibleChars:function(a){for(var b="",c=false,
-e=function(h){(h=f+1<a.length&&a.charAt(f+1)==h)&&f++;return h},f=0;f<a.length;f++)if(c)if(a.charAt(f)=="'"&&!e("'"))c=false;else b+=a.charAt(f);else switch(a.charAt(f)){case "d":case "m":case "y":case "@":b+="0123456789";break;case "D":case "M":return null;case "'":if(e("'"))b+="'";else c=true;break;default:b+=a.charAt(f)}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),
-e=a.lastVal=a.input?a.input.val():null,f,h;f=h=this._getDefaultDate(a);var i=this._getFormatConfig(a);try{f=this.parseDate(c,e,i)||h}catch(g){this.log(g);e=b?"":e}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=e?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},
-_determineDate:function(a,b,c){var e=function(h){var i=new Date;i.setDate(i.getDate()+h);return i},f=function(h){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),h,d.datepicker._getFormatConfig(a))}catch(i){}var g=(h.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,k=g.getFullYear(),l=g.getMonth();g=g.getDate();for(var u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=u.exec(h);j;){switch(j[2]||"d"){case "d":case "D":g+=parseInt(j[1],10);break;case "w":case "W":g+=parseInt(j[1],
-10)*7;break;case "m":case "M":l+=parseInt(j[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(k,l));break;case "y":case "Y":k+=parseInt(j[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(k,l));break}j=u.exec(h)}return new Date(k,l,g)};if(b=(b=b==null?c:typeof b=="string"?f(b):typeof b=="number"?isNaN(b)?c:e(b):b)&&b.toString()=="Invalid Date"?c:b){b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0)}return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a)return null;
-a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var e=!b,f=a.selectedMonth,h=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();if((f!=a.selectedMonth||h!=a.selectedYear)&&!c)this._notifyChange(a);this._adjustInstDate(a);if(a.input)a.input.val(e?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||
-a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),h=this._get(a,"navigationAsDateFormat"),i=this._getNumberOfMonths(a),g=this._get(a,"showCurrentAtPos"),k=this._get(a,"stepMonths"),l=i[0]!=1||i[1]!=1,u=this._daylightSavingAdjust(!a.currentDay?
-new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),j=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");g=a.drawMonth-g;var m=a.drawYear;if(g<0){g+=12;m--}if(o){var n=this._daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth()-i[0]*i[1]+1,o.getDate()));for(n=j&&n<j?j:n;this._daylightSavingAdjust(new Date(m,g,1))>n;){g--;if(g<0){g=11;m--}}}a.drawMonth=g;a.drawYear=m;n=this._get(a,"prevText");n=!h?n:this.formatDate(n,this._daylightSavingAdjust(new Date(m,g-k,1)),this._getFormatConfig(a));
-n=this._canAdjustMonth(a,-1,m,g)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', -"+k+", 'M');\" title=\""+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>";var r=this._get(a,"nextText");r=!h?r:this.formatDate(r,this._daylightSavingAdjust(new Date(m,
-g+k,1)),this._getFormatConfig(a));f=this._canAdjustMonth(a,+1,m,g)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', +"+k+", 'M');\" title=\""+r+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+r+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+r+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+r+"</span></a>";k=this._get(a,"currentText");r=this._get(a,"gotoCurrent")&&
-a.currentDay?u:b;k=!h?k:this.formatDate(k,r,this._getFormatConfig(a));h=!a.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+y+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>":"";e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?h:"")+(this._isInRange(a,r)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+
-y+".datepicker._gotoToday('#"+a.id+"');\">"+k+"</button>":"")+(c?"":h)+"</div>":"";h=parseInt(this._get(a,"firstDay"),10);h=isNaN(h)?0:h;k=this._get(a,"showWeek");r=this._get(a,"dayNames");this._get(a,"dayNamesShort");var s=this._get(a,"dayNamesMin"),z=this._get(a,"monthNames"),v=this._get(a,"monthNamesShort"),p=this._get(a,"beforeShowDay"),w=this._get(a,"showOtherMonths"),G=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var K=this._getDefaultDate(a),H="",C=0;C<i[0];C++){for(var L=
-"",D=0;D<i[1];D++){var M=this._daylightSavingAdjust(new Date(m,g,a.selectedDay)),t=" ui-corner-all",x="";if(l){x+='<div class="ui-datepicker-group';if(i[1]>1)switch(D){case 0:x+=" ui-datepicker-group-first";t=" ui-corner-"+(c?"right":"left");break;case i[1]-1:x+=" ui-datepicker-group-last";t=" ui-corner-"+(c?"left":"right");break;default:x+=" ui-datepicker-group-middle";t="";break}x+='">'}x+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+t+'">'+(/all|left/.test(t)&&C==0?c?
-f:n:"")+(/all|right/.test(t)&&C==0?c?n:f:"")+this._generateMonthYearHeader(a,g,m,j,o,C>0||D>0,z,v)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var A=k?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(t=0;t<7;t++){var q=(t+h)%7;A+="<th"+((t+h+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+r[q]+'">'+s[q]+"</span></th>"}x+=A+"</tr></thead><tbody>";A=this._getDaysInMonth(m,g);if(m==a.selectedYear&&g==a.selectedMonth)a.selectedDay=Math.min(a.selectedDay,
-A);t=(this._getFirstDayOfMonth(m,g)-h+7)%7;A=l?6:Math.ceil((t+A)/7);q=this._daylightSavingAdjust(new Date(m,g,1-t));for(var N=0;N<A;N++){x+="<tr>";var O=!k?"":'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(q)+"</td>";for(t=0;t<7;t++){var F=p?p.apply(a.input?a.input[0]:null,[q]):[true,""],B=q.getMonth()!=g,I=B&&!G||!F[0]||j&&q<j||o&&q>o;O+='<td class="'+((t+h+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(q.getTime()==M.getTime()&&g==a.selectedMonth&&
-a._keyEvent||K.getTime()==q.getTime()&&K.getTime()==M.getTime()?" "+this._dayOverClass:"")+(I?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!w?"":" "+F[1]+(q.getTime()==u.getTime()?" "+this._currentClass:"")+(q.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!B||w)&&F[2]?' title="'+F[2]+'"':"")+(I?"":' onclick="DP_jQuery_'+y+".datepicker._selectDay('#"+a.id+"',"+q.getMonth()+","+q.getFullYear()+', this);return false;"')+">"+(B&&!w?"&#xa0;":I?'<span class="ui-state-default">'+q.getDate()+
-"</span>":'<a class="ui-state-default'+(q.getTime()==b.getTime()?" ui-state-highlight":"")+(q.getTime()==u.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+'" href="#">'+q.getDate()+"</a>")+"</td>";q.setDate(q.getDate()+1);q=this._daylightSavingAdjust(q)}x+=O+"</tr>"}g++;if(g>11){g=0;m++}x+="</tbody></table>"+(l?"</div>"+(i[0]>0&&D==i[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");L+=x}H+=L}H+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':
-"");a._keyEvent=false;return H},_generateMonthYearHeader:function(a,b,c,e,f,h,i,g){var k=this._get(a,"changeMonth"),l=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),j='<div class="ui-datepicker-title">',o="";if(h||!k)o+='<span class="ui-datepicker-month">'+i[b]+"</span>";else{i=e&&e.getFullYear()==c;var m=f&&f.getFullYear()==c;o+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+
-a.id+"');\">";for(var n=0;n<12;n++)if((!i||n>=e.getMonth())&&(!m||n<=f.getMonth()))o+='<option value="'+n+'"'+(n==b?' selected="selected"':"")+">"+g[n]+"</option>";o+="</select>"}u||(j+=o+(h||!(k&&l)?"&#xa0;":""));if(h||!l)j+='<span class="ui-datepicker-year">'+c+"</span>";else{g=this._get(a,"yearRange").split(":");var r=(new Date).getFullYear();i=function(s){s=s.match(/c[+-].*/)?c+parseInt(s.substring(1),10):s.match(/[+-].*/)?r+parseInt(s,10):parseInt(s,10);return isNaN(s)?r:s};b=i(g[0]);g=Math.max(b,
-i(g[1]||""));b=e?Math.max(b,e.getFullYear()):b;g=f?Math.min(g,f.getFullYear()):g;for(j+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";b<=g;b++)j+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>";j+="</select>"}j+=this._get(a,"yearSuffix");if(u)j+=(h||!(k&&l)?"&#xa0;":"")+o;j+="</div>";return j},_adjustInstDate:function(a,b,c){var e=
-a.drawYear+(c=="Y"?b:0),f=a.drawMonth+(c=="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,f))+(c=="D"?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,f,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();if(c=="M"||c=="Y")this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");b=c&&b<c?c:b;return b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,
-"onChangeMonthYear");if(b)b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return a==null?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,e){var f=this._getNumberOfMonths(a);
-c=this._daylightSavingAdjust(new Date(c,e+(b<0?b:f[0]*f[1]),1));b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,
-"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){if(!b){a.currentDay=a.selectedDay;a.currentMonth=a.selectedMonth;a.currentYear=a.selectedYear}b=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});d.fn.datepicker=
-function(a){if(!d.datepicker.initialized){d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv);d.datepicker.initialized=true}var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget"))return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b));if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string")return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b));
-return this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)})};d.datepicker=new J;d.datepicker.initialized=false;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.8.2";window["DP_jQuery_"+y]=d})(jQuery);
-;/*
- * jQuery UI Progressbar 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Progressbar
- *
- * Depends:
- *   jquery.ui.core.js
- *   jquery.ui.widget.js
- */
-(function(b){b.widget("ui.progressbar",{options:{value:0},_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this._valueMin(),"aria-valuemax":this._valueMax(),"aria-valuenow":this._value()});this.valueDiv=b("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
-this.valueDiv.remove();b.Widget.prototype.destroy.apply(this,arguments)},value:function(a){if(a===undefined)return this._value();this._setOption("value",a);return this},_setOption:function(a,c){switch(a){case "value":this.options.value=c;this._refreshValue();this._trigger("change");break}b.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;if(typeof a!=="number")a=0;if(a<this._valueMin())a=this._valueMin();if(a>this._valueMax())a=this._valueMax();return a},
-_valueMin:function(){return 0},_valueMax:function(){return 100},_refreshValue:function(){var a=this.value();this.valueDiv[a===this._valueMax()?"addClass":"removeClass"]("ui-corner-right").width(a+"%");this.element.attr("aria-valuenow",a)}});b.extend(b.ui.progressbar,{version:"1.8.2"})})(jQuery);
-;/*
- * jQuery UI Effects 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Effects/
- */
-jQuery.effects||function(f){function k(c){var a;if(c&&c.constructor==Array&&c.length==3)return c;if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)];if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return[parseFloat(a[1])*2.55,parseFloat(a[2])*2.55,parseFloat(a[3])*2.55];if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return[parseInt(a[1],
-16),parseInt(a[2],16),parseInt(a[3],16)];if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(c))return l.transparent;return l[f.trim(c).toLowerCase()]}function q(c,a){var b;do{b=f.curCSS(c,a);if(b!=""&&b!="transparent"||f.nodeName(c,"body"))break;a="backgroundColor"}while(c=c.parentNode);return k(b)}function m(){var c=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,
-a={},b,d;if(c&&c.length&&c[0]&&c[c[0]])for(var e=c.length;e--;){b=c[e];if(typeof c[b]=="string"){d=b.replace(/\-(\w)/g,function(g,h){return h.toUpperCase()});a[d]=c[b]}}else for(b in c)if(typeof c[b]==="string")a[b]=c[b];return a}function n(c){var a,b;for(a in c){b=c[a];if(b==null||f.isFunction(b)||a in r||/scrollbar/.test(a)||!/color/i.test(a)&&isNaN(parseFloat(b)))delete c[a]}return c}function s(c,a){var b={_:0},d;for(d in a)if(c[d]!=a[d])b[d]=a[d];return b}function j(c,a,b,d){if(typeof c=="object"){d=
-a;b=null;a=c;c=a.effect}if(f.isFunction(a)){d=a;b=null;a={}}if(f.isFunction(b)){d=b;b=null}if(typeof a=="number"||f.fx.speeds[a]){d=b;b=a;a={}}a=a||{};b=b||a.duration;b=f.fx.off?0:typeof b=="number"?b:f.fx.speeds[b]||f.fx.speeds._default;d=d||a.complete;return[c,a,b,d]}f.effects={};f.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(c,a){f.fx.step[a]=function(b){if(!b.colorInit){b.start=q(b.elem,a);b.end=k(b.end);b.colorInit=
-true}b.elem.style[a]="rgb("+Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2],10),255),0)+")"}});var l={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,
-183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,
-165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},o=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};f.effects.animateClass=function(c,a,b,d){if(f.isFunction(b)){d=b;b=null}return this.each(function(){var e=f(this),g=e.attr("style")||" ",h=n(m.call(this)),p,t=e.attr("className");f.each(o,function(u,
-i){c[i]&&e[i+"Class"](c[i])});p=n(m.call(this));e.attr("className",t);e.animate(s(h,p),a,b,function(){f.each(o,function(u,i){c[i]&&e[i+"Class"](c[i])});if(typeof e.attr("style")=="object"){e.attr("style").cssText="";e.attr("style").cssText=g}else e.attr("style",g);d&&d.apply(this,arguments)})})};f.fn.extend({_addClass:f.fn.addClass,addClass:function(c,a,b,d){return a?f.effects.animateClass.apply(this,[{add:c},a,b,d]):this._addClass(c)},_removeClass:f.fn.removeClass,removeClass:function(c,a,b,d){return a?
-f.effects.animateClass.apply(this,[{remove:c},a,b,d]):this._removeClass(c)},_toggleClass:f.fn.toggleClass,toggleClass:function(c,a,b,d,e){return typeof a=="boolean"||a===undefined?b?f.effects.animateClass.apply(this,[a?{add:c}:{remove:c},b,d,e]):this._toggleClass(c,a):f.effects.animateClass.apply(this,[{toggle:c},a,b,d])},switchClass:function(c,a,b,d,e){return f.effects.animateClass.apply(this,[{add:a,remove:c},b,d,e])}});f.extend(f.effects,{version:"1.8.2",save:function(c,a){for(var b=0;b<a.length;b++)a[b]!==
-null&&c.data("ec.storage."+a[b],c[0].style[a[b]])},restore:function(c,a){for(var b=0;b<a.length;b++)a[b]!==null&&c.css(a[b],c.data("ec.storage."+a[b]))},setMode:function(c,a){if(a=="toggle")a=c.is(":hidden")?"show":"hide";return a},getBaseline:function(c,a){var b;switch(c[0]){case "top":b=0;break;case "middle":b=0.5;break;case "bottom":b=1;break;default:b=c[0]/a.height}switch(c[1]){case "left":c=0;break;case "center":c=0.5;break;case "right":c=1;break;default:c=c[1]/a.width}return{x:c,y:b}},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent();
-var a={width:c.outerWidth(true),height:c.outerHeight(true),"float":c.css("float")},b=f("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});c.wrap(b);b=c.parent();if(c.css("position")=="static"){b.css({position:"relative"});c.css({position:"relative"})}else{f.extend(a,{position:c.css("position"),zIndex:c.css("z-index")});f.each(["top","left","bottom","right"],function(d,e){a[e]=c.css(e);if(isNaN(parseInt(a[e],10)))a[e]="auto"});
-c.css({position:"relative",top:0,left:0})}return b.css(a).show()},removeWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent().replaceWith(c);return c},setTransition:function(c,a,b,d){d=d||{};f.each(a,function(e,g){unit=c.cssUnit(g);if(unit[0]>0)d[g]=unit[0]*b+unit[1]});return d}});f.fn.extend({effect:function(c){var a=j.apply(this,arguments);a={options:a[1],duration:a[2],callback:a[3]};var b=f.effects[c];return b&&!f.fx.off?b.call(this,a):this},_show:f.fn.show,show:function(c){if(!c||
-typeof c=="number"||f.fx.speeds[c])return this._show.apply(this,arguments);else{var a=j.apply(this,arguments);a[1].mode="show";return this.effect.apply(this,a)}},_hide:f.fn.hide,hide:function(c){if(!c||typeof c=="number"||f.fx.speeds[c])return this._hide.apply(this,arguments);else{var a=j.apply(this,arguments);a[1].mode="hide";return this.effect.apply(this,a)}},__toggle:f.fn.toggle,toggle:function(c){if(!c||typeof c=="number"||f.fx.speeds[c]||typeof c=="boolean"||f.isFunction(c))return this.__toggle.apply(this,
-arguments);else{var a=j.apply(this,arguments);a[1].mode="toggle";return this.effect.apply(this,a)}},cssUnit:function(c){var a=this.css(c),b=[];f.each(["em","px","%","pt"],function(d,e){if(a.indexOf(e)>0)b=[parseFloat(a),e]});return b}});f.easing.jswing=f.easing.swing;f.extend(f.easing,{def:"easeOutQuad",swing:function(c,a,b,d,e){return f.easing[f.easing.def](c,a,b,d,e)},easeInQuad:function(c,a,b,d,e){return d*(a/=e)*a+b},easeOutQuad:function(c,a,b,d,e){return-d*(a/=e)*(a-2)+b},easeInOutQuad:function(c,
-a,b,d,e){if((a/=e/2)<1)return d/2*a*a+b;return-d/2*(--a*(a-2)-1)+b},easeInCubic:function(c,a,b,d,e){return d*(a/=e)*a*a+b},easeOutCubic:function(c,a,b,d,e){return d*((a=a/e-1)*a*a+1)+b},easeInOutCubic:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a+b;return d/2*((a-=2)*a*a+2)+b},easeInQuart:function(c,a,b,d,e){return d*(a/=e)*a*a*a+b},easeOutQuart:function(c,a,b,d,e){return-d*((a=a/e-1)*a*a*a-1)+b},easeInOutQuart:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a*a+b;return-d/2*((a-=2)*a*a*a-2)+
-b},easeInQuint:function(c,a,b,d,e){return d*(a/=e)*a*a*a*a+b},easeOutQuint:function(c,a,b,d,e){return d*((a=a/e-1)*a*a*a*a+1)+b},easeInOutQuint:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a*a*a+b;return d/2*((a-=2)*a*a*a*a+2)+b},easeInSine:function(c,a,b,d,e){return-d*Math.cos(a/e*(Math.PI/2))+d+b},easeOutSine:function(c,a,b,d,e){return d*Math.sin(a/e*(Math.PI/2))+b},easeInOutSine:function(c,a,b,d,e){return-d/2*(Math.cos(Math.PI*a/e)-1)+b},easeInExpo:function(c,a,b,d,e){return a==0?b:d*Math.pow(2,
-10*(a/e-1))+b},easeOutExpo:function(c,a,b,d,e){return a==e?b+d:d*(-Math.pow(2,-10*a/e)+1)+b},easeInOutExpo:function(c,a,b,d,e){if(a==0)return b;if(a==e)return b+d;if((a/=e/2)<1)return d/2*Math.pow(2,10*(a-1))+b;return d/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(c,a,b,d,e){return-d*(Math.sqrt(1-(a/=e)*a)-1)+b},easeOutCirc:function(c,a,b,d,e){return d*Math.sqrt(1-(a=a/e-1)*a)+b},easeInOutCirc:function(c,a,b,d,e){if((a/=e/2)<1)return-d/2*(Math.sqrt(1-a*a)-1)+b;return d/2*(Math.sqrt(1-(a-=2)*
-a)+1)+b},easeInElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0)return b;if((a/=e)==1)return b+d;g||(g=e*0.3);if(h<Math.abs(d)){h=d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g))+b},easeOutElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0)return b;if((a/=e)==1)return b+d;g||(g=e*0.3);if(h<Math.abs(d)){h=d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*a)*Math.sin((a*e-c)*2*Math.PI/g)+d+b},easeInOutElastic:function(c,
-a,b,d,e){c=1.70158;var g=0,h=d;if(a==0)return b;if((a/=e/2)==2)return b+d;g||(g=e*0.3*1.5);if(h<Math.abs(d)){h=d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);if(a<1)return-0.5*h*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g)+b;return h*Math.pow(2,-10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g)*0.5+d+b},easeInBack:function(c,a,b,d,e,g){if(g==undefined)g=1.70158;return d*(a/=e)*a*((g+1)*a-g)+b},easeOutBack:function(c,a,b,d,e,g){if(g==undefined)g=1.70158;return d*((a=a/e-1)*a*((g+1)*a+g)+1)+b},easeInOutBack:function(c,
-a,b,d,e,g){if(g==undefined)g=1.70158;if((a/=e/2)<1)return d/2*a*a*(((g*=1.525)+1)*a-g)+b;return d/2*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)+b},easeInBounce:function(c,a,b,d,e){return d-f.easing.easeOutBounce(c,e-a,0,d,e)+b},easeOutBounce:function(c,a,b,d,e){return(a/=e)<1/2.75?d*7.5625*a*a+b:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+b},easeInOutBounce:function(c,a,b,d,e){if(a<e/2)return f.easing.easeInBounce(c,a*2,0,
-d,e)*0.5+b;return f.easing.easeOutBounce(c,a*2-e,0,d,e)*0.5+d*0.5+b}})}(jQuery);
-;/*
- * jQuery UI Effects Blind 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Effects/Blind
- *
- * Depends:
- *	jquery.effects.core.js
- */
-(function(b){b.effects.blind=function(c){return this.queue(function(){var a=b(this),g=["position","top","left"],f=b.effects.setMode(a,c.options.mode||"hide"),d=c.options.direction||"vertical";b.effects.save(a,g);a.show();var e=b.effects.createWrapper(a).css({overflow:"hidden"}),h=d=="vertical"?"height":"width";d=d=="vertical"?e.height():e.width();f=="show"&&e.css(h,0);var i={};i[h]=f=="show"?d:0;e.animate(i,c.duration,c.options.easing,function(){f=="hide"&&a.hide();b.effects.restore(a,g);b.effects.removeWrapper(a);
-c.callback&&c.callback.apply(a[0],arguments);a.dequeue()})})}})(jQuery);
-;/*
- * jQuery UI Effects Bounce 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Effects/Bounce
- *
- * Depends:
- *	jquery.effects.core.js
- */
-(function(e){e.effects.bounce=function(b){return this.queue(function(){var a=e(this),l=["position","top","left"],h=e.effects.setMode(a,b.options.mode||"effect"),d=b.options.direction||"up",c=b.options.distance||20,m=b.options.times||5,i=b.duration||250;/show|hide/.test(h)&&l.push("opacity");e.effects.save(a,l);a.show();e.effects.createWrapper(a);var f=d=="up"||d=="down"?"top":"left";d=d=="up"||d=="left"?"pos":"neg";c=b.options.distance||(f=="top"?a.outerHeight({margin:true})/3:a.outerWidth({margin:true})/
-3);if(h=="show")a.css("opacity",0).css(f,d=="pos"?-c:c);if(h=="hide")c/=m*2;h!="hide"&&m--;if(h=="show"){var g={opacity:1};g[f]=(d=="pos"?"+=":"-=")+c;a.animate(g,i/2,b.options.easing);c/=2;m--}for(g=0;g<m;g++){var j={},k={};j[f]=(d=="pos"?"-=":"+=")+c;k[f]=(d=="pos"?"+=":"-=")+c;a.animate(j,i/2,b.options.easing).animate(k,i/2,b.options.easing);c=h=="hide"?c*2:c/2}if(h=="hide"){g={opacity:0};g[f]=(d=="pos"?"-=":"+=")+c;a.animate(g,i/2,b.options.easing,function(){a.hide();e.effects.restore(a,l);e.effects.removeWrapper(a);
-b.callback&&b.callback.apply(this,arguments)})}else{j={};k={};j[f]=(d=="pos"?"-=":"+=")+c;k[f]=(d=="pos"?"+=":"-=")+c;a.animate(j,i/2,b.options.easing).animate(k,i/2,b.options.easing,function(){e.effects.restore(a,l);e.effects.removeWrapper(a);b.callback&&b.callback.apply(this,arguments)})}a.queue("fx",function(){a.dequeue()});a.dequeue()})}})(jQuery);
-;/*
- * jQuery UI Effects Clip 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Effects/Clip
- *
- * Depends:
- *	jquery.effects.core.js
- */
-(function(b){b.effects.clip=function(e){return this.queue(function(){var a=b(this),i=["position","top","left","height","width"],f=b.effects.setMode(a,e.options.mode||"hide"),c=e.options.direction||"vertical";b.effects.save(a,i);a.show();var d=b.effects.createWrapper(a).css({overflow:"hidden"});d=a[0].tagName=="IMG"?d:a;var g={size:c=="vertical"?"height":"width",position:c=="vertical"?"top":"left"};c=c=="vertical"?d.height():d.width();if(f=="show"){d.css(g.size,0);d.css(g.position,c/2)}var h={};h[g.size]=
-f=="show"?c:0;h[g.position]=f=="show"?0:c/2;d.animate(h,{queue:false,duration:e.duration,easing:e.options.easing,complete:function(){f=="hide"&&a.hide();b.effects.restore(a,i);b.effects.removeWrapper(a);e.callback&&e.callback.apply(a[0],arguments);a.dequeue()}})})}})(jQuery);
-;/*
- * jQuery UI Effects Drop 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Effects/Drop
- *
- * Depends:
- *	jquery.effects.core.js
- */
-(function(c){c.effects.drop=function(d){return this.queue(function(){var a=c(this),h=["position","top","left","opacity"],e=c.effects.setMode(a,d.options.mode||"hide"),b=d.options.direction||"left";c.effects.save(a,h);a.show();c.effects.createWrapper(a);var f=b=="up"||b=="down"?"top":"left";b=b=="up"||b=="left"?"pos":"neg";var g=d.options.distance||(f=="top"?a.outerHeight({margin:true})/2:a.outerWidth({margin:true})/2);if(e=="show")a.css("opacity",0).css(f,b=="pos"?-g:g);var i={opacity:e=="show"?1:
-0};i[f]=(e=="show"?b=="pos"?"+=":"-=":b=="pos"?"-=":"+=")+g;a.animate(i,{queue:false,duration:d.duration,easing:d.options.easing,complete:function(){e=="hide"&&a.hide();c.effects.restore(a,h);c.effects.removeWrapper(a);d.callback&&d.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
-;/*
- * jQuery UI Effects Explode 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Effects/Explode
- *
- * Depends:
- *	jquery.effects.core.js
- */
-(function(j){j.effects.explode=function(a){return this.queue(function(){var c=a.options.pieces?Math.round(Math.sqrt(a.options.pieces)):3,d=a.options.pieces?Math.round(Math.sqrt(a.options.pieces)):3;a.options.mode=a.options.mode=="toggle"?j(this).is(":visible")?"hide":"show":a.options.mode;var b=j(this).show().css("visibility","hidden"),g=b.offset();g.top-=parseInt(b.css("marginTop"),10)||0;g.left-=parseInt(b.css("marginLeft"),10)||0;for(var h=b.outerWidth(true),i=b.outerHeight(true),e=0;e<c;e++)for(var f=
-0;f<d;f++)b.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-f*(h/d),top:-e*(i/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:h/d,height:i/c,left:g.left+f*(h/d)+(a.options.mode=="show"?(f-Math.floor(d/2))*(h/d):0),top:g.top+e*(i/c)+(a.options.mode=="show"?(e-Math.floor(c/2))*(i/c):0),opacity:a.options.mode=="show"?0:1}).animate({left:g.left+f*(h/d)+(a.options.mode=="show"?0:(f-Math.floor(d/2))*(h/d)),top:g.top+
-e*(i/c)+(a.options.mode=="show"?0:(e-Math.floor(c/2))*(i/c)),opacity:a.options.mode=="show"?1:0},a.duration||500);setTimeout(function(){a.options.mode=="show"?b.css({visibility:"visible"}):b.css({visibility:"visible"}).hide();a.callback&&a.callback.apply(b[0]);b.dequeue();j("div.ui-effects-explode").remove()},a.duration||500)})}})(jQuery);
-;/*
- * jQuery UI Effects Fold 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Effects/Fold
- *
- * Depends:
- *	jquery.effects.core.js
- */
-(function(c){c.effects.fold=function(a){return this.queue(function(){var b=c(this),j=["position","top","left"],d=c.effects.setMode(b,a.options.mode||"hide"),g=a.options.size||15,h=!!a.options.horizFirst,k=a.duration?a.duration/2:c.fx.speeds._default/2;c.effects.save(b,j);b.show();var e=c.effects.createWrapper(b).css({overflow:"hidden"}),f=d=="show"!=h,l=f?["width","height"]:["height","width"];f=f?[e.width(),e.height()]:[e.height(),e.width()];var i=/([0-9]+)%/.exec(g);if(i)g=parseInt(i[1],10)/100*
-f[d=="hide"?0:1];if(d=="show")e.css(h?{height:0,width:g}:{height:g,width:0});h={};i={};h[l[0]]=d=="show"?f[0]:g;i[l[1]]=d=="show"?f[1]:0;e.animate(h,k,a.options.easing).animate(i,k,a.options.easing,function(){d=="hide"&&b.hide();c.effects.restore(b,j);c.effects.removeWrapper(b);a.callback&&a.callback.apply(b[0],arguments);b.dequeue()})})}})(jQuery);
-;/*
- * jQuery UI Effects Highlight 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Effects/Highlight
- *
- * Depends:
- *	jquery.effects.core.js
- */
-(function(b){b.effects.highlight=function(c){return this.queue(function(){var a=b(this),e=["backgroundImage","backgroundColor","opacity"],d=b.effects.setMode(a,c.options.mode||"show"),f={backgroundColor:a.css("backgroundColor")};if(d=="hide")f.opacity=0;b.effects.save(a,e);a.show().css({backgroundImage:"none",backgroundColor:c.options.color||"#ffff99"}).animate(f,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){d=="hide"&&a.hide();b.effects.restore(a,e);d=="show"&&!b.support.opacity&&
-this.style.removeAttribute("filter");c.callback&&c.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
-;/*
- * jQuery UI Effects Pulsate 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Effects/Pulsate
- *
- * Depends:
- *	jquery.effects.core.js
- */
-(function(d){d.effects.pulsate=function(a){return this.queue(function(){var b=d(this),c=d.effects.setMode(b,a.options.mode||"show");times=(a.options.times||5)*2-1;duration=a.duration?a.duration/2:d.fx.speeds._default/2;isVisible=b.is(":visible");animateTo=0;if(!isVisible){b.css("opacity",0).show();animateTo=1}if(c=="hide"&&isVisible||c=="show"&&!isVisible)times--;for(c=0;c<times;c++){b.animate({opacity:animateTo},duration,a.options.easing);animateTo=(animateTo+1)%2}b.animate({opacity:animateTo},duration,
-a.options.easing,function(){animateTo==0&&b.hide();a.callback&&a.callback.apply(this,arguments)});b.queue("fx",function(){b.dequeue()}).dequeue()})}})(jQuery);
-;/*
- * jQuery UI Effects Scale 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Effects/Scale
- *
- * Depends:
- *	jquery.effects.core.js
- */
-(function(c){c.effects.puff=function(b){return this.queue(function(){var a=c(this),e=c.effects.setMode(a,b.options.mode||"hide"),g=parseInt(b.options.percent,10)||150,h=g/100,i={height:a.height(),width:a.width()};c.extend(b.options,{fade:true,mode:e,percent:e=="hide"?g:100,from:e=="hide"?i:{height:i.height*h,width:i.width*h}});a.effect("scale",b.options,b.duration,b.callback);a.dequeue()})};c.effects.scale=function(b){return this.queue(function(){var a=c(this),e=c.extend(true,{},b.options),g=c.effects.setMode(a,
-b.options.mode||"effect"),h=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:g=="hide"?0:100),i=b.options.direction||"both",f=b.options.origin;if(g!="effect"){e.origin=f||["middle","center"];e.restore=true}f={height:a.height(),width:a.width()};a.from=b.options.from||(g=="show"?{height:0,width:0}:f);h={y:i!="horizontal"?h/100:1,x:i!="vertical"?h/100:1};a.to={height:f.height*h.y,width:f.width*h.x};if(b.options.fade){if(g=="show"){a.from.opacity=0;a.to.opacity=1}if(g=="hide"){a.from.opacity=
-1;a.to.opacity=0}}e.from=a.from;e.to=a.to;e.mode=g;a.effect("size",e,b.duration,b.callback);a.dequeue()})};c.effects.size=function(b){return this.queue(function(){var a=c(this),e=["position","top","left","width","height","overflow","opacity"],g=["position","top","left","overflow","opacity"],h=["width","height","overflow"],i=["fontSize"],f=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],k=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=c.effects.setMode(a,
-b.options.mode||"effect"),n=b.options.restore||false,m=b.options.scale||"both",l=b.options.origin,j={height:a.height(),width:a.width()};a.from=b.options.from||j;a.to=b.options.to||j;if(l){l=c.effects.getBaseline(l,j);a.from.top=(j.height-a.from.height)*l.y;a.from.left=(j.width-a.from.width)*l.x;a.to.top=(j.height-a.to.height)*l.y;a.to.left=(j.width-a.to.width)*l.x}var d={from:{y:a.from.height/j.height,x:a.from.width/j.width},to:{y:a.to.height/j.height,x:a.to.width/j.width}};if(m=="box"||m=="both"){if(d.from.y!=
-d.to.y){e=e.concat(f);a.from=c.effects.setTransition(a,f,d.from.y,a.from);a.to=c.effects.setTransition(a,f,d.to.y,a.to)}if(d.from.x!=d.to.x){e=e.concat(k);a.from=c.effects.setTransition(a,k,d.from.x,a.from);a.to=c.effects.setTransition(a,k,d.to.x,a.to)}}if(m=="content"||m=="both")if(d.from.y!=d.to.y){e=e.concat(i);a.from=c.effects.setTransition(a,i,d.from.y,a.from);a.to=c.effects.setTransition(a,i,d.to.y,a.to)}c.effects.save(a,n?e:g);a.show();c.effects.createWrapper(a);a.css("overflow","hidden").css(a.from);
-if(m=="content"||m=="both"){f=f.concat(["marginTop","marginBottom"]).concat(i);k=k.concat(["marginLeft","marginRight"]);h=e.concat(f).concat(k);a.find("*[width]").each(function(){child=c(this);n&&c.effects.save(child,h);var o={height:child.height(),width:child.width()};child.from={height:o.height*d.from.y,width:o.width*d.from.x};child.to={height:o.height*d.to.y,width:o.width*d.to.x};if(d.from.y!=d.to.y){child.from=c.effects.setTransition(child,f,d.from.y,child.from);child.to=c.effects.setTransition(child,
-f,d.to.y,child.to)}if(d.from.x!=d.to.x){child.from=c.effects.setTransition(child,k,d.from.x,child.from);child.to=c.effects.setTransition(child,k,d.to.x,child.to)}child.css(child.from);child.animate(child.to,b.duration,b.options.easing,function(){n&&c.effects.restore(child,h)})})}a.animate(a.to,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){a.to.opacity===0&&a.css("opacity",a.from.opacity);p=="hide"&&a.hide();c.effects.restore(a,n?e:g);c.effects.removeWrapper(a);b.callback&&
-b.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
-;/*
- * jQuery UI Effects Shake 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Effects/Shake
- *
- * Depends:
- *	jquery.effects.core.js
- */
-(function(d){d.effects.shake=function(a){return this.queue(function(){var b=d(this),j=["position","top","left"];d.effects.setMode(b,a.options.mode||"effect");var c=a.options.direction||"left",e=a.options.distance||20,l=a.options.times||3,f=a.duration||a.options.duration||140;d.effects.save(b,j);b.show();d.effects.createWrapper(b);var g=c=="up"||c=="down"?"top":"left",h=c=="up"||c=="left"?"pos":"neg";c={};var i={},k={};c[g]=(h=="pos"?"-=":"+=")+e;i[g]=(h=="pos"?"+=":"-=")+e*2;k[g]=(h=="pos"?"-=":"+=")+
-e*2;b.animate(c,f,a.options.easing);for(e=1;e<l;e++)b.animate(i,f,a.options.easing).animate(k,f,a.options.easing);b.animate(i,f,a.options.easing).animate(c,f/2,a.options.easing,function(){d.effects.restore(b,j);d.effects.removeWrapper(b);a.callback&&a.callback.apply(this,arguments)});b.queue("fx",function(){b.dequeue()});b.dequeue()})}})(jQuery);
-;/*
- * jQuery UI Effects Slide 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Effects/Slide
- *
- * Depends:
- *	jquery.effects.core.js
- */
-(function(c){c.effects.slide=function(d){return this.queue(function(){var a=c(this),h=["position","top","left"],e=c.effects.setMode(a,d.options.mode||"show"),b=d.options.direction||"left";c.effects.save(a,h);a.show();c.effects.createWrapper(a).css({overflow:"hidden"});var f=b=="up"||b=="down"?"top":"left";b=b=="up"||b=="left"?"pos":"neg";var g=d.options.distance||(f=="top"?a.outerHeight({margin:true}):a.outerWidth({margin:true}));if(e=="show")a.css(f,b=="pos"?-g:g);var i={};i[f]=(e=="show"?b=="pos"?
-"+=":"-=":b=="pos"?"-=":"+=")+g;a.animate(i,{queue:false,duration:d.duration,easing:d.options.easing,complete:function(){e=="hide"&&a.hide();c.effects.restore(a,h);c.effects.removeWrapper(a);d.callback&&d.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);
-;/*
- * jQuery UI Effects Transfer 1.8.2
- *
- * Copyright (c) 2010 AUTHORS.txt (http://jqueryui.com/about)
- * Dual licensed under the MIT (MIT-LICENSE.txt)
- * and GPL (GPL-LICENSE.txt) licenses.
- *
- * http://docs.jquery.com/UI/Effects/Transfer
- *
- * Depends:
- *	jquery.effects.core.js
- */
-(function(e){e.effects.transfer=function(a){return this.queue(function(){var b=e(this),c=e(a.options.to),d=c.offset();c={top:d.top,left:d.left,height:c.innerHeight(),width:c.innerWidth()};d=b.offset();var f=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(a.options.className).css({top:d.top,left:d.left,height:b.innerHeight(),width:b.innerWidth(),position:"absolute"}).animate(c,a.duration,a.options.easing,function(){f.remove();a.callback&&a.callback.apply(b[0],arguments);
-b.dequeue()})})}})(jQuery);
-;
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/jquery.livequery.min.js b/sites/all/themes/vibio/js/jquery.livequery.min.js
deleted file mode 100644
index 5be66e7..0000000
--- a/sites/all/themes/vibio/js/jquery.livequery.min.js
+++ /dev/null
@@ -1,9 +0,0 @@
-/* Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
- * Dual licensed under the MIT (MIT_LICENSE.txt)
- * and GPL Version 2 (GPL_LICENSE.txt) licenses.
- *
- * Version: 1.1.1
- * Requires jQuery 1.3+
- * Docs: http://docs.jquery.com/Plugins/livequery
- */
-(function(a){a.extend(a.fn,{livequery:function(e,d,c){var b=this,f;if(a.isFunction(e)){c=d,d=e,e=undefined}a.each(a.livequery.queries,function(g,h){if(b.selector==h.selector&&b.context==h.context&&e==h.type&&(!d||d.$lqguid==h.fn.$lqguid)&&(!c||c.$lqguid==h.fn2.$lqguid)){return(f=h)&&false}});f=f||new a.livequery(this.selector,this.context,e,d,c);f.stopped=false;f.run();return this},expire:function(e,d,c){var b=this;if(a.isFunction(e)){c=d,d=e,e=undefined}a.each(a.livequery.queries,function(f,g){if(b.selector==g.selector&&b.context==g.context&&(!e||e==g.type)&&(!d||d.$lqguid==g.fn.$lqguid)&&(!c||c.$lqguid==g.fn2.$lqguid)&&!this.stopped){a.livequery.stop(g.id)}});return this}});a.livequery=function(b,d,f,e,c){this.selector=b;this.context=d;this.type=f;this.fn=e;this.fn2=c;this.elements=[];this.stopped=false;this.id=a.livequery.queries.push(this)-1;e.$lqguid=e.$lqguid||a.livequery.guid++;if(c){c.$lqguid=c.$lqguid||a.livequery.guid++}return this};a.livequery.prototype={stop:function(){var b=this;if(this.type){this.elements.unbind(this.type,this.fn)}else{if(this.fn2){this.elements.each(function(c,d){b.fn2.apply(d)})}}this.elements=[];this.stopped=true},run:function(){if(this.stopped){return}var d=this;var e=this.elements,c=a(this.selector,this.context),b=c.not(e);this.elements=c;if(this.type){b.bind(this.type,this.fn);if(e.length>0){a.each(e,function(f,g){if(a.inArray(g,c)<0){a.event.remove(g,d.type,d.fn)}})}}else{b.each(function(){d.fn.apply(this)});if(this.fn2&&e.length>0){a.each(e,function(f,g){if(a.inArray(g,c)<0){d.fn2.apply(g)}})}}}};a.extend(a.livequery,{guid:0,queries:[],queue:[],running:false,timeout:null,checkQueue:function(){if(a.livequery.running&&a.livequery.queue.length){var b=a.livequery.queue.length;while(b--){a.livequery.queries[a.livequery.queue.shift()].run()}}},pause:function(){a.livequery.running=false},play:function(){a.livequery.running=true;a.livequery.run()},registerPlugin:function(){a.each(arguments,function(c,d){if(!a.fn[d]){return}var b=a.fn[d];a.fn[d]=function(){var e=b.apply(this,arguments);a.livequery.run();return e}})},run:function(b){if(b!=undefined){if(a.inArray(b,a.livequery.queue)<0){a.livequery.queue.push(b)}}else{a.each(a.livequery.queries,function(c){if(a.inArray(c,a.livequery.queue)<0){a.livequery.queue.push(c)}})}if(a.livequery.timeout){clearTimeout(a.livequery.timeout)}a.livequery.timeout=setTimeout(a.livequery.checkQueue,20)},stop:function(b){if(b!=undefined){a.livequery.queries[b].stop()}else{a.each(a.livequery.queries,function(c){a.livequery.queries[c].stop()})}}});a.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html");a(function(){a.livequery.play()})})(jQuery);
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/README.md b/sites/all/themes/vibio/js/mbMenu/README.md
deleted file mode 100644
index a68acaa..0000000
--- a/sites/all/themes/vibio/js/mbMenu/README.md
+++ /dev/null
@@ -1,11 +0,0 @@
-# mb.menu
-
-__An open source jQuery component to easily build a tree menu.__
-
-![mb.menu](http://pupunzi.com/gitHub/mb.menu.jpg)
-
-## [go to the demo](http://pupunzi.com/#mb.components/mb._menu/menu.html)
-## [go to the Doc](http://wiki.github.com/pupunzi/jquery.mb.menu/)
-
-
-[jquery.mb.components](http://pupunzi.com/), another way of thinking the web
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/css/menu_black.css b/sites/all/themes/vibio/js/mbMenu/css/menu_black.css
deleted file mode 100644
index 9ff9c34..0000000
--- a/sites/all/themes/vibio/js/mbMenu/css/menu_black.css
+++ /dev/null
@@ -1,236 +0,0 @@
-/*
-* jQuery.mb.components: jquery.mb.menu
-*  2001 - 2010 Matteo Bicocchi (pupunzi), Open Lab
-*
-*/
-
-@charset "UTF-8";
-
-body{
-  font-family:"Lucida Sans Unicode","Lucida Grande",Helvetica,Arial,sans-serif;
-  font-size:14px;
-  color:gray;
-}
-.mbmenu{
-  display:none;
-}
-.rootVoices{
-  background-color:#EDEDED;
-  padding:5px;
-  padding-bottom:0;
-}
-.rootVoices td.rootVoice {
-  vertical-align:middle;
-/*background-color:#fff;*/
-  width:120px;
-  font-family:Arial,Helvetica,sans-serif;
-  text-shadow:#fff 1px 1px 1px;  
-  color: gray;
-  font-size:14px;
-  line-height:18px;
-  padding:8px;
-  cursor: pointer;
-}
-
-.rootVoices td.rootVoice.selected{
-  background: black url("../images/bgnd_sel_4.png");
-  padding:8px;
-  color:#ffffff;
-  cursor: pointer;
-  font-size:14px;
-  text-shadow:#660033 1px 1px 1px;
-  /*
-    -moz-box-shadow:#999 2px 2px 10px;
-    -webkit-box-shadow:#999 2px 2px 10px;
-  */
-  -moz-border-radius:8px 8px 0 0px;
-  -webkit-border-top-right-radius:8px;
-  -webkit-border-top-left-radius:8px;
-  -webkit-border-bottom-right-radius:0px;
-  -webkit-border-bottom-left-radius:0px;
-
-}
-.rootVoices td.rootVoice.disabled.selected{
-  background:#999!important;
-  color:#666;
-  text-shadow:#ddd 1px 1px 1px;
-}
-
-.rootVoices.vertical {
-  width:140px;
-}
-.rootVoices.vertical td.rootVoice{
-  -moz-border-radius:8px 0px 0 8px;
-  -webkit-border-top-right-radius:0px;
-  -webkit-border-top-left-radius:8px;
-  -webkit-border-bottom-right-radius:0px;
-  -webkit-border-bottom-left-radius:8px;
-}
-
-/**/
-
-.menuContainer{
-/*overflow:hidden;*/
-  position:absolute;
-  background-color:gray;
-  border-top:5px solid black;
-  padding:0;
-  -moz-box-shadow:#999 2px 2px 10px;
-  -webkit-box-shadow:#999 2px 2px 10px;
-  box-shadow:#999 2px 2px 10px;
-  -moz-border-radius: 0 0 8px 8px;
-  -webkit-border-top-right-radius:0px;
-  -webkit-border-top-left-radius:0px;
-  -webkit-border-bottom-right-radius:8px;
-  -webkit-border-bottom-left-radius:8px;
-}
-.menuContainer.submenuContainer{
-  border-top:none!important;
-}
-
-.menuContainer.disabled{
-  border-top:5px solid #999;
-  background-color:gray;
-}
-.menuContainer .line{
-  background-color:transparent;
-  width:100%;
-}
-.menuContainer .line.title {
-  background-color:black;
-  font-family:Arial,Helvetica,sans-serif;
-  font-size:14px;
-/*border-bottom:1px solid black;*/
-}
-.menuContainer.disabled .line.title {
-  background-color:#999;
-}
-.menuContainer .line.title a{
-  font-size:14px;
-  color:#ccc;
-}
-.menuContainer.disabled .line.title a{
-  font-size:14px;
-  color:#666;
-  text-shadow:#999 1px 1px 1px;
-}
-.menuContainer td a{
-  text-decoration:none;
-  color:#f3f3f3;
-  text-shadow:#666 1px 1px 1px;
-}
-.menuContainer td.voice{
-  font-family:Arial,Helvetica,sans-serif;
-  font-size:14px;
-  padding:7px;
-}
-.menuContainer .separator{
-  background-color:#999;
-  height:1px;
-  padding:0;
-  margin:0;
-}
-.menuContainer td.img{
-  font-family:Arial,Helvetica,sans-serif;
-  text-align:center;
-  font-size:12px;
-  color: #c3c3c3;
-  background-color:transparent;
-  width:24px;
-  padding:5px;
-}
-.menuContainer td.img img{
-  width:20px;
-}
-.menuContainer .textBox{
-  padding: 10px;
-  font-family:Arial,Helvetica,sans-serif;
-  font-size:12px;
-  color: #c3c3c3;
-}
-.menuContainer .selected td{
-  background-color:#f3f3f3;
-  background-image:url("../images/bgnd_sel_2.jpg")
-}
-.menuContainer .selected td a{
-  color:#000;
-  text-shadow:#fff 2px 2px 1px;
-  display:block;
-}
-.menuContainer .disabled td, .menuContainer .disabled td a {
-  color:#555;
-  text-shadow:#999 1px 1px 1px;
-}
-.menuContainer .subMenuOpener{
-  background-image:url("../images/menuArrow_w.gif");
-  background-repeat:no-repeat;
-  background-position:right;
-}
-.menuContainer .selected .subMenuOpener{
-  background-image:url("../images/menuArrow.gif");
-  background-repeat:no-repeat;
-  background-position:right;
-}
-
-/*BOX MENU*/
-
-.boxMenu{
-  color:#f3f3f3;
-  border-top:8px solid black;
-  background:url("../images/box_top.png") repeat-x;
-}
-.boxMenu h4{
-  white-space:nowrap;
-  margin:0 0 20px 0;
-  padding:3px;
-  font:18px/20px georgia, serif;
-  padding-right:20px;
-  text-shadow:#666 2px 2px 1px;
-}
-
-.boxMenu td{
-  min-width:160px;
-  vertical-align:top;
-  border-right:1px solid #999;
-}
-.boxMenu td:hover{
-  background:url(../images/box_menu_over.png);
-  -moz-box-shadow:#666 2px 2px 4px;
-  -webkit-box-shadow:#666 2px 2px 4px;
-}
-
-.boxMenu td:hover a{
-  margin-right:3px;
-  text-shadow:#fff 1px 1px 1px;
-  color:#000;
-}
-
-.boxMenu td:last-child{
-  min-width:160px;
-  vertical-align:top;
-  border-right:none;
-}
-
-.boxMenu a{
-  font-size:14px;
-  white-space:nowrap;
-  display:block;
-  padding:5px;
-  margin-bottom:5px;
-}
-
-.boxMenu a img{
-  padding-right:5px;
-}
-
-.boxMenu a:hover{
-  color:#000;
-  text-shadow:#fff 2px 2px 1px;
-  background-image:url("../images/bgnd_sel_2.jpg");
-  -moz-box-shadow:#666 2px 2px 4px;
-  -webkit-box-shadow:#666 2px 2px 4px;
-}
-
-.boxMenu a img{
-  border:0;
-}
diff --git a/sites/all/themes/vibio/js/mbMenu/css/menu_red.css b/sites/all/themes/vibio/js/mbMenu/css/menu_red.css
deleted file mode 100644
index b1128af..0000000
--- a/sites/all/themes/vibio/js/mbMenu/css/menu_red.css
+++ /dev/null
@@ -1,235 +0,0 @@
-body{
-  font-family:"Lucida Sans Unicode","Lucida Grande",Helvetica,Arial,sans-serif;
-  font-size:14px;
-  color:gray;
-}
-.mbmenu{
-  display:none;
-}
-.rootVoices{
-  background-color:#EDEDED;
-  padding:5px;
-  padding-bottom:0;
-}
-.rootVoices td.rootVoice {
-  vertical-align:middle;
-/*background-color:#fff;*/
-  width:120px;
-  font-family:Arial,Helvetica,sans-serif;
-  text-shadow:#fff 1px 1px 1px;
-  color: gray;
-  font-size:14px;
-  line-height:18px;
-  padding:8px;
-  cursor: pointer;
-}
-
-.rootVoices td.rootVoice.selected{
-	background: orangered url("../images/bgnd_sel_4.png");
-	padding:8px;
-	color:#ffffff;
-	cursor: pointer;
-	font-size:14px;
-  text-shadow:#660033 1px 1px 1px;
-  -moz-box-shadow:#999 2px 2px 10px;
-  -webkit-box-shadow:#999 2px 2px 10px;
-
-}
-.rootVoices td.rootVoice.disabled.selected{
-  -moz-box-shadow:#ddd 2px 2px 10px;
-  -webkit-box-shadow:#ddd 2px 2px 10px;
-  background:#f9f9f9!important;
-  color:#aaa;
-  text-shadow:#fff 1px 1px 1px;
-}
-
-
-
-.rootVoices.vertical {
-	width:140px;
-}
-.rootVoices.vertical td.rootVoice{
-	-moz-border-radius:8px 0px 0 8px;
-	-webkit-border-top-right-radius:0px;
-	-webkit-border-top-left-radius:8px;
-	-webkit-border-bottom-right-radius:0px;
-	-webkit-border-bottom-left-radius:8px;
-}
-
-.menuShadow{
-	padding:2px;
-	padding-bottom:0px;
-	left:-2px;
-	top:1px;
-}
-
-
-.menuContainer{
-  /*overflow:hidden;*/
-  position:absolute;
-	background-color:#f3f3f3;
-  border-top:5px solid #B23305;
-	padding:0;
-  -moz-box-shadow:#999 2px 5px 10px;
-  -webkit-box-shadow:#999 2px 5px 10px;
-  -moz-border-radius: 0 0 8px 8px;
-  -webkit-border-top-right-radius:0px;
-  -webkit-border-top-left-radius:0px;
-  -webkit-border-bottom-right-radius:8px;
-  -webkit-border-bottom-left-radius:8px;
-}
-.menuContainer.submenuContainer{
-  border-top:none!important;
-}
-
-.menuContainer.disabled{
-  -moz-box-shadow:#ddd 2px 5px 10px;
-  -webkit-box-shadow:#ddd 2px 5px 10px;
-  border-top:5px solid #f9f9f9;
-  background-color: #f3f3f3;
-}
-.menuContainer .line{
-	background-color:transparent;
-	width:100%;
-}
-.menuContainer .line.title {
-	background-color:#B23305;
-	font-family:Arial,Helvetica,sans-serif;
-	font-size:14px;
-/*border-bottom:1px solid black;*/
-}
-.menuContainer.disabled .line.title {
-  background-color: #f9f9f9;
-}
-.menuContainer .line.title a{
-	font-size:14px;
-  color:#FFF;
-  text-shadow:#660033 1px 1px 1px;
-}
-.menuContainer.disabled .line.title a{
-  font-size:14px;
-  color:#aaa;
-  text-shadow:#fff 1px 1px 1px;
-}
-.menuContainer td a{
-	text-decoration:none;
-	color: #666;
-  text-shadow:#fff 1px 1px 1px;
-}
-.menuContainer td.voice{
-	font-family:Arial,Helvetica,sans-serif;
-	font-size:12px;
-	padding:7px;
-}
-.menuContainer .separator{
-	background-color:#999;
-	height:1px;
-  padding:0;
-  margin:0;
-}
-.menuContainer td.img{
-	font-family:Arial,Helvetica,sans-serif;
-	text-align:center;
-	font-size:12px;
-	color: #c3c3c3;
-	background-color:transparent;
-	width:24px;
-	padding:5px;
-}
-.menuContainer td.img img{
-	width:20px;
-}
-.menuContainer .textBox{
-	padding: 10px;
-	font-family:Arial,Helvetica,sans-serif;
-	font-size:12px;
-	color: #999;
-}
-.menuContainer .selected td{
-	background-color:#f3f3f3;
-	background-image:url("../images/bgnd_sel_2.jpg")
-}
-.menuContainer .selected td a{
-	color:#000;
-  text-shadow:#fff 2px 2px 1px;
-  display:block;  
-}
-.menuContainer .disabled td, .menuContainer .disabled td a {
-  color:#bbb;
-  text-shadow:#fff 1px 1px 4px;
-}
-.menuContainer .subMenuOpener{
-	background-image:url("../images/menuArrow.gif");
-	background-repeat:no-repeat;
-	background-position:right;
-}
-.menuContainer .selected .subMenuOpener{
-	background-image:url("../images/menuArrow.gif");
-	background-repeat:no-repeat;
-	background-position:right;
-}
-
-/*BOX MENU*/
-
-.boxMenu{
-  color:#f3f3f3;
-  border-top:8px solid #B23305;
-  background:url("../images/box_top.png") repeat-x;
-}
-.boxMenu h4{
-  white-space:nowrap;
-  margin:0 0 20px 0;
-  padding:3px;
-  font:18px/20px georgia, serif;
-  padding-right:20px;
-  text-shadow:#666 2px 2px 1px;
-}
-
-.boxMenu td{
-  min-width:160px;
-  vertical-align:top;
-  border-right:1px solid #999;
-}
-
-.boxMenu td:hover{
-  background:#f3f3f3;
-  -moz-box-shadow:#666 2px 2px 4px;
-  -webkit-box-shadow:#666 2px 2px 4px;
-}
-
-.boxMenu td:hover a{
-  margin-right:3px;
-  text-shadow:#fff 1px 1px 1px;
-  color:#000;
-}
-
-.boxMenu td:last-child{
-  min-width:160px;
-  vertical-align:top;
-  border-right:none;
-}
-
-.boxMenu a{
-  font-size:14px;
-  white-space:nowrap;
-  display:block;
-  padding:5px;
-  margin-bottom:5px;
-}
-
-.boxMenu a img{
-  padding-right:5px;
-}
-
-.boxMenu a:hover{
-  color:#000;
-  text-shadow:#fff 2px 2px 1px;
-  background-image:url("../images/bgnd_sel_2.jpg");
-  -moz-box-shadow:#666 2px 2px 4px;
-  -webkit-box-shadow:#666 2px 2px 4px;
-}
-
-.boxMenu a img{
-  border:0;
-}
- 
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/demo.html b/sites/all/themes/vibio/js/mbMenu/demo.html
deleted file mode 100644
index 5f05049..0000000
--- a/sites/all/themes/vibio/js/mbMenu/demo.html
+++ /dev/null
@@ -1,417 +0,0 @@
-<!DOCTYPE html>
-<!--
-  ~ jquery.mb.components
-  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
-  ~ email: info@pupunzi.com
-  ~ site: http://pupunzi.com
-  ~
-  ~ Licences: MIT, GPL
-  ~ http://www.opensource.org/licenses/mit-license.php
-  ~ http://www.gnu.org/licenses/gpl.html
-  -->
-
-<html>
-<head>
-<title>mbMenu</title>
-<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-
-<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
-<script type="text/javascript" src="inc/jquery.metadata.js"></script>
-<script type="text/javascript" src="inc/jquery.hoverIntent.js"></script>
-<script type="text/javascript" src="inc/mbMenu.js"></script>
-
-<!--<link rel="stylesheet" type="text/css" href="css/menu_black.css" media="screen" />-->
-<link rel="stylesheet" type="text/css" href="css/menu_black.css" media="screen" />
-
-<style type="text/css">
-  body  a.style{
-    color:#AF3002;
-    font-family:sans-serif;
-    font-size:13px;
-    text-decoration:none;
-  }
-</style>
-
-<script type="text/javascript">
-  $(function(){
-    if (self.location.href == top.location.href){
-      $("body").css({font:"normal 13px/16px 'trebuchet MS', verdana, sans-serif"});
-      var logo=$("<a href='http://pupunzi.com'><img id='logo' border='0' src='http://pupunzi.com/images/logo.png' alt='mb.ideas.repository' style='display:none;'></a>");
-      $("body").prepend(logo);
-      $("#logo").fadeIn();
-    }
-  });
-</script>
-
-<style type="text/css">
-
-  body  a.style{
-    color:#AF3002;
-    font-family:sans-serif;
-    font-size:13px;
-    text-decoration:none;
-  }
-
-  .wrapper{
-    font-family:Arial, Helvetica, sans-serif;
-    margin-top:50px;
-    margin-left:50px;
-  }
-
-  .wrapper h1{
-    font-family:Arial, Helvetica, sans-serif;
-    font-size:26px;
-  }
-  button{
-    padding:4px;
-    display:inline-block;
-    cursor:pointer;
-    font:12px/14px Arial, Helvetica, sans-serif;
-    color:#666;
-    border:1px solid #999;
-    background-color:#eee;
-    -moz-border-radius:10px;
-    -webkit-border-radius:10px;
-    -moz-box-shadow:#999 2px 0px 3px;
-    -webkit-box-shadow:#999 2px 0px 3px;
-    margin-bottom:4px;
-  }
-  button:hover{
-    color:#aaa;
-    background-color:#000;
-  }
-  :focus {
-    outline: 0;
-  }
-
-  span.btn{
-    padding:10px;
-    display:inline-block;
-    cursor:pointer;
-    font:12px/14px Arial, Helvetica, sans-serif;
-    color:#aaa;
-    background-color:#eee;
-    -moz-border-radius:10px;
-    -webkit-border-radius:10px;
-    -moz-box-shadow:#999 2px 0px 3px;
-    -webkit-box-shadow:#999 2px 0px 3px;
-  }
-  span.btn:hover{
-    background-color:#000;
-  }
-  
-  .msgBox{
-    position:absolute;
-    width:250px;
-    height:60px;
-    background:black;
-    -moz-box-shadow:#999 2px 0px 3px;
-    -webkit-box-shadow:#999 2px 0px 3px;    
-    -moz-border-radius:10px;
-    -webkit-border-radius:10px;
-    padding:10px;
-    padding-top:30px;
-    top:10px;
-    right:10px;
-    font:20px/24px Arial, Helvetica, sans-serif;
-  }
-
-</style>
-
-<script type="text/javascript">
-
-  /*
-   * DEFAULT OPTIONS
-   *
-   options: {
-   template:"yourMenuVoiceTemplate",--> the url that returns the menu voices via ajax. the data passed in the request is the "menu" attribute value as "menuId"
-   additionalData:"",								--> if you need additional data to pass to the ajax call
-   menuSelector:".menuContainer",		--> the css class for the menu container
-   menuWidth:150,										--> min menu width
-   openOnRight:false,								--> if the menu has to open on the right insted of bottom
-   iconPath:"ico/",									--> the path for the icons on the left of the menu voice
-   hasImages:true,									--> if the menuvoices have an icon (a space on the left is added for the icon)
-   fadeInTime:100,									--> time in milliseconds to fade in the menu once you roll over the root voice
-   fadeOutTime:200,									--> time in milliseconds to fade out the menu once you close the menu
-   menuTop:0,												--> top space from the menu voice caller
-   menuLeft:0,											--> left space from the menu voice caller
-   submenuTop:0,										--> top space from the submenu voice caller
-   submenuLeft:4,										--> left space from the submenu voice caller
-   opacity:1,												--> opacity of the menu
-   shadow:false,										--> if the menu has a shadow
-   shadowColor:"black",							--> the color of the shadow
-   shadowOpacity:.2,								--> the opacity of the shadow
-   openOnClick:true,								--> if the menu has to be opened by a click event (otherwise is opened by a hover event)
-   closeOnMouseOut:false,						--> if the menu has to be cloesed on mouse out
-   closeAfter:500,									--> time in millisecond to whait befor closing menu once you mouse out
-   minZindex:"auto", 								--> if set to "auto" the zIndex is automatically evaluate, otherwise it start from your settings ("auto" or int)
-   hoverInted:0, 										--> if you use jquery.hoverinted.js set this to time in milliseconds to delay the hover event (0= false)
-   onContextualMenu:function(o,e){} --> a function invoked once you call a contextual menu; it pass o (the menu you clicked on) and e (the event)
-   },
-   */
-
-  $(function(){
-    $(".myMenu").buildMenu(
-    {
-      template:"menuVoices.html",
-      additionalData:"pippo=1",
-      menuWidth:200,
-      openOnRight:false,
-      menuSelector: ".menuContainer",
-      iconPath:"ico/",
-      hasImages:true,
-      fadeInTime:100,
-      fadeOutTime:300,
-      adjustLeft:2,
-      minZindex:"auto",
-      adjustTop:10,
-      opacity:.95,
-      shadow:false,
-      shadowColor:"#ccc",
-      hoverIntent:0,
-      openOnClick:true,
-      closeOnMouseOut:false,
-      closeAfter:1000,
-      submenuHoverIntent:200
-    });
-
-    $(".vertMenu").buildMenu(
-    {
-      template:"menuVoices.html",
-      menuWidth:170,
-      openOnRight:true,
-      menuSelector: ".menuContainer",
-      iconPath:"ico/",
-      hasImages:true,
-      fadeInTime:200,
-      fadeOutTime:200,
-      adjustLeft:0,
-      adjustTop:0,
-      opacity:.95,
-      openOnClick:false,
-      minZindex:200,
-      shadow:false,
-      hoverIntent:300,
-      submenuHoverIntent:300,
-      closeOnMouseOut:true
-    });
-
-    $(document).buildContextualMenu(
-    {
-      template:"menuVoices.html",
-      menuWidth:200,
-      overflow:2,
-      menuSelector: ".menuContainer",
-      iconPath:"ico/",
-      hasImages:false,
-      fadeInTime:100,
-      fadeOutTime:100,
-      adjustLeft:0,
-      adjustTop:0,
-      opacity:.99,
-      closeOnMouseOut:false,
-      onContextualMenu:function(o,e){}, //params: o = the contextual menu,e = the event
-      shadow:false
-    });
-  });
-
-  //this function get the id of the element that fires the context menu.
-  function testForContextMenu(el){
-    if (!el) el= $.mbMenu.lastContextMenuEl;
-    alert("the ID of the element is:   "+$(el).attr("id"));
-  }
-
-  function recallcMenu(el){
-    if (!el) el= $.mbMenu.lastContextMenuEl;
-    var cmenu=+$(el).attr("cmenu");
-    $(cmenu).remove();
-  }
-
-  function loadFlash(){
-    $.ajax({
-      url:"testFlash/test.html",
-      success:function(html){
-        $("#flashTest").html(html);
-      }
-    });
-  }
-
-  function showMessage(msg){
-    var msgBox=$("<div>").addClass("msgBox");
-    $("body").append(msgBox);
-    msgBox.append("You click on: <br>"+msg);
-    setTimeout(function(){msgBox.fadeOut(500,function(){msgBox.remove();})},3000)
-  }
-
-</script>
-
-</head>
-<body bgcolor="#ffffff">
-<div class="wrapper">
-  <h1>mb.menu.demo</h1>
-change css:
-
-  <button onclick="$('[rel=stylesheet]').attr('href','css/menu_red.css')">red</button>
-  <button onclick="$('[rel=stylesheet]').attr('href','css/menu_black.css')">black</button>
-  <table width="100%"  border="0" cellpadding="0" cellspacing="0" bgcolor="#EDEDED">
-    <tr>
-      <td width="180" height="33" style="padding:10px" class="style">
-      </td>
-      <td valign="bottom">
-        <table  border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF" class="container">
-          <tr>
-            <td class="myMenu">
-
-              <!-- start horizontal menu -->
-
-              <table class="rootVoices" cellspacing='0' cellpadding='0' border='0'><tr>
-                <td class="rootVoice {menu: 'box_menu'}" >box menu</td>
-                <td class="rootVoice {menu: 'menu_12'}" >ajax menu</td>
-                <td class="rootVoice {menu: 'menu_2'}" >menu 1</td>
-                <td class="rootVoice {menu: 'menu_2', disabled:true}" >menu disabled</td>
-                <td class="rootVoice {menu: 'menu_3'}" >menu 2</td>
-                <td class="rootVoice {menu: 'empty'}" onclick="showMessage('empty root menu')">empty menu</td>
-              </tr></table>
-
-              <!-- end horizontal menu -->
-
-            </td>
-          </tr>
-        </table>
-      </td>
-    </tr>
-  </table>
-  <div id="flashTest"><span onclick="loadFlash();" style="cursor:pointer"><br> click here to load a flash movie and test the menu over it!</span></div>
-
-  <br/>
-  <br/>
-  <br/>
-  <br/>
-  <br/>
-  <br/>
-  <!-- start conextual menu  -->
-  <a class="cmVoice {cMenu:'menu_12'}" id="pippo"> Contextual menu 1</a>&nbsp;&nbsp;&nbsp;<a class="cmVoice {cMenu:'conext_menu_1'}" id="pluto"> Contextual menu 2</a>
-  <!-- end conextual menu  -->
-  <br/>
-  <br/>
-  <br/>
-  <br/>
-  <div class="containerContent" style="float:right; margin-left:150px; margin-right:100px">
-    <input type="text" name="tuoTesto" value="explorer test" /><br/><br/>
-    <a class="style" href="#">Lorem ipsum dolor</a> sit amet, consectetuer adipiscing elit. Morbi felis leo, consequat et, lacinia a, facilisis sit amet, nulla. In ornare tincidunt ante. Donec non sem. Morbi augue mi, accumsan non, nonummy ac, tempor eleifend, lacus. Nunc quam. Suspendisse tincidunt, purus sit amet adipiscing placerat, leo nunc interdum nulla, sed suscipit lacus felis ac enim. Maecenas nibh. Cras at tortor. Maecenas leo. Nullam eget tellus. Curabitur imperdiet dignissim sem. Nullam viverra viverra leo.
-    Mauris ac ipsum. Aenean eget magna. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nullam mollis ante id ipsum. Sed elementum. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos hymenaeos. Duis lobortis rutrum felis. Vestibulum varius. In tincidunt turpis sed justo. Suspendisse potenti. Ut sodales risus non dui. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos hymenaeos. Proin lectus. Pellentesque vel arcu. Etiam sem lacus, molestie at, euismod non, lobortis vitae, mi.
-  </div>
-
-  <!-- start vertical menu -->
-  <div class="vertMenu">
-    <table class="rootVoices vertical" cellspacing='0' cellpadding='0' border='0'>
-      <tr><td class="rootVoice {menu: 'box_menu'}" >box menu</td></tr>
-      <tr><td class="rootVoice {menu: 'menu_12'}" >ajax menu</td></tr>
-      <tr><td class="rootVoice {menu: 'menu_1'}" >menu 1</td></tr>
-      <tr><td class="rootVoice {menu: 'menu_3'}" >menu 3</td></tr>
-    </table>
-  </div>
-  <!-- end vertical menu -->
-
-  <!-- menues -->
-  <div id="menu_1" class="mbmenu">
-    <a rel="title" >title menu_1.1</a> <!-- menuvoice title-->
-    <a href="http://patapage.com" class="{img: 'ico_view.gif'}" >menu_1.1 (href with target "_self") </a> <!-- menuvoice with href-->
-    <a class="{action: 'showMessage(\'menu_1.2\')'}" >menu_1.2</a> <!-- menuvoice with js action-->
-    <a rel="separator"> </a> <!-- menuvoice separator-->
-    <a href="#" class="{action: 'showMessage(\'menu_1.3\')', disabled:true}">menu_1.3</a> <!-- menuvoice disabled-->
-    <a class="{action: 'showMessage(\'menu_1.4\')', menu:'menu_1', img: '24-book-blue-check.png'}">menu_1.4</a><!-- menuvoice with js action, image and submenu-->
-  </div>
-
-  <div id="menu_2" class="mbmenu">
-    <a rel="title" class="{action: 'showMessage(\'menu_2.1\')', img: 'icon_13.png'}">choose one of these links</a>
-    <a class="{action: 'showMessage(\'menu_2.2\')'}">menu_2.2</a>
-    <a class="{menu: 'sub_menu_1', img: 'icon_14.png', disabled:true}">menu_2.3 (disabled)</a>
-    <a class="{menu: 'sub_menu_2', img: '24-tag-add.png'}">menu_2.4</a>
-    <a rel="separator"> </a>
-    <a class="{action: 'showMessage(\'menu_2.4\')'}">menu_2.5</a>
-  </div>
-
-  <div id="menu_3" class="mbmenu" id="checkMenu">
-    <a rel="text">
-      <form>
-        <img src="images/browser.png" alt="img" style="position:absolute;margin-top:-20px; margin-left:-25px;margin-bottom:10px"/><br/>
-        <input id="myInput" type="text" name="tuoTesto" value="you can have input inside" />
-        <input type="button" name="tuoTesto" value="submit" onclick="$.fn.removeMbMenu($.mbMenu.options.actualOpenedMenu,true);" />
-        <table>
-          <tr><td><input type="checkbox" checked value="aaa"/></td><td>checkbox 1</td></tr>
-          <tr><td><input type="checkbox" value="aaa"/></td><td>checkbox 1</td></tr>
-          <tr><td><input type="checkbox" value="aaa"/></td><td>checkbox 1</td></tr>
-          <tr><td><input type="checkbox" value="aaa"/></td><td>checkbox 1</td></tr>
-        </table>
-        <br>
-        <br/>* form fields value are not preserved once you close the menu!
-      </form>
-    </a>
-    <a rel="separator"> </a>
-    <a class="{action: 'showMessage(\'menu_3.1\')', img: 'iconDone.png'}">menu_3.1</a>
-    <a id="aaa" class="{menu:'sub_menu_2'}"  >submenu</a>
-    <a class="{action: 'showMessage(\'menu_3.4\')'}">menu_3.4 con testo veramente molto lungo menu_3.4 con testo veramente molto lungo</a>
-  </div>
-
-  <div id="sub_menu_1" class="mbmenu">
-    <a class="{action: 'showMessage(\'sub_menu_1.1\')'}">sub_menu_1.1</a>
-    <a rel="separator"> </a>
-    <a class="{menu:'menu_1'}">sub_menu_1.2</a>
-    <a class="{action: 'showMessage(\'sub_menu_1.3\')', img: 'bgColor.gif'}">sub_menu_1.3</a>
-    <a class="{action: 'showMessage(\'sub_menu_1.4\')',img: 'Applet.gif'}">sub_menu_1.4</a>
-  </div>
-
-  <div id="sub_menu_2" class="mbmenu">
-    <a class="{action: 'showMessage(\'sub_menu_2.1\')', img: 'buttonfind.gif'}" target="_blank" >sub_menu_2.1</a>
-    <a href="http://google.com" class="{img: 'buttonfind.gif'}" target="_self" >sub_menu_2.2 (href target _self)</a>
-    <a class="{action: 'showMessage(\'sub_menu_2.3\')'}">sub_menu_2.3</a>
-    <a rel="separator"> </a>
-    <a class="{action: 'showMessage(\'sub_menu_2.4\')'}">sub_menu_2.4</a>
-    <a class="{action: 'showMessage(\'sub_menu_2.5\')'}" >sub_menu_2.5</a>
-  </div>
-
-  <div id="conext_menu_1" class="mbmenu">
-    <a rel="text" >
-      <img src="images/browser.png" alt="img" style="position:absolute;margin-top:-20px; margin-left:-25px;margin-bottom:10px"/><br/>
-      <br/>immagini che vuoi ed altro testo che ti pare Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Morbi felis leo, consequat et, lacinia a, facilisis sit amet,<br/><br/>
-    </a>
-    <a rel="separator"> </a>
-    <a class="{action: 'testForContextMenu()',img: 'iconDone.png'}" >test: get opener ID</a>
-    <a id="bbb" class="{menu:'sub_menu_2'}" >submenu</a>
-    <a class="{action: 'showMessage(\'conext_menu_1.4\')'}" >conext_menu_1.4 con testo veramente molto lungo</a>
-  </div>
-
-  <div id="box_menu" class="mbmenu boxMenu">
-    <table style="border:0;" >
-      <tr>
-        <td>
-          <div style="height:130px"><img src="http://patapage.net/pp/images/logo.png" alt="patapage" width="150"></div>
-          <a href="http://patapage.com" target="_blank">Home</a>
-          <a href="http://patapage.com/demo/" target="_blank">Demo page</a>
-          <a href="http://patapage.com/applications/pataPage/site/aboutHelp.jsp" target="_blank">About Patapage</a>
-          <a href="http://patapage.com/applications/pataPage/site/access/login.jsp" target="_blank">Sign up</a>
-        </td>
-        <td>
-          <div style="height:130px;"><img src="http://bugsvoice.com/applications/bugsVoice/images/logo.png" alt="bugsvoice" width="250" style="padding-top:30px"></div>
-          <a href="http://bugsvoice.com" target="_blank">Home</a>
-          <a href="http://bugsvoice.com/applications/bugsVoice/site/details.jsp" target="_blank">Details</a>
-          <a href="http://bugsvoice.com/applications/bugsVoice/site/aboutHelp.jsp" target="_blank">About Bugs Voice</a>
-          <a href="http://bugsvoice.com/applications/bugsVoice/site/access/login.jsp" target="_blank">Sign up</a>
-        </td>
-        <td>
-          <div style="height:130px"><img src="http://devineu.eu/applications/webwork/site_devineu/media/baloonSmall.png" alt="bugsvoice" width="200"></div>
-          <a href="http://devineu.eu/home.page" target="_blank">Home</a>
-          <a href="http://devineu.eu/mission.page" target="_blank">Mission</a>
-          <a href="http://devineu.eu/interviewyourself.page" target="_blank">Interview yourself</a>
-          <a href="http://devineu.eu/getInterviewed.page" target="_blank">Get interviewed</a>
-        </td>
-      </tr>
-    </table>
-  </div>
-
-  <!-- end menus -->
-
-</div>
-</body>
-</html>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/demo1.html b/sites/all/themes/vibio/js/mbMenu/demo1.html
deleted file mode 100644
index 26582cc..0000000
--- a/sites/all/themes/vibio/js/mbMenu/demo1.html
+++ /dev/null
@@ -1,210 +0,0 @@
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
-<!--
-  ~ jquery.mb.components
-  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
-  ~ email: info@pupunzi.com
-  ~ site: http://pupunzi.com
-  ~
-  ~ Licences: MIT, GPL
-  ~ http://www.opensource.org/licenses/mit-license.php
-  ~ http://www.gnu.org/licenses/gpl.html
-  -->
-
-<html xmlns="http://www.w3.org/1999/xhtml">
-<head>
-	<title>MB_menu</title>
-	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-
-	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js
-"></script>
-	<script type="text/javascript" src="inc/jquery.metadata.js"></script>
-	<script type="text/javascript" src="inc/mbMenu.js"></script>
-	<script type="text/javascript" src="inc/styleswitch.js"></script>
-	<script type="text/javascript" src="inc/jquery.hoverIntent.js"></script>
-	<link rel="stylesheet" type="text/css" href="css/menu_black.css" title="styles1"  media="screen" />
-	<link rel="alternate stylesheet" type="text/css" href="css/menu_red.css" title="styles2" media="screen" />
-
-	<style type="text/css">
-		body .style a{
-			color:gray;
-			font-family:sans-serif;
-			font-size:13px;
-			text-decoration:none;
-		}
-    .menu{
-      display:none;
-    }
-	</style>
-
-	<script type="text/javascript">
-
-		/*
-		* DEFAULT OPTIONS
-		*
-			options: {
-			template:"yourMenuVoiceTemplate", --> the url that returns the menu voices via ajax. the data passed in the request is the "menu" attribute value as "menuId"
-			additionalData:"",								--> if you need additional data to pass to the ajax call
-			menuSelector:".menuContainer",		--> the css class for the menu container
-			menuWidth:150,										--> min menu width
-			openOnRight:false,								--> if the menu has to open on the right insted of bottom
-			iconPath:"ico/",									--> the path for the icons on the left of the menu voice
-			hasImages:true,										--> if the menuvoices have an icon (a space on the left is added for the icon)
-			fadeInTime:100,										--> time in milliseconds to fade in the menu once you roll over the root voice
-			fadeOutTime:200,									--> time in milliseconds to fade out the menu once you close the menu
-			menuTop:0,												--> top space from the menu voice caller
-			menuLeft:0,												--> left space from the menu voice caller
-			submenuTop:0,											--> top space from the submenu voice caller
-			submenuLeft:4,										--> left space from the submenu voice caller
-			opacity:1,												--> opacity of the menu
-			shadow:false,											--> if the menu has a shadow
-			shadowColor:"black",							--> the color of the shadow
-			shadowOpacity:.2,									--> the opacity of the shadow
-			openOnClick:true,									--> if the menu has to be opened by a click event (otherwise is opened by a hover event)
-			closeOnMouseOut:false,						--> if the menu has to be cloesed on mouse out
-			closeAfter:500,										--> time in millisecond to whait befor closing menu once you mouse out
-			minZindex:"auto", 								--> if set to "auto" the zIndex is automatically evaluate, otherwise it start from your settings ("auto" or int)
-			hoverInted:0, 										--> if you use jquery.hoverinted.js set this to time in milliseconds to delay the hover event (0= false)
-			onContextualMenu:function(o,e){} 	--> a function invoked once you call a contextual menu; it pass o (the menu you clicked on) and e (the event)
-		},
-		*/
-
-
-		$(function(){
-			$(".myMenu").buildMenu(
-			{
-				template:"menuVoices.html",
-				additionalData:"pippo=1",
-				menuWidth:200,
-				openOnRight:false,
-				menuSelector: ".menuContainer",
-        containment:"wrapper",
-				iconPath:"ico/",
-				hasImages:true,
-				fadeInTime:100,
-				fadeOutTime:300,
-				adjustLeft:2,
-				minZindex:"auto",
-				adjustTop:10,
-				opacity:.95,
-				shadow:true,
-				closeOnMouseOut:true,
-				closeAfter:1000
-			});
-
-		});
-
-
-		//this function get the id of the element that fires the context menu.	
-		function testForContextMenu(el){
-			if (!el) el= $.mbMenu.lastContextMenuEl;
-			alert("the ID of the element is:   "+$(el).attr("id"));
-		}
-
-	</script>
-
-</head>
-<body bgcolor="#ffffff">
-<div style="background:#FF6600 url(images/header_bgnd.jpg); padding:10px; color:white;font-size:16px; font-family:'Courier New', Courier, mono"> mbMenu</div>
-
-<div id="wrapper" style="width:980px;height:550px; border:1px dotted red; position:absolute; left:250px; top:100px">
-
-  <table width="100%"  border="0" cellpadding="0" cellspacing="0" bgcolor="#EDEDED" ><!--style="position:absolute;bottom:0"-->
-	<tr>
-		<td width="180" height="33" style="padding:10px" class="style">
-			<a href="#" rel="styles1" class="styleswitch">style 1</a> /
-			<a href="#" rel="styles2" class="styleswitch">style 2</a>
-		</td>
-		<td valign="bottom">
-			<table  border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF" class="container">
-				<tr>
-					<td class="myMenu" align="right">
-
-						<!-- start horizontal menu -->
-
-						<table class="rootVoices" cellspacing='0' cellpadding='0' border='0'><tr>
-							<td class="rootVoice {menu: 'menu_12'}" >ajax menu 12</td>
-							<td class="rootVoice {menu: 'menu_2'}" >menu 2</td>
-							<td class="rootVoice {menu: 'menu_3'}" >menu 3</td>
-							<td class="rootVoice {menu: 'empty'}" onclick="window.open('http://www.open-lab.com','ww');">menu 4 empty</td>
-						</tr></table>
-
-						<!-- end horizontal menu -->
-
-					</td>
-				</tr>
-			</table>
-		</td>
-	</tr>
-</table>
-  
-</div>
-
-<!-- menues -->
-<div id="menu_1" class="menu">
-	<a rel="title" >title menu_1.1</a> <!-- menuvoice title-->
-	<a href="#" class="{img: 'ico_view.gif'}" >menu_1.1 (href target _self) </a> <!-- menuvoice with href-->
-	<a class="{action: 'document.title=(\'menu_1.2\')'}" >menu_1.2</a> <!-- menuvoice with js action-->
-	<a rel="separator"> </a> <!-- menuvoice separator-->
-	<a href="#" class="{action: 'document.title=(\'menu_1.3\')', disabled:true}">menu_1.3</a> <!-- menuvoice disabled-->
-	<a class="{action: 'document.title=(\'menu_1.4\')', menu:'menu_1', img: '24-book-blue-check.png'}">menu_1.4</a><!-- menuvoice with js action, image and submenu-->
-</div>
-
-<div id="menu_2" class="menu">
-	<a rel="title" class="{action: 'document.title=(\'menu_2.1\')', img: 'icon_13.png'}">menu_2.1 TITLE</a>
-	<a class="{action: 'document.title=(\'menu_2.2\')'}">menu_2.2</a>
-	<a class="{menu: 'sub_menu_1', img: 'icon_14.png'}">menu_2.3</a>
-	<a class="{menu: 'sub_menu_2', img: '24-tag-add.png'}">menu_2.4</a>
-	<a rel="separator"> </a>
-	<a class="{action: 'document.title=(\'menu_2.4\')'}">menu_2.5</a>
-</div>
-
-<div id="menu_3" class="menu">
-	<a rel="text" >
-		<img src="images/browser.png" alt="img" style="position:absolute;margin-top:-20px; margin-left:-25px;margin-bottom:10px"/><br/>
-		<br/>immagini che vuoi ed altro testo che ti pare Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Morbi felis leo, consequat et, lacinia a, facilisis sit amet,<br/><br/>
-	</a>
-	<a rel="separator"> </a>
-	<a class="{action: 'document.title=(\'menu_3.1\')', img: 'iconDone.png'}">menu_3.1</a>
-	<a id="aaa" class="{menu:'sub_menu_2'}"  >submenu</a>
-	<a class="{action: 'document.title=(\'menu_3.4\')'}">menu_3.4 con testo veramente molto lungo</a>
-</div>
-
-<div id="sub_menu_1" class="menu">
-	<a class="{action: 'document.title=(\'sub_menu_1.1\')'}">sub_menu_1.1</a>
-	<a rel="separator"> </a>
-	<a class="{menu:'menu_1'}">sub_menu_1.2</a>
-	<a class="{action: 'document.title=(\'sub_menu_1.3\')', img: 'bgColor.gif'}">sub_menu_1.3</a>
-	<a class="{action: 'document.title=(\'sub_menu_1.4\')',img: 'Applet.gif'}">sub_menu_1.4</a>
-</div>
-
-<div id="sub_menu_2" class="menu">
-	<a class="{action: 'document.title=(\'sub_menu_2.1\')', img: 'buttonfind.gif'}" >sub_menu_2.1</a>
-	<a class="{action: 'document.title=(\'sub_menu_2.2\')'}">sub_menu_2.2</a>
-	<a rel="separator"> </a>
-	<a class="{action: 'document.title=(\'sub_menu_2.3\')'}">sub_menu_2.3</a>
-	<a class="{action: 'document.title=(\'sub_menu_2.4\')'}" >sub_menu_2.4</a>
-</div>
-
-
-<div id="conext_menu_1" class="menu">
-	<a rel="text" >
-		<img src="images/browser.png" alt="img" style="position:absolute;margin-top:-20px; margin-left:-25px;margin-bottom:10px"/><br/>
-		<br/>immagini che vuoi ed altro testo che ti pare Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Morbi felis leo, consequat et, lacinia a, facilisis sit amet,<br/><br/>
-	</a>
-	<a rel="separator"> </a>
-	<a class="{action: 'testForContextMenu()',img: 'iconDone.png'}" >test: get opener ID</a>
-	<a id="bbb" class="{menu:'sub_menu_2'}" >submenu</a>
-	<a class="{action: 'document.title=(\'conext_menu_1.4\')'}" >conext_menu_1.4 con testo veramente molto lungo</a>
-</div>
-
-<!-- end menues -->
-
-
-<p>
-	<img
-		src="valid-xhtml10.png"
-		alt="Valid XHTML 1.0 Transitional" height="31" width="88" />
-</p>
-
-</body>
-</html>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/ico/0682.gif b/sites/all/themes/vibio/js/mbMenu/ico/0682.gif
deleted file mode 100644
index b01c8d0..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/ico/0682.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/ico/16-member-remove.png b/sites/all/themes/vibio/js/mbMenu/ico/16-member-remove.png
deleted file mode 100644
index efcfdda..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/ico/16-member-remove.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/ico/24-book-blue-check.png b/sites/all/themes/vibio/js/mbMenu/ico/24-book-blue-check.png
deleted file mode 100644
index c19ca9a..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/ico/24-book-blue-check.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/ico/24-image-add.png b/sites/all/themes/vibio/js/mbMenu/ico/24-image-add.png
deleted file mode 100644
index 9c65780..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/ico/24-image-add.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/ico/24-tag-add.png b/sites/all/themes/vibio/js/mbMenu/ico/24-tag-add.png
deleted file mode 100644
index 1dcffb6..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/ico/24-tag-add.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/ico/Applet.gif b/sites/all/themes/vibio/js/mbMenu/ico/Applet.gif
deleted file mode 100644
index c153ddd..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/ico/Applet.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/ico/bgColor.gif b/sites/all/themes/vibio/js/mbMenu/ico/bgColor.gif
deleted file mode 100644
index 8b3dde7..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/ico/bgColor.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/ico/blank.gif b/sites/all/themes/vibio/js/mbMenu/ico/blank.gif
deleted file mode 100644
index 099c95f..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/ico/blank.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/ico/buttonfind.gif b/sites/all/themes/vibio/js/mbMenu/ico/buttonfind.gif
deleted file mode 100644
index b79f1c2..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/ico/buttonfind.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/ico/ico_view.gif b/sites/all/themes/vibio/js/mbMenu/ico/ico_view.gif
deleted file mode 100644
index 4c03e3e..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/ico/ico_view.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/ico/iconDone.png b/sites/all/themes/vibio/js/mbMenu/ico/iconDone.png
deleted file mode 100644
index 2cdddea..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/ico/iconDone.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/ico/icon_13.png b/sites/all/themes/vibio/js/mbMenu/ico/icon_13.png
deleted file mode 100644
index 22f300d..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/ico/icon_13.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/ico/icon_14.png b/sites/all/themes/vibio/js/mbMenu/ico/icon_14.png
deleted file mode 100644
index 981ac6b..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/ico/icon_14.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/images/DV_Tools.jpg b/sites/all/themes/vibio/js/mbMenu/images/DV_Tools.jpg
deleted file mode 100644
index 45ef02b..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/images/DV_Tools.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/images/bgnd_sel_1.jpg b/sites/all/themes/vibio/js/mbMenu/images/bgnd_sel_1.jpg
deleted file mode 100644
index c510583..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/images/bgnd_sel_1.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/images/bgnd_sel_2.jpg b/sites/all/themes/vibio/js/mbMenu/images/bgnd_sel_2.jpg
deleted file mode 100644
index facb585..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/images/bgnd_sel_2.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/images/bgnd_sel_3.jpg b/sites/all/themes/vibio/js/mbMenu/images/bgnd_sel_3.jpg
deleted file mode 100644
index e6853cc..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/images/bgnd_sel_3.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/images/bgnd_sel_4.png b/sites/all/themes/vibio/js/mbMenu/images/bgnd_sel_4.png
deleted file mode 100644
index 1389caa..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/images/bgnd_sel_4.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/images/box_menu_over.png b/sites/all/themes/vibio/js/mbMenu/images/box_menu_over.png
deleted file mode 100644
index 84bb6e2..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/images/box_menu_over.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/images/box_top.png b/sites/all/themes/vibio/js/mbMenu/images/box_top.png
deleted file mode 100644
index b2c0d1d..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/images/box_top.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/images/browser.png b/sites/all/themes/vibio/js/mbMenu/images/browser.png
deleted file mode 100644
index 4773604..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/images/browser.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/images/header_bgnd.jpg b/sites/all/themes/vibio/js/mbMenu/images/header_bgnd.jpg
deleted file mode 100644
index 70f21c5..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/images/header_bgnd.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/images/menuArrow.gif b/sites/all/themes/vibio/js/mbMenu/images/menuArrow.gif
deleted file mode 100644
index b1b3340..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/images/menuArrow.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/images/menuArrow_w.gif b/sites/all/themes/vibio/js/mbMenu/images/menuArrow_w.gif
deleted file mode 100644
index 09919c0..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/images/menuArrow_w.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/inc/changeLog.txt b/sites/all/themes/vibio/js/mbMenu/inc/changeLog.txt
deleted file mode 100644
index 188925a..0000000
--- a/sites/all/themes/vibio/js/mbMenu/inc/changeLog.txt
+++ /dev/null
@@ -1,123 +0,0 @@
-jQuery.mb.menu
-
-2.8.5 bugfix:
-      if an empty root menu randomly submenu wer not closed.
-
-      features:
-      added a boxmenu as new menu type (it can contain whatever HTML inside).
-
-      Cleaned up code (around 100 lines shorter).
-
-
-2.8.1  IE6/7 bugfix:
-  modified CSS for webkit compliance
-  better defined the click event on the menuline.
-  
-
-2.7.6  IE6/7 bugfix:
-  added at line 377: if ($.browser.msie) menuVoice.css({maxWidth:op.options.menuWidth}) to constrain textbox into the menu width in IE :-;
-  added $.fn.removeMbMenu() to close any opened manu from an external or internal link.
-
-2.7.5  IE6/7 bugfix:
-  changed with --> minWidth at line 495 to let menu expand in line contnet exceed.
-  added at line 312 $(this.menuContainer).attr("id", "mb_"+m).hide(); to set an ID to the menucontainer.
-
-  2.7.4  feature:
-  set a local variable for $(opener.menuContainer).find(# + m + _ + i); to improve performance in IE. (thanks to Sergey Vostretsov, svostretsov@gmail.com)
-
-2.7.3  feature:
-  changed the [cMenu] and [menu] selector to get the element itself on initialize. (thanks to Johan, johan.brichau@uclouvain.be)
-
-2.7.2  bugfix:
-  if property openOnClick was set to true and there was an empty root menu, once you get out from the empty root menu it didn't unselect his state.
-
-2.7.1
-  Managed menuvoices with A HREF attr.
-  Now when a menuvoice has an A HREF it remains an A HREF 
-
-2.7  Minor bugfix: (last trunk)
-  IE7 and 8 bug:
-  Fixed the wrong positioning of the contextualMenu if the page was scrolled.
-
-2.6.1
-  Major bugfix:
-  Firefox 3.5 Bug:
-  Opening the contextual menu, it suddenly closes.
-
-2.6  Minor bugfix:
-  Now if the menu height is more than the page height the menu doesn't reposition it to let you scroll all the menu voices.
-  Minor features:
-  added a new param containment to let the urer choose either the containment is the window (default) or any other element that contains the menu; that's usefull if you want the menu adapt it's position related something else that the window.
-  usage: containment:'your element ID' as param on the menu call function.
-
-2.3 Minor bugfix:
-  There was a problem with contextual menu position on long content pages (the scroll height and width weren't calculate). solved!
-
-2.2 Minor features:
-  added the support for jquery.hoverIntent.js also for submenu calls:
-  setted a new param submenuHoverIntent that axcept int as time in milliseconds for the delay befor shooting the hover event; if you set it to 0 (default) hoverIntent is not used.
-  !! important >> To use this param you have to incude the jquery.hoverIntent plug in in your page.
-
-2.0 Major features:
-  if you set openOnClick the menu'll close even when you click again on the root voice that invoked it.
-  added the support for jquery.hoverIntent.js:
-  setted a new param hoverIntent that axcept int as time in milliseconds for the delay befor shooting the hover event; if you set it to 0 (default) hoverIntent is not used.
-  !! important >> To use this param you have to incude the jquery.hoverIntent plug in in your page.
-
-1.6.0 Major bugfix:
-  Now, if closeOnMouseOut is setted, the menu will close when you leave the root menu voice even if you don't roll over the opened menu.
-  new feature:
-  you can define the fade time for opening and closing events by seting two new params:
-  fadeInTime:100, // default
-  fadeOutTime:200, // default
-  Now W3C comliant!:
-  As for the (mb)ContainerPlus, I used jquery.metadata.js and you can define menu paramiters without writing custom attributes on the tag, but writing them in the class attr. with a JSON sintax: <acolor:#008000;' style='color: rgb(0, 128, 0); '>{action: 'document.title=(\'menu_2.1\')', img: 'icon_13.png'} '> menu_2.1 </a>
-  instead of:
-  <a  action= 'document.title=('menu_2.1')' img= 'icon_13.png' >menu_2.1</a>You can still use both sintax, but if you want to be w3c compliant than you nee the second one and you have to include jquery.metadata.js in your page.
-
-1.5.4 Major bugfix:
-  IE and contextualmenu bugfix;
-  fixed a code error that prevented IE to show the contextual menu.
-
-1.5.3 add a feature:
-  Now you can set to 'auto' the param minZindex and the component'll set automatically the highest zindex to the menu.
-
-1.5.1
-  Now you can have a root menu emty (with a direct lnk for example) that behave as the other menu in the same group.
-  <table cellspacing='0'cellpadding='0'border='0'><tr>
-  <td menu='menu_12>ajax menu 1</td>
-  <td menu='menu_2>menu 2</td>
-  <td menu='menu_3>menu 3</td>
-  <td menu='empty'
-  onclick='window.open ('http://www.open-lab.com','ww')'>
-  menu 4 empty
-  </td>
-  </tr></table>
-  fixed a bug on close of menu with closeOnMouseOut set to true and other menu istances in the same page.
-  Cleaned the param: rootMenuSelector it's not used anymore.
-  Minor bugfix.
-
-1.5
-  three new params:
-  closeOnMouseOut: false (default) // you can hide the menu onmouseout
-  closeAfter: 500 (default) // set the time to wait before closing after you exit the menu
-  onContextualMenu: function(o,e){} // a function to be called on contextualMenu
-  Now the onclick action is extended to the whole voice line.
-  If you set an href attribute, it's managed to the whole line and get the right target
-  When you set a contextualMenu, once you rightClick on the dom element an accessible variable is set ($.mbMenu.lastContextMenuEl);
-  so you can build your own function referring to every attribute of your object;
-  for example: if you have the same action on the menu voice for all the elements but you need the ID of the dom element you clicked on, you get it in this way:
-  $($.mbMenu.lastContextMenuEl).attr("id");
-  
-1.0.1
-  I just update the code with some bug fix:
-  IE bug for separator line
-  disabled menuline with href attribute
-  solved a bag in the case there's a href with a javascript as url (href='javascript:''); now it works!
-
-
-  ---------------------------------------------------------------------------------------------------------
-  ISSUE
-  ---------------------------------------------------------------------------------------------------------
-
-  * manage selected state of a voice.
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/inc/jquery.hoverIntent.js b/sites/all/themes/vibio/js/mbMenu/inc/jquery.hoverIntent.js
deleted file mode 100644
index 5ce329f..0000000
--- a/sites/all/themes/vibio/js/mbMenu/inc/jquery.hoverIntent.js
+++ /dev/null
@@ -1,122 +0,0 @@
-/*******************************************************************************
- jquery.mb.components
- Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
- email: info@pupunzi.com
- site: http://pupunzi.com
-
- Licences: MIT, GPL
- http://www.opensource.org/licenses/mit-license.php
- http://www.gnu.org/licenses/gpl.html
- ******************************************************************************/
-
-/**
-* hoverIntent is similar to jQuery's built-in "hover" function except that
-* instead of firing the onMouseOver event immediately, hoverIntent checks
-* to see if the user's mouse has slowed down (beneath the sensitivity
-* threshold) before firing the onMouseOver event.
-* 
-* hoverIntent r5 // 2007.03.27 // jQuery 1.1.2+
-* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
-* 
-* hoverIntent is currently available for use in all personal or commercial 
-* projects under both MIT and GPL licenses. This means that you can choose 
-* the license that best suits your project, and use it accordingly.
-* 
-* // basic usage (just like .hover) receives onMouseOver and onMouseOut functions
-* $("ul li").hoverIntent( showNav , hideNav );
-* 
-* // advanced usage receives configuration object only
-* $("ul li").hoverIntent({
-*	sensitivity: 7, // number = sensitivity threshold (must be 1 or higher)
-*	interval: 100,   // number = milliseconds of polling interval
-*	over: showNav,  // function = onMouseOver callback (required)
-*	timeout: 0,   // number = milliseconds delay before onMouseOut function call
-*	out: hideNav    // function = onMouseOut callback (required)
-* });
-* 
-* @param  f  onMouseOver function || An object with configuration options
-* @param  g  onMouseOut function  || Nothing (use configuration options object)
-* @author    Brian Cherne <brian@cherne.net>
-*/
-(function($) {
-	$.fn.hoverIntent = function(f,g) {
-		// default configuration options
-		var cfg = {
-			sensitivity: 7,
-			interval: 100,
-			timeout: 0
-		};
-		// override configuration options with user supplied object
-		cfg = $.extend(cfg, g ? { over: f, out: g } : f );
-
-		// instantiate variables
-		// cX, cY = current X and Y position of mouse, updated by mousemove event
-		// pX, pY = previous X and Y position of mouse, set by mouseover and polling interval
-		var cX, cY, pX, pY;
-
-		// A private function for getting mouse position
-		var track = function(ev) {
-			cX = ev.pageX;
-			cY = ev.pageY;
-		};
-
-		// A private function for comparing current and previous mouse position
-		var compare = function(ev,ob) {
-			ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);
-			// compare mouse positions to see if they've crossed the threshold
-			if ( ( Math.abs(pX-cX) + Math.abs(pY-cY) ) < cfg.sensitivity ) {
-				$(ob).unbind("mousemove",track);
-				// set hoverIntent state to true (so mouseOut can be called)
-				ob.hoverIntent_s = 1;
-				return cfg.over.apply(ob,[ev]);
-			} else {
-				// set previous coordinates for next time
-				pX = cX; pY = cY;
-				// use self-calling timeout, guarantees intervals are spaced out properly (avoids JavaScript timer bugs)
-				ob.hoverIntent_t = setTimeout( function(){compare(ev, ob);} , cfg.interval );
-			}
-		};
-
-		// A private function for delaying the mouseOut function
-		var delay = function(ev,ob) {
-			ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);
-			ob.hoverIntent_s = 0;
-			return cfg.out.apply(ob,[ev]);
-		};
-
-		// A private function for handling mouse 'hovering'
-		var handleHover = function(e) {
-			// next three lines copied from jQuery.hover, ignore children onMouseOver/onMouseOut
-			var p = (e.type == "mouseover" ? e.fromElement : e.toElement) || e.relatedTarget;
-			while ( p && p != this ) { try { p = p.parentNode; } catch(e) { p = this; } }
-			if ( p == this ) { return false; }
-
-			// copy objects to be passed into t (required for event object to be passed in IE)
-			var ev = jQuery.extend({},e);
-			var ob = this;
-
-			// cancel hoverIntent timer if it exists
-			if (ob.hoverIntent_t) { ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t); }
-
-			// else e.type == "onmouseover"
-			if (e.type == "mouseover") {
-				// set "previous" X and Y position based on initial entry point
-				pX = ev.pageX; pY = ev.pageY;
-				// update "current" X and Y position based on mousemove
-				$(ob).bind("mousemove",track);
-				// start polling interval (self-calling timeout) to compare mouse coordinates over time
-				if (ob.hoverIntent_s != 1) { ob.hoverIntent_t = setTimeout( function(){compare(ev,ob);} , cfg.interval );}
-
-			// else e.type == "onmouseout"
-			} else {
-				// unbind expensive mousemove event
-				$(ob).unbind("mousemove",track);
-				// if hoverIntent state is true, then call the mouseOut function after the specified delay
-				if (ob.hoverIntent_s == 1) { ob.hoverIntent_t = setTimeout( function(){delay(ev,ob);} , cfg.timeout );}
-			}
-		};
-
-		// bind the function to the two event listeners
-		return this.mouseover(handleHover).mouseout(handleHover);
-	};
-})(jQuery);
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/inc/jquery.metadata.js b/sites/all/themes/vibio/js/mbMenu/inc/jquery.metadata.js
deleted file mode 100644
index bbf1bcc..0000000
--- a/sites/all/themes/vibio/js/mbMenu/inc/jquery.metadata.js
+++ /dev/null
@@ -1,120 +0,0 @@
-/*******************************************************************************
- jquery.mb.components
- Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
- email: info@pupunzi.com
- site: http://pupunzi.com
-
- Licences: MIT, GPL
- http://www.opensource.org/licenses/mit-license.php
- http://www.gnu.org/licenses/gpl.html
- ******************************************************************************/
-
-/**
- * Sets the type of metadata to use. Metadata is encoded in JSON, and each property
- * in the JSON will become a property of the element itself.
- *
- * There are three supported types of metadata storage:
- *
- *   attr:  Inside an attribute. The name parameter indicates *which* attribute.
- *          
- *   class: Inside the class attribute, wrapped in curly braces: { }
- *   
- *   elem:  Inside a child element (e.g. a script tag). The
- *          name parameter indicates *which* element.
- *          
- * The metadata for an element is loaded the first time the element is accessed via jQuery.
- *
- * As a result, you can define the metadata type, use $(expr) to load the metadata into the elements
- * matched by expr, then redefine the metadata type and run another $(expr) for other elements.
- * 
- * @name $.metadata.setType
- *
- * @example <p id="one" class="some_class {item_id: 1, item_label: 'Label'}">This is a p</p>
- * @before $.metadata.setType("class")
- * @after $("#one").metadata().item_id == 1; $("#one").metadata().item_label == "Label"
- * @desc Reads metadata from the class attribute
- * 
- * @example <p id="one" class="some_class" data="{item_id: 1, item_label: 'Label'}">This is a p</p>
- * @before $.metadata.setType("attr", "data")
- * @after $("#one").metadata().item_id == 1; $("#one").metadata().item_label == "Label"
- * @desc Reads metadata from a "data" attribute
- * 
- * @example <p id="one" class="some_class"><script>{item_id: 1, item_label: 'Label'}</script>This is a p</p>
- * @before $.metadata.setType("elem", "script")
- * @after $("#one").metadata().item_id == 1; $("#one").metadata().item_label == "Label"
- * @desc Reads metadata from a nested script element
- * 
- * @param String type The encoding type
- * @param String name The name of the attribute to be used to get metadata (optional)
- * @cat Plugins/Metadata
- * @descr Sets the type of encoding to be used when loading metadata for the first time
- * @type undefined
- * @see metadata()
- */
-
-(function($) {
-
-$.extend({
-	metadata : {
-		defaults : {
-			type: 'class',
-			name: 'metadata',
-			cre: /({.*})/,
-			single: 'metadata'
-		},
-		setType: function( type, name ){
-			this.defaults.type = type;
-			this.defaults.name = name;
-		},
-		get: function( elem, opts ){
-			var settings = $.extend({},this.defaults,opts);
-			// check for empty string in single property
-			if ( !settings.single.length ) settings.single = 'metadata';
-			
-			var data = $.data(elem, settings.single);
-			// returned cached data if it already exists
-			if ( data ) return data;
-			
-			data = "{}";
-			
-			if ( settings.type == "class" ) {
-				var m = settings.cre.exec( elem.className );
-				if ( m )
-					data = m[1];
-			} else if ( settings.type == "elem" ) {
-				if( !elem.getElementsByTagName )
-					return undefined;
-				var e = elem.getElementsByTagName(settings.name);
-				if ( e.length )
-					data = $.trim(e[0].innerHTML);
-			} else if ( elem.getAttribute != undefined ) {
-				var attr = elem.getAttribute( settings.name );
-				if ( attr )
-					data = attr;
-			}
-			
-			if ( data.indexOf( '{' ) <0 )
-			data = "{" + data + "}";
-			
-			data = eval("(" + data + ")");
-			
-			$.data( elem, settings.single, data );
-			return data;
-		}
-	}
-});
-
-/**
- * Returns the metadata object for the first member of the jQuery object.
- *
- * @name metadata
- * @descr Returns element's metadata object
- * @param Object opts An object contianing settings to override the defaults
- * @type jQuery
- * @cat Plugins/Metadata
- */
-$.fn.metadata = function( opts ){
-	return $.metadata.get( this[0], opts );
-};
-
-})(jQuery);
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/inc/mbMenu.js b/sites/all/themes/vibio/js/mbMenu/inc/mbMenu.js
deleted file mode 100644
index a4aedbc..0000000
--- a/sites/all/themes/vibio/js/mbMenu/inc/mbMenu.js
+++ /dev/null
@@ -1,582 +0,0 @@
-/*******************************************************************************
- jquery.mb.components
- Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
- email: info@pupunzi.com
- site: http://pupunzi.com
-
- Licences: MIT, GPL
- http://www.opensource.org/licenses/mit-license.php
- http://www.gnu.org/licenses/gpl.html
- ******************************************************************************/
-
-/*
- * Name:jquery.mb.menu
- * Version: 2.8.5rc5
- *
- * added: boxMenu menu modality by: Sven Dowideit http://trunk.fosiki.com/Sandbox/WebSubMenu
- */
-// to get the element that is fireing a contextMenu event you have $.mbMenu.lastContextMenuEl that returns an object.
-
-(function($) {
-  $.mbMenu = {
-    name:"mbMenu",
-    author:"Matteo Bicocchi",
-    version:"2.8.5rc5",
-    actualMenuOpener:false,
-    options: {
-      template:"yourMenuVoiceTemplate",// the url that returns the menu voices via ajax. the data passed in the request is the "menu" attribute value as "menuId"
-      additionalData:"",
-      menuSelector:".menuContainer",
-      menuWidth:400,
-      openOnRight:false,
-      containment:"window",
-      iconPath:"ico/",
-      hasImages:true,
-      fadeInTime:100,
-      fadeOutTime:200,
-      menuTop:0,
-      menuLeft:0,
-      submenuTop:0,
-      submenuLeft:4,
-      opacity:1,
-      openOnClick:true,
-      closeOnMouseOut:false,
-      closeAfter:500,
-      minZindex:"auto", // or number
-      hoverIntent:0, //if you use jquery.hoverIntent.js set this to time in milliseconds; 0= false;
-      submenuHoverIntent:200, //if you use jquery.hoverIntent.js set this to time in milliseconds; 0= false;
-      onContextualMenu:function(){} //it pass 'o' (the menu you clicked on) and 'e' (the event)
-    },
-    buildMenu : function (options){
-      return this.each (function ()
-      {
-        var thisMenu =this;
-        thisMenu.id = !this.id ? "menu_"+Math.floor (Math.random () * 1000): this.id;
-        this.options = {};
-        $.extend (this.options, $.mbMenu.options);
-        $.extend (this.options, options);
-
-        $(".mbmenu").hide();
-        thisMenu.clicked = false;
-        thisMenu.rootMenu=false;
-        thisMenu.actualOpenedMenu=false;
-        thisMenu.menuvoice=false;
-        var root=$(this);
-        var openOnClick=this.options.openOnClick;
-        var closeOnMouseOut=this.options.closeOnMouseOut;
-
-        //build roots
-        $(root).each(function(){
-
-          /*
-           *using metadata plugin you can add attribute writing them inside the class attr with a JSON sintax
-           * for ex: class="rootVoice {menu:'menu_2'}"
-           */
-          if ($.metadata){
-            $.metadata.setType("class");
-            thisMenu.menuvoice=$(this).find(".rootVoice");
-            $(thisMenu.menuvoice).each(function(){
-              if ($(this).metadata().menu) $(this).attr("menu",$(this).metadata().menu);
-              if ($(this).metadata().disabled) $(this).attr("isDisable",$(this).metadata().disabled);
-            });
-          }
-
-          thisMenu.menuvoice=$(this).find("[menu]").add($(this).filter("[menu]"));
-          thisMenu.menuvoice.filter("[isDisable]").addClass("disabled");
-
-          $(thisMenu.menuvoice).css("white-space","nowrap");
-
-          if(openOnClick){
-            $(thisMenu.menuvoice).bind("click",function(){
-              $(document).unbind("click.closeMbMenu");                              
-              if (!$(this).attr("isOpen")){
-                $(this).buildMbMenu(thisMenu,$(this).attr("menu"));
-                $(this).attr("isOpen","true");
-              }else{
-                $(this).removeMbMenu(thisMenu,true);
-                $(this).addClass("selected");
-              }
-
-              //empty
-              if($(this).attr("menu")=="empty"){
-                if(thisMenu.actualOpenedMenu){
-                  $("[isOpen]").removeAttr("isOpen");
-                }
-                $(this).removeMbMenu(thisMenu);
-              }
-              $(document).unbind("click.closeMbMenu");
-            });
-          }
-          var mouseOver=$.browser.msie?"mouseenter":"mouseover";
-          var mouseOut=$.browser.msie?"mouseleave":"mouseout";
-
-          $(thisMenu.menuvoice).mb_hover(
-                  this.options.hoverIntent,
-                  function(){
-                    if(!$(this).attr("isOpen"))
-                      $("[isOpen]").removeAttr("isOpen");
-                    if (closeOnMouseOut) clearTimeout($.mbMenu.deleteOnMouseOut);
-                    if (!openOnClick) $(thisMenu).find(".selected").removeClass("selected");
-                    if(thisMenu.actualOpenedMenu){ $(thisMenu.actualOpenedMenu).removeClass("selected");}
-                    $(this).addClass("selected");
-                    if((thisMenu.clicked || !openOnClick) && !$(this).attr("isOpen")){
-                      $(this).removeMbMenu(thisMenu);
-                      $(this).buildMbMenu(thisMenu,$(this).attr("menu"));
-                      if ($(this).attr("menu")=="empty"){
-                        $(this).removeMbMenu(thisMenu);
-                      }
-                      $(this).attr("isOpen","true");
-                    }
-                  },
-                  function(){
-                    if (closeOnMouseOut)
-                      $.mbMenu.deleteOnMouseOut= setTimeout(function(){
-                        $(this).removeMbMenu(thisMenu,true);
-                        $(document).unbind("click.closeMbMenu");
-                      },$(root)[0].options.closeAfter);
-
-                    if ($(this).attr("menu")=="empty"){
-                      $(this).removeClass("selected");
-                    }
-                    if(!thisMenu.clicked)
-                      $(this).removeClass("selected");
-                    $(document).one("click.closeMbMenu",function(){
-                      $("[isOpen]").removeAttr("isOpen");
-                      $(this).removeClass("selected");
-                      $(this).removeMbMenu(thisMenu,true);
-                      thisMenu.rootMenu=false;thisMenu.clicked=false;
-                    });
-                  }
-                  );
-        });
-      });
-    },
-    buildContextualMenu:  function (options){
-      return this.each (function ()
-      {
-        var thisMenu = this;
-        thisMenu.options = {};
-        $.extend (thisMenu.options, $.mbMenu.options);
-        $.extend (thisMenu.options, options);
-        $(".mbmenu").hide();
-        thisMenu.clicked = false;
-        thisMenu.rootMenu=false;
-        thisMenu.actualOpenedMenu=false;
-        thisMenu.menuvoice=false;
-
-        /*
-         *using metadata plugin you can add attribut writing them inside the class attr with a JSON sintax
-         * for ex: class="rootVoice {menu:'menu_2'}"
-         */
-        var cMenuEls;
-        if ($.metadata){
-          $.metadata.setType("class");
-          cMenuEls= $(this).find(".cmVoice");
-          $(cMenuEls).each(function(){
-            if ($(this).metadata().cMenu) $(this).attr("cMenu",$(this).metadata().cMenu);
-          });
-        }
-        cMenuEls= $(this).find("[cMenu]").add($(this).filter("[cMenu]"));
-
-        $(cMenuEls).each(function(){
-          $(this).css({"-webkit-user-select":"none","-moz-user-select":"none"});
-          var cm=this;
-          cm.id = !cm.id ? "menu_"+Math.floor (Math.random () * 100): cm.id;
-          $(cm).css({cursor:"default"});
-          $(cm).bind("contextmenu","mousedown",function(event){
-            event.preventDefault();
-            event.stopPropagation();
-            event.cancelBubble=true;
-
-            $.mbMenu.lastContextMenuEl=cm;
-
-            if ($.mbMenu.options.actualMenuOpener) {
-              $(thisMenu).removeMbMenu($.mbMenu.options.actualMenuOpener);
-            }
-            /*add custom behavior to contextMenuEvent passing the el and the event
-             *you can for example store to global var the obj that is fireing the event
-             *mbActualContextualMenuObj=cm;
-             *
-             * you can for example create a function that manipulate the voices of the menu
-             * you are opening according to a certain condition...
-             */
-
-            thisMenu.options.onContextualMenu(this,event);
-
-            $(this).buildMbMenu(thisMenu,$(this).attr("cMenu"),"cm",event);
-            $(this).attr("isOpen","true");
-
-          });
-        });
-      });
-    }
-  };
-  $.fn.extend({
-    buildMbMenu: function(op,m,type,e){
-      var msie6=$.browser.msie && $.browser.version=="6.0";
-      var mouseOver=$.browser.msie?"mouseenter":"mouseover";
-      var mouseOut=$.browser.msie?"mouseleave":"mouseout";
-      if (e) {
-        this.mouseX=$(this).getMouseX(e);
-        this.mouseY=$(this).getMouseY(e);
-      }
-
-      if ($.mbMenu.options.actualMenuOpener && $.mbMenu.options.actualMenuOpener!=op)
-        $(op).removeMbMenu($.mbMenu.options.actualMenuOpener);
-      $.mbMenu.options.actualMenuOpener=op;
-      if(!type || type=="cm")	{
-        if (op.rootMenu) {
-          $(op.rootMenu).removeMbMenu(op);
-          $(op.actualOpenedMenu).removeAttr("isOpen");
-          $("[isOpen]").removeAttr("isOpen");
-        }
-        op.clicked=true;
-        op.actualOpenedMenu=this;
-        $(op.actualOpenedMenu).attr("isOpen","true");
-        $(op.actualOpenedMenu).addClass("selected");
-      }
-
-      //empty
-      if($(this).attr("menu")=="empty"){
-        return;
-      }
-
-      var opener=this;
-      var where=(!type|| type=="cm")?$(document.body):$(this).parent().parent();
-
-      var menuClass= op.options.menuSelector.replace(".","");
-
-      if(op.rootMenu) menuClass+=" submenuContainer";
-      if(!op.rootMenu && $(opener).attr("isDisable")) menuClass+=" disabled";
-
-      where.append("<div class='menuDiv'><div class='"+menuClass+" '></div></div>");
-      this.menu  = where.find(".menuDiv");
-      $(this.menu).css({width:0, height:0});
-      if (op.options.minZindex!="auto"){
-        $(this.menu).css({zIndex:op.options.minZindex++});
-      }else{
-        $(this.menu).mb_bringToFront();
-      }
-      this.menuContainer  = $(this.menu).find(op.options.menuSelector);
-
-      $(this.menuContainer).bind(mouseOver,function(){
-        $(opener).addClass("selected");
-      });
-      $(this.menuContainer).css({
-        position:"absolute",
-        opacity:op.options.opacity
-      });
-      if (!$("#"+m).html()){
-        $.ajax({
-          type: "POST",
-          url: op.options.template,
-          cache: false,
-          async: false,
-          data:"menuId="+m+(op.options.additionalData!=""?"&"+op.options.additionalData:""),
-          success: function(html){
-            $("body").append(html);
-            $("#"+m).hide();
-          }
-        });
-      }
-      $(this.menuContainer).attr("id", "mb_"+m).hide();
-
-      //LITERAL MENU SUGGESTED BY SvenDowideit
-      var isBoxmenu=$("#"+m).hasClass("boxMenu");
-
-      if (isBoxmenu) {
-        this.voices = $("#"+m).clone(true);
-        this.voices.css({display: "block"});
-        this.voices.attr("id", m+"_clone");
-      } else {
-        //TODO this will break <a rel=text> - if there are nested a's
-        this.voices= $("#"+m).find("a").clone(true);
-      }
-
-      /*
-       *using metadata plugin you can add attribut writing them inside the class attr with a JSON sintax
-       * for ex: class="rootVoice {menu:'menu_2'}"
-       */
-      if ($.metadata){
-        $.metadata.setType("class");
-        $(this.voices).each(function(){
-          if ($(this).metadata().disabled) $(this).attr("isdisable",$(this).metadata().disabled);
-          if ($(this).metadata().img) $(this).attr("img",$(this).metadata().img);
-          if ($(this).metadata().menu) $(this).attr("menu",$(this).metadata().menu);
-          if ($(this).metadata().action) $(this).attr("action",$(this).metadata().action);
-        });
-      }
-
-
-      // build each voices of the menu
-      $(this.voices).each(function(i){
-
-        var voice=this;
-        var imgPlace="";
-
-        var isText=$(voice).attr("rel")=="text";
-        var isTitle=$(voice).attr("rel")=="title";
-        var isDisabled=$(voice).is("[isdisable]");
-        if(!op.rootMenu && $(opener).attr("isDisable"))
-          isDisabled=true;
-
-        var isSeparator=$(voice).attr("rel")=="separator";
-
-        // boxMenu SUGGESTED by Sven Dowideit
-        if (op.options.hasImages && !isText && !isBoxmenu){
-
-          var imgPath=$(voice).attr("img")?$(voice).attr("img"):"blank.gif";
-          imgPath=(imgPath.length>3 && imgPath.indexOf(".")>-1)?"<img class='imgLine' src='"+op.options.iconPath+imgPath+"'>":imgPath;
-          imgPlace="<td class='img'>"+imgPath+"</td>";
-        }
-
-        var line="<table id='"+m+"_"+i+"' class='line"+(isTitle?" title":"")+"' cellspacing='0' cellpadding='0' border='0' style='width:100%;' width='100%'><tr>"+imgPlace+"<td class='voice' nowrap></td></tr></table>";
-
-        if(isSeparator)
-          line="<p class='separator' style='width:100%;'></p>";
-
-        if(isText)
-          line="<div style='width:100%; display:table' class='line' id='"+m+"_"+i+"'><div class='voice'></div></div>";
-
-        // boxMenu SUGGESTED by Sven Dowideit
-        if(isBoxmenu)
-          line="<div style='width:100%; display:inline' class='' id='"+m+"_"+i+"'><div class='voice'></div></div>";
-
-        $(opener.menuContainer).append(line);
-
-        var menuLine = $(opener.menuContainer).find("#" + m + "_" + i);
-        var menuVoice = menuLine.find(".voice");
-        if(!isSeparator){
-          menuVoice.append(this);
-          if($(this).attr("menu") && !isDisabled){
-            menuLine.find(".voice a").wrap("<div class='menuArrow'></div>");
-            menuLine.find(".menuArrow").addClass("subMenuOpener");
-            menuLine.css({cursor:"default"});
-            this.isOpener=true;
-          }
-          if(isText){
-            menuVoice.addClass("textBox");
-            if ($.browser.msie) menuVoice.css({maxWidth:op.options.menuWidth});
-            this.isOpener=true;
-          }
-          if(isDisabled){
-            menuLine.addClass("disabled").css({cursor:"default"});
-          }
-
-          if(!(isText || isTitle || isDisabled ||isBoxmenu)){
-            //menuLine.css({cursor:"pointer"});
-
-            menuLine.bind("mouseover",function(){
-              clearTimeout($.mbMenu.deleteOnMouseOut);
-              $(this).addClass("selected");
-            });
-
-            menuLine.bind("mouseout",function(){
-              $(this).removeClass("selected");
-            });
-
-            menuLine.mb_hover(
-                    op.options.submenuHoverIntent,
-                    function(event){
-                      if(opener.menuContainer.actualSubmenu && !$(voice).attr("menu")){
-                        $(opener.menu).find(".menuDiv").remove();
-                        $(opener.menuContainer.actualSubmenu).removeClass("selected");
-                        opener.menuContainer.actualSubmenu=false;
-                      }
-                      if ($(voice).attr("menu")){
-                        if(opener.menuContainer.actualSubmenu && opener.menuContainer.actualSubmenu!=this){
-                          $(opener.menu).find(".menuDiv").remove();
-                          $(opener.menuContainer.actualSubmenu).removeClass("selected");
-                          opener.menuContainer.actualSubmenu=false;
-                        }
-                        if (!$(voice).attr("action")) $(opener.menuContainer).find("#"+m+"_"+i).css("cursor","default");
-                        if (!opener.menuContainer.actualSubmenu || opener.menuContainer.actualSubmenu!=this){
-                          $(opener.menu).find(".menuDiv").remove();
-
-                          opener.menuContainer.actualSubmenu=false;
-                          $(this).buildMbMenu(op,$(voice).attr("menu"),"sm",event);
-                          opener.menuContainer.actualSubmenu=this;
-                        }
-                        $(this).attr("isOpen","true");
-                        return false;
-                      }
-                    },
-                    function(){}
-                    );
-          }
-          if(isDisabled || isTitle || isText || isBoxmenu){
-            $(this).removeAttr("href");
-            menuLine.bind(mouseOver,function(){
-              if (closeOnMouseOut) clearTimeout($.mbMenu.deleteOnMouseOut);
-              if(opener.menuContainer.actualSubmenu){
-                $(opener.menu).find(".menuDiv").remove();
-                opener.menuContainer.actualSubmenu=false;
-              }
-            }).css("cursor","default");
-          }
-          menuLine.bind("click",function(){
-            if (($(voice).attr("action") || $(voice).attr("href")) && !isDisabled &&  !isBoxmenu && !isText){
-              var target=$(voice).attr("target")?$(voice).attr("target"):"_self";
-              if ($(voice).attr("href") && $(voice).attr("href").indexOf("javascript:")>-1){
-                $(voice).attr("action",$(voice).attr("href").replace("javascript:",""));
-              }
-              var link=$(voice).attr("action")?$(voice).attr("action"):"window.open('"+$(voice).attr("href")+"', '"+target+"')";
-              $(voice).removeAttr("href");
-              eval(link);
-              $(this).removeMbMenu(op,true);
-            }else{
-              $(document).unbind("click.closeMbMenu");
-            }
-          });
-        }
-      });
-
-      // Close on Mouseout
-
-      var closeOnMouseOut=$(op)[0].options.closeOnMouseOut;
-      if (closeOnMouseOut){
-        $(opener.menuContainer).bind("mouseenter",function(){
-          clearTimeout($.mbMenu.deleteOnMouseOut);
-        });
-        $(opener.menuContainer).bind("mouseleave",function(){
-          var menuToRemove=$.mbMenu.options.actualMenuOpener;
-          $.mbMenu.deleteOnMouseOut= setTimeout(function(){$(this).removeMbMenu(menuToRemove,true);$(document).unbind("click.closeMbMenu");},$(op)[0].options.closeAfter);
-        });
-      }
-
-      //positioning opened
-      var t=0,l=0;
-      $(this.menuContainer).css({
-        minWidth:op.options.menuWidth
-      });
-      if ($.browser.msie) $(this.menuContainer).css("width",$(this.menuContainer).width()+2);
-
-      switch(type){
-        case "sm":
-          t=$(this).position().top+op.options.submenuTop;
-
-          l=$(this).position().left+$(this).width()-op.options.submenuLeft;
-          break;
-        case "cm":
-          t=this.mouseY-5;
-          l=this.mouseX-5;
-          break;
-        default:
-          if (op.options.openOnRight){
-            t=$(this).offset().top-($.browser.msie?2:0)+op.options.menuTop;
-            l=$(this).offset().left+$(this).outerWidth()-op.options.menuLeft-($.browser.msie?2:0);
-          }else{
-            t=$(this).offset().top+$(this).outerHeight()-(!$.browser.mozilla?2:0)+op.options.menuTop;
-            l=$(this).offset().left+op.options.menuLeft;
-          }
-          break;
-      }
-
-      $(this.menu).css({
-        position:"absolute",
-        top:t,
-        left:l
-      });
-
-      if (!type || type=="cm") op.rootMenu=this.menu;
-      $(this.menuContainer).bind(mouseOut,function(){
-        $(document).one("click.closeMbMenu",function(){$(document).removeMbMenu(op,true);});
-      });
-
-      if (op.options.fadeInTime>0) $(this.menuContainer).fadeIn(op.options.fadeInTime);
-      else $(this.menuContainer).show();
-
-      var wh= (op.options.containment=="window")?$(window).height():$("#"+op.options.containment).offset().top+$("#"+op.options.containment).outerHeight();
-      var ww=(op.options.containment=="window")?$(window).width():$("#"+op.options.containment).offset().left+$("#"+op.options.containment).outerWidth();
-
-      var mh=$(this.menuContainer).outerHeight();
-      var mw=$(this.menuContainer).outerWidth();
-
-      var actualX=$(where.find(".menuDiv:first")).offset().left-$(window).scrollLeft();
-      var actualY=$(where.find(".menuDiv:first")).offset().top-$(window).scrollTop();
-      switch(type){
-        case "sm":
-          if ((actualX+mw)>= ww && mw<ww){
-            l-=((op.options.menuWidth*2)-(op.options.submenuLeft*2));
-          }
-          break;
-        case "cm":
-          if ((actualX+(op.options.menuWidth*1.5))>= ww && mw<ww){
-            l-=((op.options.menuWidth)-(op.options.submenuLeft));
-          }
-          break;
-        default:
-          if ((actualX+mw)>= ww && mw<ww){
-            l-=($(this.menuContainer).offset().left+mw)-ww+18;
-          }
-          break;
-      }
-      if ((actualY+mh)>= wh-10 && mh<wh){
-        t-=((actualY+mh)-wh)+10;
-      }
-
-      $(this.menu).css({
-        top:t,
-        left:l
-      });
-    },
-
-    removeMbMenu: function(op,fade){
-      if(!op)op=$.mbMenu.options.actualMenuOpener;
-      if(!op) return;
-      if (op.rootMenu) {
-        $(op.actualOpenedMenu)
-                .removeAttr("isOpen")
-                .removeClass("selected");
-        $("[isOpen]").removeAttr("isOpen");
-        $(op.rootMenu).css({width:1, height:1});
-        if (fade) $(op.rootMenu).fadeOut(op.options.fadeOutTime,function(){$(this).remove();});
-        else $(op.rootMenu).remove();
-        op.rootMenu=false;
-        op.clicked=false;
-      }
-    },
-
-    //mouse  Position
-    getMouseX : function (e){
-      var mouseX;
-      if ($.browser.msie)mouseX = e.clientX + document.documentElement.scrollLeft;
-      else mouseX = e.pageX;
-      if (mouseX < 0) mouseX = 0;
-      return mouseX;
-    },
-    getMouseY : function (e){
-      var mouseY;
-      if ($.browser.msie)	mouseY = e.clientY + document.documentElement.scrollTop;
-      else mouseY = e.pageY;
-      if (mouseY < 0)	mouseY = 0;
-      return mouseY;
-    },
-    //get max z-inedex of the page
-    mb_bringToFront: function(){
-      var zi=10;
-      $('*').each(function() {
-        if($(this).css("position")=="absolute" || $(this).css("position")=="fixed" ){
-          var cur = parseInt($(this).css('zIndex'));
-          zi = cur > zi ? parseInt($(this).css('zIndex')) : zi;
-        }
-      });
-
-      $(this).css('zIndex',zi+=10);
-    },
-    mb_hover:function(hoverIntent, fn1, fn2){
-      if(hoverIntent==0)
-        $(this).hover(fn1,fn2);
-      else
-        $(this).hoverIntent({
-          sensitivity: 30,
-          interval: hoverIntent,
-          timeout: 0,
-          over:fn1,
-          out:fn2
-        });
-    }
-  });
-  $.fn.buildMenu = $.mbMenu.buildMenu;
-  $.fn.buildContextualMenu = $.mbMenu.buildContextualMenu;
-})(jQuery);
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/inc/styleswitch.js b/sites/all/themes/vibio/js/mbMenu/inc/styleswitch.js
deleted file mode 100644
index 752a651..0000000
--- a/sites/all/themes/vibio/js/mbMenu/inc/styleswitch.js
+++ /dev/null
@@ -1,66 +0,0 @@
-/*******************************************************************************
- jquery.mb.components
- Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
- email: info@pupunzi.com
- site: http://pupunzi.com
-
- Licences: MIT, GPL
- http://www.opensource.org/licenses/mit-license.php
- http://www.gnu.org/licenses/gpl.html
- ******************************************************************************/
-
-/**
-* Styleswitch stylesheet switcher built on jQuery
-* Under an Attribution, Share Alike License
-* By Kelvin Luck ( http://www.kelvinluck.com/ )
-**/
-
-$(document).ready(function() {
-	$('.styleswitch').click(function()
-	{
-		switchStylestyle(this.getAttribute("rel"));
-		return false;
-	});
-	var c = readCookie('style');
-	if (c) switchStylestyle(c);
-});
-
-function switchStylestyle(styleName)
-{
-	$(document).find("@rel*=style][title]").each(function(i)
-	{
-		this.disabled = true;
-		if (this.getAttribute('title') == styleName) this.disabled = false;
-	});
-	createCookie('style', styleName, 365);
-}
-
-// cookie functions http://www.quirksmode.org/js/cookies.html
-function createCookie(name,value,days)
-{
-	if (days)
-	{
-		var date = new Date();
-		date.setTime(date.getTime()+(days*24*60*60*1000));
-		var expires = "; expires="+date.toGMTString();
-	}
-	else var expires = "";
-	document.cookie = name+"="+value+expires+"; path=/";
-}
-function readCookie(name)
-{
-	var nameEQ = name + "=";
-	var ca = document.cookie.split(';');
-	for(var i=0;i < ca.length;i++)
-	{
-		var c = ca[i];
-		while (c.charAt(0)==' ') c = c.substring(1,c.length);
-		if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
-	}
-	return null;
-}
-function eraseCookie(name)
-{
-	createCookie(name,"",-1);
-}
-// /cookie functions
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/inc/toImplement.txt b/sites/all/themes/vibio/js/mbMenu/inc/toImplement.txt
deleted file mode 100644
index 351a3a5..0000000
--- a/sites/all/themes/vibio/js/mbMenu/inc/toImplement.txt
+++ /dev/null
@@ -1,10 +0,0 @@
-1. (DONE)
-.menuContainer .selected td a{
-color:#000;
-text-shadow:#fff 2px 2px 1px;
-display:block;
-}
-
-
-2.
-add disble to rootvoices.
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/licenses/GPL-LICENSE.txt b/sites/all/themes/vibio/js/mbMenu/licenses/GPL-LICENSE.txt
deleted file mode 100644
index 9266bbc..0000000
--- a/sites/all/themes/vibio/js/mbMenu/licenses/GPL-LICENSE.txt
+++ /dev/null
@@ -1,279 +0,0 @@
-        GNU GENERAL PUBLIC LICENSE
-           Version 2, June 1991
-
- Copyright (C) 1989, 1991 Open Lab srl.
- via Venezia 18b - 50121 Firenze, Italia
-
- Everyone is permitted to copy and distribute verbatim copies
- of this license document, but changing it is not allowed.
-
-          Preamble
-
-  The licenses for most software are designed to take away your
-freedom to share and change it.  By contrast, the GNU General Public
-License is intended to guarantee your freedom to share and change free
-software--to make sure the software is free for all its users.  This
-General Public License applies to most of the Free Software
-Foundation's software and to any other program whose authors commit to
-using it.  (Some other Free Software Foundation software is covered by
-the GNU Lesser General Public License instead.)  You can apply it to
-your programs, too.
-
-  When we speak of free software, we are referring to freedom, not
-price.  Our General Public Licenses are designed to make sure that you
-have the freedom to distribute copies of free software (and charge for
-this service if you wish), that you receive source code or can get it
-if you want it, that you can change the software or use pieces of it
-in new free programs; and that you know you can do these things.
-
-  To protect your rights, we need to make restrictions that forbid
-anyone to deny you these rights or to ask you to surrender the rights.
-These restrictions translate to certain responsibilities for you if you
-distribute copies of the software, or if you modify it.
-
-  For example, if you distribute copies of such a program, whether
-gratis or for a fee, you must give the recipients all the rights that
-you have.  You must make sure that they, too, receive or can get the
-source code.  And you must show them these terms so they know their
-rights.
-
-  We protect your rights with two steps: (1) copyright the software, and
-(2) offer you this license which gives you legal permission to copy,
-distribute and/or modify the software.
-
-  Also, for each author's protection and ours, we want to make certain
-that everyone understands that there is no warranty for this free
-software.  If the software is modified by someone else and passed on, we
-want its recipients to know that what they have is not the original, so
-that any problems introduced by others will not reflect on the original
-authors' reputations.
-
-  Finally, any free program is threatened constantly by software
-patents.  We wish to avoid the danger that redistributors of a free
-program will individually obtain patent licenses, in effect making the
-program proprietary.  To prevent this, we have made it clear that any
-patent must be licensed for everyone's free use or not licensed at all.
-
-  The precise terms and conditions for copying, distribution and
-modification follow.
-
-        GNU GENERAL PUBLIC LICENSE
-   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
-
-  0. This License applies to any program or other work which contains
-a notice placed by the copyright holder saying it may be distributed
-under the terms of this General Public License.  The "Program", below,
-refers to any such program or work, and a "work based on the Program"
-means either the Program or any derivative work under copyright law:
-that is to say, a work containing the Program or a portion of it,
-either verbatim or with modifications and/or translated into another
-language.  (Hereinafter, translation is included without limitation in
-the term "modification".)  Each licensee is addressed as "you".
-
-Activities other than copying, distribution and modification are not
-covered by this License; they are outside its scope.  The act of
-running the Program is not restricted, and the output from the Program
-is covered only if its contents constitute a work based on the
-Program (independent of having been made by running the Program).
-Whether that is true depends on what the Program does.
-
-  1. You may copy and distribute verbatim copies of the Program's
-source code as you receive it, in any medium, provided that you
-conspicuously and appropriately publish on each copy an appropriate
-copyright notice and disclaimer of warranty; keep intact all the
-notices that refer to this License and to the absence of any warranty;
-and give any other recipients of the Program a copy of this License
-along with the Program.
-
-You may charge a fee for the physical act of transferring a copy, and
-you may at your option offer warranty protection in exchange for a fee.
-
-  2. You may modify your copy or copies of the Program or any portion
-of it, thus forming a work based on the Program, and copy and
-distribute such modifications or work under the terms of Section 1
-above, provided that you also meet all of these conditions:
-
-    a) You must cause the modified files to carry prominent notices
-    stating that you changed the files and the date of any change.
-
-    b) You must cause any work that you distribute or publish, that in
-    whole or in part contains or is derived from the Program or any
-    part thereof, to be licensed as a whole at no charge to all third
-    parties under the terms of this License.
-
-    c) If the modified program normally reads commands interactively
-    when run, you must cause it, when started running for such
-    interactive use in the most ordinary way, to print or display an
-    announcement including an appropriate copyright notice and a
-    notice that there is no warranty (or else, saying that you provide
-    a warranty) and that users may redistribute the program under
-    these conditions, and telling the user how to view a copy of this
-    License.  (Exception: if the Program itself is interactive but
-    does not normally print such an announcement, your work based on
-    the Program is not required to print an announcement.)
-
-These requirements apply to the modified work as a whole.  If
-identifiable sections of that work are not derived from the Program,
-and can be reasonably considered independent and separate works in
-themselves, then this License, and its terms, do not apply to those
-sections when you distribute them as separate works.  But when you
-distribute the same sections as part of a whole which is a work based
-on the Program, the distribution of the whole must be on the terms of
-this License, whose permissions for other licensees extend to the
-entire whole, and thus to each and every part regardless of who wrote it.
-
-Thus, it is not the intent of this section to claim rights or contest
-your rights to work written entirely by you; rather, the intent is to
-exercise the right to control the distribution of derivative or
-collective works based on the Program.
-
-In addition, mere aggregation of another work not based on the Program
-with the Program (or with a work based on the Program) on a volume of
-a storage or distribution medium does not bring the other work under
-the scope of this License.
-
-  3. You may copy and distribute the Program (or a work based on it,
-under Section 2) in object code or executable form under the terms of
-Sections 1 and 2 above provided that you also do one of the following:
-
-    a) Accompany it with the complete corresponding machine-readable
-    source code, which must be distributed under the terms of Sections
-    1 and 2 above on a medium customarily used for software interchange; or,
-
-    b) Accompany it with a written offer, valid for at least three
-    years, to give any third party, for a charge no more than your
-    cost of physically performing source distribution, a complete
-    machine-readable copy of the corresponding source code, to be
-    distributed under the terms of Sections 1 and 2 above on a medium
-    customarily used for software interchange; or,
-
-    c) Accompany it with the information you received as to the offer
-    to distribute corresponding source code.  (This alternative is
-    allowed only for noncommercial distribution and only if you
-    received the program in object code or executable form with such
-    an offer, in accord with Subsection b above.)
-
-The source code for a work means the preferred form of the work for
-making modifications to it.  For an executable work, complete source
-code means all the source code for all modules it contains, plus any
-associated interface definition files, plus the scripts used to
-control compilation and installation of the executable.  However, as a
-special exception, the source code distributed need not include
-anything that is normally distributed (in either source or binary
-form) with the major components (compiler, kernel, and so on) of the
-operating system on which the executable runs, unless that component
-itself accompanies the executable.
-
-If distribution of executable or object code is made by offering
-access to copy from a designated place, then offering equivalent
-access to copy the source code from the same place counts as
-distribution of the source code, even though third parties are not
-compelled to copy the source along with the object code.
-
-  4. You may not copy, modify, sublicense, or distribute the Program
-except as expressly provided under this License.  Any attempt
-otherwise to copy, modify, sublicense or distribute the Program is
-void, and will automatically terminate your rights under this License.
-However, parties who have received copies, or rights, from you under
-this License will not have their licenses terminated so long as such
-parties remain in full compliance.
-
-  5. You are not required to accept this License, since you have not
-signed it.  However, nothing else grants you permission to modify or
-distribute the Program or its derivative works.  These actions are
-prohibited by law if you do not accept this License.  Therefore, by
-modifying or distributing the Program (or any work based on the
-Program), you indicate your acceptance of this License to do so, and
-all its terms and conditions for copying, distributing or modifying
-the Program or works based on it.
-
-  6. Each time you redistribute the Program (or any work based on the
-Program), the recipient automatically receives a license from the
-original licensor to copy, distribute or modify the Program subject to
-these terms and conditions.  You may not impose any further
-restrictions on the recipients' exercise of the rights granted herein.
-You are not responsible for enforcing compliance by third parties to
-this License.
-
-  7. If, as a consequence of a court judgment or allegation of patent
-infringement or for any other reason (not limited to patent issues),
-conditions are imposed on you (whether by court order, agreement or
-otherwise) that contradict the conditions of this License, they do not
-excuse you from the conditions of this License.  If you cannot
-distribute so as to satisfy simultaneously your obligations under this
-License and any other pertinent obligations, then as a consequence you
-may not distribute the Program at all.  For example, if a patent
-license would not permit royalty-free redistribution of the Program by
-all those who receive copies directly or indirectly through you, then
-the only way you could satisfy both it and this License would be to
-refrain entirely from distribution of the Program.
-
-If any portion of this section is held invalid or unenforceable under
-any particular circumstance, the balance of the section is intended to
-apply and the section as a whole is intended to apply in other
-circumstances.
-
-It is not the purpose of this section to induce you to infringe any
-patents or other property right claims or to contest validity of any
-such claims; this section has the sole purpose of protecting the
-integrity of the free software distribution system, which is
-implemented by public license practices.  Many people have made
-generous contributions to the wide range of software distributed
-through that system in reliance on consistent application of that
-system; it is up to the author/donor to decide if he or she is willing
-to distribute software through any other system and a licensee cannot
-impose that choice.
-
-This section is intended to make thoroughly clear what is believed to
-be a consequence of the rest of this License.
-
-  8. If the distribution and/or use of the Program is restricted in
-certain countries either by patents or by copyrighted interfaces, the
-original copyright holder who places the Program under this License
-may add an explicit geographical distribution limitation excluding
-those countries, so that distribution is permitted only in or among
-countries not thus excluded.  In such case, this License incorporates
-the limitation as if written in the body of this License.
-
-  9. The Free Software Foundation may publish revised and/or new versions
-of the General Public License from time to time.  Such new versions will
-be similar in spirit to the present version, but may differ in detail to
-address new problems or concerns.
-
-Each version is given a distinguishing version number.  If the Program
-specifies a version number of this License which applies to it and "any
-later version", you have the option of following the terms and conditions
-either of that version or of any later version published by the Free
-Software Foundation.  If the Program does not specify a version number of
-this License, you may choose any version ever published by the Free Software
-Foundation.
-
-  10. If you wish to incorporate parts of the Program into other free
-programs whose distribution conditions are different, write to the author
-to ask for permission.  For software which is copyrighted by the Free
-Software Foundation, write to the Free Software Foundation; we sometimes
-make exceptions for this.  Our decision will be guided by the two goals
-of preserving the free status of all derivatives of our free software and
-of promoting the sharing and reuse of software generally.
-
-          NO WARRANTY
-
-  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
-FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
-OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
-PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
-OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
-MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
-TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
-PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
-REPAIR OR CORRECTION.
-
-  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
-WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
-REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
-INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
-OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
-TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
-YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
-PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
-POSSIBILITY OF SUCH DAMAGES.
diff --git a/sites/all/themes/vibio/js/mbMenu/licenses/MIT-LICENSE.txt b/sites/all/themes/vibio/js/mbMenu/licenses/MIT-LICENSE.txt
deleted file mode 100644
index a5d7d3d..0000000
--- a/sites/all/themes/vibio/js/mbMenu/licenses/MIT-LICENSE.txt
+++ /dev/null
@@ -1,22 +0,0 @@
-Copyright (c) 2009 Matteo Bicocchi, Open Lab srl
-
-Permission is hereby granted, free of charge, to any person
-obtaining a copy of this software and associated documentation
-files (the "Software"), to deal in the Software without
-restriction, including without limitation the rights to use,
-copy, modify, merge, publish, distribute, sublicense, and/or sell
-copies of the Software, and to permit persons to whom the
-Software is furnished to do so, subject to the following
-conditions:
-
-The above copyright notice and this permission notice shall be
-included in all copies or substantial portions of the Software.
-
-THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
-EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
-OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
-NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
-HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
-WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
-FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
-OTHER DEALINGS IN THE SOFTWARE.
diff --git a/sites/all/themes/vibio/js/mbMenu/menuVoices.html b/sites/all/themes/vibio/js/mbMenu/menuVoices.html
deleted file mode 100644
index 8d648a6..0000000
--- a/sites/all/themes/vibio/js/mbMenu/menuVoices.html
+++ /dev/null
@@ -1,32 +0,0 @@
-<!--
-  ~ jquery.mb.components
-  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
-  ~ email: info@pupunzi.com
-  ~ site: http://pupunzi.com
-  ~
-  ~ Licences: MIT, GPL
-  ~ http://www.opensource.org/licenses/mit-license.php
-  ~ http://www.gnu.org/licenses/gpl.html
-  -->
-
-<!--<div id="menu_12" class="menu">
-	<a href="http://www.open-lab.com" target="_blank" img="ico_view.gif" >Ajax_menu_12.2 go to OL</a>
-	<a href="javascript:alert('pippo')" img="ico_view.gif" >Ajax_menu_12.2 alert via href</a>
-	<a action="document.title=('menu_12.2')" >menu_12.2</a>
-	<a rel="separator"></a>
-	<a action="document.title=('menu_12.3')" disabled=true>Ajax_menu_12.3 disabled</a>
-	<a action="document.title=('menu_12.4')" menu="menu_1" img="24-book-blue-check.png">Ajax_menu_12.4</a>
-</div>-->
-<div id="menu_12" class="mbmenu">
-  <a rel="title">Ajax menu</a>
-  <a rel="text" >
-    This menu has been created from an Ajax call because it wasn't defined in this page.<br/><br/>
-  </a>
-  <a rel="separator"> </a>
-  <a class="{action: 'document.title=(\'menu_2.2\')'}">menu_12.2</a>
-  <a class="{menu: 'sub_menu_1', img: 'icon_14.png'}">menu_12.3</a>
-  <a class="{menu: 'sub_menu_2', img: '24-tag-add.png'}">menu_12.4</a>
-  <a rel="separator"> </a>
-  <a class="{action: 'document.title=(\'menu_2.4\')'}">menu_12.5</a>
-</div>
-
diff --git a/sites/all/themes/vibio/js/mbMenu/testFlash/test.fla b/sites/all/themes/vibio/js/mbMenu/testFlash/test.fla
deleted file mode 100644
index 932b533..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/testFlash/test.fla and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/testFlash/test.html b/sites/all/themes/vibio/js/mbMenu/testFlash/test.html
deleted file mode 100644
index 17506b7..0000000
--- a/sites/all/themes/vibio/js/mbMenu/testFlash/test.html
+++ /dev/null
@@ -1,16 +0,0 @@
-<!--
-  ~ jquery.mb.components
-  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
-  ~ email: info@pupunzi.com
-  ~ site: http://pupunzi.com
-  ~
-  ~ Licences: MIT, GPL
-  ~ http://www.opensource.org/licenses/mit-license.php
-  ~ http://www.gnu.org/licenses/gpl.html
-  -->
-
-<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" width="100%" height="100" id="test" align="middle">
-<param name="allowScriptAccess" value="sameDomain" />
-<param name="allowFullScreen" value="false" />
-<param name="movie" value="testFlash/test.swf" /><param name="quality" value="high" /><param name="wmode" value="transparent" /><param name="bgcolor" value="#ffffff" />	<embed src="testFlash/test.swf" quality="high" wmode="transparent" bgcolor="#ffffff" width="100%" height="100" name="test" align="middle" allowScriptAccess="sameDomain" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.adobe.com/go/getflashplayer_it" />
-</object>
diff --git a/sites/all/themes/vibio/js/mbMenu/testFlash/test.swf b/sites/all/themes/vibio/js/mbMenu/testFlash/test.swf
deleted file mode 100644
index ff634e9..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/testFlash/test.swf and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/css/mbExtruder1.css b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/css/mbExtruder1.css
deleted file mode 100644
index 87fbda5..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/css/mbExtruder1.css
+++ /dev/null
@@ -1,187 +0,0 @@
-.extruder{
-  position:fixed;
-  cursor:default;
-  background:url("../elements/extruder_blank.png");
-}
-
-.extruder .header{
-  height:27px;
-}
-
-.extruder .content{
-  display:none;
-  background:url("../elements/extruder_bgnd.png") repeat-y bottom left;
-}
-
-.extruder.open .content{
-  -moz-box-shadow:#999 2px -2px 2px;
-  -webkit-box-shadow:#999 2px -2px 2px;
-}
-
-
-
-.extruder .footer{
-  display:block;
-  spadding:5px;
-  height:10px;
-  background:#000;
-  -moz-border-radius: 0 0 8px 8px;
-  -webkit-border-bottom-right-radius: 5px;
-  -webkit-border-bottom-left-radius: 5px;
-}
-.extruder.top .flap{
-  color:white;
-  text-shadow: #000 2px 2px 2px;
-  font:18px/18px Arial, Helvetica, sans-serif;
-  text-align:center;
-  display:block;
-  padding:0 5px 5px 5px;
-  height:30px;
-  background:url("../elements/extruder_flap.png") no-repeat top center;
-  cursor:pointer;
-}
-
-.extruder.left{
-  /*position:absolute;*/
-  height:100%;
-  background:url("../elements/extruder_blank.png");
-}
-
-.extruder.left .content{
-  display:block;
-  border-right:3px solid #000;
-}
-
-
-.extruder.left .ext_wrapper{
-  height:100%;
-}
-
-.extruder.left .footer{
-  display:none;
-}
-
-.extruder.left .flap{
-  font-size:18px;
-  color:white;
-  top:0;
-  padding:10px 0px 10px 10px;
-  background:#000;
-  width:30px;
-  /*height:150px;*/
-  position:absolute;
-  /*overflow:hidden;*/
-  right:0px;
-  -moz-border-radius:0 10px 10px 0;
-  -webkit-border-top-right-radius:10px;
-  -webkit-border-bottom-right-radius:10px;
-  -moz-box-shadow:#666 2px 0px 3px;
-  -webkit-box-shadow:#666 2px 0px 3px;
-}
-
-
-/*Extruder Content*/
-
-  .extruder .voice{
-    font:18px/18px Arial, Helvetica, sans-serif;
-    color:white;
-    padding:5px;
-    padding-left:10px;
-    height:27px;
-    border-bottom:1px solid #333;
-    background:url("../elements/extruder_blank.png") no-repeat bottom left;
-    text-shadow:#333 2px 2px 2px;
-  }
- .extruder .voice.disabled{
-   cursor:default;
-  }
-.extruder .text{
-    background:#222;
-    font:14px/16px Arial, Helvetica, sans-serif;
-    color:gray;
-    padding:10px;
-    border-bottom:1px solid #333;
-  text-shadow:#000 2px 2px 2px;
-  }
-
-  .extruder .voice.hover{
-    background:url("../elements/extruder_voiceHover.png") no-repeat top;
-  }
-
-  .extruder .voice.sel{
-    background:url("../elements/extruder_voiceHover.png") no-repeat top;
-  }
-
-  .extruder .voice img{
-    float:left;
-    margin-right:15px;
-  }
-
-  .extruder .voice a.label{
-    display:block;
-    height:30px;
-    color:white;
-    padding-top:0px;
-    text-decoration:none;
-  }
-
-  .extruder .voice span.label{
-    display:block;
-    height:30px;
-    color: #d0cfcf;
-    padding-top:0px;
-    text-decoration:none;
-  }
-
-  .extruder .voice{
-    position:relative;
-  }
-
-  .extruder .settingsBtn{
-    display:block;
-    position:absolute;
-    width:36px;
-    height:36px;
-    background: url("../elements/settingsBtn.png") no-repeat bottom;
-    cursor:pointer;
-    right:-3px;
-    top:-4px;
-    /*z-index:1000;*/
-  }
-
-  .extruder .optionsPanel{
-    /*background: url("../elements/optionsPanel.png") no-repeat bottom;*/
-    background: url("../elements/fuzz.gif");
-    display:none;
-    border-bottom:1px solid #333;
-  }
-
-  .extruder .voice.sel{
-    background: url("../elements/extruder_voiceHover.png") no-repeat top;
-  }
-
-
-  /*Extruder Panel*/
-
-  .optionsPanel .panelVoice a{
-    text-decoration:none;
-    display:block;
-    color:#cccccc;
-    padding:8px;
-    padding-left:20px;
-    font-size:16px;
-    text-shadow:#333 1px 1px 1px;
-    border-bottom:1px solid #444;
-    cursor:pointer;
-  }
-  .optionsPanel .panelVoice a:hover{
-    color:#fff;
-    /*background: #666666;*/
-    background: url("../elements/red_op_50.png");
-  }
-
-:focus {
-	outline: 0;
-}
-
-
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/css/menu1.css b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/css/menu1.css
deleted file mode 100644
index ac36f54..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/css/menu1.css
+++ /dev/null
@@ -1,159 +0,0 @@
-/*
-* jQuery.mb.components: jquery.mb.menu
-*  2001 - 2010 Matteo Bicocchi (pupunzi), Open Lab
-*
-*/
-
-@charset "UTF-8";
-
-body{
-	font-family:"Lucida Sans Unicode","Lucida Grande",Helvetica,Arial,sans-serif;
-	font-size:14px;
-	color:gray;
-}
-.mbmenu{
-  display:none;
-}
-.rootVoices{
-	background-color:#EDEDED;
-	padding:5px;
-	padding-bottom:0;
-}
-.rootVoices td.rootVoice {
-	vertical-align:middle;
-	background-color:#fff;
-	width:120px;
-	font-family:Arial,Helvetica,sans-serif;
-	color: gray;
-	font-size:12px;
-	line-height:18px;
-	padding:8px;
-	cursor: pointer;
-  -moz-border-radius:8px 8px 0 0px;
-  -webkit-border-top-right-radius:8px;
-  -webkit-border-top-left-radius:8px;
-  -webkit-border-bottom-right-radius:0px;
-  -webkit-border-bottom-left-radius:0px;}
-
-.rootVoices td.rootVoice.selected{
-	background: black url("../images/bgnd_sel_4.png");
-	padding:8px;
-	color:#ffffff;
-	cursor: pointer;
-	font-size:14px;
-  text-shadow:#660033 1px 1px 1px;
-/*
-  -moz-box-shadow:#999 2px 2px 10px;
-  -webkit-box-shadow:#999 2px 2px 10px;
-*/
-  -moz-border-radius:8px 8px 0 0px;
-  -webkit-border-top-right-radius:8px;
-  -webkit-border-top-left-radius:8px;
-  -webkit-border-bottom-right-radius:0px;
-  -webkit-border-bottom-left-radius:0px;
-
-}
-
-
-
-.rootVoices.vertical {
-	width:140px;
-}
-.rootVoices.vertical td.rootVoice{
-	-moz-border-radius:8px 0px 0 8px;
-	-webkit-border-top-right-radius:0px;
-	-webkit-border-top-left-radius:8px;
-	-webkit-border-bottom-right-radius:0px;
-	-webkit-border-bottom-left-radius:8px;
-}
-
-.menuShadow{
-	padding:2px;
-	padding-bottom:0px;
-	left:-2px;
-	top:1px;
-}
-
-/**/
-
-.menuContainer{
-  /*overflow:hidden;*/
-  position:absolute;
-	background-color:gray;
-	padding:0;
-  -moz-box-shadow:#999 2px 2px 10px;
-  -webkit-box-shadow:#999 2px 2px 10px;
-  -moz-border-radius: 0 0 8px 8px;
-  -webkit-border-top-right-radius:0px;
-  -webkit-border-top-left-radius:0px;
-  -webkit-border-bottom-right-radius:8px;
-  -webkit-border-bottom-left-radius:8px;
-}
-.menuContainer .line{
-	background-color:transparent;
-	width:100%;
-}
-.menuContainer .line.title {
-	background-color:black;
-	font-family:Arial,Helvetica,sans-serif;
-	font-size:14px;
-	/*border-bottom:1px solid black;*/
-}
-.menuContainer .line.title a{
-	font-size:14px;
-}
-.menuContainer td a{
-	text-decoration:none;
-	color: #f3f3f3;
-}
-.menuContainer td.voice{
-	font-family:Arial,Helvetica,sans-serif;
-	font-size:12px;
-	padding:7px;
-}
-.menuContainer .separator{
-	background-color:#999;
-	height:1px;
-  padding:0;
-  margin:0;
-}
-.menuContainer td.img{
-	font-family:Arial,Helvetica,sans-serif;
-	text-align:center;
-	font-size:12px;
-	color: #c3c3c3;
-	background-color:transparent;
-	width:24px;
-	padding:5px;
-}
-.menuContainer td.img img{
-	width:20px;
-}
-.menuContainer .textBox{
-	padding: 10px;
-	font-family:Arial,Helvetica,sans-serif;
-	font-size:12px;
-	color: #c3c3c3;
-}
-.menuContainer .selected td{
-	background-color:#f3f3f3;
-	background-image:url("../images/bgnd_sel_2.jpg")
-}
-.menuContainer .selected td a{
-	color:#000;
-  text-shadow:#fff 2px 2px 1px;
-  display:block;
-}
-.menuContainer .disabled td, .menuContainer .disabled td a {
-	color: #cccccc;
-}
-.menuContainer .subMenuOpener{
-	background-image:url("../images/menuArrow_w.gif");
-	background-repeat:no-repeat;
-	background-position:right;
-}
-.menuContainer .selected .subMenuOpener{
-	background-image:url("../images/menuArrow.gif");
-	background-repeat:no-repeat;
-	background-position:right;
-}
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/demo.html b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/demo.html
deleted file mode 100644
index 0a71c78..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/demo.html
+++ /dev/null
@@ -1,388 +0,0 @@
-<!DOCTYPE html>
-<!--
-  ~ jquery.mb.components
-  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
-  ~ email: info@pupunzi.com
-  ~ site: http://pupunzi.com
-  ~
-  ~ Licences: MIT, GPL
-  ~ http://www.opensource.org/licenses/mit-license.php
-  ~ http://www.gnu.org/licenses/gpl.html
-  -->
-
-<html>
-<head>
-<title>mbMenu & mbExtruder</title>
-<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-
-<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"></script>
-<script type="text/javascript" src="inc/jquery.metadata.js"></script>
-<script type="text/javascript" src="inc/jquery.hoverIntent.min.js"></script>
-<script type="text/javascript" src="inc/jquery.mb.flipText.min.js"></script>
-<script type="text/javascript" src="inc/mbMenu.js"></script>
-<script type="text/javascript" src="inc/mbExtruder.js"></script>
-
-<link rel="stylesheet" type="text/css" href="css/menu1.css" media="screen" />
-<link href="css/mbExtruder1.css" media="all" rel="stylesheet" type="text/css">
-
-<script type="text/javascript">
-  $(function(){
-    if (self.location.href == top.location.href){
-      $("body").css({font:"normal 13px/16px 'trebuchet MS', verdana, sans-serif"});
-      var logo=$("<a href='http://pupunzi.com'><img id='logo' border='0' src='http://pupunzi.com/images/logo.png' alt='mb.ideas.repository' style='display:none;'></a>");
-      $("body").prepend(logo);
-      $("#logo").fadeIn();
-    }
-  });
-</script>
-<style type="text/css">
-
-  body{
-    font-family:Arial, Helvetica, sans-serif;
-    margin:10px;
-  }
-  .wrapper{
-    position:relative;
-    font-family:Arial, Helvetica, sans-serif;
-    padding-top:90px;
-    padding-left:50px;
-    width:80%;
-    margin:auto
-  }
-  .wrapper .text{
-    font-family:Arial, Helvetica, sans-serif;
-    padding-top:50px;
-  }
-  .wrapper h1{
-    font-family:Arial, Helvetica, sans-serif;
-    font-size:26px;
-  }
-  .longText{
-    margin-top:20px;
-    width:600px;
-    font:18px/24px Arial, Helvetica, sans-serif;
-    color:gray;
-  }
-  span.btn{
-    padding:10px;
-    display:inline-block;
-    cursor:pointer;
-    font:12px/14px Arial, Helvetica, sans-serif;
-    color:#aaa;
-    background-color:#eee;
-    -moz-border-radius:10px;
-    -webkit-border-radius:10px;
-    -moz-box-shadow:#999 2px 0px 3px;
-    -webkit-box-shadow:#999 2px 0px 3px;
-  }
-  span.btn:hover{
-    background-color:#000;
-  }
-
-    /*
-    custom style for extruder
-    */
-
-  .extruder.left.a .flap{
-    font-size:18px;
-    color:white;
-    top:0;
-    padding:10px 0px 10px 10px;
-    background:#772B14;
-    width:30px;
-    position:absolute;
-    right:0px;
-    -moz-border-radius:0 10px 10px 0;
-    -webkit-border-top-right-radius:10px;
-    -webkit-border-bottom-right-radius:10px;
-    -moz-box-shadow:#666 2px 0px 3px;
-    -webkit-box-shadow:#666 2px 0px 3px;
-  }
-
-  .extruder.left.a .content{
-    border-right:3px solid #772B14;
-  }
-
-  .extruder.top .optionsPanel .panelVoice a:hover{
-    color:#fff;
-    background: url("elements/black_op_30.png");
-    border-bottom:1px solid #000;
-  }
-  .extruder.top .optionsPanel .panelVoice a{
-    border-bottom:1px solid #000;
-  }
-
-  .extruder.left.a .flap .flapLabel{
-    background:#772B14;
-  }
-
-  .wrapper{
-    font-family:Arial, Helvetica, sans-serif;
-    margin-top:50px;
-    margin-left:50px;
-  }
-
-  .wrapper h1{
-    font-family:Arial, Helvetica, sans-serif;
-    font-size:26px;
-  }
-  button{
-    padding:4px;
-    display:inline-block;
-    cursor:pointer;
-    font:12px/14px Arial, Helvetica, sans-serif;
-    color:#666;
-    border:1px solid #999;
-    background-color:#eee;
-    -moz-border-radius:10px;
-    -webkit-border-radius:10px;
-    -moz-box-shadow:#999 2px 0px 3px;
-    -webkit-box-shadow:#999 2px 0px 3px;
-    margin-bottom:4px;
-  }
-  button:hover{
-    color:#aaa;
-    background-color:#000;
-  }
-  :focus {
-    outline: 0;
-  }
-</style>
-
-<script type="text/javascript">
-
-  $(function(){
-
-    $(".myMenu").buildMenu(
-    {
-      template:"menuVoices.html",
-      additionalData:"pippo=1",
-      menuWidth:200,
-      openOnRight:false,
-      menuSelector: ".menuContainer",
-      iconPath:"ico/",
-      hasImages:true,
-      fadeInTime:100,
-      fadeOutTime:300,
-      adjustLeft:2,
-      minZindex:"auto",
-      adjustTop:10,
-      opacity:.95,
-      shadow:true,
-      shadowColor:"#ccc",
-      hoverIntent:0,
-      openOnClick:true,
-      closeOnMouseOut:false,
-      closeAfter:1000,
-      submenuHoverIntent:200
-    });
-
-    $(".vertMenu").buildMenu(
-    {
-      template:"menuVoices.html",
-      menuWidth:170,
-      openOnRight:true,
-      menuSelector: ".menuContainer",
-      iconPath:"ico/",
-      hasImages:true,
-      fadeInTime:200,
-      fadeOutTime:200,
-      adjustLeft:0,
-      adjustTop:0,
-      opacity:.95,
-      openOnClick:false,
-      minZindex:200,
-      shadow:false,
-      hoverIntent:300,
-      submenuHoverIntent:300,
-      closeOnMouseOut:true
-    });
-
-    $(document).buildContextualMenu(
-    {
-      template:"menuVoices.html",
-      menuWidth:200,
-      overflow:2,
-      menuSelector: ".menuContainer",
-      iconPath:"ico/",
-      hasImages:false,
-      fadeInTime:100,
-      fadeOutTime:100,
-      adjustLeft:0,
-      adjustTop:0,
-      opacity:.99,
-      closeOnMouseOut:false,
-      onContextualMenu:function(o,e){}, //params: o,e
-      shadow:false
-    });
-
-
-    $("#extruderTop").buildMbExtruder({
-      positionFixed:false,
-      width:350,
-      extruderOpacity:1,
-      autoCloseTime:4000,
-      hidePanelsOnClose:false,
-      onExtOpen:function(){},
-      onExtContentLoad:function(){},
-      onExtClose:function(){}
-    });
-
-    $("#extruderLeft").buildMbExtruder({
-      position:"left",
-      width:300,
-      extruderOpacity:.8,
-      onExtOpen:function(){},
-      onExtContentLoad:function(){},
-      onExtClose:function(){}
-    });
-
-
-
-  })
-
-</script>
-
-</head>
-<body bgcolor="#ffffff">
-
-<div id="extruderTop" class="{title:'extruder top', url:'parts/extruderTop.html'}"></div>
-<div id="extruderLeft" class="{title:'Our network', url:'parts/extruderLeft.html'}"></div>
-
-<div class="wrapper">
-  <h1>(mb.menu + mb.extruder) demo</h1>
-
-  <table width="100%"  border="0" cellpadding="0" cellspacing="0" bgcolor="#EDEDED">
-    <tr>
-      <td width="180" height="33" style="padding:10px" class="style">
-      </td>
-      <td valign="bottom">
-        <table  border="0" cellpadding="0" cellspacing="0" bgcolor="#FFFFFF" class="container">
-          <tr>
-            <td class="myMenu" align="right">
-
-              <!-- start horizontal menu -->
-
-              <table class="rootVoices" cellspacing='0' cellpadding='0' border='0'><tr>
-                <td class="rootVoice {menu: 'menu_12'}" >ajax menu 12</td>
-                <td class="rootVoice {menu: 'menu_2'}" >menu 2</td>
-                <td class="rootVoice {menu: 'menu_3'}" >menu 3</td>
-                <!--<td class="rootVoice {menu: 'empty'}" onclick="window.open('http://www.open-lab.com','ww');">menu 4 empty</td>-->
-              </tr></table>
-
-              <!-- end horizontal menu -->
-
-            </td>
-          </tr>
-        </table>
-      </td>
-    </tr>
-  </table>
-  <br>
-  <br>
-  <br>
-  <br>
- 
-  <span class="btn" onclick="$.fn.removeMbMenu();">close menu</span>
-  <span class="btn" onclick="$('#extruderTop').openMbExtruder(true);setTimeout(function(){$('#top2').disableExtruderVoice();},400);"><a style="color:red">disable</a> second voice of mbExtruder Top</span>
-  <span class="btn" onclick="setTimeout(function(){$('#top2').enableExtruderVoice();},400);"><a style="color:green">enable</a> second voice of mbExtruder Top</span>
-  <span class="btn" onclick="$('#extruderLeft').openMbExtruder(true);">open "Our network"</span>
-  <span class="btn" onclick="$('#extruderLeft').closeMbExtruder();">close "Our network"</span>
-  <br>
-  <br>
-  <!-- start conextual menu  -->
-  <a class="cmVoice {cMenu:'menu_12'}" id="pippo"> Contextual menu 1</a>&nbsp;&nbsp;&nbsp;<a class="cmVoice {cMenu:'conext_menu_1'}" id="pluto"> Contextual menu 2</a>
-  <!-- end conextual menu  -->
-  <br/>
-  <br/>
-  <br/>
-  <br/>
-  <div class="containerContent" style="float:right; margin-left:150px; margin-right:100px">
-    <input type="text" name="tuoTesto" value="explorer test" /><br/><br/>
-    <a class="style" href="#">Lorem ipsum dolor</a> sit amet, consectetuer adipiscing elit. Morbi felis leo, consequat et, lacinia a, facilisis sit amet, nulla. In ornare tincidunt ante. Donec non sem. Morbi augue mi, accumsan non, nonummy ac, tempor eleifend, lacus. Nunc quam. Suspendisse tincidunt, purus sit amet adipiscing placerat, leo nunc interdum nulla, sed suscipit lacus felis ac enim. Maecenas nibh. Cras at tortor. Maecenas leo. Nullam eget tellus. Curabitur imperdiet dignissim sem. Nullam viverra viverra leo.
-    Mauris ac ipsum. Aenean eget magna. Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Nullam mollis ante id ipsum. Sed elementum. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos hymenaeos. Duis lobortis rutrum felis. Vestibulum varius. In tincidunt turpis sed justo. Suspendisse potenti. Ut sodales risus non dui. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos hymenaeos. Proin lectus. Pellentesque vel arcu. Etiam sem lacus, molestie at, euismod non, lobortis vitae, mi.
-  </div>
-
-  <!-- start vertical menu -->
-  <div class="vertMenu">
-    <table class="rootVoices vertical" cellspacing='0' cellpadding='0' border='0'>
-      <tr><td class="rootVoice {menu: 'menu_12'}" >ajax menu 12</td></tr>
-      <tr><td class="rootVoice {menu: 'menu_2'}" >menu 2</td></tr>
-      <tr><td class="rootVoice {menu: 'menu_3'}" >menu 3</td></tr>
-    </table>
-  </div>
-  <!-- end vertical menu -->
-
-  <!-- menues -->
-  <div id="menu_1" class="mbmenu">
-    <a rel="title" >title menu_1.1</a> <!-- menuvoice title-->
-    <a href="#" class="{img: 'ico_view.gif'}" >menu_1.1 (href target _self) </a> <!-- menuvoice with href-->
-    <a class="{action: 'document.title=(\'menu_1.2\')'}" >menu_1.2</a> <!-- menuvoice with js action-->
-    <a rel="separator"> </a> <!-- menuvoice separator-->
-    <a href="#" class="{action: 'document.title=(\'menu_1.3\')', disabled:true}">menu_1.3</a> <!-- menuvoice disabled-->
-    <a class="{action: 'document.title=(\'menu_1.4\')', menu:'menu_1', img: '24-book-blue-check.png'}">menu_1.4</a><!-- menuvoice with js action, image and submenu-->
-  </div>
-
-  <div id="menu_2" class="mbmenu">
-    <a rel="title" class="{action: 'document.title=(\'menu_2.1\')', img: 'icon_13.png'}">menu_2.1 TITLE</a>
-    <a class="{action: 'document.title=(\'menu_2.2\')'}">menu_2.2</a>
-    <a class="{menu: 'sub_menu_1', img: 'icon_14.png'}">menu_2.3</a>
-    <a class="{menu: 'sub_menu_2', img: '24-tag-add.png'}">menu_2.4</a>
-    <a rel="separator"> </a>
-    <a class="{action: 'document.title=(\'menu_2.4\')'}">menu_2.5</a>
-  </div>
-
-  <div id="menu_3" class="mbmenu" id="checkMenu">
-    <a rel="text" >
-      <form>
-        <img src="images/browser.png" alt="img" style="position:absolute;margin-top:-20px; margin-left:-25px;margin-bottom:10px"/><br/>
-        <input id="myInput" type="text" name="tuoTesto" value="you can have input inside" />
-        <input type="button" name="tuoTesto" value="submit" onclick="$.fn.removeMbMenu($.mbMenu.options.actualOpenedMenu,true);" />
-        <table>
-          <tr><td><input type="checkbox" checked value="aaa"/></td><td>checkbox 1</td></tr>
-          <tr><td><input type="checkbox" value="aaa"/></td><td>checkbox 1</td></tr>
-          <tr><td><input type="checkbox" value="aaa"/></td><td>checkbox 1</td></tr>
-          <tr><td><input type="checkbox" value="aaa"/></td><td>checkbox 1</td></tr>
-        </table>
-        <br>
-        <br/>immagini che vuoi ed altro testo che ti pare Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Morbi felis leo, consequat et, lacinia a, facilisis sit amet,<br/><br/>
-      </form>
-    </a>
-    <a rel="separator"> </a>
-    <a class="{action: 'document.title=(\'menu_3.1\')', img: 'iconDone.png'}">menu_3.1</a>
-    <a id="aaa" class="{menu:'sub_menu_2'}"  >submenu</a>
-    <a class="{action: 'document.title=(\'menu_3.4\')'}">menu_3.4 con testo veramente molto lungo menu_3.4 con testo veramente molto lungo</a>
-  </div>
-
-  <div id="sub_menu_1" class="mbmenu">
-    <a class="{action: 'document.title=(\'sub_menu_1.1\')'}">sub_menu_1.1</a>
-    <a rel="separator"> </a>
-    <a class="{menu:'menu_1'}">sub_menu_1.2</a>
-    <a class="{action: 'document.title=(\'sub_menu_1.3\')', img: 'bgColor.gif'}">sub_menu_1.3</a>
-    <a class="{action: 'document.title=(\'sub_menu_1.4\')',img: 'Applet.gif'}">sub_menu_1.4</a>
-  </div>
-
-  <div id="sub_menu_2" class="mbmenu">
-    <a class="{action: 'document.title=(\'sub_menu_2.1\')', img: 'buttonfind.gif'}" >sub_menu_2.1</a>
-    <a class="{action: 'document.title=(\'sub_menu_2.2\')'}">sub_menu_2.2</a>
-    <a rel="separator"> </a>
-    <a class="{action: 'document.title=(\'sub_menu_2.3\')'}">sub_menu_2.3</a>
-    <a class="{action: 'document.title=(\'sub_menu_2.4\')'}" >sub_menu_2.4</a>
-  </div>
-
-  <div id="conext_menu_1" class="mbmenu">
-    <a rel="text" >
-      <img src="images/browser.png" alt="img" style="position:absolute;margin-top:-20px; margin-left:-25px;margin-bottom:10px"/><br/>
-      <br/>immagini che vuoi ed altro testo che ti pare Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Morbi felis leo, consequat et, lacinia a, facilisis sit amet,<br/><br/>
-    </a>
-    <a rel="separator"> </a>
-    <a class="{action: 'testForContextMenu()',img: 'iconDone.png'}" >test: get opener ID</a>
-    <a id="bbb" class="{menu:'sub_menu_2'}" >submenu</a>
-    <a class="{action: 'document.title=(\'conext_menu_1.4\')'}" >conext_menu_1.4 con testo veramente molto lungo</a>
-  </div>
-
-  <!-- end menues -->
-  
-</div>
-</body>
-</html>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/black_op_30.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/black_op_30.png
deleted file mode 100644
index f24d4c2..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/black_op_30.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/blue_op_75.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/blue_op_75.png
deleted file mode 100644
index c66fc48..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/blue_op_75.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_bgnd.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_bgnd.png
deleted file mode 100644
index 09618fc..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_bgnd.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_blank.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_blank.png
deleted file mode 100644
index 09c6e46..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_blank.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_bottom.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_bottom.png
deleted file mode 100644
index b419f34..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_bottom.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_flap.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_flap.png
deleted file mode 100644
index 5049015..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_flap.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_header_bgnd.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_header_bgnd.png
deleted file mode 100644
index b30b1f1..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_header_bgnd.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_left.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_left.png
deleted file mode 100644
index f23c20a..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_left.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_left_flap.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_left_flap.png
deleted file mode 100644
index b443ed8..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_left_flap.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_voice.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_voice.png
deleted file mode 100644
index 3251c32..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_voice.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_voiceHover.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_voiceHover.png
deleted file mode 100644
index fbd2010..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/extruder_voiceHover.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/fuzz.gif b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/fuzz.gif
deleted file mode 100644
index 21043c1..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/fuzz.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/optionsPanel.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/optionsPanel.png
deleted file mode 100644
index 5d12004..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/optionsPanel.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/orange_op_75.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/orange_op_75.png
deleted file mode 100644
index b08d48c..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/orange_op_75.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/red_op_50.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/red_op_50.png
deleted file mode 100644
index e3d8116..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/red_op_50.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/settingsBtn.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/settingsBtn.png
deleted file mode 100644
index ae483ff..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/elements/settingsBtn.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/0682.gif b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/0682.gif
deleted file mode 100644
index b01c8d0..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/0682.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/16-member-remove.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/16-member-remove.png
deleted file mode 100644
index efcfdda..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/16-member-remove.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/24-book-blue-check.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/24-book-blue-check.png
deleted file mode 100644
index c19ca9a..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/24-book-blue-check.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/24-image-add.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/24-image-add.png
deleted file mode 100644
index 9c65780..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/24-image-add.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/24-tag-add.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/24-tag-add.png
deleted file mode 100644
index 1dcffb6..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/24-tag-add.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/Applet.gif b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/Applet.gif
deleted file mode 100644
index c153ddd..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/Applet.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/bgColor.gif b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/bgColor.gif
deleted file mode 100644
index 8b3dde7..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/bgColor.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/blank.gif b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/blank.gif
deleted file mode 100644
index 099c95f..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/blank.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/buttonfind.gif b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/buttonfind.gif
deleted file mode 100644
index b79f1c2..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/buttonfind.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/ico_view.gif b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/ico_view.gif
deleted file mode 100644
index 4c03e3e..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/ico_view.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/iconDone.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/iconDone.png
deleted file mode 100644
index 2cdddea..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/iconDone.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/icon_13.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/icon_13.png
deleted file mode 100644
index 22f300d..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/icon_13.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/icon_14.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/icon_14.png
deleted file mode 100644
index 981ac6b..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/ico/icon_14.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/DV_Tools.jpg b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/DV_Tools.jpg
deleted file mode 100644
index 45ef02b..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/DV_Tools.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/bgnd_sel_1.jpg b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/bgnd_sel_1.jpg
deleted file mode 100644
index c510583..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/bgnd_sel_1.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/bgnd_sel_2.jpg b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/bgnd_sel_2.jpg
deleted file mode 100644
index facb585..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/bgnd_sel_2.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/bgnd_sel_3.jpg b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/bgnd_sel_3.jpg
deleted file mode 100644
index e6853cc..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/bgnd_sel_3.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/bgnd_sel_4.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/bgnd_sel_4.png
deleted file mode 100644
index 1389caa..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/bgnd_sel_4.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/browser.png b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/browser.png
deleted file mode 100644
index 4773604..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/browser.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/header_bgnd.jpg b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/header_bgnd.jpg
deleted file mode 100644
index 70f21c5..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/header_bgnd.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/menuArrow.gif b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/menuArrow.gif
deleted file mode 100644
index b1b3340..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/menuArrow.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/menuArrow_w.gif b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/menuArrow_w.gif
deleted file mode 100644
index 09919c0..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/images/menuArrow_w.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/jquery.hoverIntent.js b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/jquery.hoverIntent.js
deleted file mode 100644
index 5ce329f..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/jquery.hoverIntent.js
+++ /dev/null
@@ -1,122 +0,0 @@
-/*******************************************************************************
- jquery.mb.components
- Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
- email: info@pupunzi.com
- site: http://pupunzi.com
-
- Licences: MIT, GPL
- http://www.opensource.org/licenses/mit-license.php
- http://www.gnu.org/licenses/gpl.html
- ******************************************************************************/
-
-/**
-* hoverIntent is similar to jQuery's built-in "hover" function except that
-* instead of firing the onMouseOver event immediately, hoverIntent checks
-* to see if the user's mouse has slowed down (beneath the sensitivity
-* threshold) before firing the onMouseOver event.
-* 
-* hoverIntent r5 // 2007.03.27 // jQuery 1.1.2+
-* <http://cherne.net/brian/resources/jquery.hoverIntent.html>
-* 
-* hoverIntent is currently available for use in all personal or commercial 
-* projects under both MIT and GPL licenses. This means that you can choose 
-* the license that best suits your project, and use it accordingly.
-* 
-* // basic usage (just like .hover) receives onMouseOver and onMouseOut functions
-* $("ul li").hoverIntent( showNav , hideNav );
-* 
-* // advanced usage receives configuration object only
-* $("ul li").hoverIntent({
-*	sensitivity: 7, // number = sensitivity threshold (must be 1 or higher)
-*	interval: 100,   // number = milliseconds of polling interval
-*	over: showNav,  // function = onMouseOver callback (required)
-*	timeout: 0,   // number = milliseconds delay before onMouseOut function call
-*	out: hideNav    // function = onMouseOut callback (required)
-* });
-* 
-* @param  f  onMouseOver function || An object with configuration options
-* @param  g  onMouseOut function  || Nothing (use configuration options object)
-* @author    Brian Cherne <brian@cherne.net>
-*/
-(function($) {
-	$.fn.hoverIntent = function(f,g) {
-		// default configuration options
-		var cfg = {
-			sensitivity: 7,
-			interval: 100,
-			timeout: 0
-		};
-		// override configuration options with user supplied object
-		cfg = $.extend(cfg, g ? { over: f, out: g } : f );
-
-		// instantiate variables
-		// cX, cY = current X and Y position of mouse, updated by mousemove event
-		// pX, pY = previous X and Y position of mouse, set by mouseover and polling interval
-		var cX, cY, pX, pY;
-
-		// A private function for getting mouse position
-		var track = function(ev) {
-			cX = ev.pageX;
-			cY = ev.pageY;
-		};
-
-		// A private function for comparing current and previous mouse position
-		var compare = function(ev,ob) {
-			ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);
-			// compare mouse positions to see if they've crossed the threshold
-			if ( ( Math.abs(pX-cX) + Math.abs(pY-cY) ) < cfg.sensitivity ) {
-				$(ob).unbind("mousemove",track);
-				// set hoverIntent state to true (so mouseOut can be called)
-				ob.hoverIntent_s = 1;
-				return cfg.over.apply(ob,[ev]);
-			} else {
-				// set previous coordinates for next time
-				pX = cX; pY = cY;
-				// use self-calling timeout, guarantees intervals are spaced out properly (avoids JavaScript timer bugs)
-				ob.hoverIntent_t = setTimeout( function(){compare(ev, ob);} , cfg.interval );
-			}
-		};
-
-		// A private function for delaying the mouseOut function
-		var delay = function(ev,ob) {
-			ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t);
-			ob.hoverIntent_s = 0;
-			return cfg.out.apply(ob,[ev]);
-		};
-
-		// A private function for handling mouse 'hovering'
-		var handleHover = function(e) {
-			// next three lines copied from jQuery.hover, ignore children onMouseOver/onMouseOut
-			var p = (e.type == "mouseover" ? e.fromElement : e.toElement) || e.relatedTarget;
-			while ( p && p != this ) { try { p = p.parentNode; } catch(e) { p = this; } }
-			if ( p == this ) { return false; }
-
-			// copy objects to be passed into t (required for event object to be passed in IE)
-			var ev = jQuery.extend({},e);
-			var ob = this;
-
-			// cancel hoverIntent timer if it exists
-			if (ob.hoverIntent_t) { ob.hoverIntent_t = clearTimeout(ob.hoverIntent_t); }
-
-			// else e.type == "onmouseover"
-			if (e.type == "mouseover") {
-				// set "previous" X and Y position based on initial entry point
-				pX = ev.pageX; pY = ev.pageY;
-				// update "current" X and Y position based on mousemove
-				$(ob).bind("mousemove",track);
-				// start polling interval (self-calling timeout) to compare mouse coordinates over time
-				if (ob.hoverIntent_s != 1) { ob.hoverIntent_t = setTimeout( function(){compare(ev,ob);} , cfg.interval );}
-
-			// else e.type == "onmouseout"
-			} else {
-				// unbind expensive mousemove event
-				$(ob).unbind("mousemove",track);
-				// if hoverIntent state is true, then call the mouseOut function after the specified delay
-				if (ob.hoverIntent_s == 1) { ob.hoverIntent_t = setTimeout( function(){delay(ev,ob);} , cfg.timeout );}
-			}
-		};
-
-		// bind the function to the two event listeners
-		return this.mouseover(handleHover).mouseout(handleHover);
-	};
-})(jQuery);
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/jquery.hoverIntent.min.js b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/jquery.hoverIntent.min.js
deleted file mode 100644
index bca6ec8..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/jquery.hoverIntent.min.js
+++ /dev/null
@@ -1,12 +0,0 @@
-/*******************************************************************************
- jquery.mb.components
- Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
- email: info@pupunzi.com
- site: http://pupunzi.com
-
- Licences: MIT, GPL
- http://www.opensource.org/licenses/mit-license.php
- http://www.gnu.org/licenses/gpl.html
- ******************************************************************************/
-
-(function(a){a.fn.hoverIntent=function(k,j){var l={sensitivity:7,interval:100,timeout:0};l=a.extend(l,j?{over:k,out:j}:k);var n,m,h,d;var e=function(f){n=f.pageX;m=f.pageY};var c=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);if((Math.abs(h-n)+Math.abs(d-m))<l.sensitivity){a(f).unbind("mousemove",e);f.hoverIntent_s=1;return l.over.apply(f,[g])}else{h=n;d=m;f.hoverIntent_t=setTimeout(function(){c(g,f)},l.interval)}};var i=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);f.hoverIntent_s=0;return l.out.apply(f,[g])};var b=function(q){var o=(q.type=="mouseover"?q.fromElement:q.toElement)||q.relatedTarget;while(o&&o!=this){try{o=o.parentNode}catch(q){o=this}}if(o==this){return false}var g=jQuery.extend({},q);var f=this;if(f.hoverIntent_t){f.hoverIntent_t=clearTimeout(f.hoverIntent_t)}if(q.type=="mouseover"){h=g.pageX;d=g.pageY;a(f).bind("mousemove",e);if(f.hoverIntent_s!=1){f.hoverIntent_t=setTimeout(function(){c(g,f)},l.interval)}}else{a(f).unbind("mousemove",e);if(f.hoverIntent_s==1){f.hoverIntent_t=setTimeout(function(){i(g,f)},l.timeout)}}};return this.mouseover(b).mouseout(b)}})(jQuery);
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/jquery.mb.flipText.min.js b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/jquery.mb.flipText.min.js
deleted file mode 100644
index be07435..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/jquery.mb.flipText.min.js
+++ /dev/null
@@ -1,91 +0,0 @@
-/*******************************************************************************
- jquery.mb.components
- Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
- email: info@pupunzi.com
- site: http://pupunzi.com
-
- Licences: MIT, GPL
- http://www.opensource.org/licenses/mit-license.php
- http://www.gnu.org/licenses/gpl.html
- ******************************************************************************/
-
-/*
- * jQuery.mb.components: jquery.mb.flipV
- * version: 1.0
- *  2001 - 2009 Matteo Bicocchi (pupunzi), Open Lab
- *
- */
-
-
-(function($) {
-  var isIE=$.browser.msie;
-  jQuery.fn.encHTML = function() {
-    return this.each(function(){
-      var me   = $(this);
-      var html = me.text();
-      me.text(html.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/'/g, escape("'")).replace(/"/g,escape('"')));
-    });
-  };
-  $.mbflipText= {
-    author:"Matteo Bicocchi",
-    version:"1.0",
-    flipText:function(tb){
-      return this.each(function(){
-
-        var h=$(this).getFlipTextDim(true)[1]+"px";
-        var w=$(this).getFlipTextDim(true)[0]+"px";
-
-       if(!isIE) $(this).encHTML();
-        var txt= $(this).html();
-        var label="";
-        var bgcol=$(this).css("background-color");
-        var fontsize= parseInt($(this).css('font-size'));
-        var fontfamily=$(this).css('font-family').replace(/'/g, '&#39;').replace(/"/g,'');
-        var fontcolor=$(this).css('color');
-        if (fontfamily==undefined) fontfamily="Arial";
-
-        if ($.browser.msie){
-          if(tb) $(this).css({'writing-mode': 'tb-rl', filter: 'flipv() fliph()'}).css('font-weight', 'normal');
-          label=$("<span style='filter: flipv() fliph();writing-mode: tb-rl; display: block; whiteSpace:noWrap; height:"+h+"; width:"+w+"'>"+txt+"</span>");
-
-        }else{
-          var rot="-90";
-          var ta="end";
-          var xFix=0;
-          var yFix=$.browser.opera ?parseInt(w)-(parseInt(w)/4): $.browser.safari?5:"0";
-          if (tb){
-            xFix= $.browser.safari?5:0;
-            rot="90, "+((parseInt(w)/2)-xFix)+", "+parseInt(w)/2;
-            ta="start";
-          }
-          var  SafariFix= $.browser.safari? "<rect x=\"0\" y=\"0\" width=\""+w+"\" height=\""+h+"\" fill=\""+bgcol+"\" stroke=\"none\"/>":"";
-          label=$("<object class='flip_label' style='display:block;height:"+h+"; width:"+w+";' type='image/svg+xml' data='data:image/svg+xml," +
-                  "<svg xmlns=\"http://www.w3.org/2000/svg\">" +
-                  SafariFix+
-                  "<text  x=\"-"+xFix+"\" y=\""+(yFix)+"\" font-family=\""+fontfamily+"\"  fill=\""+fontcolor+"\" font-size=\""+fontsize+"\"  style=\"text-anchor: "+ta+"; " +
-                  "dominant-baseline: hanging\" transform=\"rotate("+rot+")\" text-rendering=\"optimizeSpeed\">"+txt+"</text></svg>'></object>" +
-                  "<div class='pointer' style='position:absolute;top:0;left:0;width:100%;height:100%;background:transparent'/>" +
-                  "");
-        }
-        var cssPos= $(this).css("position")!="absolute" && $(this).css("position")!="fixed"?"relative":$(this).css("position");
-        $(this).html(label).css({position:cssPos, width:w});
-      });
-    },
-    getFlipTextDim:function(){
-      var txt= $(this).html();
-      var fontsize= parseInt($(this).css('font-size'));
-      var fontfamily=$(this).css('font-family').replace(/'/g, '').replace(/"/g,'');
-      if (fontfamily==undefined) fontfamily="Arial";
-      var placeHolder=$("<span/>").css({position:"absolute",top:-100, whiteSpace:"noWrap", fontSize:fontsize, fontFamily: fontfamily});
-      placeHolder.html(txt);
-      $("body").append(placeHolder);
-      var h = (placeHolder.outerWidth()!=0?placeHolder.outerWidth():(16+txt.length*fontsize*.60));
-      var w = (placeHolder.outerHeight()!=0?placeHolder.outerHeight()+5:50);
-      placeHolder.remove();
-      return [w,h];
-    }
-  };
-  $.fn.mbFlipText=$.mbflipText.flipText;
-  $.fn.getFlipTextDim=$.mbflipText.getFlipTextDim;
-
-})(jQuery);
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/jquery.metadata.js b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/jquery.metadata.js
deleted file mode 100644
index bbf1bcc..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/jquery.metadata.js
+++ /dev/null
@@ -1,120 +0,0 @@
-/*******************************************************************************
- jquery.mb.components
- Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
- email: info@pupunzi.com
- site: http://pupunzi.com
-
- Licences: MIT, GPL
- http://www.opensource.org/licenses/mit-license.php
- http://www.gnu.org/licenses/gpl.html
- ******************************************************************************/
-
-/**
- * Sets the type of metadata to use. Metadata is encoded in JSON, and each property
- * in the JSON will become a property of the element itself.
- *
- * There are three supported types of metadata storage:
- *
- *   attr:  Inside an attribute. The name parameter indicates *which* attribute.
- *          
- *   class: Inside the class attribute, wrapped in curly braces: { }
- *   
- *   elem:  Inside a child element (e.g. a script tag). The
- *          name parameter indicates *which* element.
- *          
- * The metadata for an element is loaded the first time the element is accessed via jQuery.
- *
- * As a result, you can define the metadata type, use $(expr) to load the metadata into the elements
- * matched by expr, then redefine the metadata type and run another $(expr) for other elements.
- * 
- * @name $.metadata.setType
- *
- * @example <p id="one" class="some_class {item_id: 1, item_label: 'Label'}">This is a p</p>
- * @before $.metadata.setType("class")
- * @after $("#one").metadata().item_id == 1; $("#one").metadata().item_label == "Label"
- * @desc Reads metadata from the class attribute
- * 
- * @example <p id="one" class="some_class" data="{item_id: 1, item_label: 'Label'}">This is a p</p>
- * @before $.metadata.setType("attr", "data")
- * @after $("#one").metadata().item_id == 1; $("#one").metadata().item_label == "Label"
- * @desc Reads metadata from a "data" attribute
- * 
- * @example <p id="one" class="some_class"><script>{item_id: 1, item_label: 'Label'}</script>This is a p</p>
- * @before $.metadata.setType("elem", "script")
- * @after $("#one").metadata().item_id == 1; $("#one").metadata().item_label == "Label"
- * @desc Reads metadata from a nested script element
- * 
- * @param String type The encoding type
- * @param String name The name of the attribute to be used to get metadata (optional)
- * @cat Plugins/Metadata
- * @descr Sets the type of encoding to be used when loading metadata for the first time
- * @type undefined
- * @see metadata()
- */
-
-(function($) {
-
-$.extend({
-	metadata : {
-		defaults : {
-			type: 'class',
-			name: 'metadata',
-			cre: /({.*})/,
-			single: 'metadata'
-		},
-		setType: function( type, name ){
-			this.defaults.type = type;
-			this.defaults.name = name;
-		},
-		get: function( elem, opts ){
-			var settings = $.extend({},this.defaults,opts);
-			// check for empty string in single property
-			if ( !settings.single.length ) settings.single = 'metadata';
-			
-			var data = $.data(elem, settings.single);
-			// returned cached data if it already exists
-			if ( data ) return data;
-			
-			data = "{}";
-			
-			if ( settings.type == "class" ) {
-				var m = settings.cre.exec( elem.className );
-				if ( m )
-					data = m[1];
-			} else if ( settings.type == "elem" ) {
-				if( !elem.getElementsByTagName )
-					return undefined;
-				var e = elem.getElementsByTagName(settings.name);
-				if ( e.length )
-					data = $.trim(e[0].innerHTML);
-			} else if ( elem.getAttribute != undefined ) {
-				var attr = elem.getAttribute( settings.name );
-				if ( attr )
-					data = attr;
-			}
-			
-			if ( data.indexOf( '{' ) <0 )
-			data = "{" + data + "}";
-			
-			data = eval("(" + data + ")");
-			
-			$.data( elem, settings.single, data );
-			return data;
-		}
-	}
-});
-
-/**
- * Returns the metadata object for the first member of the jQuery object.
- *
- * @name metadata
- * @descr Returns element's metadata object
- * @param Object opts An object contianing settings to override the defaults
- * @type jQuery
- * @cat Plugins/Metadata
- */
-$.fn.metadata = function( opts ){
-	return $.metadata.get( this[0], opts );
-};
-
-})(jQuery);
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/mbExtruder.js b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/mbExtruder.js
deleted file mode 100644
index 0b0086e..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/mbExtruder.js
+++ /dev/null
@@ -1,350 +0,0 @@
-/*******************************************************************************
- jquery.mb.components
- Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
- email: info@pupunzi.com
- site: http://pupunzi.com
-
- Licences: MIT, GPL
- http://www.opensource.org/licenses/mit-license.php
- http://www.gnu.org/licenses/gpl.html
- ******************************************************************************/
-
-/*
- * Name:jquery.mb.extruder
- * Version: 1.8.0
- * dependencies: jquery.metadata.js, jquery.mb.flipV.js, jquery.hoverintent.js
- */
-
-(function($) {
-  document.extruder=new Object();
-  document.extruder.left = 0;
-  document.extruder.top = 0;
-  document.extruder.idx=0;
-  var isIE=$.browser.msie;
-
-  $.mbExtruder= {
-    author:"Matteo Bicocchi",
-    version:"1.6",
-    defaults:{
-      width:350,
-      positionFixed:true,
-      sensibility:800,
-      position:"top",
-      top:"auto",
-      extruderOpacity:1,
-      flapMargin:25,
-      textOrientation:"bt", // or "tb" (top-bottom or bottom-top)
-      onExtOpen:function(){},
-      onExtContentLoad:function(){},
-      onExtClose:function(){},
-      hidePanelsOnClose:true,
-      autoCloseTime:0,
-      slideTimer:300
-    },
-
-    buildMbExtruder: function(options){
-      return this.each (function (){
-        this.options = {};
-        $.extend (this.options, $.mbExtruder.defaults);
-        $.extend (this.options, options);
-        this.idx=document.extruder.idx;
-        document.extruder.idx++;
-        var extruder,extruderContent,wrapper,extruderStyle,wrapperStyle,txt,timer;
-        extruder= $(this);
-        extruderContent=$(this).html();
-
-        extruder.css("zIndex",100);
-
-        var extW= this.options.position=="left"?1: this.options.width;
-
-        var c= $("<div/>").addClass("content").css({overflow:"hidden", width:extW});
-        c.append(extruderContent);
-        extruder.html(c);
-
-        var position=this.options.positionFixed?"fixed":"absolute";
-        extruder.addClass("extruder");
-        extruder.addClass(this.options.position);
-        extruderStyle=this.options.position=="top"?
-                      {position:position,top:0,left:"50%",marginLeft:-this.options.width/2,width:this.options.width}:
-                      {position:position,top:0,left:0,width:1};
-        //                      {position:position,top:0,left:-(this.options.width)};
-        extruder.css(extruderStyle);
-        if(!isIE) extruder.css({opacity:this.options.extruderOpacity});
-        extruder.wrapInner("<div class='ext_wrapper'></div>");
-        wrapper= extruder.find(".ext_wrapper");
-
-        wrapperStyle={position:"absolute", width:this.options.position=="left"?1:this.options.width};
-        wrapper.css(wrapperStyle);
-
-
-        if (this.options.position=="top"){
-          document.extruder.top++;
-          if (document.extruder.top>1){
-            alert("more than 1 mb.extruder on top is not supported jet... hope soon!");
-            return;
-          }
-        }
-
-
-        if ($.metadata){
-          $.metadata.setType("class");
-          if (extruder.metadata().title) extruder.attr("extTitle",extruder.metadata().title);
-          if (extruder.metadata().url) extruder.attr("extUrl",extruder.metadata().url);
-          if (extruder.metadata().data) extruder.attr("extData",extruder.metadata().data);
-        }
-        wrapper.append("<div class='footer'></div><div class='flap'><span class='flapLabel'/></div>");
-
-        txt=extruder.attr("extTitle")?extruder.attr("extTitle"): "";
-        extruder.find(".flapLabel").text(txt);
-        if(this.options.position=="left"){
-          extruder.find(".flapLabel").html(txt).css({whiteSpace:"noWrap"});//,height:this.options.flapDim
-          var orientation= this.options.textOrientation == "tb";
-          var labelH=extruder.find('.flapLabel').getFlipTextDim()[1];
-          extruder.find('.flapLabel').mbFlipText(orientation);
-        }else{
-          extruder.find(".flapLabel").html(txt).css({whiteSpace:"noWrap"});
-        }
-
-        if (extruder.attr("extUrl")){
-          extruder.setMbExtruderContent({
-            url:extruder.attr("extUrl"),
-            data:extruder.attr("extData"),
-            callback: function(){if (extruder.get(0).options.onExtContentLoad) extruder.get(0).options.onExtContentLoad();}
-          });
-        }else{
-          var container=$("<div>").addClass("text").css({width:extruder.get(0).options.width-20, height:extruder.height()-20, overflowY:"auto"});
-          c.wrapInner(container);
-          extruder.setExtruderVoicesAction();
-        }
-
-        extruder.find('.flap').bind("click",function(){
-          extruder.openMbExtruder();
-        });
-
-        c.bind("mouseleave", function(){
-          $(document).one("click.extruder"+extruder.get(0).idx,function(){extruder.closeMbExtruder();});
-          timer=setTimeout(function(){
-
-            if(extruder.get(0).options.autoCloseTime > 0){
-              extruder.closeMbExtruder();
-            }
-          },extruder.get(0).options.autoCloseTime);
-        }).bind("mouseenter", function(){clearTimeout(timer); $(document).unbind("click.extruder"+extruder.get(0).idx);});
-
-        if (this.options.position=="left"){
-          c.css({ height:"100%"});
-
-          if(this.options.top=="auto") {
-            extruder.find('.flap').css({marginRight:-40,top:100+document.extruder.left});
-            document.extruder.left+= labelH+this.options.flapMargin;
-          }else{
-            extruder.find('.flap').css({marginRight:-40,top:this.options.top});
-          }
-          var clicDiv=$("<div/>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"transparent"});
-          extruder.find('.flap').append(clicDiv);
-        }
-      });
-    },
-
-    setMbExtruderContent: function(options){
-      this.options = {
-        url:false,
-        data:"",
-        callback:function(){}
-      };
-      $.extend (this.options, options);
-
-      if (!this.options.url || this.options.url.length==0){
-        alert("internal error: no URL to call");
-        return;
-      }
-      var url=this.options.url;
-      var data=this.options.data;
-      var where=$(this), voice;
-      var cb= this.options.callback;
-      var container=$("<div>").addClass("container").css({width:$(this).get(0).options.width});
-      where.find(".content").wrapInner(container);
-      $.ajax({
-        type: "POST",
-        url: url,
-        data: data,
-        success: function(html){
-          where.find(".container").append(html);
-          voice=where.find(".voice");
-          voice.hover(function(){$(this).addClass("hover");},function(){$(this).removeClass("hover");});
-          where.setExtruderVoicesAction();
-          if (cb) {
-            setTimeout(function(){cb();},100);
-          }
-        }
-      });
-    },
-
-    openMbExtruder:function(c){
-      var extruder= $(this);
-      $(document).unbind("click.extruder"+extruder.get(0).idx);
-      var opt= extruder.get(0).options;
-      extruder.addClass("open");
-      if(!isIE) extruder.css("opacity",1);
-      var position= opt.position;
-      extruder.mb_bringToFront();
-      if (position=="top"){
-        extruder.find('.content').slideDown( opt.slideTimer);
-        if(opt.onExtOpen) opt.onExtOpen();
-      }else{
-        if(!isIE) $(this).css("opacity",1);
-        extruder.find('.ext_wrapper').css({width:""});
-        extruder.find('.content').css({overflowX:"hidden"});
-        extruder.find('.content').animate({ width: opt.width}, opt.slideTimer);
-        if(opt.onExtOpen) opt.onExtOpen();
-      }
-      if (c) {
-        setTimeout(function(){
-          $(document).one("click.extruder"+extruder.get(0).idx,function(){extruder.closeMbExtruder(); console.debug(extruder.get(0).idx)});
-        },100);
-      }
-    },
-    closeMbExtruder:function(){
-      var extruder= $(this);
-      var opt= extruder.get(0).options;
-      extruder.removeClass("open");
-      $(document).unbind("click.extruder"+extruder.get(0).idx);
-      if(!isIE) extruder.css("opacity",opt.extruderOpacity);
-      if(opt.hidePanelsOnClose) extruder.hidePanelsOnClose();
-      if (opt.position=="top"){
-        extruder.find('.content').slideUp(opt.slideTimer);
-        if(opt.onExtClose) opt.onExtClose();
-      }else if (opt.position=="left"){
-        extruder.find('.content').animate({ width: 1 }, opt.slideTimer,function(){
-          extruder.find('.ext_wrapper').css({width:1});
-          extruder.find('.content').css({overflow:"hidden"});
-          if(opt.onExtClose) opt.onExtClose();
-        });
-      }
-    }
-  };
-
-  jQuery.fn.mb_bringToFront= function(){
-    var zi=10;
-    $('*').each(function() {
-      if($(this).css("position")=="absolute" ||$(this).css("position")=="fixed"){
-        var cur = parseInt($(this).css('zIndex'));
-        zi = cur > zi ? parseInt($(this).css('zIndex')) : zi;
-      }
-    });
-    $(this).css('zIndex',zi+=1);
-    return zi;
-  };
-
-  /*
-   * EXTRUDER CONTENT
-   */
-
-  $.fn.setExtruderVoicesAction=function(){
-    var extruder=$(this);
-    var voices= $(this).find(".voice");
-    voices.each(function(){
-      var voice=$(this);
-      if ($.metadata){
-        $.metadata.setType("class");
-        if (voice.metadata().panel) voice.attr("panel",voice.metadata().panel);
-        if (voice.metadata().data) voice.attr("data",voice.metadata().data);
-        if (voice.metadata().disabled) voice.attr("disabled", voice.metadata().disabled);
-      }
-
-      if (voice.attr("disabled"))
-        voice.disableExtruderVoice();
-
-      if (voice.attr("panel") && voice.attr("panel")!="false"){
-        voice.append("<span class='settingsBtn'/>");
-        voice.find(".settingsBtn").css({opacity:.5});
-        voice.find(".settingsBtn").hover(
-                function(){
-                  $(this).css({opacity:1});
-                },
-                function(){
-                  $(this).not(".sel").css({opacity:.5});
-                }).click(function(){
-          if ($(this).parents().hasClass("sel")){
-            extruder.hidePanelsOnClose();
-            return;
-          }
-          extruder.find(".optionsPanel").slideUp(400,function(){$(this).remove();});
-          voices.removeClass("sel");
-          voices.find(".settingsBtn").removeClass("sel").css({opacity:.5});
-          var content=$("<div class='optionsPanel'></div>");
-          $.ajax({
-            type: "POST",
-            url: voice.attr("panel"),
-            data: voice.attr("data"),
-            success: function(html){
-              var c= $(html);
-              content.html(c);
-              content.children()
-                      .addClass("panelVoice")
-                      .click(function(){
-                extruder.hidePanelsOnClose();
-                extruder.closeMbExtruder();
-              });
-              content.slideDown(400);
-            }
-          });
-          voice.after(content);
-          voice.addClass("sel");
-          voice.find(".settingsBtn").addClass("sel").css({opacity:1});
-        });
-      }
-
-      if (voice.find("a").length==0 && voice.attr("panel")){
-        voice.find(".label").not(".disabled").css("cursor","pointer").click(function(){
-          voice.find(".settingsBtn").click();
-        });
-      }
-
-      if ((!voice.attr("panel") ||voice.attr("panel")=="false" ) && (!voice.attr("disabled") || voice.attr("disabled")!="true")){
-        voice.find(".label").click(function(){
-          extruder.hidePanelsOnClose();
-          extruder.closeMbExtruder();
-        });
-      }
-    });
-  };
-
-  $.fn.disableExtruderVoice=function(){
-    var voice=$(this);
-    voice.removeClass("sel");
-    voice.next(".optionsPanel").slideUp(400,function(){$(this).remove();});
-    voice.attr("disabled",true);
-    voice.find(".label").css("opacity",.4);
-    voice.hover(function(){$(this).removeClass("hover");},function(){$(this).removeClass("hover");});
-    voice.find(".label").addClass("disabled").css("cursor","default");
-    voice.find(".settingsBtn").hide();
-    voice.bind("click",function(event){
-      event.stopPropagation();
-      return false;
-    });
-  };
-
-  $.fn.enableExtruderVoice=function(){
-    var voice=$(this);
-    voice.attr("disabled",false);
-    voice.find(".label").css("opacity",1);
-    voice.find(".label").removeClass("disabled").css("cursor","pointer");
-    voice.unbind("click");
-    voice.find(".settingsBtn").show()
-//            .click();
-  };
-
-  $.fn.hidePanelsOnClose=function(){
-    var voices= $(this).find(".voice");
-    $(this).find(".optionsPanel").slideUp(400,function(){$(this).remove();});
-    voices.removeClass("sel");
-    voices.find(".settingsBtn").removeClass("sel").css("opacity",.5);
-  };
-
-  $.fn.buildMbExtruder=$.mbExtruder.buildMbExtruder;
-  $.fn.setMbExtruderContent=$.mbExtruder.setMbExtruderContent;
-  $.fn.closeMbExtruder=$.mbExtruder.closeMbExtruder;
-  $.fn.openMbExtruder=$.mbExtruder.openMbExtruder;
-
-})(jQuery);
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/mbMenu.js b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/mbMenu.js
deleted file mode 100644
index 91d1727..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/mbMenu.js
+++ /dev/null
@@ -1,637 +0,0 @@
-/*******************************************************************************
- jquery.mb.components
- Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
- email: info@pupunzi.com
- site: http://pupunzi.com
-
- Licences: MIT, GPL
- http://www.opensource.org/licenses/mit-license.php
- http://www.gnu.org/licenses/gpl.html
- ******************************************************************************/
-
-/*
- * Name:jquery.mb.menu
- * Version: 2.8.1
- */
-
-// to get the element that is fireing a contextMenu event you have $.mbMenu.lastContextMenuEl that returns an object.
-
-(function($) {
-  $.mbMenu = {
-    name:"mbMenu",
-    author:"Matteo Bicocchi",
-    version:"2.8.1",
-    actualMenuOpener:false,
-    options: {
-      template:"yourMenuVoiceTemplate",// the url that returns the menu voices via ajax. the data passed in the request is the "menu" attribute value as "menuId"
-      additionalData:"",
-      menuSelector:".menuContainer",
-      menuWidth:400,
-      openOnRight:false,
-      containment:"window",
-      iconPath:"ico/",
-      hasImages:true,
-      fadeInTime:100,
-      fadeOutTime:200,
-      menuTop:0,
-      menuLeft:0,
-      submenuTop:0,
-      submenuLeft:4,
-      opacity:1,
-      shadow:false,
-      shadowColor:"transparent",
-      shadowOpacity:.2,
-      openOnClick:true,
-      closeOnMouseOut:false,
-      closeAfter:500,
-      minZindex:"auto", // or number
-      hoverIntent:0, //if you use jquery.hoverIntent.js set this to time in milliseconds; 0= false;
-      submenuHoverIntent:200, //if you use jquery.hoverIntent.js set this to time in milliseconds; 0= false;
-      onContextualMenu:function(){} //it pass 'o' (the menu you clicked on) and 'e' (the event)
-    },
-    buildMenu : function (options){
-      return this.each (function ()
-      {
-        var thisMenu =this;
-        thisMenu.id = !this.id ? "menu_"+Math.floor (Math.random () * 1000): this.id;
-        this.options = {};
-        $.extend (this.options, $.mbMenu.options);
-        $.extend (this.options, options);
-
-        $(".mbmenu").hide();
-        thisMenu.clicked = false;
-        thisMenu.rootMenu=false;
-        thisMenu.clearClicked=false;
-        thisMenu.actualOpenedMenu=false;
-        thisMenu.menuvoice=false;
-        var root=$(this);
-        var openOnClick=this.options.openOnClick;
-        var closeOnMouseOut=this.options.closeOnMouseOut;
-
-        //build roots
-        $(root).each(function(){
-
-          /*
-           *using metadata plugin you can add attribute writing them inside the class attr with a JSON sintax
-           * for ex: class="rootVoice {menu:'menu_2'}"
-           */
-          if ($.metadata){
-            $.metadata.setType("class");
-            thisMenu.menuvoice=$(this).find(".rootVoice");
-            $(thisMenu.menuvoice).each(function(){
-              if ($(this).metadata().menu) $(this).attr("menu",$(this).metadata().menu);
-            });
-          }
-
-          thisMenu.menuvoice=$(this).find("[menu]").add($(this).filter("[menu]"));
-
-          $(thisMenu.menuvoice).each(function(){
-            $(this).addClass("rootVoice");
-            $(this).attr("nowrap","nowrap");
-          });
-          if(openOnClick){
-            $(thisMenu.menuvoice).bind("click",function(){
-              if (!$(this).attr("isOpen")){
-                $(this).buildMbMenu(thisMenu,$(this).attr("menu"));
-                $(this).attr("isOpen","true");
-              }else{
-                $(this).removeMbMenu(thisMenu,true);
-                $(this).addClass("selected");
-              }
-
-              //empty
-              if($(this).attr("menu")=="empty"){
-                if(thisMenu.actualOpenedMenu){
-                  $(thisMenu.actualOpenedMenu).removeClass("selected");
-                  thisMenu.clicked=true;
-                  $(this).removeAttr("isOpen");
-                  clearTimeout(thisMenu.clearClicked);
-                }
-                $(this).removeMbMenu(thisMenu);
-              }
-
-              $(document).unbind("click.closeMbMenu");
-
-              //return;
-            });
-          }
-          var mouseOver=$.browser.msie?"mouseenter":"mouseover";
-          var mouseOut=$.browser.msie?"mouseleave":"mouseout";
-          if (this.options.hoverIntent==0){
-            $(thisMenu.menuvoice).bind(mouseOver,function(){
-              if (closeOnMouseOut) clearTimeout($.mbMenu.deleteOnMouseOut);
-              if (!openOnClick) $(thisMenu).find(".selected").removeClass("selected");
-              if(thisMenu.actualOpenedMenu){ $(thisMenu.actualOpenedMenu).removeClass("selected");}
-              $(this).addClass("selected");
-              if((thisMenu.clicked || !openOnClick) && !$(this).attr("isOpen")){
-                clearTimeout(thisMenu.clearClicked);
-                $(this).buildMbMenu(thisMenu,$(this).attr("menu"));
-                if ($(this).attr("menu")=="empty"){
-                  $(this).removeMbMenu(thisMenu);
-                  $(this).removeAttr("isOpen");
-                }
-              }
-            });
-            $(thisMenu.menuvoice).bind(mouseOut,function(){
-              if (closeOnMouseOut)
-                $.mbMenu.deleteOnMouseOut= setTimeout(function(){$(this).removeMbMenu(thisMenu,true);$(document).unbind("click.closeMbMenu");},$(root)[0].options.closeAfter);
-              if ($(this).attr("menu")=="empty"){
-                $(this).removeClass("selected");
-                thisMenu.clearClicked= setTimeout(function(){thisMenu.rootMenu=false;thisMenu.clicked=false;},$(root)[0].options.closeAfter);
-              }
-              if(!thisMenu.clicked)
-                $(this).removeClass("selected");
-              $(document).one("click.closeMbMenu",function(){
-                if ($(this).attr("menu")=="empty"){
-                  clearTimeout(thisMenu.clearClicked);
-                  return;
-                }
-                $(this).removeClass("selected");
-                $(this).removeMbMenu(thisMenu,true);
-              });
-            });
-          }else{
-            // HOVERHINTENT
-            $(thisMenu.menuvoice).hoverIntent({
-              over:function(){
-                if (closeOnMouseOut) clearTimeout($.mbMenu.deleteOnMouseOut);
-                if (!openOnClick) $(thisMenu).find(".selected").removeClass("selected");
-                if(thisMenu.actualOpenedMenu){ $(thisMenu.actualOpenedMenu).removeClass("selected");}
-                $(this).addClass("selected");
-                if((thisMenu.clicked || !openOnClick)  && !$(this).attr("isOpen")){
-                  clearTimeout(thisMenu.clearClicked);
-                  $(this).buildMbMenu(thisMenu,$(this).attr("menu"));
-                  if ($(this).attr("menu")=="empty"){
-                    $(this).removeMbMenu(thisMenu);
-                    $(this).removeAttr("isOpen");
-                  }
-                }
-              },
-              sensitivity: 30,
-              interval: this.options.hoverIntent,
-              timeout: 0,
-              out:function(){
-                if (closeOnMouseOut)
-                  $.mbMenu.deleteOnMouseOut= setTimeout(function(){$(this).removeMbMenu(thisMenu,true);$(document).unbind("click.closeMbMenu");},$(root)[0].options.closeAfter);
-                if ($(this).attr("menu")=="empty"){
-                  $(this).removeClass("selected");
-                  thisMenu.clearClicked= setTimeout(function(){thisMenu.rootMenu=false;thisMenu.clicked=false;},$(root)[0].options.closeAfter);
-                }
-                if(!thisMenu.clicked)
-                  $(this).removeClass("selected");
-                if(!closeOnMouseOut)
-                  $(document).one("click.closeMbMenu",function(){
-                    if ($(this).attr("menu")=="empty"){
-                      clearTimeout(thisMenu.clearClicked);
-                      return;
-                    }
-                    $(this).removeClass("selected");
-                    $(this).removeMbMenu(thisMenu,true);
-                  });
-              }
-            });
-          }
-
-        });
-      });
-    },
-    buildContextualMenu :  function (options){
-      return this.each (function ()
-      {
-        var thisMenu = this;
-        thisMenu.options = {};
-        $.extend (thisMenu.options, $.mbMenu.options);
-        $.extend (thisMenu.options, options);
-        $(".mbmenu").hide();
-        thisMenu.clicked = false;
-        thisMenu.rootMenu=false;
-        thisMenu.clearClicked=false;
-        thisMenu.actualOpenedMenu=false;
-        thisMenu.menuvoice=false;
-
-        /*
-         *using metadata plugin you can add attribut writing them inside the class attr with a JSON sintax
-         * for ex: class="rootVoice {menu:'menu_2'}"
-         */
-        var cMenuEls;
-        if ($.metadata){
-          $.metadata.setType("class");
-          cMenuEls= $(this).find(".cmVoice");
-          $(cMenuEls).each(function(){
-            if ($(this).metadata().cMenu) $(this).attr("cMenu",$(this).metadata().cMenu);
-          });
-        }
-        cMenuEls= $(this).find("[cMenu]").add($(this).filter("[cMenu]"));
-
-        $(cMenuEls).each(function(){
-          $(this).css("-khtml-user-select","none");
-          var cm=this;
-          cm.id = !cm.id ? "menu_"+Math.floor (Math.random () * 100): cm.id;
-          $(cm).css({cursor:"default"});
-          $(cm).bind("contextmenu","mousedown",function(event){
-            event.preventDefault();
-            event.stopPropagation();
-            event.cancelBubble=true;
-
-            $.mbMenu.lastContextMenuEl=cm;
-
-            if ($.mbMenu.options.actualMenuOpener) {
-              $(thisMenu).removeMbMenu($.mbMenu.options.actualMenuOpener);
-            }
-            /*add custom behavior to contextMenuEvent passing the el and the event
-             *you can for example store to global var the obj that is fireing the event
-             *mbActualContextualMenuObj=cm;
-             *
-             * you can for example create a function that manipulate the voices of the menu
-             * you are opening according to a certain condition...
-             */
-
-            thisMenu.options.onContextualMenu(this,event);
-
-            $(this).buildMbMenu(thisMenu,$(this).attr("cMenu"),"cm",event);
-            $(this).attr("isOpen","true");
-
-          });
-        });
-      });
-    }
-  };
-  $.fn.extend({
-    buildMbMenu: function(op,m,type,e){
-      var msie6=$.browser.msie && $.browser.version=="6.0";
-      var mouseOver=$.browser.msie?"mouseenter":"mouseover";
-      var mouseOut=$.browser.msie?"mouseleave":"mouseout";
-      if (e) {
-        this.mouseX=$(this).getMouseX(e);
-        this.mouseY=$(this).getMouseY(e);
-      }
-
-      if ($.mbMenu.options.actualMenuOpener && $.mbMenu.options.actualMenuOpener!=op)
-        $(op).removeMbMenu($.mbMenu.options.actualMenuOpener);
-      $.mbMenu.options.actualMenuOpener=op;
-      if(!type || type=="cm")	{
-        if (op.rootMenu) {
-          $(op.rootMenu).removeMbMenu(op);
-          $(op.actualOpenedMenu).removeAttr("isOpen");
-        }
-        op.clicked=true;
-        op.actualOpenedMenu=this;
-        $(op.actualOpenedMenu).attr("isOpen","true");
-        $(op.actualOpenedMenu).addClass("selected");
-      }
-      var opener=this;
-      var where=(!type|| type=="cm")?$(document.body):$(this).parent().parent();
-
-      //empty
-      if($(this).attr("menu")=="empty"){
-        return;
-      }
-
-      var menuClass= op.options.menuSelector.replace(".","");
-      where.append("<div class='menuDiv'><div class='"+menuClass+"'></div></div>");
-      this.menu  = where.find(".menuDiv");
-      $(this.menu).css({width:0, height:0});
-      if (op.options.minZindex!="auto"){
-        $(this.menu).css({zIndex:op.options.minZindex++});
-      }else{
-        $(this.menu).mb_bringToFront();
-      }
-      this.menuContainer  = $(this.menu).find(op.options.menuSelector);
-      $(this.menuContainer).bind(mouseOver,function(){
-        $(opener).addClass("selected");
-      });
-      $(this.menuContainer).css({
-        position:"absolute",
-        opacity:op.options.opacity
-      });
-      if (!$("#"+m).html()){
-        $.ajax({
-          type: "POST",
-          url: op.options.template,
-          cache: false,
-          async: false,
-          data:"menuId="+m+(op.options.additionalData!=""?"&"+op.options.additionalData:""),
-          success: function(html){
-            $("body").append(html);
-            $("#"+m).hide();
-          }
-        });
-      }
-      $(this.menuContainer).attr("id", "mb_"+m).hide();
-      this.voices= $("#"+m).find("a").clone(true);
-
-
-      if (op.options.shadow) {
-        var shadow = $("<div class='menuShadow'></div>").hide();
-        if(msie6)
-          shadow = $("<iframe class='menuShadow'></iframe>").hide();
-      }
-
-      /*
-       *using metadata plugin you can add attribut writing them inside the class attr with a JSON sintax
-       * for ex: class="rootVoice {menu:'menu_2'}"
-       */
-      if ($.metadata){
-        $.metadata.setType("class");
-        $(this.voices).each(function(){
-          if ($(this).metadata().disabled) $(this).attr("disabled",$(this).metadata().disabled);
-          if ($(this).metadata().img) $(this).attr("img",$(this).metadata().img);
-          if ($(this).metadata().menu) $(this).attr("menu",$(this).metadata().menu);
-          if ($(this).metadata().action) $(this).attr("action",$(this).metadata().action);
-          if ($(this).metadata().disabled) $(this).attr("disabled",$(this).metadata().disabled);
-        });
-      }
-
-      // build each voices of the menu
-      $(this.voices).each(function(i){
-
-        var voice=this;
-        var imgPlace="";
-        var isText=$(voice).attr("rel")=="text";
-        var isTitle=$(voice).attr("rel")=="title";
-        var isDisabled=$(voice).is("[disabled]");
-        var isSeparator=$(voice).attr("rel")=="separator";
-
-        if (op.options.hasImages && !isText){
-
-          var imgPath=$(voice).attr("img")?$(voice).attr("img"):"blank.gif";
-          imgPath=(imgPath.length>3 && imgPath.indexOf(".")>-1)?"<img class='imgLine' src='"+op.options.iconPath+imgPath+"'>":imgPath;
-          imgPlace="<td class='img'>"+imgPath+"</td>";
-        }
-        var line="<table id='"+m+"_"+i+"' class='line"+(isTitle?" title":"")+"' cellspacing='0' cellpadding='0' border='0' style='width:100%;' width='100%'><tr>"+imgPlace+"<td class='voice' nowrap></td></tr></table>";
-        if(isSeparator)
-          line="<p class='separator' style='width:100%;'></p>";
-        if(isText)
-          line="<div style='width:100%; display:table' class='line' id='"+m+"_"+i+"'><div class='voice'></div></div>";
-
-        $(opener.menuContainer).append(line);
-
-        var menuLine = $(opener.menuContainer).find("#" + m + "_" + i);
-        var menuVoice = menuLine.find(".voice");
-        if(!isSeparator){
-          menuVoice.append(this);
-          if($(this).attr("menu")){
-            menuLine.find(".voice a").wrap("<div class='menuArrow'></div>");
-            menuLine.find(".menuArrow").addClass("subMenuOpener");
-            menuLine.css({cursor:"default"});
-            this.isOpener=true;
-          }
-          if(isText){
-            menuVoice.addClass("textBox");
-            if ($.browser.msie) menuVoice.css({maxWidth:op.options.menuWidth});
-
-            this.isOpener=true;
-          }
-          if(isDisabled){
-            menuLine.addClass("disabled").css({cursor:"default"});
-          }
-
-          if(!(isText || isTitle || isDisabled)){
-            menuLine.css({cursor:"pointer"});
-            if (op.options.submenuHoverIntent==0){
-              menuLine.bind("mouseover",function(event){
-                clearTimeout($.mbMenu.deleteOnMouseOut);
-                $(this).addClass("selected");
-                if(opener.menuContainer.actualSubmenu && !$(voice).attr("menu")){
-                  $(opener.menu).find(".menuDiv").remove();
-                  $(opener.menuContainer.actualSubmenu).removeClass("selected");
-                  opener.menuContainer.actualSubmenu=false;
-                  //return false;
-                }
-                if ($(voice).attr("menu")){
-
-                  if(opener.menuContainer.actualSubmenu && opener.menuContainer.actualSubmenu!=this){
-                    $(opener.menu).find(".menuDiv").remove();
-                    $(opener.menuContainer.actualSubmenu).removeClass("selected");
-                    opener.menuContainer.actualSubmenu=false;
-                  }
-                  if (!$(voice).attr("action")) $(opener.menuContainer).find("#"+m+"_"+i).css("cursor","default");
-                  if (!opener.menuContainer.actualSubmenu || opener.menuContainer.actualSubmenu!=this){
-                    $(opener.menu).find(".menuDiv").remove();
-
-                    opener.menuContainer.actualSubmenu=false;
-                    $(this).buildMbMenu(op,$(voice).attr("menu"),"sm",event);
-                    opener.menuContainer.actualSubmenu=this;
-                  }
-                  $(this).attr("isOpen","true");
-                  return false;
-                }
-              });
-            }else{
-              // HOVERHINTENT
-              menuLine.bind("mouseover",function(){
-                clearTimeout($.mbMenu.deleteOnMouseOut);
-                $(this).addClass("selected");
-              });
-              menuLine.hoverIntent({
-                over:function(event){
-                  if(opener.menuContainer.actualSubmenu && !$(voice).attr("menu")){
-                    $(opener.menu).find(".menuDiv").remove();
-                    $(opener.menuContainer.actualSubmenu).removeClass("selected");
-                    opener.menuContainer.actualSubmenu=false;
-                  }
-                  if ($(voice).attr("menu")){
-
-                    if(opener.menuContainer.actualSubmenu && opener.menuContainer.actualSubmenu!=this){
-                      $(opener.menu).find(".menuDiv").remove();
-                      $(opener.menuContainer.actualSubmenu).removeClass("selected");
-                      opener.menuContainer.actualSubmenu=false;
-                    }
-                    if (!$(voice).attr("action")) $(opener.menuContainer).find("#"+m+"_"+i).css("cursor","default");
-                    if (!opener.menuContainer.actualSubmenu || opener.menuContainer.actualSubmenu!=this){
-                      $(opener.menu).find(".menuDiv").remove();
-
-                      opener.menuContainer.actualSubmenu=false;
-                      $(this).buildMbMenu(op,$(voice).attr("menu"),"sm",event);
-                      opener.menuContainer.actualSubmenu=this;
-                    }
-                    $(this).attr("isOpen","true");
-                    return false;
-                  }
-                },
-                out:function(){},
-                sensitivity: 30,
-                interval: op.options.submenuHoverIntent,
-                timeout: 0
-              });
-            }
-
-            menuLine.bind(mouseOut,function(){
-              $(this).removeClass("selected");
-            });
-          }
-          if(isDisabled || isTitle || isText){
-            $(this).removeAttr("href");
-            menuLine.bind(mouseOver,function(){
-              if (closeOnMouseOut) clearTimeout($.mbMenu.deleteOnMouseOut);
-              if(opener.menuContainer.actualSubmenu){
-                $(opener.menu).find(".menuDiv").remove();
-                opener.menuContainer.actualSubmenu=false;
-              }
-            }).css("cursor","default");
-          }
-          menuLine.bind("click",function(){
-            if (($(voice).attr("action") || $(voice).attr("href")) && !isDisabled){
-              var target=$(voice).attr("target")?$(voice).attr("target"):"_self";
-              if ($(voice).attr("href") && $(voice).attr("href").indexOf("javascript:")>-1){
-                $(voice).attr("action",$(voice).attr("href").replace("javascript:",""));
-              }
-              var link=$(voice).attr("action")?$(voice).attr("action"):"window.open('"+$(voice).attr("href")+"', '"+target+"')";
-              $(voice).removeAttr("href");
-              eval(link);
-              $(this).removeMbMenu(op,true);
-            }else if($(voice).attr("menu"))
-              return false;
-          });
-        }
-      });
-
-      // Close on Mouseout
-
-      var closeOnMouseOut=$(op)[0].options.closeOnMouseOut;
-      if (closeOnMouseOut){
-        $(opener.menuContainer).bind("mouseenter",function(){
-          clearTimeout($.mbMenu.deleteOnMouseOut);
-        });
-        $(opener.menuContainer).bind("mouseleave",function(){
-          var menuToRemove=$.mbMenu.options.actualMenuOpener;
-          $.mbMenu.deleteOnMouseOut= setTimeout(function(){$(this).removeMbMenu(menuToRemove,true);$(document).unbind("click.closeMbMenu");},$(op)[0].options.closeAfter);
-        });
-      }
-
-      //positioning opened
-      var t=0,l=0;
-      $(this.menuContainer).css({
-        minWidth:op.options.menuWidth
-      });
-      if ($.browser.msie) $(this.menuContainer).css("width",$(this.menuContainer).width()+2);
-
-
-      switch(type){
-        case "sm":
-          t=$(this).position().top+op.options.submenuTop;
-
-          l=$(this).position().left+$(this).width()-op.options.submenuLeft;
-          break;
-        case "cm":
-          t=this.mouseY-5;
-          l=this.mouseX-5;
-          break;
-        default:
-          if (op.options.openOnRight){
-            t=$(this).offset().top-($.browser.msie?2:0)+op.options.menuTop;
-            l=$(this).offset().left+$(this).outerWidth()-op.options.menuLeft-($.browser.msie?2:0);
-          }else{
-            t=$(this).offset().top+$(this).outerHeight()-(!$.browser.mozilla?2:0)+op.options.menuTop;
-            l=$(this).offset().left+op.options.menuLeft;
-          }
-          break;
-      }
-
-      $(this.menu).css({
-        position:"absolute",
-        top:t,
-        left:l
-      });
-
-      if (!type || type=="cm") op.rootMenu=this.menu;
-      $(this.menuContainer).bind(mouseOut,function(){
-        $(document).one("click.closeMbMenu",function(){$(document).removeMbMenu(op,true);});
-      });
-
-      if (op.options.fadeInTime>0) $(this.menuContainer).fadeIn(op.options.fadeInTime);
-      else $(this.menuContainer).show();
-
-      if (op.options.shadow) {
-        $(this.menu).prepend(shadow);
-        shadow.css({
-          width:$(this.menuContainer).outerWidth(),
-          height:$(this.menuContainer).outerHeight()-1,
-          position:'absolute',
-          backgroundColor:op.options.shadowColor,
-          border:0,
-          opacity:op.options.shadowOpacity
-        }).show();
-      }
-      var wh= (op.options.containment=="window")?$(window).height():$("#"+op.options.containment).offset().top+$("#"+op.options.containment).outerHeight();
-      var ww=(op.options.containment=="window")?$(window).width():$("#"+op.options.containment).offset().left+$("#"+op.options.containment).outerWidth();
-
-      var mh=$(this.menuContainer).outerHeight();
-      var mw=shadow?shadow.outerWidth():$(this.menuContainer).outerWidth();
-
-      var actualX=$(where.find(".menuDiv:first")).offset().left-$(window).scrollLeft();
-      var actualY=$(where.find(".menuDiv:first")).offset().top-$(window).scrollTop();
-      switch(type){
-        case "sm":
-          if ((actualX+mw)>= ww && mw<ww){
-            l-=((op.options.menuWidth*2)-(op.options.submenuLeft*2));
-          }
-          break;
-        case "cm":
-          if ((actualX+(op.options.menuWidth*1.5))>= ww && mw<ww){
-            l-=((op.options.menuWidth)-(op.options.submenuLeft));
-          }
-          break;
-        default:
-          if ((actualX+mw)>= ww && mw<ww){
-            l-=($(this.menuContainer).offset().left+mw)-ww+1;
-          }
-          break;
-      }
-      if ((actualY+mh)>= wh-10 && mh<wh){
-        t-=((actualY+mh)-wh)+10;
-      }
-
-      $(this.menu).css({
-        top:t,
-        left:l
-      });
-    },
-    removeMbMenu: function(op,fade){
-      if(!op)op=$.mbMenu.options.actualMenuOpener;
-      if(!op) return;
-      if (op.rootMenu) {
-        $(op.actualOpenedMenu)
-                .removeAttr("isOpen")
-                .removeClass("selected");
-        $(op.rootMenu)
-                .css({width:1, height:1});
-        if (fade) $(op.rootMenu).fadeOut(op.options.fadeOutTime,function(){$(this).remove();});
-        else $(op.rootMenu).remove();
-        op.rootMenu=false;
-        op.clicked=false;
-      }
-    },
-
-    //mouse  Position
-    getMouseX : function (e){
-      var mouseX;
-      if ($.browser.msie)mouseX = e.clientX + document.documentElement.scrollLeft;
-      else mouseX = e.pageX;
-      if (mouseX < 0) mouseX = 0;
-      return mouseX;
-    },
-    getMouseY : function (e){
-      var mouseY;
-      if ($.browser.msie)	mouseY = e.clientY + document.documentElement.scrollTop;
-      else mouseY = e.pageY;
-      if (mouseY < 0)	mouseY = 0;
-      return mouseY;
-    },
-    //get max z-inedex of the page
-    mb_bringToFront: function(){
-      var zi=10;
-      $('*').each(function() {
-        if($(this).css("position")=="absolute" || $(this).css("position")=="fixed" ){
-          var cur = parseInt($(this).css('zIndex'));
-          zi = cur > zi ? parseInt($(this).css('zIndex')) : zi;
-        }
-      });
-
-      $(this).css('zIndex',zi+=10);
-    }
-
-  });
-  $.fn.buildMenu = $.mbMenu.buildMenu;
-  $.fn.buildContextualMenu = $.mbMenu.buildContextualMenu;
-})(jQuery);
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/toImplement.txt b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/toImplement.txt
deleted file mode 100644
index 351a3a5..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/inc/toImplement.txt
+++ /dev/null
@@ -1,10 +0,0 @@
-1. (DONE)
-.menuContainer .selected td a{
-color:#000;
-text-shadow:#fff 2px 2px 1px;
-display:block;
-}
-
-
-2.
-add disble to rootvoices.
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/menuVoices.html b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/menuVoices.html
deleted file mode 100644
index 8d648a6..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/menuVoices.html
+++ /dev/null
@@ -1,32 +0,0 @@
-<!--
-  ~ jquery.mb.components
-  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
-  ~ email: info@pupunzi.com
-  ~ site: http://pupunzi.com
-  ~
-  ~ Licences: MIT, GPL
-  ~ http://www.opensource.org/licenses/mit-license.php
-  ~ http://www.gnu.org/licenses/gpl.html
-  -->
-
-<!--<div id="menu_12" class="menu">
-	<a href="http://www.open-lab.com" target="_blank" img="ico_view.gif" >Ajax_menu_12.2 go to OL</a>
-	<a href="javascript:alert('pippo')" img="ico_view.gif" >Ajax_menu_12.2 alert via href</a>
-	<a action="document.title=('menu_12.2')" >menu_12.2</a>
-	<a rel="separator"></a>
-	<a action="document.title=('menu_12.3')" disabled=true>Ajax_menu_12.3 disabled</a>
-	<a action="document.title=('menu_12.4')" menu="menu_1" img="24-book-blue-check.png">Ajax_menu_12.4</a>
-</div>-->
-<div id="menu_12" class="mbmenu">
-  <a rel="title">Ajax menu</a>
-  <a rel="text" >
-    This menu has been created from an Ajax call because it wasn't defined in this page.<br/><br/>
-  </a>
-  <a rel="separator"> </a>
-  <a class="{action: 'document.title=(\'menu_2.2\')'}">menu_12.2</a>
-  <a class="{menu: 'sub_menu_1', img: 'icon_14.png'}">menu_12.3</a>
-  <a class="{menu: 'sub_menu_2', img: '24-tag-add.png'}">menu_12.4</a>
-  <a rel="separator"> </a>
-  <a class="{action: 'document.title=(\'menu_2.4\')'}">menu_12.5</a>
-</div>
-
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.components.html b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.components.html
deleted file mode 100644
index a878cb9..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.components.html
+++ /dev/null
@@ -1,22 +0,0 @@
-<!--
-  ~ jquery.mb.components
-  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
-  ~ email: info@pupunzi.com
-  ~ site: http://pupunzi.com
-  ~
-  ~ Licences: MIT, GPL
-  ~ http://www.opensource.org/licenses/mit-license.php
-  ~ http://www.gnu.org/licenses/gpl.html
-  -->
-
-<div><a href="http://pupunzi.com/#mb.components/mb._menu/menu.html" class="ajax" >mb.menu</a></div>
-<div><a href="http://pupunzi.com/#mb.components/mb.containerPlus/containerPlus.html" class="ajax" >mb.containerPlus</a></div>
-<div><a href="http://pupunzi.com/#mb.components/mb.gallery/gallery.html" class="ajax" >mb.gallery</a></div>
-<div><a href="http://pupunzi.com/#mb.components/mb.maskedGallery/maskedGallery.html" class="ajax" >mb.maskedGallery</a></div>
-<div><a href="http://pupunzi.com/#mb.components/mb.tabset/tabset.html" class="ajax" >mb.tabset</a></div>
-<div><a href="http://pupunzi.com/#mb.components/mb.imageNavigator/imageNavigator.html" class="ajax" >mb.imageNavigator</a></div>
-<div><a href="http://pupunzi.com/#mb.components/mb.tooltip/tooltip.html" class="ajax" >mb.tooltip</a></div>
-<div><a href="http://pupunzi.com/#mb.components/mb.scrollable/scrollable.html" class="ajax" >mb.scrollable</a></div>
-<!--<div><a href="mb.components/mb.extruder/extruder.html" class="ajax" >mb.extruder</a></div>-->
-
-        
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.creativity.html b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.creativity.html
deleted file mode 100644
index ef81c5d..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.creativity.html
+++ /dev/null
@@ -1,15 +0,0 @@
-<!--
-  ~ jquery.mb.components
-  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
-  ~ email: info@pupunzi.com
-  ~ site: http://pupunzi.com
-  ~
-  ~ Licences: MIT, GPL
-  ~ http://www.opensource.org/licenses/mit-license.php
-  ~ http://www.gnu.org/licenses/gpl.html
-  -->
-
-<div class="text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed elit lacus, luctus in ornare quis, tincidunt vitae erat. Integer sed quam a sem faucibus ultricies vitae vel tortor. Etiam volutpat leo a tortor accumsan scelerisque. Duis varius dictum egestas. </div>
-<div><a class="ajax" onclick="alert('mb.pdf.magazine');">mb.pdf.magazine</a></div>
-<div><a onclick="alert('mb.video');" >mb.video</a></div>
-<div><a onclick="alert('mb.more');" >mb.more</a></div>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.mti.html b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.mti.html
deleted file mode 100644
index 515fdea..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.mti.html
+++ /dev/null
@@ -1,16 +0,0 @@
-<!--
-  ~ jquery.mb.components
-  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
-  ~ email: info@pupunzi.com
-  ~ site: http://pupunzi.com
-  ~
-  ~ Licences: MIT, GPL
-  ~ http://www.opensource.org/licenses/mit-license.php
-  ~ http://www.gnu.org/licenses/gpl.html
-  -->
-
-<div><a href="http://www.morethanicons.com/home.page" target="_blank">home</a></div>
-<div><a href="http://www.morethanicons.com/services.page" target="_blank">services</a></div>
-<div><a href="http://www.morethanicons.com/portfolio.page" target="_blank">portfolio</a></div>
-<div><a href="http://www.morethanicons.com/Customers.page" target="_blank">about</a></div>
-<div><a href="http://www.morethanicons.com/ContactMorethanicons.page" target="_blank">contacts</a></div>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.network.html b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.network.html
deleted file mode 100644
index 8174424..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.network.html
+++ /dev/null
@@ -1,16 +0,0 @@
-<!--
-  ~ jquery.mb.components
-  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
-  ~ email: info@pupunzi.com
-  ~ site: http://pupunzi.com
-  ~
-  ~ Licences: MIT, GPL
-  ~ http://www.opensource.org/licenses/mit-license.php
-  ~ http://www.gnu.org/licenses/gpl.html
-  -->
-
-<div><a href="http://www.open-lab.com" class="external" >open lab</a></div>
-<div><a href="http://www.morethanicons.com" class="external" >morethanicons</a></div>
-<div><a href="http://www.twproject.com" class="external" >teamwork</a></div>
-<div><a href="http://www.bugsvoice.com" class="external" >bugsvoice</a></div>
-<div><a href="http://www.patapage.com" class="external" >patapage</a></div>        
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.tw.html b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.tw.html
deleted file mode 100644
index 8781e64..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extr.tw.html
+++ /dev/null
@@ -1,16 +0,0 @@
-<!--
-  ~ jquery.mb.components
-  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
-  ~ email: info@pupunzi.com
-  ~ site: http://pupunzi.com
-  ~
-  ~ Licences: MIT, GPL
-  ~ http://www.opensource.org/licenses/mit-license.php
-  ~ http://www.gnu.org/licenses/gpl.html
-  -->
-
-<div><a href="http://www.twproject.com/overview.page" target="_blank">Overview</a></div>
-<div><a href="http://www.twproject.com/customerList.page" target="_blank">Customers</a></div>
-<div><a href="http://www.twproject.com/documentation.page" target="_blank">documentation</a></div>
-<div><a href="http://www.twproject.com/download.page" target="_blank">Download</a></div>
-<div><a href="http://www.twproject.com/licensePrices.page" target="_blank">License and prices</a></div>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extruderLeft.html b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extruderLeft.html
deleted file mode 100644
index c76ba93..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extruderLeft.html
+++ /dev/null
@@ -1,24 +0,0 @@
-<!--
-  ~ jquery.mb.components
-  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
-  ~ email: info@pupunzi.com
-  ~ site: http://pupunzi.com
-  ~
-  ~ Licences: MIT, GPL
-  ~ http://www.opensource.org/licenses/mit-license.php
-  ~ http://www.gnu.org/licenses/gpl.html
-  -->
-
-<div class="voice {}"><span class="label"><a class="label" href="http://www.open-lab.com">Open Lab</a></span></div>
-<div class="voice {panel:'parts/extr.tw.html'}"><a class="label" href="http://twproject.com" target="_blank">teamwork</a></div>
-<div class="voice {panel:'parts/extr.mti.html'}"><span class="label">Morethanicons</span></div>
-<div class="voice {panel:'parts/extr.network.html'}"><span class="label">Open Lab network</span></div>
-<div class="voice {disabled:true}"><span class="label">Microsoft Internet Explorer</span> </div>
-<div class="voice {}"><a class="label" href="http://firefox.com" target="_blank">get FireFox</a> </div>
-<div class="voice {}"><a class="label" href="http://www.google.com/chrome" target="_blank">get Chrome</a> </div>
-<div class="voice {}"><a class="label" href="http://www.apple.com/safari/" target="_blank">get Safari</a> </div>
-<div class="voice {}"><a class="label" href="http://www.opera.com/" target="_blank">get Opera</a> </div>
-
-<script type="text/javascript">
-
-</script>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extruderLeft1.html b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extruderLeft1.html
deleted file mode 100644
index 362f92f..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extruderLeft1.html
+++ /dev/null
@@ -1,36 +0,0 @@
-<!--
-  ~ jquery.mb.components
-  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
-  ~ email: info@pupunzi.com
-  ~ site: http://pupunzi.com
-  ~
-  ~ Licences: MIT, GPL
-  ~ http://www.opensource.org/licenses/mit-license.php
-  ~ http://www.gnu.org/licenses/gpl.html
-  -->
-
-<div class="text">
-  <img src="http://patapage.com/images/logo.png" alt="pp">
-
-  More options for your website users. In minutes.
-  Patapage is an innovative webtool
-  that will change the way you manage webpages content.
-<br>
-<br>
-  The beta version is forthcoming. Write us at info@patapage.com in order to get
-  an access to the beta as soon as it is available.
-
-  <a href="http://patapage.com" target="_blank" style="color:white;">got to Patapage!</a>
-
-</div>
-<div class="text">
-  <img src="http://bugsvoice.com/images/logo.png" alt="pp" width="300">
-
-Turn bugs in opportunities. Online.
-  <br>
-  <br>
-The beta version is forthcoming. Write us at info@bugsvoice.com
-in order to get an access to the beta as soon as it is available.
-  <a href="http://bugsvoice.com" target="_blank" style="color:white;">got to BugsVoice!</a>
-
-</div>
diff --git a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extruderTop.html b/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extruderTop.html
deleted file mode 100644
index db91c70..0000000
--- a/sites/all/themes/vibio/js/mbMenu/test_menu&extruder/parts/extruderTop.html
+++ /dev/null
@@ -1,16 +0,0 @@
-<!--
-  ~ jquery.mb.components
-  ~ Copyright (c) 2001-2010. Matteo Bicocchi (Pupunzi); Open lab srl, Firenze - Italy
-  ~ email: info@pupunzi.com
-  ~ site: http://pupunzi.com
-  ~
-  ~ Licences: MIT, GPL
-  ~ http://www.opensource.org/licenses/mit-license.php
-  ~ http://www.gnu.org/licenses/gpl.html
-  -->
-
-<div class="voice {}"><a class="label" href="http://pupunzi.com">mb.ideas.home</a></div>
-<div id="top2" class="voice {panel:'parts/extr.components.html'}"><a class="label" href="http://pupunzi.com/#mb.components/components.html">mb.jquery.components</a></div>
-<div class="voice {panel:'parts/extr.creativity.html'}"><span class="label">mb.creativity</span></div>
-<div class="voice {disabled:true}"><span class="label">mb.info (disabled)</span> </div>
-<div class="voice {panel:'parts/extr.network.html'}"><span class="label">mb.network</span></div>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/mbMenu/valid-xhtml10.png b/sites/all/themes/vibio/js/mbMenu/valid-xhtml10.png
deleted file mode 100644
index b81de91..0000000
Binary files a/sites/all/themes/vibio/js/mbMenu/valid-xhtml10.png and /dev/null differ
diff --git a/sites/all/themes/vibio/js/mb_menu.js b/sites/all/themes/vibio/js/mb_menu.js
deleted file mode 100644
index 9a63322..0000000
--- a/sites/all/themes/vibio/js/mb_menu.js
+++ /dev/null
@@ -1,49 +0,0 @@
-$(document).ready(function()
-{
-	var menu_topoffset = $.browser.mozilla ? 0 : 2;
-	var menu_leftoffset = $.browser.mozilla ? -1 : 0;
-	var menu_width = $.browser.msie ? 21 : $.browser.mozilla ? 19 : 20;
-	
-	$("#profile_ext_headermenu").buildMenu({
-		menuWidth: $("#profile_ext_headermenu").width() - menu_width,
-		hasImages: false,
-		fadeInTime: 150,
-		fadeOutTime: 150,
-		shadow: true,
-		openOnClick: false,
-		closeOnMouseOut: true,
-		closeAfter: 400,
-		menuTop: menu_topoffset,
-		menuLeft: menu_leftoffset
-	});
-
-	$("#search_type_menu").buildMenu({
-		menuWidth: 30,
-		hasImages: false,
-		fadeInTime: 150,
-		fadeOutTime: 150,
-		shadow: true,
-		openOnClick: false,
-		closeOnMouseOut: true,
-		closeAfter: 400,
-		menuSelector: ".search_type_submenu_container"
-	});
-
-	$(".searchtype_image").live("click", function()
-	{
-		var type_id = $(this).attr("id").split("searchtype_")[1];
-		$("#search_type_current")
-			.attr("src", $(this).attr("src"))
-			.attr("alt", $(this).attr("alt"))
-			.attr("title", $(this).attr("title"));
-
-		$("#edit-search-type").val(type_id);
-
-		return false;
-	});
-
-	if ($.browser.mozilla)
-	{
-		$("#search_type_menu_container").css("top", "2px");
-	}
-});
diff --git a/sites/all/themes/vibio/js/newuser.js b/sites/all/themes/vibio/js/newuser.js
deleted file mode 100644
index 851956b..0000000
--- a/sites/all/themes/vibio/js/newuser.js
+++ /dev/null
@@ -1,120 +0,0 @@
-$(document).ready(function()
-{
-	var fade_time = 250;
-	
-	fb_ajax_actions.ajax_link = $.extend({}, fb_ajax_actions.ajax_link, {
-		newuser_post_link: function()
-		{
-			var stage_container = $("#newuser_tutorial").find(".fb_ff_message").closest(".tutorial_stage");
-			var stage_id = stage_container.attr("id").split("tutorial_stage_")[1];
-			var next_step_id = parseInt(stage_container.find(".fb_ff_message").closest(".tutorial_step").attr("id").split("tutorial_stage_"+stage_id+"_")[1]) + 1;
-			
-			$("#newuser_tutorial")
-				.find(".fb_ff_message")
-					.closest(".step_content")
-						.siblings(".step_complete")
-							.fadeIn(fade_time)
-						.end()
-					.end()
-					.remove()
-					
-			vibio_dialog.set_options();
-			
-			var content_div = $("#tutorial_stage_"+stage_id+"_"+next_step_id)
-				.find("div.tutorial_step_stepnum.unavailable")
-					.removeClass("unavailable")
-				.end()
-				.find(".step_step_content")
-					.html("<div style='text-align: center'><img src='/themes/vibio/images/ajax-loader.gif' /></div>");
-					
-			vibio_dialog.set_options();
-			
-			$.ajax({
-				url: "/facebook/ff_ajax",
-				success: function(html, stat)
-				{
-					content_div.html(html);
-					vibio_dialog.set_options();
-					newuser_change_friend_links();
-				}
-			})
-		}
-	});
-	
-	$("a.tutorial_init_next_stage").live("click", function()
-	{
-		var current_stage = Drupal.settings.newuser.current_stage + 1
-		var next_stage = current_stage + 1;
-		
-		set_newuser_stage();
-		
-		if (current_stage == Drupal.settings.newuser.stages.length)
-		{
-			vibio_dialog.dialog.dialog("close");
-			return false;
-		}
-		
-		$("#tutorial_stage_"+current_stage)
-			.fadeOut(fade_time, function()
-			{
-				$("#stage_header_"+current_stage).removeClass("stage_current_stage").addClass("stage_complete");
-				$("#stage_header_"+next_stage).removeClass("stage_incomplete").addClass("stage_current_stage");
-				$("#tutorial_stage_"+next_stage).fadeIn(fade_time);
-				vibio_dialog.set_options();
-			});
-			
-		++Drupal.settings.newuser.current_stage;
-		
-		return false;
-	});
-	
-	$("#edit-item-search")
-		.livequery("blur", function()
-		{
-			if ($(this).val() == "")
-			{
-				$(this).val(Drupal.settings.newuser.search_default_text);
-			}
-		})
-		.livequery("focus", function()
-		{
-			if ($(this).val() == Drupal.settings.newuser.search_default_text)
-			{
-				$(this).val("");
-			}
-		});
-	
-	$("#vibio-item-newuser-search").livequery("submit", function()
-	{
-		if ($.browser.safari)
-		{
-			vibio_utility.dialog_busy();
-		}
-		
-		return true;
-	});
-	
-	vibio_dialog.create($("#newuser_tutorial_container").remove().html());
-	vibio_dialog.set_options({
-		maxHeight: 50,
-		width: 650,
-		position: "center"
-	});
-	
-	var newuser_change_friend_links = function()
-	{
-		$("#newuser_tutorial")
-			.find(".uri_popup_link")
-				.removeClass("uri_popup_link")
-				.addClass("uri_quick_request");
-	}
-	
-	var set_newuser_stage = function()
-	{
-		$.ajax({
-			url: "/newuser/set-stage/"+(Drupal.settings.newuser.current_stage+1)
-		});
-	}
-	
-	newuser_change_friend_links();
-});
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/offer2buy.js b/sites/all/themes/vibio/js/offer2buy.js
deleted file mode 100644
index e77881c..0000000
--- a/sites/all/themes/vibio/js/offer2buy.js
+++ /dev/null
@@ -1,59 +0,0 @@
-$(document).ready(function()
-{
-	var in_progress = false;
-	
-	$(".offer2buy_init").live("click", function()
-	{
-		if (in_progress)
-		{
-			return false;
-		}
-		
-		var nid = $(this).siblings(".offer2buy_nid").html();
-		in_progress = true;
-		vibio_utility.dialog_busy();
-		
-		$.ajax({
-			url: "/offer2buy/ajax/offer/"+nid+"?destination="+window.location.pathname.substring(1),
-			type: "post",
-			success: function(html, stat)
-			{
-				vibio_utility.dialog_unbusy(html);
-			},
-			complete: function()
-			{
-				in_progress = false;
-			}
-		});
-		
-		return false;
-	});
-	
-	$(".offer2buy_offer_view_popup_init").click(function()
-	{
-		vibio_dialog.create($(this).siblings(".offer2buy_offer_view_popup").html());
-	});
-	
-	$("#offer2buy-offer-form").livequery("submit", function()
-	{
-		var offer = $(this).find("#edit-offer");
-		var offer_val = offer.val();
-		var replaced_offer = parseFloat(offer_val.replace(/([^\d\.]+)/g, ""));
-		
-		if (isNaN(replaced_offer))
-		{
-			alert(Drupal.t("Invalid offer amount"));
-			offer.focus();
-			return false;
-		}
-		
-		offer.val(replaced_offer);
-		
-		if ($.browser.safari)
-		{
-			vibio_utility.dialog_busy();
-		}
-		
-		return true;
-	});
-});
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/offer2buy_actions.js b/sites/all/themes/vibio/js/offer2buy_actions.js
deleted file mode 100644
index 9595762..0000000
--- a/sites/all/themes/vibio/js/offer2buy_actions.js
+++ /dev/null
@@ -1,80 +0,0 @@
-$(document).ready(function()
-{
-	$(".offer2buy_action_complete_form").submit(function()
-	{
-		return confirm("are you sure you want to mark this action as done?");
-	});
-	
-	$(".offer2buy_transaction_cancel_form").submit(function()
-	{
-		return confirm("are you sure you want to cancel this transaction?");
-	});
-	
-	$(".offer2buy_offer_accept_form .offer2buy_accept_init").live("click", function()
-	{
-		return confirm("Accepting an offer will cancel all pending transactions for that item. Are you sure you want to accept this offer?")
-	});
-	
-	$(".offer2buy_offer_accept_form .offer2buy_reject_init").live("click", function()
-	{
-		var classes = $(this).attr("class").split(/\s+/);
-		var uid = false;
-		var nid = false;
-		
-		$.each(classes, function(i, e)
-		{
-			if (uid && nid)
-			{
-				return;
-			}
-			
-			var args = e.split("reject_offer_");
-			if (args.length == 2)
-			{
-				args = args[1].split("_");
-				uid = args[0];
-				nid = args[1];
-			}
-		});
-		
-		if (!uid && !uid)
-		{
-			return false;
-		}
-		
-		vibio_utility.dialog_busy();
-		
-		$.ajax({
-			url: "/offer2buy/ajax/reject/"+uid+"/"+nid,
-			success: function(html, stat)
-			{
-				vibio_utility.dialog_unbusy(html);
-			}
-		});
-		
-		return false;
-	});
-	
-	$(".offer2buy_offer_reject_form #edit-cancel").live("click", function()
-	{
-		vibio_dialog.dialog.dialog("close");
-		return false;
-	});
-	
-	$(".offer2buy_edit_post_type").live("click", function()
-	{
-		$.ajax({
-			url: $(this).attr("href")+"?destination="+window.location.pathname.substring(1),
-			type: "post",
-			data: {
-				ajax: true
-			},
-			success: function(html, stat)
-			{
-				vibio_dialog.create(html);
-			}
-		});
-		
-		return false;
-	});
-});
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/product.js b/sites/all/themes/vibio/js/product.js
deleted file mode 100644
index 5c7c92a..0000000
--- a/sites/all/themes/vibio/js/product.js
+++ /dev/null
@@ -1,96 +0,0 @@
-$(document).ready(function()
-{
-	$(".product_owners_results .pager a").live("click", function()
-	{
-		var page = vibio_utility.get_a_get_arg($(this), "page");
-		var type = $(this).closest(".product_owners_type_container").attr("id").split("product_type_")[1]
-		var nid = window.location.pathname.split("/")[2];
-		
-		$.ajax({
-			url: "/product/get-owners",
-			type: "post",
-			data: {
-				product: nid,
-				type: type,
-				page: page,
-				ajax: true
-			},
-			success: function(html, stat)
-			{
-				$("#product_type_"+type)
-					.find(".product_owners_results")
-						.html(html);
-			}
-		});
-		
-		return false;
-	});
-	
-	$(".search-results.vibio_item a").each(function()
-	{
-		var href = $(this).attr("href")+"?searchcrumb="+unescape(window.location.pathname)+window.location.search;
-		
-		$(this).attr("href", href);
-	});
-	
-	$(".inventory_add").live("click", function()
-	{
-		var nid = $(this).attr("id").split("inventory_add_")[1];
-		vibio_utility.dialog_busy();
-		
-		$.ajax({
-			url: "/product/ajax/inventory-add",
-			type: "post",
-			data: { nid: nid },
-			success: function(html, stat)
-			{
-				vibio_dialog.dialog.dialog("close");
-				vibio_dialog.create(html);
-			}
-		});
-		
-		return false;
-	});
-	
-	$("#product-ajax-add-form #edit-posting-type").livequery("change", function()
-	{
-		var val = $(this).val();
-		var e = $("#product-ajax-add-form .inventory_add_price");
-		
-		val == 1 ? e.hide() : e.show();
-	});
-	
-	$("#product-ajax-add-form").livequery("submit", function()
-	{
-		var node_vals = {}
-		$(this).find(":input").each(function()
-		{
-			var e = $(this);
-			var name = e.attr("name");
-			var val = e.val();
-			node_vals[name] = val;
-		});
-		
-		vibio_dialog.dialog.dialog("close");
-		vibio_utility.dialog_busy();
-		
-		$.ajax({
-			url: "/product/ajax/inventory-add/save",
-			type: "post",
-			data: node_vals,
-			success: function(html, stat)
-			{
-				vibio_dialog.dialog.dialog("close");
-				vibio_dialog.create(html);
-			}
-		});
-		
-		return false;
-	});
-	
-	$(".product_snippet_link").click(function() {
-	  $(".product_snippet").toggle();
-	  
-	  return false;
-	});
-});
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/profile.js b/sites/all/themes/vibio/js/profile.js
deleted file mode 100644
index 9dcf57e..0000000
--- a/sites/all/themes/vibio/js/profile.js
+++ /dev/null
@@ -1,26 +0,0 @@
-var profile_actions;
-
-$(document).ready(function()
-{
-	$("#profile_tabs").tabs();
-	
-	if (typeof Drupal.settings.profile_ext != "undefined" && Drupal.settings.profile_ext.selected_tab)
-	{
-		$("a[href='#profiletab_"+Drupal.settings.profile_ext.selected_tab+"']").click();
-	}
-	
-	profile_actions = {
-		show_busy: function(element)
-		{
-			element.closest(".profile_notification").find(".profile_busy_indicator img").show();
-		},
-		hide_busy: function(element)
-		{
-			element.closest(".profile_notification").find(".profile_busy_indicator img").hide();
-		},
-		remove_notification: function(element)
-		{
-			element.closest(".profile_notification").remove();
-		}
-	};
-});
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/search.js b/sites/all/themes/vibio/js/search.js
deleted file mode 100644
index 0bffe1f..0000000
--- a/sites/all/themes/vibio/js/search.js
+++ /dev/null
@@ -1,23 +0,0 @@
-$(document).ready(function()
-{
-	if (!$.browser.msie)
-	{
-		$("#edit-search-form-type")
-			.wrap("<div class='search_select' />")
-			.after("<div class='clear'></div>")
-			.csb({
-				style: "search_dropdown",
-				mode: "select",
-				callback: function() {}
-			});
-			
-		$("#edit-search-users")
-			.wrap("<div class='search_select' />")
-			.after("<div class='clear'></div>")
-			.csb({
-				style: "search_dropdown2",
-				mode: "select",
-				callback: function() {}
-			});
-	}
-});
\ No newline at end of file
diff --git a/sites/all/themes/vibio/js/uri.js b/sites/all/themes/vibio/js/uri.js
deleted file mode 100644
index 86d6276..0000000
--- a/sites/all/themes/vibio/js/uri.js
+++ /dev/null
@@ -1,271 +0,0 @@
-$(document).ready(function()
-{
-	var active_rid = false, form_html = false;
-	
-	$("#friends_tabs").tabs({
-		cache: true,
-		spinner: "<img src='/themes/vibio/images/ajax-loader.gif' />"
-	});
-
-	$("table.user-relationships-listing-table tr").hover(
-		function()
-		{
-			$(this).find("td.ur_friend_remove img").show();
-		},
-		function()
-		{
-			$(this).find("td.ur_friend_remove img").hide();
-		}
-	);
-
-	$("a.uri_edit_elaboartion").click(function()
-	{
-		var rid = $(this).closest("tr").attr("id").split("uri_relationship_")[1];
-
-		if (!rid)
-		{
-			var href_args = $(this).attr("href").split("/");
-			rid = href_args[href_args.length - 1];
-			$(this).closest("tr").attr("id", "uri_relationship_"+rid);
-		}
-
-		active_rid = rid;
-		show_details_form(active_rid);
-		
-		return false;
-	});
-	
-	$("a.uri_popup_link").live("click", function()
-	{
-		var rid = $(this).closest("tr").attr("id").split("uri_relationship_")[1];
-		var href = $(this).attr("href");
-
-		if (!rid)
-		{
-			var href_args = href.split("/");
-			rid = href_args[href_args.length - 2];
-			$(this).closest("tr").attr("id", "uri_relationship_"+rid);
-		}
-		
-		busy_indicator.show(rid);
-		
-		$.ajax({
-			url: href,
-			dataType: "json",
-			success: function(json, stat)
-			{
-				var users = {
-					current: json.users.current,
-					target: json.users.target
-				};
-				
-				vibio_dialog.create(json.html);
-				eval("bind_"+json.callback+"("+rid+", '"+href+"', users)");
-			},
-			complete: function()
-			{
-				busy_indicator.hide(rid);
-			}
-		});
-		
-		return false;
-	});
-	
-	$("a.uri_quick_request").live("click", function()
-	{
-		var rid = $(this).closest("tr").attr("id").split("uri_relationship_")[1];
-		var href = $(this).attr("href");
-
-		if (!rid)
-		{
-			var href_args = href.split("/");
-			rid = href_args[href_args.length - 2];
-			$(this).closest("tr").attr("id", "uri_relationship_"+rid);
-		}
-		
-		busy_indicator.show(rid);
-		
-		$.ajax({
-			url: href,
-			dataType: "json",
-			success: function(json, stat)
-			{
-				var users = {
-					current: json.users.current,
-					target: json.users.target
-				};
-				
-				callbacks.confirm({
-					data: {
-						rid: rid,
-						href: href,
-						users: users,
-						action: "request",
-						keep_dialog_open: true
-					}
-				});
-			},
-			complete: function()
-			{
-				busy_indicator.hide(rid);
-			}
-		});
-		
-		return false;
-	});
-	
-	var bind_pending_request = function(rid, href, users)
-	{
-		var elements = {
-			form: $("#uri-pending-request-action-form"),
-			confirm: $("#edit-uri-pending-request-confirm"),
-			cancel: $("#edit-uri-pending-request-cancel")
-		};
-		
-		bind_callbacks(elements, rid, href, false, users);
-	}
-	
-	var bind_remove_relationship = function(rid, href, users)
-	{
-		var elements = {
-			form: $("#uri-remove-relationship-form"),
-			confirm: $("#edit-uri-remove-relationship-confirm"),
-			cancel: $("#edit-uri-remove-relationship-cancel")
-		}
-		
-		bind_callbacks(elements, rid, href, "remove", users);
-	}
-	
-	var bind_request_relationship = function(rid, href, users)
-	{
-		var elements = {
-			form: $("#uri-request-relationship-form"),
-			confirm: $("#edit-uri-request-relationship-confirm"),
-			cancel: $("#edit-uri-request-relationship-cancel")
-		};
-		
-		bind_callbacks(elements, rid, href, "request", users);
-	}
-	
-	var bind_callbacks = function(elements, rid, href, action_type, users)
-	{
-		elements.form
-			.unbind("submit", callbacks.submit)
-			.bind("submit", callbacks.submit);
-		elements.confirm
-			.unbind("click", callbacks.confirm)
-			.bind("click", {rid: rid, href: href, action: action_type, users: users}, callbacks.confirm);
-		elements.cancel
-			.unbind("click", callbacks.cancel)
-			.bind("click", callbacks.cancel)
-	}
-	
-	var callbacks = {
-		submit: function()
-		{
-			return false;
-		},
-		confirm: function(e)
-		{
-			var rid = e.data.rid;
-			var href = e.data.href;
-			var users = e.data.users;
-			var action = e.data.action ? e.data.action : href.split("/")[href.split("/").length - 1];
-			var message = Drupal.settings.uri.messages[action].replace("!target", "<a href='/user/"+users.target.uid+"'>"+users.target.name+"</a>");
-			
-			if (!e.data.keep_dialog_open)
-			{
-				vibio_dialog.dialog.dialog("close");
-			}
-			
-			$.ajax({
-				url: href,
-				type: "post",
-				data: {
-					submit: true,
-					elaboration: $("#edit-uri-pending-elaboration").length ? $("#edit-uri-pending-elaboration").val() : ""
-				}
-			});
-			
-			$("#uri_relationship_"+rid).remove();
-			vibio_utility.set_message(message, "status");
-			return false;
-		},
-		cancel: function()
-		{
-			vibio_dialog.dialog.dialog("close");
-			
-			return false;
-		}
-	};
-	
-	var busy_indicator = {
-		show: function(rid)
-		{
-			$("#uri_relationship_"+rid+" .uri_edit_busy_indicator").show();
-		},
-		hide: function(rid)
-		{
-			$("#uri_relationship_"+rid+" .uri_edit_busy_indicator").hide();
-		}
-	};
-	
-	var show_details_form = function(rid)
-	{
-		if (!form_html)
-		{
-			form_html = $("#uri_elaborations_edit").remove().html();
-		}
-		
-		var row = $("#uri_relationship_"+rid)
-		var friend = row.find("td:eq(1) a").html();
-		var elaboration = row.find(".uri_elaboration").html();
-		
-		vibio_dialog.create(form_html);
-		
-		$(".uri_edit_elaborations_form")
-			.find(".uri_elaboration_target")
-				.html(friend)
-				.end()
-			.find("#edit-elaboration")
-				.html(elaboration)
-				.end()
-			.unbind("submit", elaborations_edit_submit)
-			.bind("submit", elaborations_edit_submit);			
-	}
-	
-	var elaborations_edit_submit = function()
-	{
-		var row = $("#uri_relationship_"+active_rid);
-		var busy = row.find(".uri_edit_busy_indicator");
-		var elaboration = row.find(".uri_elaboration");
-		
-		vibio_dialog.dialog.dialog("close");
-		busy.show();
-		
-		$.ajax({
-			url: "/relationships/edit-elaboration/"+active_rid,
-			type: "post",
-			data: {
-				elaboration: $("#edit-elaboration").val()
-			},
-			dataType: "json",
-			success: function(json, stat)
-			{
-				if (!json.status)
-				{
-					alert(json.message);
-					return;
-				}
-				
-				elaboration.html(json.message);
-			},
-			complete: function()
-			{
-				busy.hide();
-			}
-		});
-		
-		return false;
-	}
-});
diff --git a/sites/all/themes/vibio/js/user.js b/sites/all/themes/vibio/js/user.js
deleted file mode 100644
index fe194f2..0000000
--- a/sites/all/themes/vibio/js/user.js
+++ /dev/null
@@ -1,72 +0,0 @@
-$(document).ready(function()
-{
-	user_profile_set_bg();
-	if ($.browser.safari)
-	{
-		$("#profile_picture img").load(function()
-		{
-			user_profile_set_bg();
-		});
-	}
-	
-	$("#profile_user_tabs").tabs();
-	
-	$(".profile_editable").hover(
-		function()
-		{
-			$(this).find(".profile_edit_link").fadeIn(200);
-		},
-		function()
-		{
-			$(this).find(".profile_edit_link").fadeOut(200);
-		}
-	);
-	
-	$("#profile_change_picture a").click(function()
-	{
-		vibio_utility.dialog_busy();
-		
-		$.ajax({
-			url: $(this).attr("href"),
-			success: function(html, stat)
-			{
-				vibio_utility.dialog_unbusy(html);
-			}
-		});
-		
-		return false;
-	});
-
-	if (Drupal.settings.profile_settings.default_tab != false)
-	{
-		$("a[href='"+Drupal.settings.profile_settings.default_tab+"']").click();
-	}
-	
-	if (Drupal.settings.profile_ext.profile_progress)
-	{
-		$("#profile_progressbar").progressbar({
-			value: Drupal.settings.profile_ext.profile_progress
-		});
-		
-		$("#profile_completion_steps_init").click(function()
-		{
-			vibio_dialog.create($("#profile_completion_steps_container").html());
-			return false;
-		});
-	}
-	
-	function user_profile_set_bg()
-	{
-		var height = $("#profile_picture").css("height");
-		var width = $("#profile_picture").css("width");
-		
-		$("#profile_picture_bg")
-			.css({
-				height: height,
-				width: width,
-				"-webkit-transform": "rotate(-8deg)",
-				"-moz-transform": "rotate(-8deg)"
-			})
-			.show();
-	}
-});
diff --git a/sites/all/themes/vibio/js/utility.js b/sites/all/themes/vibio/js/utility.js
deleted file mode 100644
index 01f5507..0000000
--- a/sites/all/themes/vibio/js/utility.js
+++ /dev/null
@@ -1,176 +0,0 @@
-var vibio_utility = {
-	get_a_get_arg: function(a, target_arg)
-	{
-		var get_args = a.attr("href").split("?")[1].split("&");
-		var value = 0;
-		
-		$.each(get_args, function(i, e)
-		{
-			var arg = e.split("=");
-			if (arg[0] == target_arg)
-			{
-				value = arg[1];
-			}
-		});
-		
-		return value;
-	},
-	get_get_arg: function(target_arg)
-	{
-		var get_args = vibio_utility.get_args();
-		var result = false;
-		
-		$.each(get_args, function(arg, value)
-		{
-			if (arg == target_arg)
-			{
-				result = value;
-			}
-		});
-		
-		return result;
-	},
-	get_args: function()
-	{
-		var args = window.location.search.substring(1).split("&");
-		var get_args = {};
-		
-		$.each(args, function(i, e)
-		{
-			get_args[e.split("=")[0]] = e.split("=")[1];
-		});
-		
-		return get_args;
-	},
-	set_time_offset: function()
-	{
-		var offset = typeof Drupal.settings.profile_ext.time_offset != "undefined" ? parseInt(Drupal.settings.profile_ext.time_offset) : 0;
-		var months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dev"];
-		
-		$(".timestamp_uncalculated").each(function()
-		{
-			var e = $(this);
-			var current_tstamp = parseInt(e.text());
-			
-			if (isNaN(current_tstamp))
-				return;
-			
-			var new_date = new Date((current_tstamp*1000) + (offset*1000));
-			var same_day = new_date.getUTCMonth() == Drupal.settings.profile_ext.utc_date.m && new_date.getUTCDate() == Drupal.settings.profile_ext.utc_date.d;
-			var display = "wow js time is so stupid.";
-			
-			if (same_day)
-			{
-				var hour = new_date.getUTCHours() == 0 ? 12 : new_date.getUTCHours();
-				var display_hour = hour > 12 ? hour - 12 : hour;
-				var display_time = new_date.getUTCMinutes() < 10 ? "0"+new_date.getUTCMinutes() : new_date.getUTCMinutes();
-				var ampm = new_date.getUTCHours() > 11 ? "pm" : "am";
-				
-				display = display_hour+":"+display_time+ampm;
-			}
-			else
-			{
-				display = months[new_date.getUTCMonth()]+" "+new_date.getUTCDate();
-			}
-			
-			e.text(display).removeClass("timestamp_uncalculated");
-		});
-	},
-	busy: function(id, action)
-	{
-		var e = $("#busy_indicator_"+id);
-		action == "show" ? e.show() : e.hide();
-	},
-	dialog_busy: function()
-	{
-		var busy_indicator = $("#dialog_busy_indicator_container").length ? $("#dialog_busy_indicator_container") : $("<div id='dialog_busy_indicator_container'><div id='dialog_busy_indicator'><img src='/themes/vibio/images/ajax-loader.gif' /></div></div>").prependTo("body");
-		if (vibio_dialog.dialog)
-		{
-			vibio_dialog.dialog.dialog("close");
-		}
-		vibio_dialog.create(busy_indicator.html());
-		vibio_dialog.set_options();
-	},
-	dialog_unbusy: function(content)
-	{
-		vibio_dialog.dialog.dialog("close");
-		vibio_dialog.create(content);
-	},
-	invoke: function(funcs)
-	{
-		if (typeof funcs == "undefined")
-		{
-			return;
-		}
-		
-		$.each(funcs, function(i, func)
-		{
-			if (typeof func == "function")
-			{
-				func();
-			}
-		});
-	}
-};
-
-$(document).ready(function()
-{
-	vibio_utility.set_message = function(message, type)
-	{
-		if (typeof type == "undefined")
-		{
-			type = "status";
-		}
-		if (typeof clear_type == "undefined")
-		{
-			clear_type = false;
-		}
-		if (typeof clear_all == "undefined")
-		{
-			clear_all = false;
-		}
-		
-		var message_div = $("div.messages."+type).length ? $("div.messages."+type) : $("<div class='messages "+type+"'></div>").prependTo("#content");
-		var message_list = message_div.find("ul").length ? message_div.find("ul") : $("<ul></ul>").prependTo(message_div);
-		
-		message_list.append("<li>"+message+"</li>");
-	}
-	
-	$("a[href^='/node/']").removeClass("item_link").addClass("item_link");
-	vibio_utility.set_time_offset();
-	$(document)
-		.ajaxComplete(function()
-		{
-			$("a[href^='/node/']").removeClass("item_link").addClass("item_link");
-			vibio_utility.set_time_offset();
-		})
-		.ajaxError(function(event, xhr, options, error)
-		{
-			if (xhr.status == 403)
-			{
-				vibio_dialog.dialog.dialog("close");
-				vibio_dialog.create(Drupal.t("You must log in to do this"));
-			}
-		});
-	
-	$("a[rel^='prettyphoto']").prettyPhoto({
-		allowResize: false,
-		showTitle: false,
-		theme: "facebook"
-	});
-	
-	//should probably make a file for these types of things...
-	if ($.browser.safari)
-	{
-		$("#search input[type='submit']").css("top", "2px");
-	}
-
-	$("#user-login-form")
-		.find("div.item-list:eq(0)")
-			.addClass("login_form_separator");
-	
-	setTimeout(function()
-	{
-		$("#user-register").find("div.password-description").remove();
-	}, 200);
-});
diff --git a/sites/all/themes/vibio/js/vibio_dialog.js b/sites/all/themes/vibio/js/vibio_dialog.js
deleted file mode 100644
index d966678..0000000
--- a/sites/all/themes/vibio/js/vibio_dialog.js
+++ /dev/null
@@ -1,58 +0,0 @@
-var vibio_dialog = {
-	dialog: false,
-	dialog_options: {},
-	create: function(content)
-	{	
-		if (!this.dialog)
-		{
-			this.init();
-		}
-		
-		content = "<div class='vibio_dialog_content'><div class='vibio_dialog_close_button vibio_dialog_close_link'><img src='/themes/vibio/images/close_button_dialog.png' /></div>"+content+"</div>";
-		
-		this.dialog
-			.html(content)
-			.dialog("open");
-	},
-	init: function()
-	{
-		this.reset_options();
-		this.dialog = $("<div id='vibio_dialog'></div>")
-			.prependTo("body")
-			.dialog(this.dialog_options);
-	},
-	reset_options: function()
-	{
-		this.dialog_options = {
-			modal: true,
-			resizeable: false,
-			draggable: false,
-			autoOpen: false,
-			width: 550,
-			open: function()
-			{
-				vibio_dialog.center();
-			}
-		};
-	},
-	set_options: function(options)
-	{
-		options = $.extend({}, options, { position: "center" });
-		this.dialog.dialog("option", options);
-		this.center();
-	},
-	center: function()
-	{
-		var current_offset = parseInt(this.dialog.closest(".ui-dialog").css("left"));
-		this.dialog.closest(".ui-dialog").css("left", current_offset + 95 + "px");
-	}
-};
-
-$(document).ready(function()
-{
-	$(".vibio_dialog_close_link").live("click", function()
-	{
-		vibio_dialog.dialog.dialog("close");
-		return false;
-	});
-});
diff --git a/sites/all/themes/vibio/logo.png b/sites/all/themes/vibio/logo.png
deleted file mode 100644
index edead7f..0000000
Binary files a/sites/all/themes/vibio/logo.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/README b/sites/all/themes/vibio/prettyphoto/README
deleted file mode 100644
index bedc4ae..0000000
--- a/sites/all/themes/vibio/prettyphoto/README
+++ /dev/null
@@ -1,21 +0,0 @@
-prettyPhoto v2.5.6
- Copyright, Stephane Caron
-http://www.no-margin-for-errors.com
-
-
-============================= Released under =============================
-http://creativecommons.org/licenses/by/2.5/
-
-
-============================ More information ============================
-http://www.no-margin-for-errors.com/projects/prettyPhoto/
-
-
-============================== Description ===============================
-
-prettyPhoto is a jQuery based lightbox clone. Not only does it support images,
-it also add support for videos, flash, YouTube, iFrame. It's a full blown
-media modal box.
-
-Please refer to http://www.no-margin-for-errors.com/projects/prettyPhoto/
-for all the details on how to use. 
diff --git a/sites/all/themes/vibio/prettyphoto/css/prettyPhoto.css b/sites/all/themes/vibio/prettyphoto/css/prettyPhoto.css
deleted file mode 100644
index 5002e3b..0000000
--- a/sites/all/themes/vibio/prettyphoto/css/prettyPhoto.css
+++ /dev/null
@@ -1,386 +0,0 @@
-/* ------------------------------------------------------------------------
-	This you can edit.
-------------------------------------------------------------------------- */
-
-	div.light_rounded .pp_top .pp_left { background: url(../images/prettyPhoto/light_rounded/sprite.png) -88px -53px no-repeat; } /* Top left corner */
-	div.light_rounded .pp_top .pp_middle { background: #fff; } /* Top pattern/color */
-	div.light_rounded .pp_top .pp_right { background: url(../images/prettyPhoto/light_rounded/sprite.png) -110px -53px no-repeat; } /* Top right corner */
-	
-	div.light_rounded .pp_content .ppt { color: #000; }
-	div.light_rounded .pp_content_container .pp_left,
-	div.light_rounded .pp_content_container .pp_right { background: #fff; }
-	div.light_rounded .pp_content { background-color: #fff; } /* Content background */
-	div.light_rounded .pp_next:hover { background: url(../images/prettyPhoto/light_rounded/btnNext.png) center right  no-repeat; cursor: pointer; } /* Next button */
-	div.light_rounded .pp_previous:hover { background: url(../images/prettyPhoto/light_rounded/btnPrevious.png) center left no-repeat; cursor: pointer; } /* Previous button */
-	div.light_rounded .pp_expand { background: url(../images/prettyPhoto/light_rounded/sprite.png) -31px -26px no-repeat; cursor: pointer; } /* Expand button */
-	div.light_rounded .pp_expand:hover { background: url(../images/prettyPhoto/light_rounded/sprite.png) -31px -47px no-repeat; cursor: pointer; } /* Expand button hover */
-	div.light_rounded .pp_contract { background: url(../images/prettyPhoto/light_rounded/sprite.png) 0 -26px no-repeat; cursor: pointer; } /* Contract button */
-	div.light_rounded .pp_contract:hover { background: url(../images/prettyPhoto/light_rounded/sprite.png) 0 -47px no-repeat; cursor: pointer; } /* Contract button hover */
-	div.light_rounded .pp_close { width: 75px; height: 22px; background: url(../images/prettyPhoto/light_rounded/sprite.png) -1px -1px no-repeat; cursor: pointer; } /* Close button */
-	div.light_rounded #pp_full_res .pp_inline { color: #000; } 
-
-	div.light_rounded .pp_arrow_previous { background: url(../images/prettyPhoto/light_rounded/sprite.png) 0 -71px no-repeat; } /* The previous arrow in the bottom nav */
-		div.light_rounded .pp_arrow_previous.disabled { background-position: 0 -87px; cursor: default; }
-	div.light_rounded .pp_arrow_next { background: url(../images/prettyPhoto/light_rounded/sprite.png) -22px -71px no-repeat; } /* The next arrow in the bottom nav */
-		div.light_rounded .pp_arrow_next.disabled { background-position: -22px -87px; cursor: default; }
-
-	div.light_rounded .pp_bottom .pp_left { background: url(../images/prettyPhoto/light_rounded/sprite.png) -88px -80px no-repeat; } /* Bottom left corner */
-	div.light_rounded .pp_bottom .pp_middle { background: #fff; } /* Bottom pattern/color */
-	div.light_rounded .pp_bottom .pp_right { background: url(../images/prettyPhoto/light_rounded/sprite.png) -110px -80px no-repeat; } /* Bottom right corner */
-
-	div.light_rounded .pp_loaderIcon { background: url(../images/prettyPhoto/light_rounded/loader.gif) center center no-repeat; } /* Loader icon */
-	
-	/* ----------------------------------
-		Dark Rounded Theme
-	----------------------------------- */
-	
-	div.dark_rounded .pp_top .pp_left { background: url(../images/prettyPhoto/dark_rounded/sprite.png) -88px -53px no-repeat; } /* Top left corner */
-	div.dark_rounded .pp_top .pp_middle { background: url(../images/prettyPhoto/dark_rounded/contentPattern.png) top left repeat; } /* Top pattern/color */
-	div.dark_rounded .pp_top .pp_right { background: url(../images/prettyPhoto/dark_rounded/sprite.png) -110px -53px no-repeat; } /* Top right corner */
-	
-	div.dark_rounded .pp_content_container .pp_left { background: url(../images/prettyPhoto/dark_rounded/contentPattern.png) top left repeat-y; } /* Left Content background */
-	div.dark_rounded .pp_content_container .pp_right { background: url(../images/prettyPhoto/dark_rounded/contentPattern.png) top right repeat-y; } /* Right Content background */
-	div.dark_rounded .pp_content { background: url(../images/prettyPhoto/dark_rounded/contentPattern.png) top left repeat; } /* Content background */
-	div.dark_rounded .pp_next:hover { background: url(../images/prettyPhoto/dark_rounded/btnNext.png) center right  no-repeat; cursor: pointer; } /* Next button */
-	div.dark_rounded .pp_previous:hover { background: url(../images/prettyPhoto/dark_rounded/btnPrevious.png) center left no-repeat; cursor: pointer; } /* Previous button */
-	div.dark_rounded .pp_expand { background: url(../images/prettyPhoto/dark_rounded/sprite.png) -31px -26px no-repeat; cursor: pointer; } /* Expand button */
-	div.dark_rounded .pp_expand:hover { background: url(../images/prettyPhoto/dark_rounded/sprite.png) -31px -47px no-repeat; cursor: pointer; } /* Expand button hover */
-	div.dark_rounded .pp_contract { background: url(../images/prettyPhoto/dark_rounded/sprite.png) 0 -26px no-repeat; cursor: pointer; } /* Contract button */
-	div.dark_rounded .pp_contract:hover { background: url(../images/prettyPhoto/dark_rounded/sprite.png) 0 -47px no-repeat; cursor: pointer; } /* Contract button hover */
-	div.dark_rounded .pp_close { width: 75px; height: 22px; background: url(../images/prettyPhoto/dark_rounded/sprite.png) -1px -1px no-repeat; cursor: pointer; } /* Close button */
-	div.dark_rounded .currentTextHolder { color: #c4c4c4; }
-	div.dark_rounded .pp_description { color: #fff; }
-	div.dark_rounded #pp_full_res .pp_inline { color: #fff; } 
-
-	div.dark_rounded .pp_arrow_previous { background: url(../images/prettyPhoto/dark_rounded/sprite.png) 0 -71px no-repeat; } /* The previous arrow in the bottom nav */
-		div.dark_rounded .pp_arrow_previous.disabled { background-position: 0 -87px; cursor: default; }
-	div.dark_rounded .pp_arrow_next { background: url(../images/prettyPhoto/dark_rounded/sprite.png) -22px -71px no-repeat; } /* The next arrow in the bottom nav */
-		div.dark_rounded .pp_arrow_next.disabled { background-position: -22px -87px; cursor: default; }
-
-	div.dark_rounded .pp_bottom .pp_left { background: url(../images/prettyPhoto/dark_rounded/sprite.png) -88px -80px no-repeat; } /* Bottom left corner */
-	div.dark_rounded .pp_bottom .pp_middle { background: url(../images/prettyPhoto/dark_rounded/contentPattern.png) top left repeat; } /* Bottom pattern/color */
-	div.dark_rounded .pp_bottom .pp_right { background: url(../images/prettyPhoto/dark_rounded/sprite.png) -110px -80px no-repeat; } /* Bottom right corner */
-
-	div.dark_rounded .pp_loaderIcon { background: url(../images/prettyPhoto/dark_rounded/loader.gif) center center no-repeat; } /* Loader icon */
-	
-	
-	/* ----------------------------------
-		Dark Square Theme
-	----------------------------------- */
-	
-	div.dark_square .pp_left ,
-	div.dark_square .pp_middle,
-	div.dark_square .pp_right,
-	div.dark_square .pp_content { background: url(../images/prettyPhoto/dark_square/contentPattern.png) top left repeat; }
-	div.dark_square .currentTextHolder { color: #c4c4c4; }
-	div.dark_square .pp_description { color: #fff; }
-	div.dark_square .pp_loaderIcon { background: url(../images/prettyPhoto/dark_rounded/loader.gif) center center no-repeat; } /* Loader icon */
-	
-	div.dark_square .pp_content_container .pp_left { background: url(../images/prettyPhoto/dark_rounded/contentPattern.png) top left repeat-y; } /* Left Content background */
-	div.dark_square .pp_content_container .pp_right { background: url(../images/prettyPhoto/dark_rounded/contentPattern.png) top right repeat-y; } /* Right Content background */
-	div.dark_square .pp_expand { background: url(../images/prettyPhoto/dark_square/sprite.png) -31px -26px no-repeat; cursor: pointer; } /* Expand button */
-	div.dark_square .pp_expand:hover { background: url(../images/prettyPhoto/dark_square/sprite.png) -31px -47px no-repeat; cursor: pointer; } /* Expand button hover */
-	div.dark_square .pp_contract { background: url(../images/prettyPhoto/dark_square/sprite.png) 0 -26px no-repeat; cursor: pointer; } /* Contract button */
-	div.dark_square .pp_contract:hover { background: url(../images/prettyPhoto/dark_square/sprite.png) 0 -47px no-repeat; cursor: pointer; } /* Contract button hover */
-	div.dark_square .pp_close { width: 75px; height: 22px; background: url(../images/prettyPhoto/dark_square/sprite.png) -1px -1px no-repeat; cursor: pointer; } /* Close button */
-	div.dark_square #pp_full_res .pp_inline { color: #fff; } 
-	
-	div.dark_square .pp_arrow_previous { background: url(../images/prettyPhoto/dark_square/sprite.png) 0 -71px no-repeat; } /* The previous arrow in the bottom nav */
-		div.dark_square .pp_arrow_previous.disabled { background-position: 0 -87px; cursor: default; }
-	div.dark_square .pp_arrow_next { background: url(../images/prettyPhoto/dark_square/sprite.png) -22px -71px no-repeat; } /* The next arrow in the bottom nav */
-		div.dark_square .pp_arrow_next.disabled { background-position: -22px -87px; cursor: default; }
-	
-	div.dark_square .pp_next:hover { background: url(../images/prettyPhoto/dark_square/btnNext.png) center right  no-repeat; cursor: pointer; } /* Next button */
-	div.dark_square .pp_previous:hover { background: url(../images/prettyPhoto/dark_square/btnPrevious.png) center left no-repeat; cursor: pointer; } /* Previous button */
-
-
-	/* ----------------------------------
-		Light Square Theme
-	----------------------------------- */
-	
-	div.light_square .pp_left ,
-	div.light_square .pp_middle,
-	div.light_square .pp_right,
-	div.light_square .pp_content { background: #fff; }
-	
-	div.light_square .pp_content .ppt { color: #000; }
-	div.light_square .pp_expand { background: url(../images/prettyPhoto/light_square/sprite.png) -31px -26px no-repeat; cursor: pointer; } /* Expand button */
-	div.light_square .pp_expand:hover { background: url(../images/prettyPhoto/light_square/sprite.png) -31px -47px no-repeat; cursor: pointer; } /* Expand button hover */
-	div.light_square .pp_contract { background: url(../images/prettyPhoto/light_square/sprite.png) 0 -26px no-repeat; cursor: pointer; } /* Contract button */
-	div.light_square .pp_contract:hover { background: url(../images/prettyPhoto/light_square/sprite.png) 0 -47px no-repeat; cursor: pointer; } /* Contract button hover */
-	div.light_square .pp_close { width: 75px; height: 22px; background: url(../images/prettyPhoto/light_square/sprite.png) -1px -1px no-repeat; cursor: pointer; } /* Close button */
-	div.light_square #pp_full_res .pp_inline { color: #000; } 
-	
-	div.light_square .pp_arrow_previous { background: url(../images/prettyPhoto/light_square/sprite.png) 0 -71px no-repeat; } /* The previous arrow in the bottom nav */
-		div.light_square .pp_arrow_previous.disabled { background-position: 0 -87px; cursor: default; }
-	div.light_square .pp_arrow_next { background: url(../images/prettyPhoto/light_square/sprite.png) -22px -71px no-repeat; } /* The next arrow in the bottom nav */
-		div.light_square .pp_arrow_next.disabled { background-position: -22px -87px; cursor: default; }
-	
-	div.light_square .pp_next:hover { background: url(../images/prettyPhoto/light_square/btnNext.png) center right  no-repeat; cursor: pointer; } /* Next button */
-	div.light_square .pp_previous:hover { background: url(../images/prettyPhoto/light_square/btnPrevious.png) center left no-repeat; cursor: pointer; } /* Previous button */
-
-
-	/* ----------------------------------
-		Facebook style Theme
-	----------------------------------- */
-	
-	div.facebook .pp_top .pp_left { background: url(../images/prettyPhoto/facebook/sprite.png) -88px -53px no-repeat; } /* Top left corner */
-	div.facebook .pp_top .pp_middle { background: url(../images/prettyPhoto/facebook/contentPatternTop.png) top left repeat-x; } /* Top pattern/color */
-	div.facebook .pp_top .pp_right { background: url(../images/prettyPhoto/facebook/sprite.png) -110px -53px no-repeat; } /* Top right corner */
-	
-	div.facebook .pp_content .ppt { color: #000; }
-	div.facebook .pp_content_container .pp_left { background: url(../images/prettyPhoto/facebook/contentPatternLeft.png) top left repeat-y; } /* Content background */
-	div.facebook .pp_content_container .pp_right { background: url(../images/prettyPhoto/facebook/contentPatternRight.png) top right repeat-y; } /* Content background */
-	div.facebook .pp_content { background: #fff; } /* Content background */
-	div.facebook .pp_expand { background: url(../images/prettyPhoto/facebook/sprite.png) -31px -26px no-repeat; cursor: pointer; } /* Expand button */
-	div.facebook .pp_expand:hover { background: url(../images/prettyPhoto/facebook/sprite.png) -31px -47px no-repeat; cursor: pointer; } /* Expand button hover */
-	div.facebook .pp_contract { background: url(../images/prettyPhoto/facebook/sprite.png) 0 -26px no-repeat; cursor: pointer; } /* Contract button */
-	div.facebook .pp_contract:hover { background: url(../images/prettyPhoto/facebook/sprite.png) 0 -47px no-repeat; cursor: pointer; } /* Contract button hover */
-	div.facebook .pp_close { width: 22px; height: 22px; background: url(../images/prettyPhoto/facebook/sprite.png) -1px -1px no-repeat; cursor: pointer; } /* Close button */
-	div.facebook #pp_full_res .pp_inline { color: #000; } 
-	div.facebook .pp_loaderIcon { background: url(../images/prettyPhoto/facebook/loader.gif) center center no-repeat; } /* Loader icon */
-	
-	div.facebook .pp_nav .pp_arrow_previous { background: url(../images/prettyPhoto/facebook/sprite.png) 0 -71px no-repeat; height: 22px; margin-top: 0; width: 22px; } /* The previous arrow in the bottom nav */
-		div.facebook .pp_arrow_previous.disabled { background-position: 0 -96px; cursor: default; }
-	div.facebook .pp_nav .pp_arrow_next { background: url(../images/prettyPhoto/facebook/sprite.png) -32px -71px no-repeat; height: 22px; margin-top: 0; width: 22px; } /* The next arrow in the bottom nav */
-		div.facebook .pp_arrow_next.disabled { background-position: -32px -96px; cursor: default; }
-	div.facebook .pp_nav { margin-top: 0; }
-	div.facebook .pp_nav p { font-size: 15px; padding: 0 3px 0 4px; }
-	
-	div.facebook .pp_next:hover { background: url(../images/prettyPhoto/facebook/btnNext.png) center right no-repeat; cursor: pointer; } /* Next button */
-	div.facebook .pp_previous:hover { background: url(../images/prettyPhoto/facebook/btnPrevious.png) center left no-repeat; cursor: pointer; } /* Previous button */
-	
-	div.facebook .pp_bottom .pp_left { background: url(../images/prettyPhoto/facebook/sprite.png) -88px -80px no-repeat; } /* Bottom left corner */
-	div.facebook .pp_bottom .pp_middle { background: url(../images/prettyPhoto/facebook/contentPatternBottom.png) top left repeat-x; } /* Bottom pattern/color */
-	div.facebook .pp_bottom .pp_right { background: url(../images/prettyPhoto/facebook/sprite.png) -110px -80px no-repeat; } /* Bottom right corner */
-
-
-/* ------------------------------------------------------------------------
-	DO NOT CHANGE
-------------------------------------------------------------------------- */
-
-	div.pp_pic_holder a:focus { outline:none; }
-
-	div.pp_overlay {
-		background: #000;
-		display: none;
-		left: 0;
-		position: absolute;
-		top: 0;
-		width: 100%;
-		z-index: 9500;
-	}
-	
-	div.pp_pic_holder {
-		display: none;
-		position: absolute;
-		width: 100px;
-		z-index: 10000;
-	}
-		
-		.pp_top {
-			height: 20px;
-			position: relative;
-		}
-			* html .pp_top { padding: 0 20px; }
-		
-			.pp_top .pp_left {
-				height: 20px;
-				left: 0;
-				position: absolute;
-				width: 20px;
-			}
-			.pp_top .pp_middle {
-				height: 20px;
-				left: 20px;
-				position: absolute;
-				right: 20px;
-			}
-				* html .pp_top .pp_middle {
-					left: 0;
-					position: static;
-				}
-			
-			.pp_top .pp_right {
-				height: 20px;
-				left: auto;
-				position: absolute;
-				right: 0;
-				top: 0;
-				width: 20px;
-			}
-		
-		.pp_content { height: 40px; }
-		
-		.pp_content .ppt {
-			left: auto;
-			margin-bottom: 5px;
-			position: relative;
-			top: auto;
-		}
-		
-		.pp_fade { display: none; }
-		
-		.pp_content_container {
-			position: relative;
-			text-align: left;
-			width: 100%;
-		}
-		
-			.pp_content_container .pp_left { padding-left: 20px; }
-			.pp_content_container .pp_right { padding-right: 20px; }
-		
-			.pp_content_container .pp_details {
-				margin: 10px 0 2px 0;
-			}
-				.pp_description {
-					display: none;
-					margin: 0 0 5px 0;
-				}
-				
-				.pp_nav {
-					clear: left;
-					float: left;
-					margin: 3px 0 0 0;
-				}
-				
-					.pp_nav p {
-						float: left;
-						margin: 2px 4px;
-					}
-				
-					.pp_nav a.pp_arrow_previous,
-					.pp_nav a.pp_arrow_next {
-						display: block;
-						float: left;
-						height: 15px;
-						margin-top: 3px;
-						overflow: hidden;
-						text-indent: -10000px;
-						width: 14px;
-					}
-		
-		.pp_hoverContainer {
-			position: absolute;
-			top: 0;
-			width: 100%;
-			z-index: 2000;
-		}
-		
-		a.pp_next {
-			background: url(../images/prettyPhoto/light_rounded/btnNext.png) 10000px 10000px no-repeat;
-			display: block;
-			float: right;
-			height: 100%;
-			text-indent: -10000px;
-			width: 49%;
-		}
-			
-		a.pp_previous {
-			background: url(../images/prettyPhoto/light_rounded/btnNext.png) 10000px 10000px no-repeat;
-			display: block;
-			float: left;
-			height: 100%;
-			text-indent: -10000px;
-			width: 49%;
-		}
-		
-		a.pp_expand,
-		a.pp_contract {
-			cursor: pointer;
-			display: none;
-			height: 20px;	
-			position: absolute;
-			right: 30px;
-			text-indent: -10000px;
-			top: 10px;
-			width: 20px;
-			z-index: 20000;
-		}
-			
-		a.pp_close {
-			display: block;
-			float: right;
-			text-indent: -10000px;
-		}
-		
-		.pp_bottom {
-			height: 20px;
-			position: relative;
-		}
-			* html .pp_bottom { padding: 0 20px; }
-			
-			.pp_bottom .pp_left {
-				height: 20px;
-				left: 0;
-				position: absolute;
-				width: 20px;
-			}
-			.pp_bottom .pp_middle {
-				height: 20px;
-				left: 20px;
-				position: absolute;
-				right: 20px;
-			}
-				* html .pp_bottom .pp_middle {
-					left: 0;
-					position: static;
-				}
-				
-			.pp_bottom .pp_right {
-				height: 20px;
-				left: auto;
-				position: absolute;
-				right: 0;
-				top: 0;
-				width: 20px;
-			}
-		
-		.pp_loaderIcon {
-			display: block;
-			height: 24px;
-			left: 50%;
-			margin: -12px 0 0 -12px;
-			position: absolute;
-			top: 50%;
-			width: 24px;
-		}
-		
-		#pp_full_res {
-			line-height: 1 !important;
-		}
-		
-			#pp_full_res .pp_inline {
-				text-align: left;
-			}
-			
-				#pp_full_res .pp_inline p { margin: 0 0 15px 0; }
-	
-		div.ppt {
-			color: #fff;
-			display: none;
-			font-size: 17px;
-			left: 0;
-			position: absolute;
-			top: 0;
-			z-index: 9999;
-		}
-
-/* ------------------------------------------------------------------------
-	Miscellaneous
-------------------------------------------------------------------------- */
-
-	.clearfix:after {
-	    content: "."; 
-	    display: block; 
-	    height: 0; 
-	    clear: both; 
-	    visibility: hidden;
-	}
-
-	.clearfix {display: inline-block;}
-
-	/* Hides from IE-mac \*/
-	* html .clearfix {height: 1%;}
-	.clearfix {display: block;}
-	/* End hide from IE-mac */
\ No newline at end of file
diff --git a/sites/all/themes/vibio/prettyphoto/images/backgrounds/bodyBackground.jpg b/sites/all/themes/vibio/prettyphoto/images/backgrounds/bodyBackground.jpg
deleted file mode 100644
index f1d7bd4..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/backgrounds/bodyBackground.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/backgrounds/checkmark.gif b/sites/all/themes/vibio/prettyphoto/images/backgrounds/checkmark.gif
deleted file mode 100644
index bd00fb6..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/backgrounds/checkmark.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/fullscreen/1.jpg b/sites/all/themes/vibio/prettyphoto/images/fullscreen/1.jpg
deleted file mode 100644
index ffb4763..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/fullscreen/1.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/fullscreen/2.jpg b/sites/all/themes/vibio/prettyphoto/images/fullscreen/2.jpg
deleted file mode 100644
index b8759b4..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/fullscreen/2.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/fullscreen/3.jpg b/sites/all/themes/vibio/prettyphoto/images/fullscreen/3.jpg
deleted file mode 100644
index 145c696..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/fullscreen/3.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/fullscreen/4.jpg b/sites/all/themes/vibio/prettyphoto/images/fullscreen/4.jpg
deleted file mode 100644
index 33f221c..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/fullscreen/4.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/fullscreen/5.jpg b/sites/all/themes/vibio/prettyphoto/images/fullscreen/5.jpg
deleted file mode 100644
index 47d0b90..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/fullscreen/5.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/fullscreen/6.jpg b/sites/all/themes/vibio/prettyphoto/images/fullscreen/6.jpg
deleted file mode 100644
index 31524dc..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/fullscreen/6.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/fullscreen/DSC05016.jpg b/sites/all/themes/vibio/prettyphoto/images/fullscreen/DSC05016.jpg
deleted file mode 100644
index afb09d4..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/fullscreen/DSC05016.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/fullscreen/high.gif b/sites/all/themes/vibio/prettyphoto/images/fullscreen/high.gif
deleted file mode 100644
index ccf5d16..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/fullscreen/high.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/fullscreen/huge.gif b/sites/all/themes/vibio/prettyphoto/images/fullscreen/huge.gif
deleted file mode 100644
index 5b3102e..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/fullscreen/huge.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/fullscreen/wide.gif b/sites/all/themes/vibio/prettyphoto/images/fullscreen/wide.gif
deleted file mode 100644
index f17c5b8..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/fullscreen/wide.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/btnNext.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/btnNext.png
deleted file mode 100644
index b28c1ef..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/btnNext.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/btnPrevious.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/btnPrevious.png
deleted file mode 100644
index e0cd9c4..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/btnPrevious.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/contentPattern.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/contentPattern.png
deleted file mode 100644
index e5a047c..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/contentPattern.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/loader.gif b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/loader.gif
deleted file mode 100644
index 50820ee..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/loader.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/sprite.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/sprite.png
deleted file mode 100644
index 22d839d..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_rounded/sprite.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/btnNext.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/btnNext.png
deleted file mode 100644
index b28c1ef..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/btnNext.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/btnPrevious.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/btnPrevious.png
deleted file mode 100644
index e0cd9c4..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/btnPrevious.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/contentPattern.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/contentPattern.png
deleted file mode 100644
index 7b50aff..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/contentPattern.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/loader.gif b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/loader.gif
deleted file mode 100644
index 50820ee..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/loader.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/sprite.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/sprite.png
deleted file mode 100644
index 856aa49..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/dark_square/sprite.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/btnNext.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/btnNext.png
deleted file mode 100644
index e809c3b..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/btnNext.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/btnPrevious.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/btnPrevious.png
deleted file mode 100644
index 0812542..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/btnPrevious.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/contentPatternBottom.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/contentPatternBottom.png
deleted file mode 100644
index a9be3b2..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/contentPatternBottom.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/contentPatternLeft.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/contentPatternLeft.png
deleted file mode 100644
index 277c87a..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/contentPatternLeft.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/contentPatternRight.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/contentPatternRight.png
deleted file mode 100644
index 76e50d0..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/contentPatternRight.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/contentPatternTop.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/contentPatternTop.png
deleted file mode 100644
index 8b110ba..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/contentPatternTop.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/loader.gif b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/loader.gif
deleted file mode 100644
index 7ac990c..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/loader.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/sprite.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/sprite.png
deleted file mode 100644
index cc5e782..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/facebook/sprite.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_rounded/btnNext.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_rounded/btnNext.png
deleted file mode 100644
index b28c1ef..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_rounded/btnNext.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_rounded/btnPrevious.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_rounded/btnPrevious.png
deleted file mode 100644
index e0cd9c4..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_rounded/btnPrevious.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_rounded/loader.gif b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_rounded/loader.gif
deleted file mode 100644
index 7ac990c..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_rounded/loader.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_rounded/sprite.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_rounded/sprite.png
deleted file mode 100644
index 8419f25..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_rounded/sprite.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/.DS_Store b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/.DS_Store
deleted file mode 100644
index 5008ddf..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/.DS_Store and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/btnNext.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/btnNext.png
deleted file mode 100644
index b28c1ef..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/btnNext.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/btnPrevious.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/btnPrevious.png
deleted file mode 100644
index e0cd9c4..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/btnPrevious.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/loader.gif b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/loader.gif
deleted file mode 100644
index 7ac990c..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/loader.gif and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/sprite.png b/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/sprite.png
deleted file mode 100644
index 856aa49..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/prettyPhoto/light_square/sprite.png and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_1.jpg b/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_1.jpg
deleted file mode 100644
index 8c4e865..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_1.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_2.jpg b/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_2.jpg
deleted file mode 100644
index 7f427c6..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_2.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_3.jpg b/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_3.jpg
deleted file mode 100644
index 91b774a..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_3.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_4.jpg b/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_4.jpg
deleted file mode 100644
index 9781430..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_4.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_5.jpg b/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_5.jpg
deleted file mode 100644
index 7c16952..0000000
Binary files a/sites/all/themes/vibio/prettyphoto/images/thumbnails/t_5.jpg and /dev/null differ
diff --git a/sites/all/themes/vibio/prettyphoto/js/jquery.prettyPhoto.js b/sites/all/themes/vibio/prettyphoto/js/jquery.prettyPhoto.js
deleted file mode 100644
index f03b7f9..0000000
--- a/sites/all/themes/vibio/prettyphoto/js/jquery.prettyPhoto.js
+++ /dev/null
@@ -1,656 +0,0 @@
-/* ------------------------------------------------------------------------
-	Class: prettyPhoto
-	Use: Lightbox clone for jQuery
-	Author: Stephane Caron (http://www.no-margin-for-errors.com)
-	Version: 2.5.6
-------------------------------------------------------------------------- */
-
-(function($) {
-	$.prettyPhoto = {version: '2.5.6'};
-	
-	$.fn.prettyPhoto = function(settings) {
-		settings = jQuery.extend({
-			animationSpeed: 'normal', /* fast/slow/normal */
-			opacity: 0.80, /* Value between 0 and 1 */
-			showTitle: true, /* true/false */
-			allowresize: true, /* true/false */
-			default_width: 500,
-			default_height: 344,
-			counter_separator_label: '/', /* The separator for the gallery counter 1 "of" 2 */
-			theme: 'light_rounded', /* light_rounded / dark_rounded / light_square / dark_square / facebook */
-			hideflash: false, /* Hides all the flash object on a page, set to TRUE if flash appears over prettyPhoto */
-			wmode: 'opaque', /* Set the flash wmode attribute */
-			autoplay: true, /* Automatically start videos: True/False */
-			modal: false, /* If set to true, only the close button will close the window */
-			changepicturecallback: function(){}, /* Called everytime an item is shown/changed */
-			callback: function(){}, /* Called when prettyPhoto is closed */
-			markup: '<div class="pp_pic_holder"> \
-						<div class="pp_top"> \
-							<div class="pp_left"></div> \
-							<div class="pp_middle"></div> \
-							<div class="pp_right"></div> \
-						</div> \
-						<div class="pp_content_container"> \
-							<div class="pp_left"> \
-							<div class="pp_right"> \
-								<div class="pp_content"> \
-									<div class="pp_loaderIcon"></div> \
-									<div class="pp_fade"> \
-										<a href="#" class="pp_expand" title="Expand the image">Expand</a> \
-										<div class="pp_hoverContainer"> \
-											<a class="pp_next" href="#">next</a> \
-											<a class="pp_previous" href="#">previous</a> \
-										</div> \
-										<div id="pp_full_res"></div> \
-										<div class="pp_details clearfix"> \
-											<a class="pp_close" href="#">Close</a> \
-											<p class="pp_description"></p> \
-											<div class="pp_nav"> \
-												<a href="#" class="pp_arrow_previous">Previous</a> \
-												<p class="currentTextHolder">0/0</p> \
-												<a href="#" class="pp_arrow_next">Next</a> \
-											</div> \
-										</div> \
-									</div> \
-								</div> \
-							</div> \
-							</div> \
-						</div> \
-						<div class="pp_bottom"> \
-							<div class="pp_left"></div> \
-							<div class="pp_middle"></div> \
-							<div class="pp_right"></div> \
-						</div> \
-					</div> \
-					<div class="pp_overlay"></div> \
-					<div class="ppt"></div>',
-			image_markup: '<img id="fullResImage" src="" />',
-			flash_markup: '<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',
-			quicktime_markup: '<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',
-			iframe_markup: '<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',
-			inline_markup: '<div class="pp_inline clearfix">{content}</div>'
-		}, settings);
-		
-		// Fallback to a supported theme for IE6
-		if($.browser.msie && parseInt($.browser.version) == 6){
-			settings.theme = "light_square";
-		}
-		
-		if($('.pp_overlay').size()==0) _buildOverlay(); // If the overlay is not there, inject it!
-		
-		// Global variables accessible only by prettyPhoto
-		var doresize = true, percentBased = false, correctSizes,
-		
-		// Cached selectors
-		$pp_pic_holder, $ppt, $pp_overlay,
-		
-		// prettyPhoto container specific
-		pp_contentHeight, pp_contentWidth, pp_containerHeight, pp_containerWidth,
-		
-		// Window size
-		windowHeight = $(window).height(), windowWidth = $(window).width(),
-	
-		//Gallery specific
-		setPosition = 0,
-
-		// Global elements
-		scrollPos = _getScroll();
-	
-		// Window/Keyboard events
-		$(window).scroll(function(){ scrollPos = _getScroll(); _centerOverlay(); _resizeOverlay(); });
-		$(window).resize(function(){ _centerOverlay(); _resizeOverlay(); });
-		$(document).keydown(function(e){
-			if($pp_pic_holder.is(':visible'))
-			switch(e.keyCode){
-				case 37:
-					$.prettyPhoto.changePage('previous');
-					break;
-				case 39:
-					$.prettyPhoto.changePage('next');
-					break;
-				case 27:
-					if(!settings.modal)
-					$.prettyPhoto.close();
-					break;
-			};
-	    });
-	
-		// Bind the code to each links
-		$(this).each(function(){
-			$(this).bind('click',function(){
-				_self = this; // Fix scoping
-				
-				// Find out if the picture is part of a set
-				theRel = $(this).attr('rel');
-				galleryRegExp = /\[(?:.*)\]/;
-				theGallery = galleryRegExp.exec(theRel);
-				
-				// Build the gallery array
-				var images = new Array(), titles = new Array(), descriptions = new Array();
-				if(theGallery){
-					$('a[rel*='+theGallery+']').each(function(i){
-						if($(this)[0] === $(_self)[0]) setPosition = i; // Get the position in the set
-						images.push($(this).attr('href'));
-						titles.push($(this).find('img').attr('alt'));
-						descriptions.push($(this).attr('title'));
-					});
-				}else{
-					images = $(this).attr('href');
-					titles = ($(this).find('img').attr('alt')) ?  $(this).find('img').attr('alt') : '';
-					descriptions = ($(this).attr('title')) ?  $(this).attr('title') : '';
-				}
-
-				$.prettyPhoto.open(images,titles,descriptions);
-				return false;
-			});
-		});
-	
-		
-		/**
-		* Opens the prettyPhoto modal box.
-		* @param image {String,Array} Full path to the image to be open, can also be an array containing full images paths.
-		* @param title {String,Array} The title to be displayed with the picture, can also be an array containing all the titles.
-		* @param description {String,Array} The description to be displayed with the picture, can also be an array containing all the descriptions.
-		*/
-		$.prettyPhoto.open = function(gallery_images,gallery_titles,gallery_descriptions) {
-			// To fix the bug with IE select boxes
-			if($.browser.msie && $.browser.version == 6){
-				$('select').css('visibility','hidden');
-			};
-			
-			if(settings.hideflash) $('object,embed').css('visibility','hidden'); // Hide the flash
-			
-			// Convert everything to an array in the case it's a single item
-			images = $.makeArray(gallery_images);
-			titles = $.makeArray(gallery_titles);
-			descriptions = $.makeArray(gallery_descriptions);
-
-			image_set = ($(images).size() > 0) ?  true : false; // Find out if it's a set
-
-			// Hide the next/previous links if on first or last images.
-			_checkPosition($(images).size());
-		
-			$('.pp_loaderIcon').show(); // Do I need to explain?
-		
-			// Fade the content in
-			$pp_overlay.show().fadeTo(settings.animationSpeed,settings.opacity);
-
-			// Display the current position
-			$pp_pic_holder.find('.currentTextHolder').text((setPosition+1) + settings.counter_separator_label + $(images).size());
-
-			// Set the description
-			if(descriptions[setPosition]){
-				$pp_pic_holder.find('.pp_description').show().html(unescape(descriptions[setPosition]));
-			}else{
-				$pp_pic_holder.find('.pp_description').hide().text('');
-			};
-
-			// Set the title
-			if(titles[setPosition] && settings.showTitle){
-				hasTitle = true;
-				$ppt.html(unescape(titles[setPosition]));
-			}else{
-				hasTitle = false;
-			};
-			
-			// Get the dimensions
-			movie_width = ( parseFloat(grab_param('width',images[setPosition])) ) ? grab_param('width',images[setPosition]) : settings.default_width.toString();
-			movie_height = ( parseFloat(grab_param('height',images[setPosition])) ) ? grab_param('height',images[setPosition]) : settings.default_height.toString();
-			
-			// If the size is % based, calculate according to window dimensions
-			if(movie_width.indexOf('%') != -1 || movie_height.indexOf('%') != -1){
-				movie_height = parseFloat(($(window).height() * parseFloat(movie_height) / 100) - 100);
-				movie_width = parseFloat(($(window).width() * parseFloat(movie_width) / 100) - 100);
-				percentBased = true;
-			}
-			
-			// Fade the holder
-			$pp_pic_holder.fadeIn(function(){
-				imgPreloader = "";
-				// Inject the proper content
-				switch(_getFileType(images[setPosition])){
-					case 'image':
-						// Set the new image
-						imgPreloader = new Image();
-
-						// Preload the neighbour images
-						nextImage = new Image();
-						if(image_set && setPosition > $(images).size()) nextImage.src = images[setPosition + 1];
-						prevImage = new Image();
-						if(image_set && images[setPosition - 1]) prevImage.src = images[setPosition - 1];
-
-						$pp_pic_holder.find('#pp_full_res')[0].innerHTML = settings.image_markup;
-						$pp_pic_holder.find('#fullResImage').attr('src',images[setPosition]);
-
-						imgPreloader.onload = function(){
-							// Fit item to viewport
-							correctSizes = _fitToViewport(imgPreloader.width,imgPreloader.height);
-
-							_showContent();
-						};
-
-						imgPreloader.onerror = function(){
-							alert('Image cannot be loaded. Make sure the path is correct and image exist.');
-							$.prettyPhoto.close();
-						};
-					
-						imgPreloader.src = images[setPosition];
-					break;
-				
-					case 'youtube':
-						correctSizes = _fitToViewport(movie_width,movie_height); // Fit item to viewport
-
-						movie = 'http://www.youtube.com/v/'+grab_param('v',images[setPosition]);
-						if(settings.autoplay) movie += "&autoplay=1";
-					
-						toInject = settings.flash_markup.replace(/{width}/g,correctSizes['width']).replace(/{height}/g,correctSizes['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);
-					break;
-				
-					case 'vimeo':
-						correctSizes = _fitToViewport(movie_width,movie_height); // Fit item to viewport
-					
-						movie_id = images[setPosition];
-						movie = 'http://vimeo.com/moogaloop.swf?clip_id='+ movie_id.replace('http://vimeo.com/','');
-						if(settings.autoplay) movie += "&autoplay=1";
-				
-						toInject = settings.flash_markup.replace(/{width}/g,correctSizes['width']).replace(/{height}/g,correctSizes['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);
-					break;
-				
-					case 'quicktime':
-						correctSizes = _fitToViewport(movie_width,movie_height); // Fit item to viewport
-						correctSizes['height']+=15; correctSizes['contentHeight']+=15; correctSizes['containerHeight']+=15; // Add space for the control bar
-				
-						toInject = settings.quicktime_markup.replace(/{width}/g,correctSizes['width']).replace(/{height}/g,correctSizes['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,images[setPosition]).replace(/{autoplay}/g,settings.autoplay);
-					break;
-				
-					case 'flash':
-						correctSizes = _fitToViewport(movie_width,movie_height); // Fit item to viewport
-					
-						flash_vars = images[setPosition];
-						flash_vars = flash_vars.substring(images[setPosition].indexOf('flashvars') + 10,images[setPosition].length);
-
-						filename = images[setPosition];
-						filename = filename.substring(0,filename.indexOf('?'));
-					
-						toInject =  settings.flash_markup.replace(/{width}/g,correctSizes['width']).replace(/{height}/g,correctSizes['height']).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+'?'+flash_vars);
-					break;
-				
-					case 'iframe':
-						correctSizes = _fitToViewport(movie_width,movie_height); // Fit item to viewport
-				
-						frame_url = images[setPosition];
-						frame_url = frame_url.substr(0,frame_url.indexOf('iframe')-1);
-				
-						toInject = settings.iframe_markup.replace(/{width}/g,correctSizes['width']).replace(/{height}/g,correctSizes['height']).replace(/{path}/g,frame_url);
-					break;
-				
-					case 'inline':
-						// to get the item height clone it, apply default width, wrap it in the prettyPhoto containers , then delete
-						myClone = $(images[setPosition]).clone().css({'width':settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline clearfix"></div></div>').appendTo($('body'));
-						correctSizes = _fitToViewport($(myClone).width(),$(myClone).height());
-						$(myClone).remove();
-						toInject = settings.inline_markup.replace(/{content}/g,$(images[setPosition]).html());
-					break;
-				};
-
-				if(!imgPreloader){
-					$pp_pic_holder.find('#pp_full_res')[0].innerHTML = toInject;
-				
-					// Show content
-					_showContent();
-				};
-			});
-
-		};
-		
-		/**
-		* Change page in the prettyPhoto modal box
-		* @param direction {String} Direction of the paging, previous or next.
-		*/
-		$.prettyPhoto.changePage = function(direction){
-			if(direction == 'previous') {
-				setPosition--;
-				if (setPosition < 0){
-					setPosition = 0;
-					return;
-				};
-			}else{
-				if($('.pp_arrow_next').is('.disabled')) return;
-				setPosition++;
-			};
-
-			// Allow the resizing of the images
-			if(!doresize) doresize = true;
-
-			_hideContent(function(){$.prettyPhoto.open(images,titles,descriptions)});
-			$('a.pp_expand,a.pp_contract').fadeOut(settings.animationSpeed);
-		};
-		
-		/**
-		* Closes the prettyPhoto modal box.
-		*/
-		$.prettyPhoto.close = function(){
-			$pp_pic_holder.find('object,embed').css('visibility','hidden');
-			
-			$('div.pp_pic_holder,div.ppt,.pp_fade').fadeOut(settings.animationSpeed);
-			
-			$pp_overlay.fadeOut(settings.animationSpeed, function(){
-				$('#pp_full_res').html(''); // Kill the opened content
-				
-				$pp_pic_holder.attr('style','').find('div:not(.pp_hoverContainer)').attr('style',''); // Reset the width and everything that has been set.
-				_centerOverlay(); // Center it
-			
-				// To fix the bug with IE select boxes
-				if($.browser.msie && $.browser.version == 6){
-					$('select').css('visibility','visible');
-				};
-				
-				// Show the flash
-				if(settings.hideflash) $('object,embed').css('visibility','visible');
-				
-				setPosition = 0;
-				settings.callback();
-			});
-			doresize = true;
-		};
-	
-		/**
-		* Set the proper sizes on the containers and animate the content in.
-		*/
-		_showContent = function(){
-			$('.pp_loaderIcon').hide();
-
-			// Calculate the opened top position of the pic holder
-			projectedTop = scrollPos['scrollTop'] + ((windowHeight/2) - (correctSizes['containerHeight']/2));
-			if(projectedTop < 0) projectedTop = 0 + $ppt.height();
-
-			// Resize the content holder
-			$pp_pic_holder.find('.pp_content').animate({'height':correctSizes['contentHeight']},settings.animationSpeed);
-			
-			// Resize picture the holder
-			$pp_pic_holder.animate({
-				'top': projectedTop,
-				'left': (windowWidth/2) - (correctSizes['containerWidth']/2),
-				'width': correctSizes['containerWidth']
-			},settings.animationSpeed,function(){
-				$pp_pic_holder.find('.pp_hoverContainer,#fullResImage').height(correctSizes['height']).width(correctSizes['width']);
-
-				// Fade the new image
-				$pp_pic_holder.find('.pp_fade').fadeIn(settings.animationSpeed);
-
-				// Show the nav
-				if(image_set && _getFileType(images[setPosition])=="image") { $pp_pic_holder.find('.pp_hoverContainer').show(); }else{ $pp_pic_holder.find('.pp_hoverContainer').hide(); }
-
-				// Show the title
-				if(settings.showTitle && hasTitle){
-					$ppt.css({
-						'top' : $pp_pic_holder.offset().top - 25,
-						'left' : $pp_pic_holder.offset().left + 20,
-						'display' : 'none'
-					});
-
-					$ppt.fadeIn(settings.animationSpeed);
-				};
-			
-				// Fade the resizing link if the image is resized
-				if(correctSizes['resized']) $('a.pp_expand,a.pp_contract').fadeIn(settings.animationSpeed);
-				
-				// Callback!
-				settings.changepicturecallback();
-			});
-		};
-		
-		/**
-		* Hide the content...DUH!
-		*/
-		function _hideContent(callback){
-			// Fade out the current picture
-			$pp_pic_holder.find('#pp_full_res object,#pp_full_res embed').css('visibility','hidden');
-			$pp_pic_holder.find('.pp_fade').fadeOut(settings.animationSpeed,function(){
-				$('.pp_loaderIcon').show();
-				
-				if(callback) callback();
-			});
-			
-			// Hide the title
-			$ppt.fadeOut(settings.animationSpeed);
-		}
-	
-		/**
-		* Check the item position in the gallery array, hide or show the navigation links
-		* @param setCount {integer} The total number of items in the set
-		*/
-		function _checkPosition(setCount){
-			// If at the end, hide the next link
-			if(setPosition == setCount-1) {
-				$pp_pic_holder.find('a.pp_next').css('visibility','hidden');
-				$pp_pic_holder.find('a.pp_arrow_next').addClass('disabled').unbind('click');
-			}else{ 
-				$pp_pic_holder.find('a.pp_next').css('visibility','visible');
-				$pp_pic_holder.find('a.pp_arrow_next.disabled').removeClass('disabled').bind('click',function(){
-					$.prettyPhoto.changePage('next');
-					return false;
-				});
-			};
-		
-			// If at the beginning, hide the previous link
-			if(setPosition == 0) {
-				$pp_pic_holder.find('a.pp_previous').css('visibility','hidden');
-				$pp_pic_holder.find('a.pp_arrow_previous').addClass('disabled').unbind('click');
-			}else{
-				$pp_pic_holder.find('a.pp_previous').css('visibility','visible');
-				$pp_pic_holder.find('a.pp_arrow_previous.disabled').removeClass('disabled').bind('click',function(){
-					$.prettyPhoto.changePage('previous');
-					return false;
-				});
-			};
-			
-			// Hide the bottom nav if it's not a set.
-			if(setCount > 1) {
-				$('.pp_nav').show();
-			}else{
-				$('.pp_nav').hide();
-			}
-		};
-	
-		/**
-		* Resize the item dimensions if it's bigger than the viewport
-		* @param width {integer} Width of the item to be opened
-		* @param height {integer} Height of the item to be opened
-		* @return An array containin the "fitted" dimensions
-		*/
-		function _fitToViewport(width,height){
-			hasBeenResized = false;
-
-			_getDimensions(width,height);
-			
-			// Define them in case there's no resize needed
-			imageWidth = width;
-			imageHeight = height;
-
-			if( ((pp_containerWidth > windowWidth) || (pp_containerHeight > windowHeight)) && doresize && settings.allowresize && !percentBased) {
-				hasBeenResized = true;
-				notFitting = true;
-			
-				while (notFitting){
-					if((pp_containerWidth > windowWidth)){
-						imageWidth = (windowWidth - 200);
-						imageHeight = (height/width) * imageWidth;
-					}else if((pp_containerHeight > windowHeight)){
-						imageHeight = (windowHeight - 200);
-						imageWidth = (width/height) * imageHeight;
-					}else{
-						notFitting = false;
-					};
-
-					pp_containerHeight = imageHeight;
-					pp_containerWidth = imageWidth;
-				};
-			
-				_getDimensions(imageWidth,imageHeight);
-			};
-
-			return {
-				width:Math.floor(imageWidth),
-				height:Math.floor(imageHeight),
-				containerHeight:Math.floor(pp_containerHeight),
-				containerWidth:Math.floor(pp_containerWidth) + 40,
-				contentHeight:Math.floor(pp_contentHeight),
-				contentWidth:Math.floor(pp_contentWidth),
-				resized:hasBeenResized
-			};
-		};
-		
-		/**
-		* Get the containers dimensions according to the item size
-		* @param width {integer} Width of the item to be opened
-		* @param height {integer} Height of the item to be opened
-		*/
-		function _getDimensions(width,height){
-			width = parseFloat(width);
-			height = parseFloat(height);
-			
-			// Get the details height, to do so, I need to clone it since it's invisible
-			$pp_details = $pp_pic_holder.find('.pp_details');
-			$pp_details.width(width);
-			detailsHeight = parseFloat($pp_details.css('marginTop')) + parseFloat($pp_details.css('marginBottom'));
-			$pp_details = $pp_details.clone().appendTo($('body')).css({
-				'position':'absolute',
-				'top':-10000
-			});
-			detailsHeight += $pp_details.height();
-			detailsHeight = (detailsHeight <= 34) ? 36 : detailsHeight; // Min-height for the details
-			if($.browser.msie && $.browser.version==7) detailsHeight+=8;
-			$pp_details.remove();
-			
-			// Get the container size, to resize the holder to the right dimensions
-			pp_contentHeight = height + detailsHeight;
-			pp_contentWidth = width;
-			pp_containerHeight = pp_contentHeight + $ppt.height() + $pp_pic_holder.find('.pp_top').height() + $pp_pic_holder.find('.pp_bottom').height();
-			pp_containerWidth = width;
-		}
-	
-		function _getFileType(itemSrc){
-			if (itemSrc.match(/youtube\.com\/watch/i)) {
-				return 'youtube';
-			}else if (itemSrc.match(/vimeo\.com/i)) {
-				return 'vimeo';
-			}else if(itemSrc.indexOf('.mov') != -1){ 
-				return 'quicktime';
-			}else if(itemSrc.indexOf('.swf') != -1){
-				return 'flash';
-			}else if(itemSrc.indexOf('iframe') != -1){
-				return 'iframe'
-			}else if(itemSrc.substr(0,1) == '#'){
-				return 'inline';
-			}else{
-				return 'image';
-			};
-		};
-	
-		function _centerOverlay(){
-			if(doresize) {
-				titleHeight = $ppt.height();
-				contentHeight = $pp_pic_holder.height();
-				contentwidth = $pp_pic_holder.width();
-				
-				projectedTop = (windowHeight/2) + scrollPos['scrollTop'] - ((contentHeight+titleHeight)/2);
-				
-				$pp_pic_holder.css({
-					'top': projectedTop,
-					'left': (windowWidth/2) + scrollPos['scrollLeft'] - (contentwidth/2)
-				});
-				
-				$ppt.css({
-					'top' : projectedTop - titleHeight,
-					'left': (windowWidth/2) + scrollPos['scrollLeft'] - (contentwidth/2) + 20
-				});
-			};
-		};
-	
-		function _getScroll(){
-			if (self.pageYOffset) {
-				return {scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset};
-			} else if (document.documentElement && document.documentElement.scrollTop) { // Explorer 6 Strict
-				return {scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft};
-			} else if (document.body) {// all other Explorers
-				return {scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft};
-			};
-		};
-	
-		function _resizeOverlay() {
-			windowHeight = $(window).height();
-			windowWidth = $(window).width();
-			
-			$pp_overlay.css({
-				'height':$(document).height()
-			});
-		};
-	
-		function _buildOverlay(){
-			// Inject the markup
-			$('body').append(settings.markup);
-			
-			// Set my global selectors
-			$pp_pic_holder = $('.pp_pic_holder');
-			$ppt = $('.ppt');
-			$pp_overlay = $('div.pp_overlay');
-			
-			$pp_pic_holder.attr('class','pp_pic_holder ' + settings.theme); // Set the proper theme
-			
-			$pp_overlay
-				.css({
-					'opacity':0,
-					'height':$(document).height()
-					})
-				.bind('click',function(){
-					if(!settings.modal)
-					$.prettyPhoto.close();
-				});
-
-			$('a.pp_close').bind('click',function(){ $.prettyPhoto.close(); return false; });
-
-			$('a.pp_expand').bind('click',function(){
-				$this = $(this); // Fix scoping
-				
-				// Expand the image
-				if($this.hasClass('pp_expand')){
-					$this.removeClass('pp_expand').addClass('pp_contract');
-					doresize = false;
-				}else{
-					$this.removeClass('pp_contract').addClass('pp_expand');
-					doresize = true;
-				};
-			
-				_hideContent(function(){ $.prettyPhoto.open(images,titles,descriptions) });
-				
-				$pp_pic_holder.find('.pp_fade').fadeOut(settings.animationSpeed);
-		
-				return false;
-			});
-		
-			$pp_pic_holder.find('.pp_previous, .pp_arrow_previous').bind('click',function(){
-				$.prettyPhoto.changePage('previous');
-				return false;
-			});
-		
-			$pp_pic_holder.find('.pp_next, .pp_arrow_next').bind('click',function(){
-				$.prettyPhoto.changePage('next');
-				return false;
-			});
-		};
-		
-		_centerOverlay(); // Center it
-	};
-	
-	function grab_param(name,url){
-	  name = name.replace(/[\[]/,"\\\[").replace(/[\]]/,"\\\]");
-	  var regexS = "[\\?&]"+name+"=([^&#]*)";
-	  var regex = new RegExp( regexS );
-	  var results = regex.exec( url );
-	  if( results == null )
-	    return "";
-	  else
-	    return results[1];
-	}
-})(jQuery);
\ No newline at end of file
diff --git a/sites/all/themes/vibio/screenshot.png b/sites/all/themes/vibio/screenshot.png
deleted file mode 100644
index b548d0b..0000000
Binary files a/sites/all/themes/vibio/screenshot.png and /dev/null differ
diff --git a/sites/all/themes/vibio/template b/sites/all/themes/vibio/template
deleted file mode 100644
index 9df6499..0000000
Binary files a/sites/all/themes/vibio/template and /dev/null differ
diff --git a/sites/all/themes/vibio/template.php b/sites/all/themes/vibio/template.php
deleted file mode 100644
index d978e3c..0000000
--- a/sites/all/themes/vibio/template.php
+++ /dev/null
@@ -1,274 +0,0 @@
-<?php
-
-/* stephen:  */
-
-/* simple secondary menu link cleanup, for weird secondary menu links
- *  ! not sure where the menu_with_count_text comes from, being careful
- *    not to filter it out.
- *
- * We probably want the primary menu which is a parent, so this isn't right yet!
- */
-function vibio_secondary_menu_ad_hoc($secondary_links) {
-	$menu_html = "";
-	foreach ($secondary_links as $link)
-	{
-		//print_r($link);
-//		$menu_html .= l($link['link_title'], $link['link_path']);
-		$menu_html .= '<a href="' . $link['href'] . '">' . $link['title'] . '</a>&nbsp;|&nbsp;';	
-	}
-	print $menu_html;
-}
-
-
-
-
-
-/**
- * Implementation of HOOK_theme().
- */
-function vibio_theme(&$existing, $type, $theme, $path) {
-	$hooks = zen_theme($existing, $type, $theme, $path);
-
-	$hooks = array_merge($hooks, array(
-		"user_social_info"	=> array(
-			"arguments"	=> array("uid"	=> null),
-			"template"	=> "templates/user/social-info",
-		),
-	));
-	
-	return $hooks;
-}
-
-function vibio_preprocess_user_profile(&$vars)
-{
-	drupal_add_js("themes/vibio/js/user.js");
-	drupal_add_css("themes/vibio/css/user.css");
-	$vars['profile']['social_info'] = theme("user_social_info", arg(1));
-}
-
-function vibio_menu_item_link($link)
-{
-	if ($link['type'] & MENU_IS_LOCAL_TASK && $link['path'] == "search/node/%")
-	{
-		return "";
-	}
-	elseif (strpos($link['router_path'], "my-dashboard/") !== false)
-	{
-		$link['localized_options']['html'] = true;
-	}
-	
-	return zen_menu_item_link($link);
-}
-
-function vibio_preprocess_page(&$vars, $hook)
-{
-	zen_preprocess_page($vars, $hook);
-	
-	$css = "";
-	
-	foreach (drupal_add_css() as $media => $types)
-	{
-		$css .= "<style type='text/css' rel='stylesheet' media='$media'>";
-		foreach ($types as $type => $files)
-		{
-			foreach ($files as $file => $preprocess)
-			{
-				$css .= "@import \"/{$file}\";\n";
-			}
-		}
-		$css .= "</style>";
-	}
-	
-	$vars['styles'] = $css;
-}
-
-function vibio_preprocess_comment(&$vars)
-{
-	if (empty($vars['picture']))
-	{
-		$vars['picture'] = theme('user_picture', $vars['comment']);
-	}
-}
-
-function phptemplate_user_relationships_pending_request_approve_link($uid, $rid)
-{
-	return l(
-		"<button>".t("Accept")."</button>",
-		"relationships/{$uid}/{$rid}/approve",
-		array(
-			"attributes"=> array(
-				"class"	=> "uri_popup_link",
-			),
-			"html"		=> true,
-		)
-	);
-}
-
-function phptemplate_user_relationships_pending_request_disapprove_link($uid, $rid)
-{
-	return l(
-		"<button>".t("Ignore")."</button>",
-		"relationships/{$uid}/{$rid}/disapprove",
-		array(
-			"attributes"=> array(
-				"class"	=> "uri_popup_link",
-			),
-			"html"		=> true,
-		)
-	);
-}
-
-function phptemplate_user_relationships_remove_link($uid, $rid)
-{
-	return l(
-		"<img src='/themes/vibio/images/close_button.png' />",
-		"relationships/{$uid}/{$rid}/remove",
-		array(
-			"attributes"=> array(
-				"class"	=> "uri_popup_link",
-			),
-			"html"		=> true,
-		)
-	);
-}
-
-function phptemplate_user_relationships_pending_request_cancel_link($uid, $rid)
-{
-	return l(
-		t("Cancel"),
-		"relationships/{$uid}/{$rid}/cancel",
-		array(
-			"attributes"	=> array(
-				"class"	=> "uri_popup_link",
-			),
-		)
-	);
-}
-
-function phptemplate_user_relationships_request_relationship_direct_link($relate_to, $relationship_type)
-{
-	return l(
-		"<button>".t("Add friend")."</button>",
-		"relationships/{$relate_to->uid}/{$relationship_type->rtid}/request",
-		array(
-			"attributes"=> array(
-				"class"	=> "uri_popup_link",
-			),
-			"html"		=> true,
-		)
-	);
-}
-
-function phptemplate_node_preview($node)
-{
-	drupal_set_message(t("Please note that images are not saved or displayed in the preview until the 'save' button is clicked"));
-	
-	$node_view = node_view($node);
-	
-	return "
-		<div class='preview'>
-			$node_view
-		</div>
-	";
-}
-
-function vibio_status_messages($display=null)
-{
-	$out = "";
-	
-	foreach (drupal_get_messages($display) as $type => $messages)
-	{
-		$message_out = "";
-		
-		foreach ($messages as $m)
-		{
-			$message_out = "<li>$m</li>";
-		}
-		
-		$out .= "
-			<div class='messages $type'>
-				<ul>
-					$message_out
-				</ul>
-			</div>
-		";
-	}
-	
-	return $out;
-}
-
-
-function vibio_user_login_block($form) {
-   $form['submit']['#value'] = 'Sign up';
-}
-
-
-
-/*function vibio_fieldset($ele)
-{
-	if (!empty($ele['#collapsible']))
-	{
-		drupal_add_js("misc/collapse.js");
-
-		if (!isset($ele['#attributes']['class']))
-			$element['#attributes']['class'] = "";
-
-		$element['#attributes']['class'] .= " collapsible";
-
-		if (!empty($ele['#collapsed']))
-			$element['#attributes']['class'] .= " collapsed";
-	}
-
-	$ele['#attributes']['class'] .= " rounded_content";
-
-	$attributes = drupal_attributes($ele['#attributes']);
-	$title = $ele['#title'] ? "<div class='title'>{$ele['#title']}</div>" : "";
-	$description = $ele['#description'] ? "<div class='description'>{$ele['#description']}</div>" : "";
-	$children = !empty($ele['#children']) ? "<table>{$ele['#children']}</table>" : "";
-	$value = isset($ele['#value']) ? $ele['#value'] : "";
-
-	return "
-		<fieldset $attributes>
-			$title
-			$description
-			$children
-			$value
-		</fieldset>
-	";
-
-}
-
-function vibio_form_element($ele, $val)
-{
-	$out = "<tr class='form-item'";
-	if (!empty($ele['#id']))
-		$out .= " id='{$ele['#id']}-wrapper'";
-	$out .= ">";
-
-	$required = !empty($ele['#required']) ? "<span class='form-required'>*</span>" : "";
-
-	$out .= "<td class='form-item-label'>";
-	if (!empty($ele['#title']))
-		$out .= t("!title!required", array("!title" => filter_xss_admin($ele['#title']), "!required" => $required));
-	$out .= "</td>";
-
-	$out .= "<td class='form-item-value'>$val";
-	if (!empty($ele['#description']))
-		$out .= "<div class='description'>{$ele['#description']}</div>";
-	$out .= "</td>";
-
-	$out .= "</tr>";
-	return $out;
-}
-
-function vibio_radios($ele)
-{
-	$ele['#children'] = "<table>{$ele['#children']}</table>";
-	return theme_radios($ele);
-}
-
-function vibio_checkboxes($ele)
-{
-	$ele['#children'] = "<table>{$ele['#children']}</table>";
-	return theme_checkboxes($ele);
-}*/
diff --git a/sites/all/themes/vibio/templates/.node-vibio_item.tpl.php.swp b/sites/all/themes/vibio/templates/.node-vibio_item.tpl.php.swp
deleted file mode 100644
index 8b5b496..0000000
Binary files a/sites/all/themes/vibio/templates/.node-vibio_item.tpl.php.swp and /dev/null differ
diff --git a/sites/all/themes/vibio/templates/README.txt b/sites/all/themes/vibio/templates/README.txt
deleted file mode 100644
index 85cfc42..0000000
--- a/sites/all/themes/vibio/templates/README.txt
+++ /dev/null
@@ -1,84 +0,0 @@
-// $Id: README.txt,v 1.3.2.1 2010/01/12 16:32:29 johnalbin Exp $
-
-TEMPLATES
----------
-
-Drupal 6 contains the following template files which you can override and modify
-by copying them to your sub-theme. The Zen theme overrides a handful of Drupal's
-templates. In order to override those templates, you should copy them from the
-zen/templates folder to your sub-theme's templates folder.
-
-As always, when adding a new template file to your sub-theme, you will need to
-rebuild the "theme registry" in order for Drupal to see it. For more info, see:
-  http://drupal.org/node/173880#theme-registry
-
-Located in zen/templates:
-  page.tpl.php
-  maintenance-page.tpl.php
-  node.tpl.php
-  block.tpl.php
-  comment-wrapper.tpl.php
-  comment.tpl.php
-  views-view.tpl.php
-
-Located in /modules/aggregator:
-  aggregator-feed-source.tpl.php
-  aggregator-item.tpl.php
-  aggregator-summary-item.tpl.php
-  aggregator-summary-items.tpl.php
-  aggregator-wrapper.tpl.php
-
-Located in /modules/block:
-  block-admin-display-form.tpl.php
-
-Located in /modules/book:
-  book-all-books-block.tpl.php
-  book-export-html.tpl.php
-  book-navigation.tpl.php
-  book-node-export-html.tpl.php
-
-Located in /modules/comment:
-  comment-folded.tpl.php
-  comment-wrapper.tpl.php  (overridden by Zen)
-  comment.tpl.php  (overridden by Zen)
-
-Located in /modules/forum:
-  forum-icon.tpl.php
-  forum-list.tpl.php
-  forum-submitted.tpl.php
-  forum-topic-list.tpl.php
-  forum-topic-navigation.tpl.php
-  forums.tpl.php
-
-Located in /modules/node:
-  node.tpl.php  (overridden by Zen)
-
-Located in /modules/poll:
-  poll-bar-block.tpl.php
-  poll-bar.tpl.php
-  poll-results-block.tpl.php
-  poll-results.tpl.php
-  poll-vote.tpl.php
-
-Located in /modules/profile:
-  profile-block.tpl.php
-  profile-listing.tpl.php
-  profile-wrapper.tpl.php
-
-Located in /modules/search:
-  search-block-form.tpl.php
-  search-result.tpl.php
-  search-results.tpl.php
-  search-theme-form.tpl.php
-
-Located in /modules/system:
-  block.tpl.php  (overridden by Zen)
-  box.tpl.php
-  maintenance-page.tpl.php  (overridden by Zen)
-  page.tpl.php  (overridden by Zen)
-
-Located in /modules/user:
-  user-picture.tpl.php
-  user-profile-category.tpl.php
-  user-profile-item.tpl.php
-  user-profile.tpl.php
diff --git a/sites/all/themes/vibio/templates/amazon/amazon-item-book.tpl.php b/sites/all/themes/vibio/templates/amazon/amazon-item-book.tpl.php
deleted file mode 100644
index 25a70a6..0000000
--- a/sites/all/themes/vibio/templates/amazon/amazon-item-book.tpl.php
+++ /dev/null
@@ -1,25 +0,0 @@
-<?php
-if (isset($item['author']))
-{
-	$author = "Author: ".implode(", ", $item['author'])."<br />";
-}
-if (isset($item['numberofpages']))
-{
-	$numpages = "Pages: {$item['numberofpages']}<br />";
-}
-if (isset($item['publisher']))
-{
-	$publisher = "Publisher: {$item['publisher']}<br />";
-}
-if (isset($item['isbn']))
-{
-	$isbn = "ISBN #: {$item['isbn']}<br />";
-}
-
-echo "
-	{$author}
-	{$publisher}
-	{$isbn}
-	{$numpages}
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/amazon/amazon-item-details.tpl.php b/sites/all/themes/vibio/templates/amazon/amazon-item-details.tpl.php
deleted file mode 100644
index 7263762..0000000
--- a/sites/all/themes/vibio/templates/amazon/amazon-item-details.tpl.php
+++ /dev/null
@@ -1,9 +0,0 @@
-<?php
-if ($details)
-{
-	echo "
-		<h4 class='product_description'>Details</h4>
-		$details
-	";
-}
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/amazon/amazon-item-dvd.tpl.php b/sites/all/themes/vibio/templates/amazon/amazon-item-dvd.tpl.php
deleted file mode 100644
index b02eb65..0000000
--- a/sites/all/themes/vibio/templates/amazon/amazon-item-dvd.tpl.php
+++ /dev/null
@@ -1,25 +0,0 @@
-<?php
-if (isset($item['actor']))
-{
-	$actors = "Actors: ". implode(", ", $item['actor'])."<br />";
-}
-if (isset($item['creator']))
-{
-	$writers = "Writers: ".implode(", ", $item['creator'])."<br />";
-}
-if (isset($item['director']))
-{
-	$directors = "Directors: ".implode(", ", $item['director'])."<br />";
-}
-
-echo "
-	{$actors}
-	{$writers}
-	{$directors}
-	Format: {$item['binding']}<br />
-	Run Time: {$item['runningtime']} minutes<br />
-	Aspect Ratio: {$item['aspectratio']}<br />
-	Rating: {$item['audiencerating']}<br />
-	Studio: {$item['studio']}
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/amazon/amazon-item-games.tpl.php b/sites/all/themes/vibio/templates/amazon/amazon-item-games.tpl.php
deleted file mode 100644
index 1fa2a14..0000000
--- a/sites/all/themes/vibio/templates/amazon/amazon-item-games.tpl.php
+++ /dev/null
@@ -1,8 +0,0 @@
-<?php
-echo "
-	Publisher: {$item['publisher']}<br />
-	Platform: {$item['platform']}<br />
-	ESRB Rating: {$item['esrbagerating']}<br />
-	Release Date: {$item['releasedate']}
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/amazon/amazon-item-music.tpl.php b/sites/all/themes/vibio/templates/amazon/amazon-item-music.tpl.php
deleted file mode 100644
index f7a0143..0000000
--- a/sites/all/themes/vibio/templates/amazon/amazon-item-music.tpl.php
+++ /dev/null
@@ -1,13 +0,0 @@
-<?php
-$artist = isset($item['artist']) ? "Artist: ".implode(", ", $item['artist'])."<br />" : "";
-$label = isset($item['label']) ? "Label: {$item['label']}<br />" : "";
-$numdiscs = isset($item['numberofdiscs']) ? "Discs: {$item['numberofdiscs']}<br />" : "";
-$release = isset($item['releasedate']) ? "Relase Date: {$item['releasedate']}<br />" : "";
-
-echo "
-	$artist
-	$label
-	$numdiscs
-	$release
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/amazon/amazon-item-software.tpl.php b/sites/all/themes/vibio/templates/amazon/amazon-item-software.tpl.php
deleted file mode 100644
index 93fe615..0000000
--- a/sites/all/themes/vibio/templates/amazon/amazon-item-software.tpl.php
+++ /dev/null
@@ -1,3 +0,0 @@
-<?php
-echo "Format: {$item['binding']}";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/badge/alert-badge-single.tpl.php b/sites/all/themes/vibio/templates/badge/alert-badge-single.tpl.php
deleted file mode 100644
index 8c612c2..0000000
--- a/sites/all/themes/vibio/templates/badge/alert-badge-single.tpl.php
+++ /dev/null
@@ -1,5 +0,0 @@
-<div class="badge_alert_single">
-	<img class='badge_image' src="<?php echo $badge->image_src; ?>"
-		alt="<?php echo $badge->description; ?>" title="<?php echo $badge->description; ?>" />
-	<div class="badge_title"><?php echo $badge->title; ?></div>
-</div>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/badge/alert-badge.tpl.php b/sites/all/themes/vibio/templates/badge/alert-badge.tpl.php
deleted file mode 100644
index 40b7e17..0000000
--- a/sites/all/themes/vibio/templates/badge/alert-badge.tpl.php
+++ /dev/null
@@ -1,8 +0,0 @@
-<?php
-echo "
-	<div class='badge_alert_badge'>
-		<img src='{$badge->image_src}' class='badge_image'
-			alt='{$badge->title}' title='{$badge->title}' />
-	</div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/badge/alert.tpl.php b/sites/all/themes/vibio/templates/badge/alert.tpl.php
deleted file mode 100644
index 135aa7c..0000000
--- a/sites/all/themes/vibio/templates/badge/alert.tpl.php
+++ /dev/null
@@ -1,18 +0,0 @@
-<?php
-global $user;
-$uid = $user->uid;
-
-$header = t("Congratulations!");
-$footer = t("!click_here to view your badges", array("!click_here" => l(t("Click here"), "user/{$uid}/badges")));
-?>
-
-<div id="badge_alert_container">
-	<h5><?php echo $header; ?></h5>
-	<div class="badge_alert_title">
-		<?php echo $badge_title; ?>
-	</div>
-	<?php echo $badge_html; ?>
-	<div id="badge_alert_footer">
-		<?php echo $footer; ?>
-	</div>
-</div>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/badge/list-badge.tpl.php b/sites/all/themes/vibio/templates/badge/list-badge.tpl.php
deleted file mode 100644
index e887baa..0000000
--- a/sites/all/themes/vibio/templates/badge/list-badge.tpl.php
+++ /dev/null
@@ -1,15 +0,0 @@
-<?php
-echo "
-	<div class='badge_list_badge'>
-		<div class='badge_image_container'>
-			<img class='badge_image' src='{$badge->image_src}' />
-		</div>
-		<div class='badge_info'>
-			{$badge->title}<br />
-			{$badge->description}<br />
-			<span class='timestamp_uncalculated'>{$badge->tstamp}</span>
-		</div>
-		<div class='clear'></div>
-	</div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/badge/list.tpl.php b/sites/all/themes/vibio/templates/badge/list.tpl.php
deleted file mode 100644
index 60d940a..0000000
--- a/sites/all/themes/vibio/templates/badge/list.tpl.php
+++ /dev/null
@@ -1,3 +0,0 @@
-<?php
-echo $badge_html;
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/block-menu-secondary-links.tpl.php b/sites/all/themes/vibio/templates/block-menu-secondary-links.tpl.php
deleted file mode 100644
index cf25473..0000000
--- a/sites/all/themes/vibio/templates/block-menu-secondary-links.tpl.php
+++ /dev/null
@@ -1,22 +0,0 @@
-Currently secondary menus not used, this used to display on the footer.
-<?php
-print "Make it useful.";
-$menu_html = "";
-foreach (menu_tree_page_data("secondary-links") as $menu_item)
-{
-	$link = $menu_item['link'];
-	$menu_html .= l($link['link_title'], $link['link_path']);
-}
-?>
-
-<div id="<?php print $block_html_id; ?>" class="<?php print $classes; ?>">
-  <?php if ($title): ?>
-    <h2 class="title"><?php print $title; ?></h2>
-  <?php endif; ?>
-
-  <div class="content">
-    <?php print $menu_html; ?>
-  </div>
-
-  <?php print $edit_links; ?>
-</div>
diff --git a/sites/all/themes/vibio/templates/block-menu-secondary-links.tpl.php-ORIG b/sites/all/themes/vibio/templates/block-menu-secondary-links.tpl.php-ORIG
deleted file mode 100644
index bd9ede8..0000000
--- a/sites/all/themes/vibio/templates/block-menu-secondary-links.tpl.php-ORIG
+++ /dev/null
@@ -1,21 +0,0 @@
-Currently secondary menus not used, this used to display on the footer.
-<?php
-$menu_html = "";
-foreach (menu_tree_page_data("secondary-links") as $menu_item)
-{
-	$link = $menu_item['link'];
-	$menu_html .= l($link['link_title'], $link['link_path']);
-}
-?>
-
-<div id="<?php print $block_html_id; ?>" class="<?php print $classes; ?>">
-  <?php if ($title): ?>
-    <h2 class="title"><?php print $title; ?></h2>
-  <?php endif; ?>
-
-  <div class="content">
-    <?php print $menu_html; ?>
-  </div>
-
-  <?php print $edit_links; ?>
-</div>
diff --git a/sites/all/themes/vibio/templates/block-user.tpl.php b/sites/all/themes/vibio/templates/block-user.tpl.php
deleted file mode 100644
index 4fb1614..0000000
--- a/sites/all/themes/vibio/templates/block-user.tpl.php
+++ /dev/null
@@ -1,14 +0,0 @@
-<div id="<?php print $block_html_id; ?>" class="<?php print $classes; ?>">
-  <?php
-  if ($title && $block->region != "sidebar_first")
-  {
-	echo "<h2 class='title'>$title</h2>";
-  }
-  ?>
-
-  <div class="content">
-    <?php print $content; ?>
-  </div>
-
-  <?php print $edit_links; ?>
-</div>
diff --git a/sites/all/themes/vibio/templates/block.tpl.php b/sites/all/themes/vibio/templates/block.tpl.php
deleted file mode 100644
index a102138..0000000
--- a/sites/all/themes/vibio/templates/block.tpl.php
+++ /dev/null
@@ -1,66 +0,0 @@
-<?php
-// $Id: block.tpl.php,v 1.6.2.1 2010/06/24 03:40:16 johnalbin Exp $
-
-/**
- * @file
- * Theme implementation to display a block.
- *
- * Available variables:
- * - $title: Block title.
- * - $content: Block content.
- * - $block->module: Module that generated the block.
- * - $block->delta: An ID for the block, unique within each module.
- * - $block->region: The block region embedding the current block.
- * - $edit_links: A list of contextual links for the block. It can be
- *   manipulated through the variable $edit_links_array from preprocess
- *   functions.
- * - $classes: String of classes that can be used to style contextually through
- *   CSS. It can be manipulated through the variable $classes_array from
- *   preprocess functions. The default values can be one or more of the
- *   following:
- *   - block: The current template type, i.e., "theming hook".
- *   - block-[module]: The module generating the block. For example, the user
- *     module is responsible for handling the default user navigation block. In
- *     that case the class would be "block-user".
- *   - region-count-[x]: The position of the block in the list of blocks in the
- *     current region.
- *   - region-odd: An odd-numbered block of the list of blocks in the current
- *     region.
- *   - region-even: An even-numbered block of the list of blocks in the current
- *     region.
- *   - count-[x]: The position of the block in the list of blocks on the current
- *     page.
- *   - odd: An odd-numbered block of the list of blocks on the current page.
- *   - even: An even-numbered block of the list of blocks on the current page.
- *
- * Helper variables:
- * - $classes_array: Array of html class attribute values. It is flattened
- *   into a string within the variable $classes.
- * - $edit_links_array: An array of contextual links for the block.
- * - $block_zebra: Outputs 'odd' and 'even' dependent on each block region.
- * - $zebra: Same output as $block_zebra but independent of any block region.
- * - $block_id: Counter dependent on each block region.
- * - $id: Same output as $block_id but independent of any block region.
- * - $is_front: Flags true when presented in the front page.
- * - $logged_in: Flags true when the current user is a logged-in member.
- * - $is_admin: Flags true when the current user is an administrator.
- * - $block_html_id: A valid HTML ID and guaranteed unique.
- *
- * @see template_preprocess()
- * @see zen_preprocess()
- * @see template_preprocess_block()
- * @see zen_preprocess_block()
- * @see zen_process()
- */
-?>
-<div id="<?php print $block_html_id; ?>" class="<?php print $classes; ?>">
-  <?php if ($title): ?>
-    <h2 class="title"><?php print $title; ?></h2>
-  <?php endif; ?>
-
-  <div class="content">
-    <?php print $content; ?>
-  </div>
-
-  <?php print $edit_links; ?>
-</div> <!-- /.block -->
diff --git a/sites/all/themes/vibio/templates/collections/collection-item-preview.tpl.php b/sites/all/themes/vibio/templates/collections/collection-item-preview.tpl.php
deleted file mode 100644
index a2388fa..0000000
--- a/sites/all/themes/vibio/templates/collections/collection-item-preview.tpl.php
+++ /dev/null
@@ -1,21 +0,0 @@
-<?php
-$updated = t("Updated !date", array("!date" => "<span class='timestamp_uncalculated'>{$item->node_changed}</span>"));
-$price_image = theme("vibio_item_price_image", $item, "mini");
-
-echo "
-	<div class='collection_list_image'>
-		$price_image
-		<a href='/node/{$item->nid}'>
-			<img src='{$item->image}' />
-		</a>
-	</div>
-	<div class='collection_list_item_summary'>
-		<a href='/node/{$item->nid}'>
-			<h5>{$item->node_title}</h5>
-		</a>
-		<span class='item_updated'>$updated</span>
-		<span class='item_price'>{$item->offer2buy_price}</span>
-		{$share_links}
-	</div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/collections/collection-view.tpl.php b/sites/all/themes/vibio/templates/collections/collection-view.tpl.php
deleted file mode 100644
index 1b2927e..0000000
--- a/sites/all/themes/vibio/templates/collections/collection-view.tpl.php
+++ /dev/null
@@ -1,22 +0,0 @@
-<style>
-#page_title {
-	display: none;
-}
-</style>
-<?php
-$sidebar_header = t("!user Collections", array("!user" => $collection_owner_name));
-$collections_link = l(t("View Complete List"), "user/{$collection_owner}/inventory");
-
-echo "
-	<div id='collection_main'>
-		{$collection_display}
-	</div>
-	<div id='collection_sidebar'>
-		$add_item_link
-		<h5>{$sidebar_header}</h5>
-		{$collections_link}
-		{$collection_sidebar_output}
-	</div>
-	<div class='clear'></div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/collections/collection.tpl.php b/sites/all/themes/vibio/templates/collections/collection.tpl.php
deleted file mode 100644
index e40d15e..0000000
--- a/sites/all/themes/vibio/templates/collections/collection.tpl.php
+++ /dev/null
@@ -1,45 +0,0 @@
-<?php
-$collection_url = url("collections/{$collection->cid}");
-$manage_link = $collection->is_owner ? l(t("Manage Collection"), "collections/manage/{$collection->cid}") : "";
-$total_items = t("!count items", array("!count" => $collection->total_items));
-$expand = t("Expand Item List");
-
-if ($show_preview)
-{
-	$preview = "
-		<div class='collection_preview'>
-			<div class='collection_preview_items'></div>
-			<div class='collection_preview_loading'>
-				<img src='/themes/vibio/images/ajax-loader.gif' />
-			</div>
-			<div class='collection_preview_init'>
-				<img src='/themes/vibio/images/collections/expand.png' />
-				<span>$expand</span>
-			</div>
-		</div>
-	";
-}
-
-echo "
-	<div class='collection_list_collection' id='collection_{$collection->cid}'>
-		<div class='collection_image'>
-			<a href='$collection_url'>
-				<img src='{$collection->image}' title='{$collection->collection_description}' alt='{$collection->collection_description}' />
-			</a>
-		</div>
-		<div class='collection_summary'>
-			<a href='$collection_url'>
-				<h3>{$collection->collection_title}</h3>
-			</a>
-			<span class='collection_item_count'>$total_items</span>
-			<span class='manage_collection_link'>$manage_link</span>
-			{$collection->share_html}
-			<div class='clear'></div>
-			<p>{$collection->collection_description}</p>
-			{$collection->collection_categories}
-		</div>
-		<div class='clear'></div>
-		$preview
-	</div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/collections/random-collection.tpl.php b/sites/all/themes/vibio/templates/collections/random-collection.tpl.php
deleted file mode 100644
index 7a2d4cf..0000000
--- a/sites/all/themes/vibio/templates/collections/random-collection.tpl.php
+++ /dev/null
@@ -1,23 +0,0 @@
-<?php
-$date_added = t("Added !date", array("!date" => date("M j, Y", $collection->created)));
-$tags = t("Tags: !tags", array("!tags" => $collection->tags));
-$num_items = t("!count items", array("!count" => $collection->num_items));
-$link = l(t("Check it out"), "collections/{$collection->cid}", array("attributes" => array("class" => "collection_link")));
-
-echo "
-	<div class='collection_image'>
-		<a href='/collections/{$collection->cid}'>
-			<img src='{$collection->image}' />
-		</a>
-	</div>
-	<div class='collection_info'>
-		<div class='collection_owner'>{$collection->user}</div>
-		<div class='collection_title'>{$collection->title}</div>
-		<div class='collection_item_count'>{$num_items}</div>
-		<div class='collection_description'>{$collection->description}</div>
-		<div class='collection_categories'>{$tags}</div>
-		<div class='collection_date_added'>{$date_added}</div>
-		<div class='collection_link'>$link</div>
-	</div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/collections/sidebar-collection.tpl.php b/sites/all/themes/vibio/templates/collections/sidebar-collection.tpl.php
deleted file mode 100644
index 0ec68d6..0000000
--- a/sites/all/themes/vibio/templates/collections/sidebar-collection.tpl.php
+++ /dev/null
@@ -1,21 +0,0 @@
-<?php
-$num_items = t("!num items", array("!num" => $collection->num_items));
-
-echo "
-	<div class='collection_sidebar_collection'>
-		<div class='collection_sidebar_collection_image'>
-			<a href='/collections/{$collection->cid}'>
-				<img src='{$collection->image}' />
-			</a>
-		</div>
-		<div class='collection_sidebar_collection_items'>
-			{$item_html}
-		</div>
-		<div class='clear'></div>
-		<a href='/collections/{$collection->cid}'>
-			<h5>{$collection->title}</h5>
-		</a>
-		<span>$num_items</span>
-	</div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/collections/sidebar-item.tpl.php b/sites/all/themes/vibio/templates/collections/sidebar-item.tpl.php
deleted file mode 100644
index bb1bbe9..0000000
--- a/sites/all/themes/vibio/templates/collections/sidebar-item.tpl.php
+++ /dev/null
@@ -1,7 +0,0 @@
-<?php
-echo "
-	<a href='/node/{$collection_item->item_nid}'>
-		<img alt='{$collection_item->title}' title='{$collection_item->title}' class='collection_sidebar_image' src='{$collection_item->image}' />
-	</a>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/comment-wrapper.tpl.php b/sites/all/themes/vibio/templates/comment-wrapper.tpl.php
deleted file mode 100644
index a9643aa..0000000
--- a/sites/all/themes/vibio/templates/comment-wrapper.tpl.php
+++ /dev/null
@@ -1,43 +0,0 @@
-<?php
-// $Id: comment-wrapper.tpl.php,v 1.3 2009/11/01 19:47:40 johnalbin Exp $
-
-/**
- * @file
- * Default theme implementation to wrap comments.
- *
- * Available variables:
- * - $content: All comments for a given page. Also contains sorting controls
- *   and comment forms if the site is configured for it.
- * - $classes: String of classes that can be used to style contextually through
- *   CSS. It can be manipulated through the variable $classes_array from
- *   preprocess functions. The default value has the following:
- *   - comment-wrapper: The current template type, i.e., "theming hook".
- *
- * The following variables are provided for contextual information.
- * - $node: Node object the comments are attached to.
- * The constants below the variables show the possible values and should be
- * used for comparison.
- * - $display_mode
- *   - COMMENT_MODE_FLAT_COLLAPSED
- *   - COMMENT_MODE_FLAT_EXPANDED
- *   - COMMENT_MODE_THREADED_COLLAPSED
- *   - COMMENT_MODE_THREADED_EXPANDED
- * - $display_order
- *   - COMMENT_ORDER_NEWEST_FIRST
- *   - COMMENT_ORDER_OLDEST_FIRST
- * - $comment_controls_state
- *   - COMMENT_CONTROLS_ABOVE
- *   - COMMENT_CONTROLS_BELOW
- *   - COMMENT_CONTROLS_ABOVE_BELOW
- *   - COMMENT_CONTROLS_HIDDEN
- *
- * Other variables:
- * - $classes_array: Array of html class attribute values. It is flattened
- *   into a string within the variable $classes.
- *
- * @see template_preprocess_comment_wrapper()
- */
-?>
-<div id="comments" class="<?php print $classes; ?>">
-  <?php print $content; ?>
-</div>
diff --git a/sites/all/themes/vibio/templates/comment.tpl.php b/sites/all/themes/vibio/templates/comment.tpl.php
deleted file mode 100644
index 03073a4..0000000
--- a/sites/all/themes/vibio/templates/comment.tpl.php
+++ /dev/null
@@ -1,74 +0,0 @@
-<?php
-// $Id: comment.tpl.php,v 1.10 2009/11/02 17:42:27 johnalbin Exp $
-
-/**
- * @file
- * Default theme implementation for comments.
- *
- * Available variables:
- * - $author: Comment author. Can be link or plain text.
- * - $content: Body of the comment.
- * - $created: Formatted date and time for when the comment was created.
- *   Preprocess functions can reformat it by calling format_date() with the
- *   desired parameters on the $comment->timestamp variable.
- * - $new: New comment marker.
- * - $picture: Authors picture.
- * - $signature: Authors signature.
- * - $status: Comment status. Possible values are:
- *   comment-unpublished, comment-published or comment-preview.
- * - $title: Linked title.
- * - $links: Various operational links.
- * - $unpublished: An unpublished comment visible only to administrators.
- * - $classes: String of classes that can be used to style contextually through
- *   CSS. It can be manipulated through the variable $classes_array from
- *   preprocess functions. The default values can be one or more of the following:
- *   - comment: The current template type, i.e., "theming hook".
- *   - comment-by-anonymous: Comment by an unregistered user.
- *   - comment-by-node-author: Comment by the author of the parent node.
- *   - comment-preview: When previewing a new or edited comment.
- *   - first: The first comment in the list of displayed comments.
- *   - last: The last comment in the list of displayed comments.
- *   - odd: An odd-numbered comment in the list of displayed comments.
- *   - even: An even-numbered comment in the list of displayed comments.
- *   The following applies only to viewers who are registered users:
- *   - comment-by-viewer: Comment by the user currently viewing the page.
- *   - comment-unpublished: An unpublished comment visible only to administrators.
- *   - comment-new: New comment since the last visit.
- *
- * These two variables are provided for context:
- * - $comment: Full comment object.
- * - $node: Node object the comments are attached to.
- *
- * Other variables:
- * - $classes_array: Array of html class attribute values. It is flattened
- *   into a string within the variable $classes.
- *
- * The following variables are deprecated and will be removed in Drupal 7:
- * - $date: Formatted date and time for when the comment was created.
- * - $submitted: By line with date and time.
- *
- * @see template_preprocess()
- * @see template_preprocess_comment()
- * @see zen_preprocess()
- * @see zen_preprocess_comment()
- * @see zen_process()
- */
-?>
-<div class="<?php print $classes; ?> clearfix">
-	<table>
-		<tr>
-			<td class="picture_container" valign="top">
-				<?php echo $picture; ?>
-			</td>
-			<td class="content">
-				<?php echo $content; ?>
-				<div class="comment_details">
-					<?php
-					echo t("by !user !interval ago", array("!user" => $author, "!interval" => format_interval(time() - $comment->timestamp)));
-					echo $links;
-					?>
-				</div>
-			</td>
-		</tr>
-	</table>
-</div>
diff --git a/sites/all/themes/vibio/templates/dos/display.tpl.php b/sites/all/themes/vibio/templates/dos/display.tpl.php
deleted file mode 100644
index 06ad58d..0000000
--- a/sites/all/themes/vibio/templates/dos/display.tpl.php
+++ /dev/null
@@ -1,29 +0,0 @@
-<?php
-if ($dos === false)
-{
-	$out = t("This is you");
-}
-elseif (!empty($dos))
-{
-	$links = array();
-	$you_link = false;
-	foreach ($dos as $uid => $name)
-	{
-		if (!$you_link)
-		{
-			$you_link = true;
-			$name = t("You");
-		}
-		
-		$links[] = l($name, "user/{$uid}");
-	}
-	
-	$out = implode(" -> ", $links);
-}
-
-echo "
-	<div class='dos_display'>
-		$out
-	</div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/ebay/ebay-search-result-item.tpl.php b/sites/all/themes/vibio/templates/ebay/ebay-search-result-item.tpl.php
deleted file mode 100644
index 1b39f2f..0000000
--- a/sites/all/themes/vibio/templates/ebay/ebay-search-result-item.tpl.php
+++ /dev/null
@@ -1,16 +0,0 @@
-<?php
-$image = $item->galleryURL ? $item->galleryURL : "/themes/vibio/images/icons/default_item.png";
-
-echo "
-	<div class='ebay_search_item'>
-		<div class='ebay_image'>
-			<img src='$image' />
-		</div>
-		<div class='ebay_info'>
-			<a href='{$item->viewItemURL}'>{$item->title}</a><br />
-			Current Price: \${$item->sellingStatus->convertedCurrentPrice}
-		</div>
-		<div class='clear'></div>
-	</div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/ebay/ebay-search-results.tpl.php b/sites/all/themes/vibio/templates/ebay/ebay-search-results.tpl.php
deleted file mode 100644
index 693c058..0000000
--- a/sites/all/themes/vibio/templates/ebay/ebay-search-results.tpl.php
+++ /dev/null
@@ -1,20 +0,0 @@
-<?php
-$items = "";
-
-foreach ($search_result->searchResult->item as $result)
-{
-	$items .= theme("ebay_search_result_item", $result);
-}
-
-if (!$data['hide_wrapper'])
-{
-	echo "<div class='ebay_search_results'>";
-}
-
-echo $items.$data['pager'];
-
-if (!$data['hide_wrapper'])
-{
-	echo "</div>";
-}
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/ebay/empty-search.tpl.php b/sites/all/themes/vibio/templates/ebay/empty-search.tpl.php
deleted file mode 100644
index 1d00a12..0000000
--- a/sites/all/themes/vibio/templates/ebay/empty-search.tpl.php
+++ /dev/null
@@ -1,3 +0,0 @@
-<?php
-echo t("Sorry, no search results found.");
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/ebay/link-account.tpl.php b/sites/all/themes/vibio/templates/ebay/link-account.tpl.php
deleted file mode 100644
index 5ed4969..0000000
--- a/sites/all/themes/vibio/templates/ebay/link-account.tpl.php
+++ /dev/null
@@ -1,4 +0,0 @@
-<?php
-$login_url = _ebay_get_login_url()."&RuName=".variable_get("ebayapi_runame", "some_runame")."&SessID=$session_id";
-?>
-<a href="<?php echo $login_url; ?>">Link your eBay and Vibio accounts!</a>
diff --git a/sites/all/themes/vibio/templates/facebook/dialogs.tpl.php b/sites/all/themes/vibio/templates/facebook/dialogs.tpl.php
deleted file mode 100644
index d177211..0000000
--- a/sites/all/themes/vibio/templates/facebook/dialogs.tpl.php
+++ /dev/null
@@ -1,6 +0,0 @@
-<?php
-echo theme("fb_wrong_login");
-echo theme("fb_login_prompt");
-echo theme("fb_share_success");
-echo theme("fb_prompt_account_link");
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/facebook/ff-link-account.tpl.php b/sites/all/themes/vibio/templates/facebook/ff-link-account.tpl.php
deleted file mode 100644
index d9ea004..0000000
--- a/sites/all/themes/vibio/templates/facebook/ff-link-account.tpl.php
+++ /dev/null
@@ -1,15 +0,0 @@
-<div class='fb_ff_message'>
-	<div class='fb_message'>
-		<?php echo $message; ?>
-	</div>
-	<div class='fb_link'>
-		<?php
-		echo "
-			<a href='{$href->url}' class='{$href->class}'>
-				<img src='{$fb_image}' />
-			</a>
-		";
-		?>
-	</div>
-	<div class="clear"></div>
-</div>
diff --git a/sites/all/themes/vibio/templates/facebook/login-block.tpl.php b/sites/all/themes/vibio/templates/facebook/login-block.tpl.php
deleted file mode 100644
index 5add870..0000000
--- a/sites/all/themes/vibio/templates/facebook/login-block.tpl.php
+++ /dev/null
@@ -1,17 +0,0 @@
-<?php
-global $user;
-
-if (!$user->uid)
-{
-	$title = t("New to Vibio?");
-	$description = t("You can log in with your Facebook account");
-
-	echo "
-		<h5 class='menu_header'>$title</h5>
-		<span class='menu_description'>$description</span>
-		<div class='fb_login'>
-			<img class='fb_login_button' src='/themes/vibio/images/facebook/login-button.png' />
-		</div>
-	";
-}
-?>
diff --git a/sites/all/themes/vibio/templates/facebook/login-prompt.tpl.php b/sites/all/themes/vibio/templates/facebook/login-prompt.tpl.php
deleted file mode 100644
index 1e90ac7..0000000
--- a/sites/all/themes/vibio/templates/facebook/login-prompt.tpl.php
+++ /dev/null
@@ -1,15 +0,0 @@
-<?php
-$message = t("Your Facebook session has expired! Please use the link below to re-initialize your session.");
-?>
-
-<div id="facebook_login_prompt" class="fb_dialog">
-	<div class="fb_header">
-		<img src="/themes/vibio/images/facebook/logo.png" />
-	</div>
-	<div class="fb_body">
-		<div class="fb_login_message">
-			<?php echo $message; ?>
-		</div>
-		<a href="#" class="fb_login fb_refresh">Log in!</a>
-	</div>
-</div>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/facebook/prompt-account-link.tpl.php b/sites/all/themes/vibio/templates/facebook/prompt-account-link.tpl.php
deleted file mode 100644
index c4071b3..0000000
--- a/sites/all/themes/vibio/templates/facebook/prompt-account-link.tpl.php
+++ /dev/null
@@ -1,15 +0,0 @@
-<?php
-$t_args = array("!link" => l(t("click here"), "fb/add-account", array("attributes" => array("class" => "fb_link_account"))));
-$message = t("You currently do not have your Facebook account linked to Vibio. Please !link to link your Facebook account.", $t_args);
-?>
-
-<div id="facebook_prompt_account_link" class="fb_dialog">
-	<div class="fb_header">
-		<img src="/themes/vibio/images/facebook/logo.png" />
-	</div>
-	<div class="fb_body">
-		<div class="fb_login_message">
-			<?php echo $message; ?>
-		</div>
-	</div>
-</div>
diff --git a/sites/all/themes/vibio/templates/facebook/share-success.tpl.php b/sites/all/themes/vibio/templates/facebook/share-success.tpl.php
deleted file mode 100644
index c77b1af..0000000
--- a/sites/all/themes/vibio/templates/facebook/share-success.tpl.php
+++ /dev/null
@@ -1,14 +0,0 @@
-<?php
-$message = t("You have successfully shared your Vibio item on Facebook!");
-?>
-
-<div id="facebook_share_success" class="fb_dialog">
-	<div class="fb_header">
-		<img src="/themes/vibio/images/facebook/logo.png" />
-	</div>
-	<div class="fb_body">
-		<div class="fb_login_message">
-			<?php echo $message; ?>
-		</div>
-	</div>
-</div>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/facebook/share.tpl.php b/sites/all/themes/vibio/templates/facebook/share.tpl.php
deleted file mode 100644
index 89d03a8..0000000
--- a/sites/all/themes/vibio/templates/facebook/share.tpl.php
+++ /dev/null
@@ -1,11 +0,0 @@
-<?php
-$alt = t("Share on Facebook");
-echo "
-	<div class='fb_share_container'>
-		<span class='fb_share_params'>$share_params</span>
-		<a class='fb_share' href='#'>
-			<img src='{$share_image}' alt='$alt' title='$alt' />
-		</a>
-	</div>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/facebook/wrong-login.tpl.php b/sites/all/themes/vibio/templates/facebook/wrong-login.tpl.php
deleted file mode 100644
index dae4053..0000000
--- a/sites/all/themes/vibio/templates/facebook/wrong-login.tpl.php
+++ /dev/null
@@ -1,15 +0,0 @@
-<?php
-$message = t("The Facebook account you logged in with is not the account you have linked on Vibio. Please try again with the correct account.");
-?>
-
-<div id="facebook_wrong_login" class="fb_dialog">
-	<div class="fb_header">
-		<img src="/themes/vibio/images/facebook/logo.png" />
-	</div>
-	<div class="fb_body">
-		<div class="fb_login_message">
-			<?php echo $message; ?>
-		</div>
-		<a href="#" class="fb_login fb_refresh">Log in!</a>
-	</div>
-</div>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/imap/dashboard-notification.tpl.php b/sites/all/themes/vibio/templates/imap/dashboard-notification.tpl.php
deleted file mode 100644
index aedd03e..0000000
--- a/sites/all/themes/vibio/templates/imap/dashboard-notification.tpl.php
+++ /dev/null
@@ -1,25 +0,0 @@
-<?php
-$message = t("You have a pending image");
-
-echo "
-	<div class='profile_notification rounded_content'>
-		<div class='picture'>
-			<a href='{$imap_image->url}' rel='prettyphoto'>
-				<img src='{$imap_image->url}' />
-			</a>
-		</div>
-		<div class='profile_notifications_summary'>
-			$message
-			<div class='profile_notifications_actions'>
-				$image_create_product
-				$image_delete_form
-				$image_attach_form
-			</div>
-		</div>
-		<div class='profile_busy_indicator'>
-			<img src='/themes/vibio/images/ajax-loader.gif' />
-		</div>
-		<div class='clear'></div>
-	</div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/maintenance-page.tpl.php b/sites/all/themes/vibio/templates/maintenance-page.tpl.php
deleted file mode 100644
index 4746593..0000000
--- a/sites/all/themes/vibio/templates/maintenance-page.tpl.php
+++ /dev/null
@@ -1,109 +0,0 @@
-<?php
-// $Id: maintenance-page.tpl.php,v 1.17 2009/11/04 20:49:23 johnalbin Exp $
-
-/**
- * @file maintenance-page.tpl.php
- *
- * Theme implementation to display a single Drupal page while off-line.
- *
- * All the available variables are mirrored in page.tpl.php. Some may be left
- * blank but they are provided for consistency.
- *
- *
- * @see template_preprocess()
- * @see template_preprocess_maintenance_page()
- */
-?>
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
-<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="<?php print $language->language; ?>" lang="<?php print $language->language; ?>" dir="<?php print $language->dir; ?>">
-
-<head>
-  <title><?php print $head_title; ?></title>
-  <?php print $head; ?>
-  <?php print $styles; ?>
-  <?php print $scripts; ?>
-</head>
-<body class="<?php print $classes; ?>">
-
-  <div id="page-wrapper"><div id="page">
-
-    <div id="header"><div class="section clearfix">
-
-      <?php if ($logo): ?>
-        <a href="<?php print $base_path; ?>" title="<?php print t('Home'); ?>" rel="home" id="logo"><img src="<?php print $logo; ?>" alt="<?php print t('Home'); ?>" /></a>
-      <?php endif; ?>
-
-      <?php if ($site_name || $site_slogan): ?>
-        <div id="name-and-slogan">
-          <?php if ($site_name): ?>
-            <div id="site-name"><strong>
-              <a href="<?php print $base_path; ?>" title="<?php print t('Home'); ?>" rel="home">
-              <?php print $site_name; ?>
-              </a>
-            </strong></div>
-          <?php endif; ?>
-          <?php if ($site_slogan): ?>
-            <div id="site-slogan"><?php print $site_slogan; ?></div>
-          <?php endif; ?>
-        </div> <!-- /#name-and-slogan -->
-      <?php endif; ?>
-
-      <?php print $header; ?>
-
-    </div></div> <!-- /.section, /#header -->
-
-    <div id="main-wrapper"><div id="main" class="clearfix<?php if ($navigation) { print ' with-navigation'; } ?>">
-
-      <div id="content" class="column"><div class="section">
-
-        <?php print $highlight; ?>
-
-        <?php if ($title): ?>
-          <h1 class="title"><?php print $title; ?></h1>
-        <?php endif; ?>
-        <?php if ($messages): print $messages; endif; ?>
-
-        <?php print $content_top; ?>
-
-        <div id="content-area">
-          <?php print $content; ?>
-        </div>
-
-        <?php print $content_bottom; ?>
-
-      </div></div> <!-- /.section, /#content -->
-
-      <?php if ($navigation): ?>
-        <div id="navigation"><div class="section clearfix">
-
-          <?php print $navigation; ?>
-
-        </div></div> <!-- /.section, /#navigation -->
-      <?php endif; ?>
-
-      <?php print $sidebar_first; ?>
-
-      <?php print $sidebar_second; ?>
-
-    </div></div> <!-- /#main, /#main-wrapper -->
-
-    <?php if ($footer || $footer_message): ?>
-      <div id="footer"><div class="section">
-
-        <?php if ($footer_message): ?>
-          <div id="footer-message"><?php print $footer_message; ?></div>
-        <?php endif; ?>
-
-        <?php print $footer; ?>
-
-      </div></div> <!-- /.section, /#footer -->
-    <?php endif; ?>
-
-  </div></div> <!-- /#page, /#page-wrapper -->
-
-  <?php print $page_closure; ?>
-
-  <?php print $closure; ?>
-
-</body>
-</html>
diff --git a/sites/all/themes/vibio/templates/network/friend-finder-messages.tpl.php b/sites/all/themes/vibio/templates/network/friend-finder-messages.tpl.php
deleted file mode 100644
index 3e51c6a..0000000
--- a/sites/all/themes/vibio/templates/network/friend-finder-messages.tpl.php
+++ /dev/null
@@ -1,4 +0,0 @@
-<div class="rounded_content" id="network_ff_messages">
-	<h4><?php echo t("Didn't find anyone to connect to?"); ?></h4>
-	<?php echo $errors; ?>
-</div>
diff --git a/sites/all/themes/vibio/templates/network/potential-friend.tpl.php b/sites/all/themes/vibio/templates/network/potential-friend.tpl.php
deleted file mode 100644
index 46c47d5..0000000
--- a/sites/all/themes/vibio/templates/network/potential-friend.tpl.php
+++ /dev/null
@@ -1,17 +0,0 @@
-<?php
-echo "
-	<div class='potential_friend'>
-		$photo
-		<div class='potential_friend_summary'>
-			<a href='/user/{$friend->info['uid']}'>
-				{$friend->info['name']}
-			</a><br />
-			{$friend_src_link}
-		</div>
-		<div class='potential_friend_links'>
-			{$uri_links}
-		</div>
-		<div class='clear'></div>
-	</div>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/network/potential-friends.tpl.php b/sites/all/themes/vibio/templates/network/potential-friends.tpl.php
deleted file mode 100644
index 0d3af3d..0000000
--- a/sites/all/themes/vibio/templates/network/potential-friends.tpl.php
+++ /dev/null
@@ -1,3 +0,0 @@
-<?php
-echo $friends_list;
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/new_user/stage-header.tpl.php b/sites/all/themes/vibio/templates/new_user/stage-header.tpl.php
deleted file mode 100644
index a7a72dd..0000000
--- a/sites/all/themes/vibio/templates/new_user/stage-header.tpl.php
+++ /dev/null
@@ -1,26 +0,0 @@
-<?php
-if ($stage['stage'] < $user_stage)
-{
-	$class = "stage_complete";
-}
-elseif ($stage['stage'] == $user_stage)
-{
-	$class = "stage_current_stage";
-}
-else
-{
-	$class = "stage_incomplete";
-}
-
-$class .= $stage['stage'] == -1 ? " stage_first" : "";
-
-$zindex = min(100, 100 - $stage['stage']);
-
-echo "
-	<div id='stage_header_{$stage['stage']}' class='stage_header $class' style='z-index: $zindex;'>
-		<span class='stage_header_text'>
-			{$stage['header']}
-		</span>
-	</div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/new_user/stage.tpl.php b/sites/all/themes/vibio/templates/new_user/stage.tpl.php
deleted file mode 100644
index 743d680..0000000
--- a/sites/all/themes/vibio/templates/new_user/stage.tpl.php
+++ /dev/null
@@ -1,60 +0,0 @@
-<?php
-if ($is_last_stage)
-{
-	$next_stage_text = "<a href='#' class='tutorial_init_next_stage'>".t("Or, skip this step and explore Vibio!")."</a>";
-}
-else
-{
-	$next_stage_text = t("Continue");
-	$next_stage_text = "
-		<div class='tutorial_init_next_stage'>
-			<div class='tutorial_button_left'></div>
-			<div class='tutorial_button_mid'>
-				$next_stage_text
-			</div>
-			<div class='tutorial_button_right'></div>
-		</div>
-	";
-}
-
-$stage_html = "
-	<div id='tutorial_stage_{$stage['stage']}' class='tutorial_stage'>
-		<h3 class='tutorial_stage_title'>{$stage['content_header']}</h4>
-";
-
-foreach ($stage['steps'] as $i => $step)
-{
-	$step_num = $i + 1;
-	$complete_class = $step->complete ? "" : "hidden";
-	$stepnum_class = $step->available ? "" : "unavailable";
-	$complete_text = t("Done!");
-	$header = $step->header ? "<div class='tutorial_step_header'>{$step->header}</div><div class='clear'></div>" : "";
-	$stepnum = $step->header ? "<div class='tutorial_step_stepnum $stepnum_class'>$step_num</div>" : "";
-	$stage_html .= "
-		<div class='tutorial_step' id='tutorial_stage_{$stage['stage']}_{$step_num}'>
-			$stepnum
-			<div class='step_content'>
-				$header
-				<div class='step_step_content'>
-					{$step->content}
-				</div>
-			</div>
-			<div class='step_complete $complete_class'>
-				$complete_text
-			</div>
-			<div class='clear'></div>
-		</div>
-	";
-}
-
-$stage_html .= "
-		<div class='tutorial_next_stage'>
-			<a href='#' class='tutorial_init_next_stage'>
-				$next_stage_text
-			</a>
-		</div>
-	</div>
-";
-
-echo $stage_html;
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/new_user/tutorial.tpl.php b/sites/all/themes/vibio/templates/new_user/tutorial.tpl.php
deleted file mode 100644
index 4205f66..0000000
--- a/sites/all/themes/vibio/templates/new_user/tutorial.tpl.php
+++ /dev/null
@@ -1,12 +0,0 @@
-<div id="newuser_tutorial_container">
-	<div id="newuser_tutorial_header">
-		<div id="newuser_header_header">
-			<?php echo t("Getting started with Vibio"); ?>
-		</div>
-		<?php echo $header_html; ?>
-		<div class="clear"></div>
-	</div>
-	<div id="newuser_tutorial">
-		<?php echo $stage_html; ?>
-	</div>
-</div>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/node-offer.tpl.php b/sites/all/themes/vibio/templates/node-offer.tpl.php
deleted file mode 100644
index 049b38c..0000000
--- a/sites/all/themes/vibio/templates/node-offer.tpl.php
+++ /dev/null
@@ -1,233 +0,0 @@
-<h1>Note: using the node-offer template</h1>
-
-<?php
-// $Id: node.tpl.php,v 1.10 2009/11/02 17:42:27 johnalbin Exp $
-dpm(array("node-offer.tpl node" => $node));
-
-
-/**
- * @file
- * Theme implementation to display a node.
- *
- * Available variables:
- * - $title: the (sanitized) title of the node.
- * - $content: Node body or teaser depending on $teaser flag.
- * - $user_picture: The node author's picture from user-picture.tpl.php.
- * - $date: Formatted creation date. Preprocess functions can reformat it by
- *   calling format_date() with the desired parameters on the $created variable.
- * - $name: Themed username of node author output from theme_username().
- * - $node_url: Direct url of the current node.
- * - $terms: the themed list of taxonomy term links output from theme_links().
- * - $display_submitted: whether submission information should be displayed.
- * - $links: Themed links like "Read more", "Add new comment", etc. output
- *   from theme_links().
- * - $classes: String of classes that can be used to style contextually through
- *   CSS. It can be manipulated through the variable $classes_array from
- *   preprocess functions. The default values can be one or more of the
- *   following:
- *   - node: The current template type, i.e., "theming hook".
- *   - node-[type]: The current node type. For example, if the node is a
- *     "Blog entry" it would result in "node-blog". Note that the machine
- *     name will often be in a short form of the human readable label.
- *   - node-teaser: Nodes in teaser form.
- *   - node-preview: Nodes in preview mode.
- *   The following are controlled through the node publishing options.
- *   - node-promoted: Nodes promoted to the front page.
- *   - node-sticky: Nodes ordered above other non-sticky nodes in teaser
- *     listings.
- *   - node-unpublished: Unpublished nodes visible only to administrators.
- *   The following applies only to viewers who are registered users:
- *   - node-by-viewer: Node is authored by the user currently viewing the page.
- *
- * Other variables:
- * - $node: Full node object. Contains data that may not be safe.
- * - $type: Node type, i.e. story, page, blog, etc.
- * - $comment_count: Number of comments attached to the node.
- * - $uid: User ID of the node author.
- * - $created: Time the node was published formatted in Unix timestamp.
- * - $classes_array: Array of html class attribute values. It is flattened
- *   into a string within the variable $classes.
- * - $zebra: Outputs either "even" or "odd". Useful for zebra striping in
- *   teaser listings.
- * - $id: Position of the node. Increments each time it's output.
- *
- * Node status variables:
- * - $build_mode: Build mode, e.g. 'full', 'teaser'...
- * - $teaser: Flag for the teaser state (shortcut for $build_mode == 'teaser').
- * - $page: Flag for the full page state.
- * - $promote: Flag for front page promotion state.
- * - $sticky: Flags for sticky post setting.
- * - $status: Flag for published status.
- * - $comment: State of comment settings for the node.
- * - $readmore: Flags true if the teaser content of the node cannot hold the
- *   main body content.
- * - $is_front: Flags true when presented in the front page.
- * - $logged_in: Flags true when the current user is a logged-in member.
- * - $is_admin: Flags true when the current user is an administrator.
- *
- * The following variables are deprecated and will be removed in Drupal 7:
- * - $picture: This variable has been renamed $user_picture in Drupal 7.
- * - $submitted: Themed submission information output from
- *   theme_node_submitted().
- *
- * @see template_preprocess()
- * @see template_preprocess_node()
- * @see zen_preprocess()
- * @see zen_preprocess_node()
- * @see zen_process()
- */
-?>
-
-  <?php /* we need the conversation/negotiation */
-$viewName = 'offer_conversation';
-$display_id = 'default';
-$myArgs = array($node->nid); // node is this offer
-	// below is much like views_embed_view
-  $view_neg = views_get_view($viewName);
-  $view_neg->set_arguments($myArgs);
-	// access could get complicated, not wireframed yet!
-	$chit_chat = $view_neg->preview($display_id, $args);
-				print "<h1>Result</h1>";
-						//dpr( $view_neg->result );
-				/* looks like this, sorts by date:
-						[0] => stdClass Object
-								(
-										[nid] => 20029
-										[node_created] => 1309999051
-								)
-				*/
-
-	/* Need the most recent buyer and seller node from the communications */
-	foreach ( $view_neg->result as $neg ) {
-		$neg = node_load($neg->nid); // need rest of node loaded, another way???!!!
-		//dpr( $neg );
-		if ( !$current_seller && ( $neg->type == 'offer_neg_seller' ) ) {
-			$current_seller = $neg;
-		} 
-		elseif ( !$current_buyer && ( $neg->type == 'offer_neg_buyer' ) ) {
-			$current_buyer = $neg;
-		}
-	}
-
-
-	/* We need the user, and perhaps picture, of the nodereferenced item */
-	$item_nid = $node->field_item_sought[0][nid];
-	$item = node_load($item_nid);
-	$item_owner = $item->uid;
-	print "<h3>Owned by $item_owner, I am $user->uid</h3>";
-	//dpr(array("item for sale is" => $item));
-	//dpr(array("this offer node is" => $node));
-
-
-	print "<p>{admin}Most recent buyer neg is " . $current_buyer->nid . " uid " . $current_buyer->uid . " ... buyer is this user if no buyer set " . $user->uid;
-	print "<p>{admin}Most recent seller neg is " . $current_seller->nid  . " uid " . $current_seller->uid . " which always (unless blank) matches item owner " . $item_owner;
-
-
-	// Permissions are based on who this is 
-	//  !!! What to do if making offer on your own item? For now, allowed
-	global $user;
-	if ( $current_buyer->uid == $user->uid ||
-			 !$current_buyer) {  /* you made the offer, or there is none yet */
-		$perm_buyer = 1; 
-	}
-	if ( $item_owner == $user->uid ) { $perm_seller = 1; }
-
-?>
-</pre>
-
-<div id="node-<?php print $node->nid; ?>" class="<?php print $classes; ?> clearfix popthis">
-
- <div id="product_info_in_offer" style="border: 1px solid black;">
-  <?php /* product picture (name in title) */ ?>
-   <div class="item_title"><?php print $item->title; ?></div>
-   <div class="item_picture" style="height: 60px; widht: 60px;"><?php print $item->picture; ?></div>
- </div>
-
- <?php /* render cck fields?  drupal_render($node->content); 
-		field_myfield[0]['view']; */ ?>
-
-
- <div id="seller_info_in_offer" style="border: 1px solid black;">
-  <?php print "Picture and name of $item_owner"; ?>
-  <br>Requested price: <?php print $item->offer2buy[settings][price]; ?>
-  get the most recent seller post from a view?
-<?php print content_view_field(content_fields("field_sale_status"), $current_seller, FALSE, FALSE);?>
-<?php print content_view_field(content_fields("field_sale_actions"), $current_seller, FALSE, FALSE);?>
-
-
- </div>
- 
- <div id="buyer_info_in_offer" style="border: 1px solid black;">
-  <?php print "Picture and name of " . $node->uid; ?>
-  <br><?php print "Last offer (get last offer post info)"; ?>
-<?php print content_view_field(content_fields("field_offer_expires"), $current_buyer, FALSE, FALSE);?>
-<?php print content_view_field(content_fields("field_city"), $current_buyer, FALSE, FALSE);?>
-
-
- </div>
-   
-  <?php if ($unpublished ): ?>
-    <div class="unpublished"><?php print t('Unpublished'); ?></div>
-  <?php endif; ?>
-
-  <?php if ('get rid of' == 'normal content' && $display_submitted || $terms): ?>
-    <div class="meta">
-      <?php if ($display_submitted): ?>
-        <span class="submitted">
-          <?php
-            print t('Submitted by !username on !datetime',
-              array('!username' => $name, '!datetime' => $date));
-          ?>
-        </span>
-      <?php endif; ?>
-
-    </div>
-  <?php endif; ?>
-
-
-<?php
-  if(!function_exists("node_object_prepare")) {
-    include_once(drupal_get_path('module', 'node') . '/node.pages.inc');
-  }
-
-		if ( $perm_seller ) { /* permissions of seller true */
-			echo '<h3>Negotiate Your Sale</h3>';
-
-			// Add 1st add node form
-			// title?
-			global $user;
-			$first_node = new stdClass();
-			$first_node->type = 'offer_neg_seller';
-			// set the user
-			$first_node->uid = $user->uid;	
-			$first_node->name = $user->name;
-			// set the offer it's attached to
-			// [field_offer]
-			$first_node->field_offer[0]['nid'] = $node->nid;  // node is this offer
-			$output = drupal_get_form('offer_neg_seller_node_form', $first_node);
-  	}
-		if ( $perm_buyer ) { 
-      echo '<h3>Negotiate to Buy</h3>';
-
-			$second_node = new stdClass();
-			$second_node->type = 'offer_neg_buyer';
-			// set the user
-			$second_node->uid = $user->uid;	
-			$second_node->name = $user->name;
-			// set the offer it's attached to
-			// [field_offer]
-			$second_node->field_offer[0]['nid'] = $node->nid;  // node is this offer
-			$output .= drupal_get_form('offer_neg_buyer_node_form', $second_node);
-		}
-
-print $output;
-?>
-
-<h3>Chit Chat</h3>
-  <?php /* print the conversation, view defined (and cache loaded) above */
-//print views_embed_view($viewName, $display_id, $myArgs);
-print $chit_chat;
-  ?>
-
-  <?php print $links; ?>
-</div> <!-- /.node -->
diff --git a/sites/all/themes/vibio/templates/node-product.tpl.php b/sites/all/themes/vibio/templates/node-product.tpl.php
deleted file mode 100644
index 9d3bc02..0000000
--- a/sites/all/themes/vibio/templates/node-product.tpl.php
+++ /dev/null
@@ -1,144 +0,0 @@
-<h3 style="color: red;">template: node-vibio-product, keep this one</h3>
-
-<?php
-$title = "<h3 class='product_title'>".check_plain($node->title)."</h3>";
-
-/* Back link for searches */
-if ($_GET['searchcrumb'])
-{
-	/* stephen: security updtae 20110609 */
-	$sanitary = htmlspecialchars ( $_GET['searchcrumb'],   ENT_QUOTES );
-  	$searchcrumb = t("Back to search results");
-	$searchcrumb = "<a href='{$sanitary}'>$searchcrumb</a><br /> . ";
-}
-else
-{
-	$searchcrumb = "";
-}
-
-if ($image = _product_get_image($node->nid, true))
-{
-	$image = "
-		<a href='$image' rel='prettyphoto[item_image]'>
-			<img src='$image' class='product_main_image' />
-		</a>
-	";
-}
-
-/* stephen: security update 20110609 */
-$sanitary = htmlspecialchars ( $_GET['searchcrumb'],   ENT_QUOTES );
-$manage_link = theme("product_inventory_manage_link", $node, $sanitary);
-
-if (isset($node->amazon_data))
-{
-	if (empty($node->body))
-	{
-		$product_content = theme("product_amazon_display", $node, $page);
-	}
-	else
-	{
-		$product_content = theme("product_display", $node, $page);
-		$product_content .= theme("vibio_amazon_item_details", $node);
-	}
-	
-	$external_link = $page ? t("Get \"!item\" from !external_link.", array("!item" => $node->title, "!external_link" => l(t("Amazon"), $node->amazon_data['detailpageurl'], array("absolute" => true)))) : "";
-	$external_it_link =  t("Find it on !external_link.", array("!external_link" => l(t("Amazon"), $node->amazon_data['detailpageurl'], array("absolute" => true))));
-
-}
-else
-{
-	$product_content = theme("product_display", $node, $page);
-}
-
-// these things will show up, regardless of the product source
-if (arg(0) != "product" && arg(2) != "add-to-inventory")
-{
-	drupal_set_title($node->title);
-}
-
-/*  This section is for the page starting after "People who have...." */
-if ($page)
-{
-	module_load_include("inc", "product");
-	
-	$product_images = theme("vibio_item_images", product_images($node));
-	$any_collectors = ''; // boolean	
-
-	foreach (_product_get_product_owners($node->nid, $user->uid) as $type => $data)
-	{
-		// $data are [count] => 0 [page] => 0 [results] =>
-		if ( $data[count] ) { 
-			$any_collectors = 1;
-		}
-		$type_title = $type == "network" ? t("In your network") : t("On Vibio");
-		$product_owners .= "<div class='product_owners_type_container' id='product_type_{$type}'>";
-		//$product_owners .= "<h4 class='product_description'>$type_title</h4>";
-		$product_owners .= "<div class='product_owners_results'>";
-		$product_owners .= theme("product_owners", $type, $data);
-		
-		$product_owners .= "</div></div>";
-	}
-	
-	// $owners_header	
-	$owners_header = '';
-	$extra_data = '';
-	
-	if ( $any_collectors ) {
-		$owners_header = t("Collectors who have !title in their inventory", array("!title" => $node->title));
-		$extra_data = "
-			<div class='product_extra_data'>
-				$product_images
-				<h3>$owners_header</h3>
-				$product_owners
-				<p>$external_link</p>
-			</div>
-		";
-
-	} else {
-		// note: if you own it, doesn't seem to show up... so...
-		if ( product_user_owns_product($node->nid) ) {
-			$non_header = t("Besides yourself, no other Vibio Collectors in your network have this item.");
-		} else {
-			$non_header = t ("Be the first Vibio Collector in your network with <em>!title</em>", array("!title" => $node->title));
-		}
-		$extra_data = "
-                        <div class='product_extra_data'>
-				<h3>$non_header</h3>
-				<p>$external_link</p>
-			</div>
-		";	
-	} 
-
-
-
-}
-else
-{
-	$extra_data = "";
-	if ($node->item)
-	{
-		$price_image = theme("vibio_item_price_image", $node->item);
-	}
-}
-
-echo "
-	searchcrumb: $searchcrumb
-	<div class='external_short_link'>
-		$external_it_link
-	</div>
-	<div class='product_image'>
-		$price_image
-		$image<br />
-		$manage_link
-	</div>
-	<div class='product_node_data'>
-		<a href='/node/{$node->nid}'>
-			$title
-		</a>
-		<h4 class='product_description'>Description</h4>
-		$product_content
-	</div>
-	<div class='clear'></div>
-	$extra_data
-";
-?>
diff --git a/sites/all/themes/vibio/templates/node-vibio_item.tpl.php b/sites/all/themes/vibio/templates/node-vibio_item.tpl.php
deleted file mode 100644
index 083b2f2..0000000
--- a/sites/all/themes/vibio/templates/node-vibio_item.tpl.php
+++ /dev/null
@@ -1,99 +0,0 @@
-<h3 style="color: red;">template: node-vibio-item, eventually to be removed</h3>
-<?php
-/* stephen: what about a teaser view, similar but cleaner, for new themes? 
- *	It looks like the new themes are product-driven, rather than item-driven
- *	most but not all the time.  vibio_wires 4/11 #11 could use a teaser?
- *  	Confusing because the new designs are product-centric, v1.0 
- *	item-centric.
- *
- * $links was removed from this.  
- */
-
-global $user;
-$offer2buy = "";
-
-if ($node->offer2buy['settings']['price'] == 0 && $node->offer2buy['settings']['is_negotiable'])
-{
-	$offer2buy = t("Price: Best Offer");
-}
-else
-{
-	$offer2buy = t("Price: \$!price", array("!price" => $node->offer2buy['settings']['price']));
-	
-	if ($node->offer2buy['settings']['is_negotiable'])
-	{
-		$offer2buy .= " (".t("Negotiable").")";
-	}
-}
-
-$offer2buy = "<div class='node_offer2buy_price'>$offer2buy</div>";
-
-/* if it's not yours, and you're not anonymous, make an offer */
-if ($user->uid > 0 && $user->uid != $node->uid)
-{
-	/* aksi called by vibio_item/offer_to_buy/offer2buy.module,
-		that one wants a button 
-	 * offer2buy.module defines offer2buy_init to the template,
-	 *  and assumes that it should be "new" ... which seems like an error,
-	 *  like it doesn't let you edit your offer?  correct...
-	 *  "You already have a pending offer on this item. The details of that offer are shown below. Any edits will replace your original offer.
-	 * Somewhere in the process, it sends the requested offer amount 
-	 *  must be via nid)
-	 * This creates the offer form that is called up by this button:
-	 *  function offer2buy_offer_form(&$state, $nid, $referrer)
-	 * It won't stop getting weirder: this produces the links,
-	 *  some other code produces "make offer" button!
-
-	 * old make-offer button, removed by stephen:
-	 $offer2buy_extra .= theme("offer2buy_init", $node->nid);
-         */ 
-
-	// The v1.1 offer button, only on the item page!!!! Shit. Looks
-	//  so similar to the product page I don't know where I am,
-	//  
-	// add or edit?
-	if ( $offer_id == 'not yet written: = offer_already($user->uid, $node->nid)' ) {
-		// edit_link	
-		$offer2buy_extra .= "<a class='offer2buy_init'
-			href='the edit link for $offer_id'>edit your offer</a>";
-	} else {
-		$nid = $node->nid;
-		// if we ever give up on popups, use destination=this url
-		$offer2buy_extra .= "<a class='offer2buy_init popup'
-			href='add/offer/$nid'>offer popup</a>";	
-	}
-	
-} /* !!! else, if you're anonymous, sign in to make an offer?? */
-
-if ($node->offer2buy['settings']['allow_offer_views'] || $user->uid == $node->uid)
-{
-	$popup_content = empty($node->offer2buy['offers']) ? t("There are currently no offers on this item") : theme("offer2buy_offer_list", $node->offer2buy['offers'], $user->uid == $node->uid);
-	$offer2buy_extra .= theme("offer2buy_existing_offers_popup", $popup_content);
-}
-
-$offer2buy = $offer2buy_extra.$offer2buy;
-
-/* product info may be from an external source like Amazon,
-	stephen: terrible confusion between items and products, change this */
-$product = node_load($node->product_nid);
-$product->item =& $node;
-$product_data = $node->product_nid ? node_view($product) : "";
-$user_other_items = theme("vibio_item_user_other_items", $node);
-
-/* $node->title and body are specific to the owner of the item */
-echo "
-	{$product_data}
-	<div class='product_extra_data'>
-		<div class='node_vibio_item_title'>
-			{$node->title}
-		</div>
-		<div class='offer2buy_node_display'>
-			{$offer2buy}
-		</div>
-		<div class='clear'></div>
-		{$node->body}
-		{$item_extra_images}<br />
-		{$user_other_items}
-	</div>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/node-vibio_item.tpl.php-hold b/sites/all/themes/vibio/templates/node-vibio_item.tpl.php-hold
deleted file mode 100644
index 4187f15..0000000
--- a/sites/all/themes/vibio/templates/node-vibio_item.tpl.php-hold
+++ /dev/null
@@ -1,64 +0,0 @@
-node-vibio-item
-<?php
-/* stephen: what about a teaser view, similar but cleaner, for new themes? 
- *	It looks like the new themes are product-driven, rather than item-driven
- *	most but not all the time.  vibio_wires 4/11 #11 could use a teaser?
- *  	Confusing because the new designs are product-centric, v1.0 
- *	item-centric.
- */
-
-global $user;
-$offer2buy = "";
-
-if ($node->offer2buy['settings']['price'] == 0 && $node->offer2buy['settings']['is_negotiable'])
-{
-	$offer2buy = t("Price: Best Offer");
-}
-else
-{
-	$offer2buy = t("Price: \$!price", array("!price" => $node->offer2buy['settings']['price']));
-	
-	if ($node->offer2buy['settings']['is_negotiable'])
-	{
-		$offer2buy .= " (".t("Negotiable").")";
-	}
-}
-
-$offer2buy = "<div class='node_offer2buy_price'>$offer2buy</div>";
-
-if ($user->uid > 0 && $user->uid != $node->uid)
-{
-	$offer2buy_extra .= theme("offer2buy_init", $node->nid);
-}
-
-if ($node->offer2buy['settings']['allow_offer_views'] || $user->uid == $node->uid)
-{
-	$popup_content = empty($node->offer2buy['offers']) ? t("There are currently no offers on this item") : theme("offer2buy_offer_list", $node->offer2buy['offers'], $user->uid == $node->uid);
-	$offer2buy_extra .= theme("offer2buy_existing_offers_popup", $popup_content);
-}
-
-$offer2buy = $offer2buy_extra.$offer2buy;
-
-/* product info may be from an external source like Amazon */
-$product = node_load($node->product_nid);
-$product->item =& $node;
-$product_data = $node->product_nid ? node_view($product) : "";
-$user_other_items = theme("vibio_item_user_other_items", $node);
-
-/* $node->title and body are specific to the owner of the item */
-echo "
-	{$product_data}
-	<div class='product_extra_data'>
-		<div class='node_vibio_item_title'>
-			{$node->title}
-		</div>
-		<div class='offer2buy_node_display'>
-			{$offer2buy}
-		</div>
-		<div class='clear'></div>
-		{$node->body}
-		{$item_extra_images}<br />
-		{$user_other_items}
-	</div>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/node-view-user_selling_offered.tpl.php b/sites/all/themes/vibio/templates/node-view-user_selling_offered.tpl.php
deleted file mode 100644
index 19a4083..0000000
--- a/sites/all/themes/vibio/templates/node-view-user_selling_offered.tpl.php
+++ /dev/null
@@ -1,126 +0,0 @@
-<?php
-// $Id: node.tpl.php,v 1.10 2009/11/02 17:42:27 johnalbin Exp $
-
-/**
- * @file
- * Theme implementation to display a node.
- *
- * Available variables:
- * - $title: the (sanitized) title of the node.
- * - $content: Node body or teaser depending on $teaser flag.
- * - $user_picture: The node author's picture from user-picture.tpl.php.
- * - $date: Formatted creation date. Preprocess functions can reformat it by
- *   calling format_date() with the desired parameters on the $created variable.
- * - $name: Themed username of node author output from theme_username().
- * - $node_url: Direct url of the current node.
- * - $terms: the themed list of taxonomy term links output from theme_links().
- * - $display_submitted: whether submission information should be displayed.
- * - $links: Themed links like "Read more", "Add new comment", etc. output
- *   from theme_links().
- * - $classes: String of classes that can be used to style contextually through
- *   CSS. It can be manipulated through the variable $classes_array from
- *   preprocess functions. The default values can be one or more of the
- *   following:
- *   - node: The current template type, i.e., "theming hook".
- *   - node-[type]: The current node type. For example, if the node is a
- *     "Blog entry" it would result in "node-blog". Note that the machine
- *     name will often be in a short form of the human readable label.
- *   - node-teaser: Nodes in teaser form.
- *   - node-preview: Nodes in preview mode.
- *   The following are controlled through the node publishing options.
- *   - node-promoted: Nodes promoted to the front page.
- *   - node-sticky: Nodes ordered above other non-sticky nodes in teaser
- *     listings.
- *   - node-unpublished: Unpublished nodes visible only to administrators.
- *   The following applies only to viewers who are registered users:
- *   - node-by-viewer: Node is authored by the user currently viewing the page.
- *
- * Other variables:
- * - $node: Full node object. Contains data that may not be safe.
- * - $type: Node type, i.e. story, page, blog, etc.
- * - $comment_count: Number of comments attached to the node.
- * - $uid: User ID of the node author.
- * - $created: Time the node was published formatted in Unix timestamp.
- * - $classes_array: Array of html class attribute values. It is flattened
- *   into a string within the variable $classes.
- * - $zebra: Outputs either "even" or "odd". Useful for zebra striping in
- *   teaser listings.
- * - $id: Position of the node. Increments each time it's output.
- *
- * Node status variables:
- * - $build_mode: Build mode, e.g. 'full', 'teaser'...
- * - $teaser: Flag for the teaser state (shortcut for $build_mode == 'teaser').
- * - $page: Flag for the full page state.
- * - $promote: Flag for front page promotion state.
- * - $sticky: Flags for sticky post setting.
- * - $status: Flag for published status.
- * - $comment: State of comment settings for the node.
- * - $readmore: Flags true if the teaser content of the node cannot hold the
- *   main body content.
- * - $is_front: Flags true when presented in the front page.
- * - $logged_in: Flags true when the current user is a logged-in member.
- * - $is_admin: Flags true when the current user is an administrator.
- *
- * The following variables are deprecated and will be removed in Drupal 7:
- * - $picture: This variable has been renamed $user_picture in Drupal 7.
- * - $submitted: Themed submission information output from
- *   theme_node_submitted().
- *
- * @see template_preprocess()
- * @see template_preprocess_node()
- * @see zen_preprocess()
- * @see zen_preprocess_node()
- * @see zen_process()
- */
-?>
-<div style="color: #aaa; background: yellow;">
-<h3>The Plan</h3>
-<p>Show your item, with photo and category and title (do we have in v1.0)
-and your asking price.
-
-<p>Their photo, a linkable username.  Offer, expires and city.
-
-<p>Accept/Discuss/Negotiate and Decline buttons
-</div>
-<pre>
-<?php
-dsm($node);
-?>
-</pre>
-<div id="node-<?php print $node->nid; ?>" class="<?php print $classes; ?> clearfix">
-
-<h4>Item Sought: <?php print $node->field_item_sought[0][view]; ?>:</h4>
-
-  <?php print $user_picture; /* vibiosity will go here
- * Watch out -- weird css here: themes/vibio/css/pages.css
- * imagecache on next revision	
- */ ?>
-
-<?php /* create a tpl just for this? */ 
-/* ANOTHER POSSIBLE STYLE, but these are just notes, trying popups module first:
-       <div class='offer2buy_popup'>
-               &nbsp;- <a class='offer2buy_offer_view_popup_init'>
-                      Negotiate as a popup
-               </a>
-               <div class='offer2buy_offer_view_popup'>
-                       <div class='view-content'>whatever goes in the popup</div>
-               </div>
-       </div>
-*/
-?>
-<div class="negotiation_block" style="float: right; width: 200px;">
-	<a  class="popups" href="node/<?php print $node->nid; ?>">Negotiate</a>
-</div>
-
-  <?php if ($unpublished): ?>
-    <div class="unpublished"><?php print t('Unpublished'); ?></div>
-  <?php endif; ?>
-
-  <div class="content">
-    <?php print $name;  /* v2: connection level */ ?>
-    <br>Offer: <strong><?php print $node->field_price[0][view] ?></strong> (<?php print $date; ?>)&nbsp;&nbsp;&nbsp;Expires: <?php print $node->field_offer_expires[0][view]; ?>
-    <br>Ship to: <?php print $node->field_city[0][view]; ?>
-  </div>
-
-
-</div> <!-- /.node -->
diff --git a/sites/all/themes/vibio/templates/node.tpl.php b/sites/all/themes/vibio/templates/node.tpl.php
deleted file mode 100644
index 53ece01..0000000
--- a/sites/all/themes/vibio/templates/node.tpl.php
+++ /dev/null
@@ -1,109 +0,0 @@
-<?php
-// $Id: node.tpl.php,v 1.10 2009/11/02 17:42:27 johnalbin Exp $
-
-/**
- * @file
- * Theme implementation to display a node.
- *
- * Available variables:
- * - $title: the (sanitized) title of the node.
- * - $content: Node body or teaser depending on $teaser flag.
- * - $user_picture: The node author's picture from user-picture.tpl.php.
- * - $date: Formatted creation date. Preprocess functions can reformat it by
- *   calling format_date() with the desired parameters on the $created variable.
- * - $name: Themed username of node author output from theme_username().
- * - $node_url: Direct url of the current node.
- * - $terms: the themed list of taxonomy term links output from theme_links().
- * - $display_submitted: whether submission information should be displayed.
- * - $links: Themed links like "Read more", "Add new comment", etc. output
- *   from theme_links().
- * - $classes: String of classes that can be used to style contextually through
- *   CSS. It can be manipulated through the variable $classes_array from
- *   preprocess functions. The default values can be one or more of the
- *   following:
- *   - node: The current template type, i.e., "theming hook".
- *   - node-[type]: The current node type. For example, if the node is a
- *     "Blog entry" it would result in "node-blog". Note that the machine
- *     name will often be in a short form of the human readable label.
- *   - node-teaser: Nodes in teaser form.
- *   - node-preview: Nodes in preview mode.
- *   The following are controlled through the node publishing options.
- *   - node-promoted: Nodes promoted to the front page.
- *   - node-sticky: Nodes ordered above other non-sticky nodes in teaser
- *     listings.
- *   - node-unpublished: Unpublished nodes visible only to administrators.
- *   The following applies only to viewers who are registered users:
- *   - node-by-viewer: Node is authored by the user currently viewing the page.
- *
- * Other variables:
- * - $node: Full node object. Contains data that may not be safe.
- * - $type: Node type, i.e. story, page, blog, etc.
- * - $comment_count: Number of comments attached to the node.
- * - $uid: User ID of the node author.
- * - $created: Time the node was published formatted in Unix timestamp.
- * - $classes_array: Array of html class attribute values. It is flattened
- *   into a string within the variable $classes.
- * - $zebra: Outputs either "even" or "odd". Useful for zebra striping in
- *   teaser listings.
- * - $id: Position of the node. Increments each time it's output.
- *
- * Node status variables:
- * - $build_mode: Build mode, e.g. 'full', 'teaser'...
- * - $teaser: Flag for the teaser state (shortcut for $build_mode == 'teaser').
- * - $page: Flag for the full page state.
- * - $promote: Flag for front page promotion state.
- * - $sticky: Flags for sticky post setting.
- * - $status: Flag for published status.
- * - $comment: State of comment settings for the node.
- * - $readmore: Flags true if the teaser content of the node cannot hold the
- *   main body content.
- * - $is_front: Flags true when presented in the front page.
- * - $logged_in: Flags true when the current user is a logged-in member.
- * - $is_admin: Flags true when the current user is an administrator.
- *
- * The following variables are deprecated and will be removed in Drupal 7:
- * - $picture: This variable has been renamed $user_picture in Drupal 7.
- * - $submitted: Themed submission information output from
- *   theme_node_submitted().
- *
- * @see template_preprocess()
- * @see template_preprocess_node()
- * @see zen_preprocess()
- * @see zen_preprocess_node()
- * @see zen_process()
- */
-?>
-<div id="node-<?php print $node->nid; ?>" class="<?php print $classes; ?> clearfix">
-  <?php print $user_picture; ?>
-
-  <?php if (!$page): ?>
-    <h2 class="title"><a href="<?php print $node_url; ?>"><?php print $title; ?></a></h2>
-  <?php endif; ?>
-
-  <?php if ($unpublished): ?>
-    <div class="unpublished"><?php print t('Unpublished'); ?></div>
-  <?php endif; ?>
-
-  <?php if ($display_submitted || $terms): ?>
-    <div class="meta">
-      <?php if ($display_submitted): ?>
-        <span class="submitted">
-          <?php
-            print t('Submitted by !username on !datetime',
-              array('!username' => $name, '!datetime' => $date));
-          ?>
-        </span>
-      <?php endif; ?>
-
-      <?php if ($terms): ?>
-        <div class="terms terms-inline"><?php print $terms; ?></div>
-      <?php endif; ?>
-    </div>
-  <?php endif; ?>
-
-  <div class="content">
-    <?php print $content; ?>
-  </div>
-
-  <?php print $links; ?>
-</div> <!-- /.node -->
diff --git a/sites/all/themes/vibio/templates/offer2buy/action-item.tpl.php b/sites/all/themes/vibio/templates/offer2buy/action-item.tpl.php
deleted file mode 100644
index f2ce888..0000000
--- a/sites/all/themes/vibio/templates/offer2buy/action-item.tpl.php
+++ /dev/null
@@ -1,66 +0,0 @@
-<?php
-$target_user = $type == "required" ? user_load($action['target_uid']) : user_load($action['uid']);
-$profile_pic = $target_user->picture ? file_create_url($target_user->picture) : "/themes/vibio/images/icons/default_user.png";
-$node = node_load($action['nid']);
-$item_image = _vibio_item_get_image($node->nid);
-
-switch ($action['required_action'])
-{
-	case OFFER2BUY_ACTION_SEND_PAYMENT:
-		$act = t("send payment to");
-		break;
-	case OFFER2BUY_ACTION_RECEIVE_PAYMENT:
-		$act = t("accept payment from");
-		break;
-	case OFFER2BUY_ACTION_SEND_ITEM:
-		$act = t("send item to");
-		break;
-	case OFFER2BUY_ACTION_RECEIVE_ITEM:
-		$act = t("accept item from");
-		break;
-}
-
-$message_params = array(
-	"!action"	=> $act,
-	"!user"		=> l($target_user->name, "user/{$target_user->uid}"),
-	"!item"		=> l($node->title, "node/{$node->nid}"),
-);
-
-if ($type == "required")
-{
-	$message = t("You need to !action !user for !item", $message_params);
-	$action_complete_form = drupal_get_form("offer2buy_action_complete_{$action['nid']}_{$action['uid']}_{$action['target_uid']}_{$action['required_action']}", $action);
-}
-else
-{
-	$message = t("!user needs to !action you for !item", $message_params);
-}
-
-$transaction_cancel_form = drupal_get_form("offer2buy_transaction_cancel_{$action['nid']}", $action['nid']);
-//$message.$action_complete_form.$transaction_cancel_form."<div style='clear: both;'></div>";
-echo "
-	<tr>
-		<td class='views-field views-field-picture'>
-			<div class='picture'>
-				<a href='/user/{$target_user->uid}'>
-					<img src='$profile_pic' alt='{$target_user->name}' title='{$target_user->name}' />
-				</a>
-			</div>
-		</td>
-		<td class='views-field views-field-message'>
-			<div class='views_node_image_container'>
-				<a href='/node/{$node->nid}'>
-					<img src='$item_image' />
-				</a>
-			</div>
-			<div class='views_message'>
-				$message
-				<div class='views_actions'>
-					$action_complete_form
-					$transaction_cancel_form
-				</div>
-			</div>
-		</td>
-	</tr>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/offer2buy/action-list.tpl.php b/sites/all/themes/vibio/templates/offer2buy/action-list.tpl.php
deleted file mode 100644
index 9145763..0000000
--- a/sites/all/themes/vibio/templates/offer2buy/action-list.tpl.php
+++ /dev/null
@@ -1,32 +0,0 @@
-<?php
-$header = $type == "required" ? t("Required") : t("Pending");
-$header = t("!type Actions", array("!type" => $header));
-$description = $type == "required" ? t("These are actions that you need to do") : t("These are actions others need to do for items you've won");
-
-$output = empty($list) ? t("There is nothing that needs to be done here.") : "<div class='view-content indent'><table>";
-
-if (empty($list))
-{
-	$output = t("There's nothing you need to do here");
-}
-else
-{
-	$output = "<table>";
-	foreach ($list as $action)
-	{
-		$output .= theme("offer2buy_action_item", $action, $type);
-	}
-	$output .= "</table>";
-}
-
-
-echo "
-	<div class='offer2buy_notification rounded_content'>
-		<h2>$header</h2>
-		$description
-		<div class='view-content indent'>
-			$output
-		</div>
-	</div>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/offer2buy/all-offers.tpl.php b/sites/all/themes/vibio/templates/offer2buy/all-offers.tpl.php
deleted file mode 100644
index f155f0b..0000000
--- a/sites/all/themes/vibio/templates/offer2buy/all-offers.tpl.php
+++ /dev/null
@@ -1,28 +0,0 @@
-<?php
-$header = "<h2>".t("Offers on Your Items")."</h2>";
-$content = "";
-
-if (empty($items))
-{
-	$empty_message = t("There are no offers on any of your items");
-	$content = "<small>$empty_message</small>";
-}
-else
-{
-	$content = "<table>";
-	foreach ($items as $i)
-	{
-		$content .= theme("offer2buy_offer_list", $i['offers'], true);
-	}
-	$content .= "</table>";
-}
-
-echo "
-	<div class='offer2buy_notification rounded_content'>
-		$header
-		<div class='view-content indent'>
-			$content
-		</div>
-	</div>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/offer2buy/init.tpl.php b/sites/all/themes/vibio/templates/offer2buy/init.tpl.php
deleted file mode 100644
index bd1ccfe..0000000
--- a/sites/all/themes/vibio/templates/offer2buy/init.tpl.php
+++ /dev/null
@@ -1,42 +0,0 @@
-<h6>init.tpl.php is crap and needs to be backtraced and removed</h6>
-
-<?php
-// offer2buy_init: "arguments"     => array("nid" => false, "offer_type" => "new"),
-// called from function offer2buy_preprocess_product_owner(&$vars) {
-
-
-$make_offer = t("make offer");
-$change_offer = t("change offer");
-// passes in $init_text and $nid
-
-switch ($offer_type)
-{
-	/* called by product.tpl */
-	case "button":
-		$text = "<a class='offer2buy_init_v1_2 popupsTOOSLOW'
-                        href='add/offer/$nid'>offer popup</a>";
-		//$init_text = "<button class='offer2buy_init'>$make_offer</button>";
-/*
-print '<pre>';
-debug_print_backtrace();
-DDEBUG_BACKTRACE();
-*/
-
-		break; 
-	case "new":
-		$init_text = "&nbsp;- <a class='offer2buy_init'>$make_offer</a>";
-		break;
-	case "edit":
-		$init_text = "&nbsp;- <a class='offer2buy_init'>$change_offer</a>";
-		break;
-	
-}
-?>
-
-
-<div class='offer2buy offer2buy_popup'>
-	<span class='offer2buy_nid'><?php echo $nid; ?></span>
-	<?php echo $init_text; ?>
-</div>
-        <?php echo "heres teh link: " . $text; ?>
-
diff --git a/sites/all/themes/vibio/templates/offer2buy/list.tpl.php b/sites/all/themes/vibio/templates/offer2buy/list.tpl.php
deleted file mode 100644
index ebdb020..0000000
--- a/sites/all/themes/vibio/templates/offer2buy/list.tpl.php
+++ /dev/null
@@ -1,6 +0,0 @@
-<?php
-foreach ($offers as $offer)
-{
-	echo theme("offer2buy_offer", $offer, $is_owner);
-}
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/offer2buy/offer-popup.tpl.php b/sites/all/themes/vibio/templates/offer2buy/offer-popup.tpl.php
deleted file mode 100644
index f834025..0000000
--- a/sites/all/themes/vibio/templates/offer2buy/offer-popup.tpl.php
+++ /dev/null
@@ -1,15 +0,0 @@
-<?php
-$text = t("view offers");
-echo "
-	<div class='offer2buy_popup'>
-		&nbsp;- <a class='offer2buy_offer_view_popup_init'>
-			$text
-		</a>
-		<div class='offer2buy_offer_view_popup'>
-			<div class='view-content'><table>
-				$offer_list
-			</table></div>
-		</div>
-	</div>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/offer2buy/offer.tpl.php b/sites/all/themes/vibio/templates/offer2buy/offer.tpl.php
deleted file mode 100644
index ddd4bb4..0000000
--- a/sites/all/themes/vibio/templates/offer2buy/offer.tpl.php
+++ /dev/null
@@ -1,40 +0,0 @@
-<?php
-$accept_form = $is_owner ? drupal_get_form("offer2buy_offer_accept_form_{$offer['uid']}", $offer['uid'], $offer['nid']) : "";
-$item_image = _vibio_item_get_image($offer['nid']);
-$offerer = user_load($offer['uid']);
-$node = node_load($offer['nid']);
-$profile_pic = $offerer->picture ? file_create_url($offerer->picture) : "/themes/vibio/images/icons/default_user.png";
-$alt = $offerer->name;
-
-$message = t("!user made an offer of $!amount on !item!comment", array(
-	"!user"		=> l($offer['name'], "user/{$offer['uid']}"),
-	"!amount"	=> $offer['offer'],
-	"!item"		=> l($node->title, "node/{$offer['nid']}"),
-	"!comment"	=> $offer['comment'] ? ":<br />".$offer['comment'] : "",
-));
-
-echo "
-	<tr>
-		<td class='views-field views-field-picture'>
-			<div class='picture'>
-				<a href='/user/{$offerer->uid}'>
-					<img src='$profile_pic' alt='$alt' title='$alt' />
-				</a>
-				<span class='view_activity_timestamp timestamp_uncalculated'>{$offer['timestamp']}</span>
-			</div>
-		</td>
-		<td class='views-field views-field-message'>
-			<div class='views_node_image_container'>
-				<a href='/node/{$node->nid}'>
-					<img src='$item_image' />
-				</a>
-			</div>
-			<div class='views_message'>
-				$message
-				$accept_form
-			</div>
-			<div class='clear'></div>
-		</td>
-	</tr>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/offer2buy/outgoing-offers.tpl.php b/sites/all/themes/vibio/templates/offer2buy/outgoing-offers.tpl.php
deleted file mode 100644
index f9758d0..0000000
--- a/sites/all/themes/vibio/templates/offer2buy/outgoing-offers.tpl.php
+++ /dev/null
@@ -1,67 +0,0 @@
-<?php
-global $user;
-
-$header = "<h2>".t("Offers You've Made")."</h2>";
-$content = "";
-
-if (empty($offers))
-{
-	$empty_message = t("You've no outstanding offers.");
-	$content = "<small>$empty_message</small>";
-}
-else
-{
-	$content = "<table>";
-	foreach ($offers as $o)
-	{
-		$item_image = _vibio_item_get_image($o->item->nid);
-		$pending = offer2buy_offer_is_pending($user->uid, $o->item->nid) ? t("(pending)") : "";
-		$rejected = !is_null($o->offer->rejection_note) ? "<strong>".t("Rejected").":</strong> {$o->offer->rejection_note}" : "";
-		$profile_pic = $o->item->picture ? file_create_url($o->item->picture) : "/themes/vibio/images/icons/default_user.png";
-		$message = t("$!amount on !user's !item!comment", array(
-			"!amount"	=> $o->offer->offer,
-			"!user"		=> l($o->item->name, "user/{$o->item->uid}"),
-			"!item"		=> l($o->item->title, "node/{$o->item->nid}"),
-			"!comment"	=> $o->offer->comment ? ":<br />{$o->offer->comment}" : "",
-		));
-		$modify_offer = theme("offer2buy_init", $o->item->nid, "edit");
-
-		$content .= "
-			<tr>
-				<td class='views-field views-field-picture'>
-					<div class='picture'>
-						<a href='/user/{$o->item->uid}'>
-							<img src='$profile_pic' alt='{$o->item->name}' title='{$o->item->name}' />
-						</a>
-						<span class='view_activity_timestamp timestamp_uncalculated'>{$o->offer->timestamp}</span>
-					</div>
-				</td>
-				<td class='views-field views-field-message'>
-					<div class='views_node_image_container'>
-						<a href='/node/{$o->item->nid}'>
-							<img src='$item_image' />
-						</a>
-					</div>
-					<div class='views_message'>
-						$message<br />
-						$pending
-						$rejected
-						$modify_offer
-					</div>
-				</td>
-			</tr>
-			";
-	}
-	$content .= "</table>";
-}
-
-
-echo "
-	<div class='offer2buy_notification rounded_content'>
-		$header
-		<div class='view-content indent'>
-			$content
-		</div>
-	</div>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/overrides/search-type-select.tpl.php b/sites/all/themes/vibio/templates/overrides/search-type-select.tpl.php
deleted file mode 100644
index 5a859fa..0000000
--- a/sites/all/themes/vibio/templates/overrides/search-type-select.tpl.php
+++ /dev/null
@@ -1,37 +0,0 @@
-<?php
-/*seems to print the upper search bar, not the search page */
-$default = false;
-$submenu = "";
-
-foreach ($search_types as $type => $data)
-{
-	if (!$default)
-		$default = array(
-			"type"	=> $type,
-			"data"	=> $data,
-		);
-
-	$submenu .= "
-		<a href='#'>
-			<img id='searchtype_{$type}' src='{$data['image']}' class='searchtype_image'
-				alt='{$data['title']}' title='{$data['title']}' />
-		</a>
-	";
-}
-?>
-
-<div id="search_type_menu_container">
-	<table><tr>
-		<td id="search_type_menu">
-			<table class="rootVoices"><tr>
-				<td class="rootVoice {menu: 'search_type_submenu'}">
-  <span class="button">Item</span>				
-</td>
-			</tr></table>
-		</td>
-	</tr></table>
-</div>
-
-<div id='search_type_submenu'>
-	<?php echo $submenu; ?>
-</div>
diff --git a/sites/all/themes/vibio/templates/page.tpl.php b/sites/all/themes/vibio/templates/page.tpl.php
deleted file mode 100644
index df4bfe3..0000000
--- a/sites/all/themes/vibio/templates/page.tpl.php
+++ /dev/null
@@ -1,163 +0,0 @@
-<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
-<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="<?php print $language->language; ?>" lang="<?php print $language->language; ?>" dir="<?php print $language->dir; ?>">
-
-<head>
-  <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
-  <title><?php print $head_title; ?></title>
-  <?php print $head; ?>
-  <meta name="description" content="Vibio is a social commerce tool that lets you buy, sell, and share items within your social graph" />
-  <meta name="keywords" content="social commerce, inventory, buy, sell, share, social graph, friends, trade, collections" />
-
-  <?php print $styles; ?>
-  <link rel="stylesheet" href="/themes/vibio/css/jquery-ui.tabs.css" />
-  <link rel="stylesheet" href="/themes/vibio/css/vibio_dialog.css" />
-  <link rel="stylesheet" href="/themes/vibio/prettyphoto/css/prettyPhoto.css" />
-  
-  <!--[if IE]>
-  <link rel="stylesheet" href="/themes/vibio/css/ie.css" />
-  <![endif]-->
-  
-  <?php print $scripts; ?>
-  <script type="text/javascript" src="/themes/vibio/js/jquery-ui-1.8.2.custom.min.js"></script>
-  <script type="text/javascript" src="/themes/vibio/js/vibio_dialog.js"></script>
-  <script type="text/javascript" src="/themes/vibio/js/utility.js"></script>
-  <script type="text/javascript" src="/themes/vibio/prettyphoto/js/jquery.prettyPhoto.js"></script>
-  <script type='text/javascript' src='/themes/vibio/js/jquery.livequery.min.js'></script>
-  <script type="text/javascript" src="/themes/vibio/js/mbMenu/inc/jquery.hoverIntent.js"></script>
-  <script type="text/javascript" src="/themes/vibio/js/mbMenu/inc/jquery.metadata.js"></script>
-  <script type="text/javascript" src="/themes/vibio/js/mbMenu/inc/mbMenu.js"></script>
-  <script type="text/javascript" src="/themes/vibio/js/mb_menu.js"></script>
-</head>
-<body class="<?php print $classes; ?>">
-<div id="page-wrapper">
-	<div id="page">
-		<div id="header">
-			<div class="section clearfix">
-				<div id="name-and-slogan">
-					<a href="<?php print $front_page; ?>" title="<?php print t('Home'); ?>" rel="home">
-						<img src='/themes/vibio/vibio-logo.png' />
-					</a>
-				</div>
-				<div class="slogan">
-                                  <?php print $site_slogan; ?>
-                                </div>
-				<?php
-				echo "<div id='header_quick_actions'>";
-				if ($search_box)
-				{
-					echo "<div id='search-box'>{$search_box}</div>";
-				}
-				echo $profile_ext_header;
-				echo "</div>";
-				
-				echo $header;
-				?>
-			</div>
-		</div>
-
-	<div id="main-wrapper"><div id="main" class="clearfix<?php if ($primary_links || $navigation) { print ' with-navigation'; } ?>">
-
-	  <div id="content" class="column">
-	  	<?php echo $messages; ?>
-	  	<div class="section rounded_container">
-			<div id="content-area">
-				<div class="rounded_content">
-					<div id="js_messages_container"></div>
-					<?php
-					echo $title ? "<h1 id='page_title' class='title'>$title</h1>" : "";
-					echo $tabs ? "<div class='tabs'>$tabs</div>" : "";
-					echo $help;
-					echo $content_top;
-					echo $content;
-					echo $content_bottom;
-					echo $feed_icons ? "<div class='feed-icons'>$feed_icons</div>" : "";
-					?>
-				</div>
-			</div>
-		</div>
-	  </div> <!-- /.section, /#content -->
-
-	  <?php if ($primary_links || $navigation): ?>
-		<div id="navigation"><div class="section clearfix">
-
-<?php if (isset($secondary_links)): ?>
-  <div id="secondary">
-    <?php //print theme('links', $secondary_links); ?>
-<?php vibio_secondary_menu_ad_hoc($secondary_links); /* in template.php */ ?>
-
-  </div>
-<?php endif; ?>
-		  <?php 
-//print_r($secondary_links);
-/*print theme(array(/*'links__system_secondary_menu'x/ 'vibio_secondary_menu_theme', 'links'), $secondary_links,
-           array(
-             'id' => 'secondary-menu',
-             'class' => 'links clearfix',
-           ),
-           array(
-             'text' => t('Second level of current primary menu choice'),
-             'level' => 'h2',
-             'class' => 'element-invisible',
-           ));
-*/
-
-
-/* switch to blocks print theme(array('links__system_main_menu', 'links'), $primary_links,
-			array(
-			  'id' => 'main-menu',
-			  'class' => 'links clearfix',
-			),
-			array(
-			  'text' => t('Main menu'),
-			  'level' => 'h2',
-			  'class' => 'element-invisible',
-			));
-		  ?>
-<?php /* stephen, quick 
-	//test: $secondary_links = $primary_links;
-          print theme(array('links__system_secondary_menu', 'links'), $secondary_links,
-           array(
-             'id' => 'secondary-menu',
-             'class' => 'links clearfix',
-           ),
-           array(
-             'text' => t('Secondary menu'),
-             'level' => 'h2',
-             'class' => 'element-invisible',
-           ));
-*/
-         ?>
-
-
-
-
-		  <?php print $navigation; ?>
-
-		</div></div> <!-- /.section, /#navigation -->
-	  <?php endif; ?>
-
-	  <?php print $sidebar_first; ?>
-
-	  <?php print $sidebar_second; ?>
-
-	</div></div> <!-- /#main, /#main-wrapper -->
-
-	<?php if ($footer || $footer_message): ?>
-	  <div id="footer"><div class="section">
-		<?php if ($footer_message): ?>
-		  <div id="footer-message"><?php print $footer_message; ?></div>
-		<?php endif; ?>
-
-		<?php print $footer; ?>
-
-	  </div></div> <!-- /.section, /#footer -->
-	<?php endif; ?>
-
-  </div></div> <!-- /#page, /#page-wrapper -->
-
-  <?php print $page_closure; ?>
-
-  <?php print $closure; ?>
-
-</body>
-</html>
diff --git a/sites/all/themes/vibio/templates/privacy/restricted.tpl.php b/sites/all/themes/vibio/templates/privacy/restricted.tpl.php
deleted file mode 100644
index bdd6183..0000000
--- a/sites/all/themes/vibio/templates/privacy/restricted.tpl.php
+++ /dev/null
@@ -1,6 +0,0 @@
-<div class='privacy_header'>
-	<?php echo $header_message; ?>
-</div>
-<div class='privacy_message'>
-	<?php echo $available_actions; ?>
-</div>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/product/add-product-link.tpl.php b/sites/all/themes/vibio/templates/product/add-product-link.tpl.php
deleted file mode 100644
index c76d6cb..0000000
--- a/sites/all/themes/vibio/templates/product/add-product-link.tpl.php
+++ /dev/null
@@ -1,12 +0,0 @@
-<?php
-if (user_access("create product content"))
-{
-	$link_args = array(
-		"!add_link"				=> l(t("Add it directly to our Product Database"), "product/add"),
-		"!external_search_link"	=> l(t("importing"), substr($_SERVER['SCRIPT_URL'], 1), array("query" => array("external_product_search" => 1))),
-	);
-
-	//echo t("Can't find your product? !add_link to Vibio!", $link_args);
-	echo '<span class="link_to_add_item">' . t("Can't find your item? !add_link" , $link_args) . '</span>';
-}
-?>
diff --git a/sites/all/themes/vibio/templates/product/amazon-display.tpl.php b/sites/all/themes/vibio/templates/product/amazon-display.tpl.php
deleted file mode 100644
index ad2a6e6..0000000
--- a/sites/all/themes/vibio/templates/product/amazon-display.tpl.php
+++ /dev/null
@@ -1,61 +0,0 @@
-<?php
-$unavailable = t("No description available.");
-if (empty($node->amazon_data['editorialreviews']))
-{
-	$description = $unavailable;
-}
-else
-{
-	foreach ($node->amazon_data['editorialreviews'] as $review)
-	{
-		if ($review['source'] == "Amazon.com Product Description")
-		{
-			$review = $review['content'];
-		}
-	}
-	
-	if (!$description)
-	{
-		$review = $node->amazon_data['editorialreviews'][0]['content'];
-	}
-	
-	if (!($description = _vibio_amazon_clean_content($review)))
-	{
-		//$description = _vibio_amazon_clean_content_allowhtml($review);
-	}
-	
-	if (empty($description))
-	{
-		$description = $unavailable;
-	}
-}
-
-$details = theme("vibio_amazon_item_details", $node);
-
-if (strlen($description) > PRODUCT_DETAIL_SNIPPET_LENGTH)
-{
-	$snippet = strip_tags(substr($description, 0, PRODUCT_DETAIL_SNIPPET_LENGTH))."...";
-	
-	$body = "
-		<div class='product_snippet'>
-			$snippet <a href='#' class='product_snippet_link'>more</a>
-		</div>
-		<div class='product_snippet product_snippet_expand'>
-			$description 
-			<div class='clear'></div>
-			$details<br />
-			<a href='#' class='product_snippet_link'>less</a>
-		</div>
-	";
-}
-else
-{
-	$body = "
-		$description
-		<div class='clear'></div>
-		$details
-	";
-}
-
-echo $body;
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/product/display.tpl.php b/sites/all/themes/vibio/templates/product/display.tpl.php
deleted file mode 100644
index e1375dd..0000000
--- a/sites/all/themes/vibio/templates/product/display.tpl.php
+++ /dev/null
@@ -1,23 +0,0 @@
-<?php
-if (strlen($description) > PRODUCT_DETAIL_SNIPPET_LENGTH) {
-	$snippet = strip_tags(substr($node->body, 0, PRODUCT_DETAIL_SNIPPET_LENGTH))."...";
-	
-	$body = "
-		<div class='product_snippet'>
-			$snippet <a href='#' class='product_snippet_link'>more</a>
-		</div>
-		<div class='product_snippet product_snippet_expand'>
-			{$node->body} <a href='#' class='product_snippet_link'>less</a> 
-			<div class='clear'></div>>
-		</div>
-	";
-}
-else {
-	$body = "
-		{$node->body}
-		<div class='clear'></div>
-	";
-}
-
-echo $body;
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/product/inventory-add.tpl.php b/sites/all/themes/vibio/templates/product/inventory-add.tpl.php
deleted file mode 100644
index 34d912c..0000000
--- a/sites/all/themes/vibio/templates/product/inventory-add.tpl.php
+++ /dev/null
@@ -1,8 +0,0 @@
-<?php
-$text = t("Have");
-echo "
-	<button class='inventory_add' id='inventory_add_{$nid}'>
-		$text
-	</button>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/product/inventory-manage-link.tpl.php b/sites/all/themes/vibio/templates/product/inventory-manage-link.tpl.php
deleted file mode 100644
index ddc378c..0000000
--- a/sites/all/themes/vibio/templates/product/inventory-manage-link.tpl.php
+++ /dev/null
@@ -1,33 +0,0 @@
-<?php
-global $user;
-$item_id = product_user_owns_product($product->nid);
-$is_product_page = !isset($product->item);
-
-if ($is_product_page && $item_id || // PRODUCT page where user owns the product
-	(!$is_product_page && $item_id && $product->item->uid != $user->uid)) // ITEM page where the current user owns the product, but isn't looking at their own item page
-{
-	$manage_link = l(t("View yours"), "node/$item_id")."<br />";
-}
-elseif (!$item_id) // user doesn't own this product, always show this.
-{
-	// originally unsanitized though maybe theme fixed. fix 20110609
-	$searchcrumb = htmlentities ( trim ( $searchcrumb ) , ENT_QUOTES )  ;
-	$manage_link = theme("product_inventory_add", $product->nid, $searchcrumb)."<br />";
-}
-
-if (!$is_product_page)
-{
-	$manage_link .= l(t("View product"), "node/{$product->nid}");
-}
-
-$show_share_links = !$is_product_page && $item_id && $product->item->uid == $user->uid; // loooking at your own item on an item page
-if ($show_share_links && module_exists("fb"))
-{
-	$manage_link .= theme("fb_share", $item_id, "node", "button");
-}
-if ($show_share_links && module_exists("tweetassist"))
-{
-	$manage_link .= theme("tweetassist_tweet", "node", $item_id);
-}
-
-echo $manage_link;
diff --git a/sites/all/themes/vibio/templates/product/inventory-want.tpl.php b/sites/all/themes/vibio/templates/product/inventory-want.tpl.php
deleted file mode 100644
index 7e32d43..0000000
--- a/sites/all/themes/vibio/templates/product/inventory-want.tpl.php
+++ /dev/null
@@ -1,7 +0,0 @@
-<?php
-$text = t("Want");
-echo "
-	<button class='inventory_want' onclick=\"window.location='/node/{$nid}'\">
-		$text
-	</button>
-";
diff --git a/sites/all/themes/vibio/templates/product/owner.tpl.php b/sites/all/themes/vibio/templates/product/owner.tpl.php
deleted file mode 100644
index 5693b40..0000000
--- a/sites/all/themes/vibio/templates/product/owner.tpl.php
+++ /dev/null
@@ -1,49 +0,0 @@
-<?php
-
-
-/*
-starts with this code in tpl: theme("product_owners", $type, $data);
-
-Does it run through init.tpl.php ?  I think so.  
-	That creates the $offer2buy vaiable, perhaps
-
-somehow gets here:
-
-$item['node']['link'] is a link to the item page (alias)
-$item['node']['nid] is the item nid.
-$item['user']['picture'] -> url includes link, just print it.
-$item['user']['link']   // note no uid
-
-original version creates weird cripple|javascript code:
-dpm($offer2buy);
-<div class='offer2buy offer2buy_popup'>
-	<span class='offer2buy_nid'>19911</span>
-	<button class='offer2buy_init'>make offer</button></div>
-$offer2buy is the "offer" button 
-Need to go up-code to change that.
-*/
-
-
-
-echo "
-	<div class='item_owner'>
-		{$item['user']['picture']}
-		<div class='item_info'>
-			{$item['node']['link']} {$offer2buy}
-			{$item['user']['link']}
-		</div>
-	</div>
-	<div class='clear'></div>
-";
-
-$echo_vNelson = "
-	<div class='item_owner'>
-		{$item['user']['picture']}
-		<div class='item_info'>
-			{$item['node']['link']} {$offer2buy}
-			{$item['user']['link']}
-		</div>
-	</div>
-	<div class='clear'></div>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/product/owners.tpl.php b/sites/all/themes/vibio/templates/product/owners.tpl.php
deleted file mode 100644
index f1d15d0..0000000
--- a/sites/all/themes/vibio/templates/product/owners.tpl.php
+++ /dev/null
@@ -1,34 +0,0 @@
-<?php
-/* Prints the owners on the product page that comes in searches,
- *  called by node-product.tpl.php.  Seems to stephen too complex,
- *  returning things like "No items found" instead of just returning
- *  what is found 
- */
-global $pager_page_array, $pager_total;
-
-$pager_element = 0;//is_array($pager_page_array) && !empty($pager_page_array) ? count($pager_page_array) : 0;
-$owners = "";
-
-$pager_page_array[$pager_element] = $data['page'];
-$pager_total_items[$pager_element] = $data['count'];
-$pager_total[$pager_element] = ceil($data['count'] / PRODUCT_OWNER_DISPLAY_PER_PAGE);
-
-$pager = theme("pager", array(), PRODUCT_OWNER_DISPLAY_PER_PAGE, $pager_element);
-
-if (empty($data['results']))
-{
-	//$owners = t("No items found.");
-}
-else
-{
-	foreach ($data['results'] as $item)
-	{
-		$owners .= theme("product_owner", $item);
-	}
-}
-
-echo "
-	$owners
-	$pager
-";
-?>
diff --git a/sites/all/themes/vibio/templates/profile/dashboard.tpl.php b/sites/all/themes/vibio/templates/profile/dashboard.tpl.php
deleted file mode 100644
index cb05d8f..0000000
--- a/sites/all/themes/vibio/templates/profile/dashboard.tpl.php
+++ /dev/null
@@ -1,57 +0,0 @@
-<?php
-$tab_html = "";
-$tab_content = "";
-foreach ($profile_tabs as $title => $tab)
-{
-	$tab_id = "profiletab_".str_replace(" ", "_", strtolower(trim(preg_replace('/([^\sa-z])/i', '', $title))));
-	$tab_html .= "
-		<li>
-			<a href='#{$tab_id}'>
-				<span class='tab'>{$title}</span>
-			</a>
-		</li>
-	";
-	$tab_content .= "<div id='$tab_id'>{$tab}</div><div class='clear'></div>";
-}
-
-$action_html = "";
-if (!empty($profile_actions))
-{
-	$new_header = t("Looks like you're new");
-	$new_helptext = t("Here are some things to help you get started...");
-	$action_html .= "<div id='profile_call_to_action'>";
-	$action_html .= "<h3>$new_header</h3>";
-	$action_html .= "<span>$new_helptext</span>";
-
-	$action_html .= "<table>";
-	foreach ($profile_actions as $action)
-	{
-		$action_html .= "
-			<tr>
-				<td class='profile_action_image'>
-		";
-		if ($action['image'])
-			$action_html .= "<img src='{$action['image']}' />";
-		$action_html .= "</td>";
-		$action_html .= "<td class='profile_action'>{$action['text']}</td>";
-	}
-
-	$action_html .= "</table></div>";
-}
-
-
-echo $action_html;
-?>
-
-<div id='profile_tabs' class='tabs'>
-	<div class='tabs'>
-		<ul class='tabs primary clearfix'>
-			<?php echo $tab_html; ?>
-		</ul>
-	</div>
-	<?php echo $tab_content; ?>
-</div>
-
-<?php
-echo $newuser_tutorial;
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/profile/display-block-item.tpl.php b/sites/all/themes/vibio/templates/profile/display-block-item.tpl.php
deleted file mode 100644
index abb24b9..0000000
--- a/sites/all/themes/vibio/templates/profile/display-block-item.tpl.php
+++ /dev/null
@@ -1,10 +0,0 @@
-<?php
-echo "
-	<div class='profile_ext_displayblock_item'>
-		<a href='{$item_data['href']}' alt='{$item_data['title']}' title='{$item_data['title']}'>
-			<img src='{$item_data['image']}' alt='{$item_data['title']}' title='{$item_data['title']}' />
-			<span>{$item_data['count']}</span>
-		</a>
-	</div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/profile/display-block.tpl.php b/sites/all/themes/vibio/templates/profile/display-block.tpl.php
deleted file mode 100644
index be75717..0000000
--- a/sites/all/themes/vibio/templates/profile/display-block.tpl.php
+++ /dev/null
@@ -1,11 +0,0 @@
-<?php
-echo "
-	<a href='/my-dashboard'>
-		<img id='profile_ext_displayblock_image' src='$profile_picture' />
-	</a>
-	<div id='profile_ext_displayblock_subitems'>
-		$sub_items
-	</div>
-	<div class='clear'></div>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/profile/edit-link.tpl.php b/sites/all/themes/vibio/templates/profile/edit-link.tpl.php
deleted file mode 100644
index a7f3123..0000000
--- a/sites/all/themes/vibio/templates/profile/edit-link.tpl.php
+++ /dev/null
@@ -1,9 +0,0 @@
-<?php
-$url = url($url);
-
-echo "
-	<div class='profile_edit_link'>
-		<a href='$url'>Edit</a>
-	</div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/profile/external-accounts.tpl.php b/sites/all/themes/vibio/templates/profile/external-accounts.tpl.php
deleted file mode 100644
index 8faab49..0000000
--- a/sites/all/themes/vibio/templates/profile/external-accounts.tpl.php
+++ /dev/null
@@ -1,53 +0,0 @@
-<?php
-if (!empty($user_accounts))
-{
-	$accounts = "<ul class='user_external_account_list'>";
-	foreach ($user_accounts as $account)
-	{
-		$display_as = is_array($account) && $account['display'] ? $account['display'] : $account;
-		$remove_id = is_array($account) && $account['id'] ? $account['id'] : $account;
-		
-		$accounts .= "<li><span class='account_id'>$display_as</span>";
-		if ($admin_external_account)
-		{
-			$options = array(
-				"attributes"	=> array(
-					"class"	=> $partner_data['remove']['class'],
-				),
-			);
-			$link = l(t("remove"), "{$partner_data['id']}/remove-account/{$remove_id}", $options);
-			$accounts .= " $link";
-		}
-		$accounts .= "</li>";
-	}
-	$accounts .= "</ul>";
-}
-else
-	$accounts = t("none");
-
-$add_account = $partner_data['add']['multiple'] ? true : empty($user_accounts);
-
-if ($admin_external_account && $add_account)
-{
-	$options = array(
-		"attributes"	=> array(
-			"class"	=> $partner_data['add']['class'],
-		),
-	);
-	$add_account = l(t("Add an account!"), "{$partner_data['id']}/add-account", $options);
-}
-else
-	$add_account = "";
-
-echo "
-	<tr>
-		<td class='external_accounts_image'>
-			<img src='/themes/vibio/images/thirdparty/{$partner_data['image']}' />
-		</td>
-		<td class='external_accounts_account_list'>
-			$accounts
-			$add_account
-		</td>
-	</tr>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/profile/header-menu.tpl.php b/sites/all/themes/vibio/templates/profile/header-menu.tpl.php
deleted file mode 100644
index ba10abe..0000000
--- a/sites/all/themes/vibio/templates/profile/header-menu.tpl.php
+++ /dev/null
@@ -1,31 +0,0 @@
-<?php
-$edit_account_link = l(t("Account Settings"), "user/{$profile_ext_user->uid}/edit");
-$privacy_settings_link = l(t("Privacy Settings"), "user/{$profile_ext_user->uid}/edit/privacy_settings");
-$faq_link = l(t("Help"), "faq");
-$logout_link = l(t("Logout"), "logout");
-$menu_title = strlen($profile_ext_user->name) > 20 ? substr($profile_ext_user->name, 0, 20)."..." : $profile_ext_user->name
-?>
-
-<table><tr>
-	<td id="profile_ext_headermenu">
-		<table class="rootVoices"><tr>
-			<td class="rootVoice {menu: 'profile_ext_submenu'}">
-				<div class='mbmenu_arrow_icon'> </div>
-				<div class='mbmenu_title'>
-					<?php echo $menu_title; ?>
-				</div>
-			</td>
-		</tr></table>
-	</td>
-</tr></table>
-
-<div id="profile_ext_submenu">
-	<?php
-	echo "<a rel='separator'> </a>";
-	echo $edit_account_link;
-	echo $privacy_settings_link;
-	echo $faq_link;
-	echo "<a rel='separator'> </a>";
-	echo $logout_link;
-	?>
-</div>
diff --git a/sites/all/themes/vibio/templates/profile/header.tpl.php b/sites/all/themes/vibio/templates/profile/header.tpl.php
deleted file mode 100644
index 4a760f3..0000000
--- a/sites/all/themes/vibio/templates/profile/header.tpl.php
+++ /dev/null
@@ -1,16 +0,0 @@
-<?php
-if ($profile_ext_user->uid)
-{
-	$message = theme("profile_ext_header_menu", $profile_ext_user);
-}
-else
-{
-	$message = t("!login or !signup", array("!login" => l(t("Login"), "user/login"), "!signup" => l(t("Register"), "user/register")));
-}
-
-echo "
-	<div id='profile_ext_header'>
-		$message
-	</div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/profile/profile-info.tpl.php b/sites/all/themes/vibio/templates/profile/profile-info.tpl.php
deleted file mode 100644
index 5a84a33..0000000
--- a/sites/all/themes/vibio/templates/profile/profile-info.tpl.php
+++ /dev/null
@@ -1,19 +0,0 @@
-<?php
-echo "
-	<div class='profile_editable'>
-		<div id='profile_about_me'>
-			$profile_about_me
-		</div>
-		$about_edit_link
-		<div class='clear'></div>
-	</div>
-	<div class='profile_editable'>
-		<div id='profile_demographics'>
-			$profile_demographics
-		</div>
-		$demographics_edit_link
-		<div class='clear'></div>
-	</div>
-	$profile_external_accounts
-";
-?>
diff --git a/sites/all/themes/vibio/templates/profile/profile-progress.tpl.php b/sites/all/themes/vibio/templates/profile/profile-progress.tpl.php
deleted file mode 100644
index 0442add..0000000
--- a/sites/all/themes/vibio/templates/profile/profile-progress.tpl.php
+++ /dev/null
@@ -1,25 +0,0 @@
-<div class="profile_progress">
-	<?php echo t("Profile Completeness"); ?>:
-</div>
-<div id="profile_progressbar" class="profile_progress"></div>
-<?php
-if ($completion_steps)
-{
-	$text = t("What's left?");
-	$open_link = "<a href='#' id='profile_completion_steps_init'>$text</a>";
-	$header = t("You're almost done...");
-	$body = t("There are only a few more things you need to do to have a complete Vibio profile!");
-	
-	echo "
-		<div class='profile_progress'>
-			$open_link
-		</div>
-		<div id='profile_completion_steps_container'>
-			<div style='font-size: 18px; font-weight: bold;'>$header</div>
-			<div>$body</div>
-			$completion_steps
-		</div>
-	";
-}
-?>
-<div class="clear"></div>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/profile/view-fields.tpl.php b/sites/all/themes/vibio/templates/profile/view-fields.tpl.php
deleted file mode 100644
index 3a28b00..0000000
--- a/sites/all/themes/vibio/templates/profile/view-fields.tpl.php
+++ /dev/null
@@ -1,24 +0,0 @@
-<?php
-$res = _profile_get_fields($fields_category);
-$offset = strlen("profile_") - 1;
-
-echo "<table class='profile_fields'>";
-while ($row = db_fetch_object($res))
-{
-	$field = is_array($target_user->{$row->name}) ? implode("-", $target_user->{$row->name}) : $target_user->{$row->name};
-	$list = implode("<br />", explode("\n", trim($field)));
-	$list = $list ? $list : t("Not Specified");
-	
-	echo "
-		<tr>
-			<td class='field_name'>
-				{$row->title}
-			</td>
-			<td class='field_val'>
-				{$list}
-			</td>
-		</tr>
-	";
-}
-echo "</table>";
-?>
diff --git a/sites/all/themes/vibio/templates/region-sidebar.tpl.php b/sites/all/themes/vibio/templates/region-sidebar.tpl.php
deleted file mode 100644
index 4f3d496..0000000
--- a/sites/all/themes/vibio/templates/region-sidebar.tpl.php
+++ /dev/null
@@ -1,37 +0,0 @@
-<?php
-// $Id: region-sidebar.tpl.php,v 1.2 2009/11/04 20:04:20 johnalbin Exp $
-
-/**
- * @file
- * Default theme implementation to display a region.
- *
- * Available variables:
- * - $content: The content for this region, typically blocks.
- * - $classes: String of classes that can be used to style contextually through
- *   CSS. It can be manipulated through the variable $classes_array from
- *   preprocess functions. The default values can be one or more of the following:
- *   - region: The current template type, i.e., "theming hook".
- *   - region-[name]: The name of the region with underscores replaced with
- *     dashes. For example, the page_top region would have a region-page-top class.
- * - $region: The name of the region variable as defined in the theme's .info file.
- *
- * Helper variables:
- * - $classes_array: Array of html class attribute values. It is flattened
- *   into a string within the variable $classes.
- * - $is_admin: Flags true when the current user is an administrator.
- * - $is_front: Flags true when presented in the front page.
- * - $logged_in: Flags true when the current user is a logged-in member.
- *
- * @see template_preprocess()
- * @see zen_preprocess()
- * @see zen_preprocess_region()
- * @see zen_process()
- */
-?>
-<div class="<?php echo $classes; ?>">
-	<div class="section rounded_container">
-		<div class="rounded_content">
-			<?php echo $content; ?>
-		</div>
-	</div>
-</div>
diff --git a/sites/all/themes/vibio/templates/region.tpl.php b/sites/all/themes/vibio/templates/region.tpl.php
deleted file mode 100644
index e41f745..0000000
--- a/sites/all/themes/vibio/templates/region.tpl.php
+++ /dev/null
@@ -1,33 +0,0 @@
-<?php
-// $Id: region.tpl.php,v 1.3 2009/11/04 18:19:58 johnalbin Exp $
-
-/**
- * @file
- * Default theme implementation to display a region.
- *
- * Available variables:
- * - $content: The content for this region, typically blocks.
- * - $classes: String of classes that can be used to style contextually through
- *   CSS. It can be manipulated through the variable $classes_array from
- *   preprocess functions. The default values can be one or more of the following:
- *   - region: The current template type, i.e., "theming hook".
- *   - region-[name]: The name of the region with underscores replaced with
- *     dashes. For example, the page_top region would have a region-page-top class.
- * - $region: The name of the region variable as defined in the theme's .info file.
- *
- * Helper variables:
- * - $classes_array: Array of html class attribute values. It is flattened
- *   into a string within the variable $classes.
- * - $is_admin: Flags true when the current user is an administrator.
- * - $is_front: Flags true when presented in the front page.
- * - $logged_in: Flags true when the current user is a logged-in member.
- *
- * @see template_preprocess()
- * @see zen_preprocess()
- * @see zen_preprocess_region()
- * @see zen_process()
- */
-?>
-<div class="<?php print $classes; ?> clearfix">
-  <?php print $content; ?>
-</div> <!-- /.region -->
diff --git a/sites/all/themes/vibio/templates/reports/view.tpl.php b/sites/all/themes/vibio/templates/reports/view.tpl.php
deleted file mode 100644
index 976c6ce..0000000
--- a/sites/all/themes/vibio/templates/reports/view.tpl.php
+++ /dev/null
@@ -1,4 +0,0 @@
-<?php echo $selector; ?>
-
-<div id="reports_flot"></div>
-<button id="reports_clear_selection">Clear Selection</button>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/search/search-result-user.tpl.php b/sites/all/themes/vibio/templates/search/search-result-user.tpl.php
deleted file mode 100644
index 298505f..0000000
--- a/sites/all/themes/vibio/templates/search/search-result-user.tpl.php
+++ /dev/null
@@ -1,11 +0,0 @@
-<?php
-echo "
-	<tr>
-		<td class='search_user_picture'>$search_user_picture</td>
-		<td class='search_user_info'>
-			<a href='$url'>$title</a>
-		</td>
-		<td>{$uri_actions['actions']}</td>
-	</tr>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/search/search-result-vibio_item.tpl.php b/sites/all/themes/vibio/templates/search/search-result-vibio_item.tpl.php
deleted file mode 100644
index 71dedf1..0000000
--- a/sites/all/themes/vibio/templates/search/search-result-vibio_item.tpl.php
+++ /dev/null
@@ -1,34 +0,0 @@
-<?php /* print '<pre>'. check_plain(print_r($info_split, 1)) .'</pre>'; */ ?>
-<?php
-/* this section is a bunch of efforts to get imagecache working.
-All failed, I'm in a rush, so leaving notes and moving on...
-	print_r($result[node]->field_main_image[0][fid]);
-   $file = field_file_load($result[node]->field_main_image[0][fid]); 
-   $img = theme('imagecache', 'item_base_square', $file['filepath']); 
-print $img;
-   $filepath = '/home/ubuntu/www/vibio/src/sites/default/files/uploads/products/B0018C8STO.jpg'; 
-//imagecache_image_flush($file);
-//$img = more than image theme('imagecache', 'item_base_square', $file); 
-  // $output .= theme('imagecache', 'product', $first['filepath'], $first['alt'], $first['title']);
-$presetname = 'item_base_square';
-
-$image = theme('imagecache', $presetname, $filepath); //, $alt, $title, $attributes);
-$img = imagecache_create_url($presetname, $filepath);
-print "image:" . $image;
-*/
-
-echo "
-		<div class='item-square'>
-			<a href='$url' title='$title' alt='$title'>
-				<img class='item-square-image' srcimagecache='$img' src='{$info_split['image']}' />
-			</a>
-			<div class='over-item'>
-			</div>
-			<div class='search-links'>$search_links</div>
-                        <div class='under-item'>
-                                <a class='item-title' href='$url'>$title</a><br />
-                        </div>
-                 </div>
-
-";
-?>
diff --git a/sites/all/themes/vibio/templates/search/search-result.tpl.php b/sites/all/themes/vibio/templates/search/search-result.tpl.php
deleted file mode 100644
index bc6e2ed..0000000
--- a/sites/all/themes/vibio/templates/search/search-result.tpl.php
+++ /dev/null
@@ -1,61 +0,0 @@
-
-<?php /* What calls  /var/www/vibio/src/themes/vibio/templates/search/search-result.tpl.php */ ?>
-<?php
-// $Id: search-result.tpl.php,v 1.1.2.1 2008/08/28 08:21:44 dries Exp $
-
-/**
- * @file search-result.tpl.php
- * Default theme implementation for displaying a single search result.
- *
- * This template renders a single search result and is collected into
- * search-results.tpl.php. This and the parent template are
- * dependent to one another sharing the markup for definition lists.
- *
- * Available variables:
- * - $url: URL of the result.
- * - $title: Title of the result.
- * - $snippet: A small preview of the result. Does not apply to user searches.
- * - $info: String of all the meta information ready for print. Does not apply
- *   to user searches.
- * - $info_split: Contains same data as $info, split into a keyed array.
- * - $type: The type of search, e.g., "node" or "user".
- *
- * Default keys within $info_split:
- * - $info_split['type']: Node type.
- * - $info_split['user']: Author of the node linked to users profile. Depends
- *   on permission.
- * - $info_split['date']: Last update of the node. Short formatted.
- * - $info_split['comment']: Number of comments output as "% comments", %
- *   being the count. Depends on comment.module.
- * - $info_split['upload']: Number of attachments output as "% attachments", %
- *   being the count. Depends on upload.module.
- *
- * Since $info_split is keyed, a direct print of the item is possible.
- * This array does not apply to user searches so it is recommended to check
- * for their existance before printing. The default keys of 'type', 'user' and
- * 'date' always exist for node searches. Modules may provide other data.
- *
- *   <?php if (isset($info_split['comment'])) : ?>
- *     <span class="info-comment">
- *       <?php print $info_split['comment']; ?>
- *     </span>
- *   <?php endif; ?>
- *
- * To check for all available data within $info_split, use the code below.
- *
- *   <?php print '<pre>'. check_plain(print_r($info_split, 1)) .'</pre>'; ?>
- *
- * @see template_preprocess_search_result()
- */
-?>
-<dt class="title">
-  <a href="<?php print $url; ?>"><?php print $title; ?></a>
-</dt>
-<dd>
-  <?php if ($snippet) : ?>
-    <p class="search-snippet"><?php print $snippet; ?></p>
-  <?php endif; ?>
-  <?php if ($info) : ?>
-  <p class="search-info"><?php print $info; ?></p>
-  <?php endif; ?>
-</dd>
diff --git a/sites/all/themes/vibio/templates/search/search-results-user.tpl.php b/sites/all/themes/vibio/templates/search/search-results-user.tpl.php
deleted file mode 100644
index df07bd5..0000000
--- a/sites/all/themes/vibio/templates/search/search-results-user.tpl.php
+++ /dev/null
@@ -1,9 +0,0 @@
-<?php
-echo "
-	<table class='search-results $type'>
-		$search_results
-	</table>
-";
-
-echo $pager;
-?>
diff --git a/sites/all/themes/vibio/templates/search/search-results-vibio_item.tpl.php b/sites/all/themes/vibio/templates/search/search-results-vibio_item.tpl.php
deleted file mode 100644
index 35fa72d..0000000
--- a/sites/all/themes/vibio/templates/search/search-results-vibio_item.tpl.php
+++ /dev/null
@@ -1,15 +0,0 @@
-<?php
-echo theme("product_add_product_link");
-echo $pager;
-
-/* are $search_results from vibio, and $other_results from Amazon? */
-echo "
-	<!-- table class='search-results $type' -->
-		$search_results
-		$other_results
-	<!-- /table -->
-";
-
-echo $pager;
-echo theme("product_add_product_link");
-?>
diff --git a/sites/all/themes/vibio/templates/search/search-results.tpl.php b/sites/all/themes/vibio/templates/search/search-results.tpl.php
deleted file mode 100644
index 500d8ea..0000000
--- a/sites/all/themes/vibio/templates/search/search-results.tpl.php
+++ /dev/null
@@ -1,28 +0,0 @@
-<?php
-// $Id: search-results.tpl.php,v 1.1 2007/10/31 18:06:38 dries Exp $
-
-/**
- * @file search-results.tpl.php
- * Default theme implementation for displaying search results.
- *
- * This template collects each invocation of theme_search_result(). This and
- * the child template are dependant to one another sharing the markup for
- * definition lists.
- *
- * Note that modules may implement their own search type and theme function
- * completely bypassing this template.
- *
- * Available variables:
- * - $search_results: All results as it is rendered through
- *   search-result.tpl.php
- * - $type: The type of search, e.g., "node" or "user".
- *
- *
- * @see template_preprocess_search_results()
- */
-?>
-where's this? anything calling search-results.tpl.php
-<dl class="search-results <?php print $type; ?>-results">
-  <?php print $search_results; ?>
-</dl>
-<?php print $pager; ?>
diff --git a/sites/all/themes/vibio/templates/tweetassist/tweet.tpl.php b/sites/all/themes/vibio/templates/tweetassist/tweet.tpl.php
deleted file mode 100644
index 53cc1f1..0000000
--- a/sites/all/themes/vibio/templates/tweetassist/tweet.tpl.php
+++ /dev/null
@@ -1,3 +0,0 @@
-<div class="tweetassist">
-	<?php echo $tweet_link; ?>
-</div>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/uri/action-list.tpl.php b/sites/all/themes/vibio/templates/uri/action-list.tpl.php
deleted file mode 100644
index df64cab..0000000
--- a/sites/all/themes/vibio/templates/uri/action-list.tpl.php
+++ /dev/null
@@ -1,16 +0,0 @@
-<?php
-$busy_indicator = "<td><img class='uri_edit_busy_indicator' src='/themes/vibio/images/ajax-loader.gif' /></td>";
-$table = "<table><tr>";
-$rows = "";
-
-foreach ($list as $link)
-{
-	$rows .= "<td>$link</td>";
-}
-
-$busy_indicator_align == "before" ? $rows = $busy_indicator.$rows : $rows .= $busy_indicator;
-
-$table .= "$rows</tr></table>";
-
-echo $table;
-?>
diff --git a/sites/all/themes/vibio/templates/uri/dashboard-notification.tpl.php b/sites/all/themes/vibio/templates/uri/dashboard-notification.tpl.php
deleted file mode 100644
index 9d2c284..0000000
--- a/sites/all/themes/vibio/templates/uri/dashboard-notification.tpl.php
+++ /dev/null
@@ -1,22 +0,0 @@
-<?php
-switch ($rel_type)
-{
-	default:
-		$message = t("!user wants to be friends", array("!user" => l($relationship->requester->name, "user/{$relationship->requester_id}")));
-}
-
-$requester_image = theme("user_picture", $relationship->requester);
-echo "
-	<div class='uri_notification profile_notification rounded_content'>
-		$requester_image
-		<div class='profile_notifications_summary'>
-			$message<br />
-			{$relationship->elaboration}
-		</div>
-		<div class='profile_notifications_actions'>
-			$rel_actions
-		</div>
-		<div class='clear'></div>
-	</div>
-"
-?>
diff --git a/sites/all/themes/vibio/templates/uri/friends.tpl.php b/sites/all/themes/vibio/templates/uri/friends.tpl.php
deleted file mode 100644
index 4b2e286..0000000
--- a/sites/all/themes/vibio/templates/uri/friends.tpl.php
+++ /dev/null
@@ -1,28 +0,0 @@
-<?php
-$friends_title = t("Friends");
-$friend_finder_title = t("Friend Finder");
-
-echo "
-	$notifications
-	<div id='friends_tabs' class='tabs'>
-		<div class='tabs'>
-			<ul class='tabs primary clearfix'>
-				<li>
-					<a href='#friends'>
-						<span class='tab'>$friends_title</span>
-					</a>
-				</li>
-				<li>
-					<a href='/network/find-friends'>
-						<span class='tab'>$friend_finder_title</span>
-					</a>
-				</li>
-			</ul>
-		</div>
-		<div id='friends'>
-			$friends
-		</div>
-	</div>
-	<div class='clear'></div>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/user/social-info.tpl.php b/sites/all/themes/vibio/templates/user/social-info.tpl.php
deleted file mode 100644
index 089f47d..0000000
--- a/sites/all/themes/vibio/templates/user/social-info.tpl.php
+++ /dev/null
@@ -1,79 +0,0 @@
-<?php
-global $user;
-
-$default_tab = false;
-if (arg(2) == "inventory")
-{
-	$default_tab = "#user_inventory";
-}
-elseif (arg(2) == "badges")
-{
-	$default_tab = "#user_badges";
-}
-
-drupal_add_js(array("profile_settings" => array("default_tab" => $default_tab)), "setting");
-
-$access = module_exists("privacy") ? privacy_get_access_level($uid) : 1;
-$activity_feed = views_embed_view("user_heartbeat_activity", "block_1", $uid, $access);
-$activity_feed_title = t("Activity Feed");
-$profile_info = theme("profile_ext_profile_info", $uid, $access);
-$profile_info_title = t("Profile Information");
-$inventory = views_embed_view("user_collections", "default", $uid, $access);
-$inventory_title = t("Inventory");
-
-if (module_exists("badge"))
-{
-	$badges_title = t("Badges");
-	$badges_title = "
-		<li>
-			<a href='#user_badges'>
-				<span class='tab'>$badges_title</span>
-			</a>
-		</li>
-	";
-	
-	$badges_html = theme("badge_list", $uid);
-	$badges_html = "
-		<div id='user_badges'>
-			$badges_html
-		</div>
-	";
-}
-
-echo "
-	<div id='profile_user_tabs' class='tabs tabs_big'>
-		<div class='tabs'>
-			<ul class='tabs primary clearfix'>
-				<li>
-					<a href='#activity_feed'>
-						<span class='tab'>$activity_feed_title</span>
-					</a>
-				</li>
-				<li>
-					<a href='#user_inventory'>
-						<span class='tab'>$inventory_title</span>
-					</a>
-				</li>
-				<li>
-					<a href='#profile_info'>
-						<span class='tab'>$profile_info_title</span>
-					</a>
-				</li>
-				$badges_title
-			</ul>
-		</div>
-		<div class='profile_info_container'>
-			<div id='activity_feed'>
-				$activity_feed
-			</div>
-			<div id='profile_info'>
-				$profile_info
-			</div>
-			<div id='user_inventory'>
-				$inventory
-			</div>
-			$badges_html
-		</div>
-	</div>
-";
-?>
diff --git a/sites/all/themes/vibio/templates/user/user-picture.tpl.php b/sites/all/themes/vibio/templates/user/user-picture.tpl.php
deleted file mode 100644
index 1ccb78a..0000000
--- a/sites/all/themes/vibio/templates/user/user-picture.tpl.php
+++ /dev/null
@@ -1,20 +0,0 @@
-<?php
-// $Id: user-picture.tpl.php,v 1.2 2007/08/07 08:39:36 goba Exp $
-
-/**
- * @file user-picture.tpl.php
- * Default theme implementation to present an picture configured for the
- * user's account.
- *
- * Available variables:
- * - $picture: Image set by the user or the site's default. Will be linked
- *   depending on the viewer's permission to view the users profile page.
- * - $account: Array of account information. Potentially unsafe. Be sure to
- *   check_plain() before use.
- *
- * @see template_preprocess_user_picture()
- */
-?>
-<div class="picture">
-  <?php print $picture; ?>
-</div>
diff --git a/sites/all/themes/vibio/templates/user/user-profile-category.tpl.php b/sites/all/themes/vibio/templates/user/user-profile-category.tpl.php
deleted file mode 100644
index 8d74783..0000000
--- a/sites/all/themes/vibio/templates/user/user-profile-category.tpl.php
+++ /dev/null
@@ -1,34 +0,0 @@
-<?php
-// $Id: user-profile-category.tpl.php,v 1.2 2007/08/07 08:39:36 goba Exp $
-
-/**
- * @file user-profile-category.tpl.php
- * Default theme implementation to present profile categories (groups of
- * profile items).
- *
- * Categories are defined when configuring user profile fields for the site.
- * It can also be defined by modules. All profile items for a category will be
- * output through the $profile_items variable.
- *
- * @see user-profile-item.tpl.php
- *      where each profile item is rendered. It is implemented as a definition
- *      list by default.
- * @see user-profile.tpl.php
- *      where all items and categories are collected and printed out.
- *
- * Available variables:
- * - $title: Category title for the group of items.
- * - $profile_items: All the items for the group rendered through
- *   user-profile-item.tpl.php.
- * - $attributes: HTML attributes. Usually renders classes.
- *
- * @see template_preprocess_user_profile_category()
- */
-?>
-<?php if ($title) : ?>
-  <h3><?php print $title; ?></h3>
-<?php endif; ?>
-
-<dl<?php print $attributes; ?>>
-  <?php print $profile_items; ?>
-</dl>
diff --git a/sites/all/themes/vibio/templates/user/user-profile-item.tpl.php b/sites/all/themes/vibio/templates/user/user-profile-item.tpl.php
deleted file mode 100644
index 5a3b083..0000000
--- a/sites/all/themes/vibio/templates/user/user-profile-item.tpl.php
+++ /dev/null
@@ -1,27 +0,0 @@
-<?php
-// $Id: user-profile-item.tpl.php,v 1.2 2007/08/07 08:39:36 goba Exp $
-
-/**
- * @file user-profile-item.tpl.php
- * Default theme implementation to present profile items (values from user
- * account profile fields or modules).
- *
- * This template is used to loop through and render each field configured
- * for the user's account. It can also be the data from modules. The output is
- * grouped by categories.
- *
- * @see user-profile-category.tpl.php
- *      for the parent markup. Implemented as a definition list by default.
- * @see user-profile.tpl.php
- *      where all items and categories are collected and printed out.
- *
- * Available variables:
- * - $title: Field title for the profile item.
- * - $value: User defined value for the profile item or data from a module.
- * - $attributes: HTML attributes. Usually renders classes.
- *
- * @see template_preprocess_user_profile_item()
- */
-?>
-<dt<?php print $attributes; ?>><?php print $title; ?></dt>
-<dd<?php print $attributes; ?>><?php print $value; ?></dd>
diff --git a/sites/all/themes/vibio/templates/user/user-profile.tpl.php b/sites/all/themes/vibio/templates/user/user-profile.tpl.php
deleted file mode 100644
index 2a4ff29..0000000
--- a/sites/all/themes/vibio/templates/user/user-profile.tpl.php
+++ /dev/null
@@ -1,69 +0,0 @@
-<?php
-global $user;
-$u = $profile['user'];
-
-if ($user->uid == $u->uid || user_access("administer users"))
-{
-	$text = t("Edit");
-	$account_edit_link = theme("profile_ext_edit_link", "user/{$u->uid}/edit");
-	$picture_edit_link = "
-		<div id='profile_change_picture' class='profile_edit_link'>
-			<a href='/profile/{$u->uid}/change-picture'>$text</a>
-		</div>
-	";
-}
-
-if ($user->uid && $user->uid != $u->uid && module_exists("privatemsg"))
-{
-	$message_link = l(t("Send !user a message", array("!user" => $u->name)), "messages/new/{$u->uid}");
-}
-
-if (!$u->picture)
-{
-	$profile['user_picture'] = "
-		<div class='picture'>
-			<a href='/user/{$u->uid}'>
-				<img src='/themes/vibio/images/icons/default_user_large.png' />
-			</a>
-		</div>
-	";
-}
-
-?>
-
-<div id='profile_user_summary' class='rounded_content'>
-	<div id='profile_username' class='profile_data profile_editable rounded_content'>
-		<div>
-			<?php
-			echo "<h5>$u->name</h5>";
-			echo $profile['dos'];
-			echo $message_link;
-			echo $profile['uri_actions']['actions'];
-			echo $profile['profile_progress'];
-			?>
-		</div>
-		<?php echo $account_edit_link; ?>
-		<div class='clear'></div>
-	</div>
-	<div id='profile_summary' class='profile_data profile_editable rounded_content'>
-		<div>
-			<?php echo $profile['public_info']; ?>
-		</div>
-		<div class='clear'></div>
-	</div>
-</div>
-
-<div id="profile_picture_container" class="profile_editable">
-	<?php echo $picture_edit_link; ?>
-	<div id="profile_picture" class='profile_picture_display'>
-		<?php echo $profile['user_picture']; ?>
-	</div>
-	<div id="profile_picture_bg" class='profile_picture_display'><div></div></div>
-</div>
-
-<?php echo $profile['social_info']; ?>
-<div class="clear"></div>
-
-<?php
-//echo "profile completeness: {$profile['profile_progress']}%";
-?>
diff --git a/sites/all/themes/vibio/templates/vibio_item/additional-images.tpl.php b/sites/all/themes/vibio/templates/vibio_item/additional-images.tpl.php
deleted file mode 100644
index 7a69871..0000000
--- a/sites/all/themes/vibio/templates/vibio_item/additional-images.tpl.php
+++ /dev/null
@@ -1,20 +0,0 @@
-<?php
-if (!empty($images))
-{
-	$header = t("Additional Images");
-	$image_html = "";
-	
-	foreach ($images as $image)
-	{
-		$image_html .= "
-			<a href='$image' rel='prettyphoto[item_image]'>
-				<img src='$image' class='node_view_item_image' />
-			</a>";
-	}
-	
-	echo "
-		<h4>$header</h4>
-		$image_html
-	";
-}
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/vibio_item/other-items.tpl.php b/sites/all/themes/vibio/templates/vibio_item/other-items.tpl.php
deleted file mode 100644
index d8b8b21..0000000
--- a/sites/all/themes/vibio/templates/vibio_item/other-items.tpl.php
+++ /dev/null
@@ -1,3 +0,0 @@
-<?php
-echo $display;
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/vibio_item/price-image.tpl.php b/sites/all/themes/vibio/templates/vibio_item/price-image.tpl.php
deleted file mode 100644
index 7b08fe8..0000000
--- a/sites/all/themes/vibio/templates/vibio_item/price-image.tpl.php
+++ /dev/null
@@ -1,29 +0,0 @@
-<?php
-if ($item->field_posting_type[0]['value'] == VIBIO_ITEM_TYPE_SELL)
-{
-	if (!$item->offer2buy || $item->offer2buy['settings']['price'] == 0)
-	{
-		$image = $image_type == "full" ? "pricetag-large-dollarsign" : "pricetag-small";
-		
-		echo "
-			<div class='item_pricetag'>
-				<img src='/themes/vibio/images/item/{$image}.png' />
-			</div>
-		";
-	}
-	else
-	{
-		$price = number_format($item->offer2buy['settings']['price'], 2);
-		echo "
-			<div class='item_pricetag'>
-				<div class='item_pricetag_left'></div>
-				<div class='item_pricetag_right'>
-					<span class='item_pricetag_price'>
-						$price
-					</span>
-				</div>
-			</div>
-		";
-	}
-}
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/views-view.tpl.php b/sites/all/themes/vibio/templates/views-view.tpl.php
deleted file mode 100644
index 7738e33..0000000
--- a/sites/all/themes/vibio/templates/views-view.tpl.php
+++ /dev/null
@@ -1,94 +0,0 @@
-<?php
-// $Id: views-view.tpl.php,v 1.1.2.1 2010/01/12 16:32:29 johnalbin Exp $
-
-/**
- * @file
- * Main view template
- *
- * Variables available:
- * - $classes: String of classes that can be used to style contextually through
- *   CSS. It can be manipulated through the variable $classes_array from
- *   preprocess functions. The default values can be one or more of the
- *   following:
- *   - view
- *   - view-[name]
- *   - view-id-[name]
- *   - view-display-id-[display id]
- *   - view-dom-id-[dom id]
- * - $css_name: A css-safe version of the view name.
- * - $header: The view header
- * - $footer: The view footer
- * - $rows: The results of the view query, if any
- * - $empty: The empty text to display if the view is empty
- * - $pager: The pager next/prev links to display, if any
- * - $exposed: Exposed widget form/info to display
- * - $feed_icon: Feed icon to display, if any
- * - $more: A link to view more, if any
- * - $admin_links: A rendered list of administrative links
- * - $admin_links_raw: A list of administrative links suitable for theme('links')
- *
- * @ingroup views_templates
- */
-?>
-<div class="<?php print $classes; ?>">
-  <?php if ($admin_links): ?>
-    <div class="views-admin-links views-hide">
-      <?php print $admin_links; ?>
-    </div>
-  <?php endif; ?>
-
-  <?php if ($header): ?>
-    <div class="view-header">
-      <?php print $header; ?>
-    </div>
-  <?php endif; ?>
-
-  <?php if ($exposed): ?>
-    <div class="view-filters">
-      <?php print $exposed; ?>
-    </div>
-  <?php endif; ?>
-
-  <?php if ($attachment_before): ?>
-    <div class="attachment attachment-before">
-      <?php print $attachment_before; ?>
-    </div>
-  <?php endif; ?>
-
-  <?php if ($rows): ?>
-    <div class="view-content">
-      <?php print $rows; ?>
-    </div>
-  <?php elseif ($empty): ?>
-    <div class="view-empty">
-      <?php print $empty; ?>
-    </div>
-  <?php endif; ?>
-
-  <?php if ($pager): ?>
-    <?php print $pager; ?>
-  <?php endif; ?>
-
-  <?php if ($attachment_after): ?>
-    <div class="attachment attachment-after">
-      <?php print $attachment_after; ?>
-    </div>
-  <?php endif; ?>
-
-  <?php if ($more): ?>
-    <?php print $more; ?>
-  <?php endif; ?>
-
-  <?php if ($footer): ?>
-    <div class="view-footer">
-      <?php print $footer; ?>
-    </div>
-  <?php endif; ?>
-
-  <?php if ($feed_icon): ?>
-    <div class="feed-icon">
-      <?php print $feed_icon; ?>
-    </div>
-  <?php endif; ?>
-
-</div> <!-- /.view -->
diff --git a/sites/all/themes/vibio/templates/views/user_collection/views-view-field--user-collection--field-main-image-fid.tpl.php b/sites/all/themes/vibio/templates/views/user_collection/views-view-field--user-collection--field-main-image-fid.tpl.php
deleted file mode 100644
index 70220b5..0000000
--- a/sites/all/themes/vibio/templates/views/user_collection/views-view-field--user-collection--field-main-image-fid.tpl.php
+++ /dev/null
@@ -1,9 +0,0 @@
-<?php
-if (!$output && module_exists("product"))
-{
-	module_load_include("inc", "product");
-	$output = _vibio_item_get_image($view->result[$view->row_index]->nid);
-}
-
-echo "<img src='$output' />";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/views/user_collection/views-view-field--user-collection--field-posting-type-value.tpl.php b/sites/all/themes/vibio/templates/views/user_collection/views-view-field--user-collection--field-posting-type-value.tpl.php
deleted file mode 100644
index ab78734..0000000
--- a/sites/all/themes/vibio/templates/views/user_collection/views-view-field--user-collection--field-posting-type-value.tpl.php
+++ /dev/null
@@ -1,35 +0,0 @@
-<?php
-// $Id: views-view-field.tpl.php,v 1.1 2008/05/16 22:22:32 merlinofchaos Exp $
- /**
-  * This template is used to print a single field in a view. It is not
-  * actually used in default Views, as this is registered as a theme
-  * function which has better performance. For single overrides, the
-  * template is perfectly okay.
-  *
-  * Variables available:
-  * - $view: The view object
-  * - $field: The field handler object that can process the input
-  * - $row: The raw SQL result that can be used
-  * - $output: The processed output that will normally be used.
-  *
-  * When fetching output from the $row, this construct should be used:
-  * $data = $row->{$field->field_alias}
-  *
-  * The above will guarantee that you'll always get the correct data,
-  * regardless of any changes in the aliasing that might happen if
-  * the view is modified.
-  */
-global $user;
-
-$type = $row->node_data_field_posting_type_field_posting_type_value;
-echo $type == VIBIO_ITEM_TYPE_OWN ? t("Own") : t("For Sale");
-
-if ($user->uid == $view->args[0] && $type != VIBIO_ITEM_TYPE_SELL)
-{
-	$options = array(
-		"attributes"	=> array(
-			"class"	=> "offer2buy_edit_post_type",
-		),
-	);
-	echo " ".l(t("Sell"), "offer2buy/ajax/edit-post-type/{$row->nid}", $options);
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/views/user_collection/views-view-grid--user-collection.tpl.php b/sites/all/themes/vibio/templates/views/user_collection/views-view-grid--user-collection.tpl.php
deleted file mode 100644
index 32c97db..0000000
--- a/sites/all/themes/vibio/templates/views/user_collection/views-view-grid--user-collection.tpl.php
+++ /dev/null
@@ -1,52 +0,0 @@
-<?php
-if ($view->args[2] == PRIVACY_ONLYME)
-{	
-	$collections_link_text = t("View your collections");
-}
-else
-{
-	$u = user_load($view->args[0]);
-	$collections_link_text = t("View !user's collections", array("!user" => $u->name));
-}
-
-$display_args = array(
-	"!start"	=> $view->pager['items_per_page']*$view->pager['current_page'] + 1,
-	"!end"		=> min($view->total_rows, $view->pager['items_per_page']*($view->pager['current_page']+1)),
-	"!total"	=> $view->total_rows,
-);
-
-//echo l($collections_link_text, "user/{$view->args[0]}/inventory")."<br />";
-echo t("Viewing !start - !end of !total", $display_args);
-?>
-
-<table class="views-view-grid user-collection-preview">
-	<?php
-	foreach ($rows as $i => $cols)
-	{
-		$row_class = "row-".($i + 1);
-		if ($i == 0)
-		{
-			$row_class .= " row-first";
-		}
-		if (count($rows) == $i + 1)
-		{
-			$row_class .= " row-last";
-		}
-
-		echo "<tr class='$row_class'>";
-		foreach ($cols as $j => $item)
-		{
-			$result_index = count($cols)*$i + $j;
-			$col_class = "col-".($j + 1);
-			$td_output = isset($view->result[$result_index]) ? theme("collection_list_item_preview", $view->result[$result_index]) : $item;
-
-			echo "
-				<td class='$col_class'>
-					$td_output
-				</td>
-			";
-		}
-		echo "</tr>";
-	}
-	?>
-</table>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/views/user_collection/views-view-table--user-collection.tpl.php b/sites/all/themes/vibio/templates/views/user_collection/views-view-table--user-collection.tpl.php
deleted file mode 100644
index 7f990cc..0000000
--- a/sites/all/themes/vibio/templates/views/user_collection/views-view-table--user-collection.tpl.php
+++ /dev/null
@@ -1,79 +0,0 @@
-<?php
-global $user;
-
-$extra_columns = array();
-if ($user->uid == $view->args[0])
-{
-	if (module_exists("fb"))
-	{
-		module_load_include("inc", "fb");
-		$share[] = "fb_share";
-		$fb_share = theme("fb_share", $view->args[1], "collection");
-	}
-	
-	$collections_link_text = t("View your collections");
-}
-else
-{
-	$u = user_load($view->args[0]);
-	$collections_link_text = t("View !user's collections", array("!user" => $u->name));
-}
-
-$display_args = array(
-	"!start"	=> $view->pager['items_per_page']*$view->pager['current_page'] + 1,
-	"!end"		=> min($view->total_rows, $view->pager['items_per_page']*($view->pager['current_page']+1)),
-	"!total"	=> $view->total_rows,
-);
-
-echo $fb_share;
-echo l($collections_link_text, "user/{$view->args[0]}/inventory")."<br />";
-echo t("Viewing !start - !end of !total", $display_args);
-?>
-
-<table class="<?php print $class; ?>">
-  <?php if (!empty($title)) : ?>
-	<caption><?php print $title; ?></caption>
-  <?php endif; ?>
-  <thead>
-	<tr>
-	  <?php foreach ($header as $field => $label): ?>
-		<th class="views-field views-field-<?php print $fields[$field]; ?>">
-		  <?php print $label; ?>
-		</th>
-	  <?php endforeach; ?>
-	  <?php
-	  if (!empty($share))
-	  {
-		$share_text = t("Share");
-		echo "<th>$share_text</th>";
-	  }
-	  ?>
-	</tr>
-  </thead>
-  <tbody>
-	<?php foreach ($rows as $count => $row): ?>
-	  <tr class="<?php print implode(' ', $row_classes[$count]); ?>">
-		<?php foreach ($row as $field => $content): ?>
-		  <td class="views-field views-field-<?php print $fields[$field]; ?>">
-			<?php print $content; ?>
-		  </td>
-		<?php endforeach; ?>
-		<?php
-		if (!empty($share))
-		{
-			echo "<td>";
-			foreach  ($share as $theme)
-			{
-				if ($theme == "fb_share")
-				{
-					$out = theme("fb_share", $view->result[$count]->nid, "node");
-				}
-				echo $out;
-			}
-			echo "</td>";
-		}
-		?>
-	  </tr>
-	<?php endforeach; ?>
-  </tbody>
-</table>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/views/user_collection_preview/views-view-grid--user-collection-preview.tpl.php b/sites/all/themes/vibio/templates/views/user_collection_preview/views-view-grid--user-collection-preview.tpl.php
deleted file mode 100644
index c791a94..0000000
--- a/sites/all/themes/vibio/templates/views/user_collection_preview/views-view-grid--user-collection-preview.tpl.php
+++ /dev/null
@@ -1,74 +0,0 @@
-<?php
-$total_items = collection_get_num_items($view->args[1], $view->args[2]);
-$unshown_items = $total_items - count($view->result);
-
-if ($unshown_items)
-{
-	$empty_spot = false;
-	$more_items = t("And !count more", array("!count" => $unshown_items))."<br />";
-	$more_link = l(t("View Complete List"), "collections/{$view->args[1]}");
-	$extra_td = "
-		<span class='unshown_item_count'>
-			$more_items
-			$more_link
-		</span>
-	";
-	foreach ($rows as $i => $cols)
-	{
-		foreach ($cols as $j => $item)
-		{
-			if (empty($item))
-			{
-				$empty_spot = true;
-				$rows[$i][$j] = $extra_td;
-				break;
-			}
-		}
-	}
-
-	if (!$empty_spot)
-	{
-		$next_row_i = count($rows);
-		$next_row = array();
-
-		for ($i = 0; $i < $view->display['default']->display_options['style_options']['columns']; ++$i)
-		{
-			$next_row[] = $i == 0 ? $extra_td : "";
-		}
-
-		$rows[] = $next_row;
-	}
-}
-?>
-
-<table class="views-view-grid user-collection-preview">
-	<?php
-	foreach ($rows as $i => $cols)
-	{
-		$row_class = "row-".($i + 1);
-		if ($i == 0)
-		{
-			$row_class .= " row-first";
-		}
-		if (count($rows) == $i + 1)
-		{
-			$row_class .= " row-last";
-		}
-
-		echo "<tr class='$row_class'>";
-		foreach ($cols as $j => $item)
-		{
-			$result_index = count($cols)*$i + $j;
-			$col_class = "col-".($j + 1);
-			$td_output = isset($view->result[$result_index]) ? theme("collection_list_item_preview", $view->result[$result_index]) : $item;
-
-			echo "
-				<td class='$col_class'>
-					$td_output
-				</td>
-			";
-		}
-		echo "</tr>";
-	}
-	?>
-</table>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/views/user_collections/views-view-grid--user-collections.tpl.php b/sites/all/themes/vibio/templates/views/user_collections/views-view-grid--user-collections.tpl.php
deleted file mode 100644
index 7b6a912..0000000
--- a/sites/all/themes/vibio/templates/views/user_collections/views-view-grid--user-collections.tpl.php
+++ /dev/null
@@ -1,40 +0,0 @@
-<?php
-if ($view->args[1] == PRIVACY_ONLYME)
-{
-	echo l(t("Create New Collection"), "collections/new")."<br />";
-}
-
-echo l(t("View All Items"), "collections/{$view->args[0]}/view-all");
-?>
-
-<table class="views-view-grid user-collections">
-	<?php
-	foreach ($rows as $i => $cols)
-	{
-		$row_class = "row-".($i + 1);
-		if ($i == 0)
-		{
-			$row_class .= " row-first";
-		}
-		if (count($rows) == $i + 1)
-		{
-			$row_class .= " row-last";
-		}
-		
-		echo "<tr class='$row_class'>";
-		foreach ($cols as $j => $item)
-		{
-			$result_index = count($cols)*$i + $j;
-			$col_class = "col-".($j + 1);
-			$output = theme("collection_list_item", $view->result[$result_index], $view->args[1]);
-			
-			echo "
-				<td class='$col_class'>
-					$output
-				</td>
-			";
-		}
-		echo "</tr>";
-	}
-	?>
-</table>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/views/user_collections/views-view-unformatted--user-collections.tpl.php b/sites/all/themes/vibio/templates/views/user_collections/views-view-unformatted--user-collections.tpl.php
deleted file mode 100644
index 33efa04..0000000
--- a/sites/all/themes/vibio/templates/views/user_collections/views-view-unformatted--user-collections.tpl.php
+++ /dev/null
@@ -1,14 +0,0 @@
-<?php
-echo "<div class='collections_view_header'>";
-
-if ($view->args[1] == PRIVACY_ONLYME)
-{
-	echo l("<button>".t("Create New Collection")."</button>", "collections/new", array("html" => true))."<br />";
-}
-echo "</div>";
-
-foreach ($view->result as $collection)
-{
-	echo theme("collection_list_item", $collection, $view->args[1]);
-}
-?>
diff --git a/sites/all/themes/vibio/templates/views/user_inventory/views-view-field--user-inventory--field-main-image-fid.tpl.php b/sites/all/themes/vibio/templates/views/user_inventory/views-view-field--user-inventory--field-main-image-fid.tpl.php
deleted file mode 100644
index 95fca8e..0000000
--- a/sites/all/themes/vibio/templates/views/user_inventory/views-view-field--user-inventory--field-main-image-fid.tpl.php
+++ /dev/null
@@ -1,9 +0,0 @@
-<?php
-if (!$output && module_exists("product"))
-{
-	module_load_include("inc", "product");
-	$output = _product_get_image($view->result[$view->row_index]->nid);
-}
-
-echo "<img src='$output' />";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/views/user_inventory/views-view-field--user-inventory--field-posting-type-value.tpl.php b/sites/all/themes/vibio/templates/views/user_inventory/views-view-field--user-inventory--field-posting-type-value.tpl.php
deleted file mode 100644
index ab78734..0000000
--- a/sites/all/themes/vibio/templates/views/user_inventory/views-view-field--user-inventory--field-posting-type-value.tpl.php
+++ /dev/null
@@ -1,35 +0,0 @@
-<?php
-// $Id: views-view-field.tpl.php,v 1.1 2008/05/16 22:22:32 merlinofchaos Exp $
- /**
-  * This template is used to print a single field in a view. It is not
-  * actually used in default Views, as this is registered as a theme
-  * function which has better performance. For single overrides, the
-  * template is perfectly okay.
-  *
-  * Variables available:
-  * - $view: The view object
-  * - $field: The field handler object that can process the input
-  * - $row: The raw SQL result that can be used
-  * - $output: The processed output that will normally be used.
-  *
-  * When fetching output from the $row, this construct should be used:
-  * $data = $row->{$field->field_alias}
-  *
-  * The above will guarantee that you'll always get the correct data,
-  * regardless of any changes in the aliasing that might happen if
-  * the view is modified.
-  */
-global $user;
-
-$type = $row->node_data_field_posting_type_field_posting_type_value;
-echo $type == VIBIO_ITEM_TYPE_OWN ? t("Own") : t("For Sale");
-
-if ($user->uid == $view->args[0] && $type != VIBIO_ITEM_TYPE_SELL)
-{
-	$options = array(
-		"attributes"	=> array(
-			"class"	=> "offer2buy_edit_post_type",
-		),
-	);
-	echo " ".l(t("Sell"), "offer2buy/ajax/edit-post-type/{$row->nid}", $options);
-}
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/views/user_inventory/views-view-table--user-inventory.tpl.php b/sites/all/themes/vibio/templates/views/user_inventory/views-view-table--user-inventory.tpl.php
deleted file mode 100644
index 3d6278e..0000000
--- a/sites/all/themes/vibio/templates/views/user_inventory/views-view-table--user-inventory.tpl.php
+++ /dev/null
@@ -1,60 +0,0 @@
-<?php
-global $user;
-$share = $user->uid == $view->args[0];
-
-$display_args = array(
-	"!start"	=> $view->pager['items_per_page']*$view->pager['current_page'] + 1,
-	"!end"		=> min($view->total_rows, $view->pager['items_per_page']*($view->pager['current_page']+1)),
-	"!total"	=> $view->total_rows,
-);
-echo t("Viewing !start - !end of !total", $display_args);
-?>
-
-<table class="<?php print $class; ?>">
-  <?php if (!empty($title)) : ?>
-	<caption><?php print $title; ?></caption>
-  <?php endif; ?>
-  <thead>
-	<tr>
-	  <?php foreach ($header as $field => $label): ?>
-		<th class="views-field views-field-<?php print $fields[$field]; ?>">
-		  <?php print $label; ?>
-		</th>
-	  <?php endforeach; ?>
-	  <?php
-	  if ($share)
-	  {
-		$share_text = t("Share");
-		echo "<th>$share_text</th>";
-	  }
-	  ?>
-	</tr>
-  </thead>
-  <tbody>
-	<?php foreach ($rows as $count => $row): ?>
-	  <tr class="<?php print implode(' ', $row_classes[$count]); ?>">
-		<?php foreach ($row as $field => $content): ?>
-		  <td class="views-field views-field-<?php print $fields[$field]; ?>">
-			<?php print $content; ?>
-		  </td>
-		<?php endforeach; ?>
-		<?php
-		if ($share)
-		{
-			echo "<td>";
-			if (module_exists("fb"))
-			{
-				module_load_include("inc", "fb");
-				echo theme("fb_share", $view->result[$count]->nid);
-			}
-			if (module_exists("tweetassist"))
-			{
-				echo theme("tweetassist_tweet", "node", $view->result[$count]->nid);
-			}
-			echo "</td>";
-		}
-		?>
-	  </tr>
-	<?php endforeach; ?>
-  </tbody>
-</table>
diff --git a/sites/all/themes/vibio/templates/views/views-view-field--message.tpl.php b/sites/all/themes/vibio/templates/views/views-view-field--message.tpl.php
deleted file mode 100644
index 8ca7b90..0000000
--- a/sites/all/themes/vibio/templates/views/views-view-field--message.tpl.php
+++ /dev/null
@@ -1,40 +0,0 @@
-<?php
-$row = $view->result[$view->row_index];
-
-$message = "";
-if ($row->nid)
-{
-	$is_item_message = strpos($row->message_id, "node") !== false || strpos($row->message_id, "item") !== false;
-	if ($is_item_message && module_exists("vibio_item")) //this nid is for a node
-	{
-		$image = _vibio_item_get_image($row->nid);
-	}
-	elseif (strpos($row->message_id, "collection") !== false && module_exists("collection")) //this nid is actually a cid. hax.
-	{
-		module_load_include("inc", "collection");
-		$access = privacy_get_access_level($row->actor->uid); // this works because other users viewing this view will have the same access level as the current user
-		$image = collection_get_image($row->nid, false, $access);
-	}
-	else
-	{
-		$image = _vibio_item_get_image($row->nid); // dunno what else to do here.. just assume it's an nid
-	}
-	
-	$message .= "
-		<div class='views_node_image_container'>
-			<a href='/node/{$row->nid}'>
-				<img src='$image' />
-			</a>
-		</div>
-	";
-}
-
-$message .= "
-	<div class='views_message'>
-		$output
-	</div>
-	<div class='clear'></div>
-";
-
-echo $message;
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/views/views-view-field--picture.tpl.php b/sites/all/themes/vibio/templates/views/views-view-field--picture.tpl.php
deleted file mode 100644
index b0c445e..0000000
--- a/sites/all/themes/vibio/templates/views/views-view-field--picture.tpl.php
+++ /dev/null
@@ -1,13 +0,0 @@
-<?php
-$profile_pic = $row->actor->picture ? file_create_url($row->actor->picture) : "/themes/vibio/images/icons/default_user.png";
-$alt = $row->actor->name;
-
-echo "
-	<div class='picture'>
-		<a href='/user/{$row->actor->uid}'>
-			<img src='$profile_pic' alt='$alt' title='$alt' />
-		</a>
-		<span class='view_activity_timestamp timestamp_uncalculated'>{$row->timestamp}</span>
-	</div>
-";
-?>
\ No newline at end of file
diff --git a/sites/all/themes/vibio/templates/x b/sites/all/themes/vibio/templates/x
deleted file mode 100644
index a1b27a1..0000000
--- a/sites/all/themes/vibio/templates/x
+++ /dev/null
@@ -1,134 +0,0 @@
-<?php
-$title = "<h3 class='product_title'>".check_plain($node->title)."</h3>";
-
-/* Back link for searches */
-if ($_GET['searchcrumb'])
-{
-	/* stephen: security updtae 20110609 */
-	$sanitary = htmlspecialchars ( $_GET['searchcrumb'],   ENT_QUOTES );
-  	$searchcrumb = t("Back to search results");
-	$searchcrumb = "<a href='{$sanitary}'>$searchcrumb</a><br />";
-}
-else
-{
-	$searchcrumb = "";
-}
-
-if ($image = _product_get_image($node->nid, true))
-{
-	$image = "
-		<a href='$image' rel='prettyphoto[item_image]'>
-			<img src='$image' class='product_main_image' />
-		</a>
-	";
-}
-
-/* stephen: security update 20110609 */
-$sanitary = htmlspecialchars ( $_GET['searchcrumb'],   ENT_QUOTES );
-$manage_link = theme("product_inventory_manage_link", $node, $sanitary);
-
-if (isset($node->amazon_data))
-{
-	if (empty($node->body))
-	{
-		$product_content = theme("product_amazon_display", $node, $page);
-	}
-	else
-	{
-		$product_content = theme("product_display", $node, $page);
-		$product_content .= theme("vibio_amazon_item_details", $node);
-	}
-	
-	$external_link = $page ? t("Get \"!item\" from !external_link.", array("!item" => $node->title, "!external_link" => l(t("Amazon"), $node->amazon_data['detailpageurl'], array("absolute" => true)))) : "";
-}
-else
-{
-	$product_content = theme("product_display", $node, $page);
-}
-
-// these things will show up, regardless of the product source
-if (arg(0) != "product" && arg(2) != "add-to-inventory")
-{
-	drupal_set_title($node->title);
-}
-
-/*  This section is for the page starting after "People who have...." */
-if ($page)
-{
-	module_load_include("inc", "product");
-	
-	$product_images = theme("vibio_item_images", product_images($node));
-	$any_collectors = ''; // boolean	
-
-	foreach (_product_get_product_owners($node->nid, $user->uid) as $type => $data)
-	{
-		// $data are [count] => 0 [page] => 0 [results] =>
-		if ( $data[count] ) { 
-			$any_collectors = 1;
-		}
-		$type_title = $type == "network" ? t("In your network") : t("On Vibio");
-		$product_owners .= "<div class='product_owners_type_container' id='product_type_{$type}'>";
-		//$product_owners .= "<h4 class='product_description'>$type_title</h4>";
-		$product_owners .= "<div class='product_owners_results'>";
-		$product_owners .= theme("product_owners", $type, $data);
-		
-		$product_owners .= "</div></div>";
-	}
-	
-	// $owners_header	
-	$owners_header = '';
-	$extra_data = '';
-	
-	if ( $any_collectors ) {
-		$owners_header = t("Collectors who have !title in their inventory", array("!title" => $node->title));
-		$extra_data = "
-			<div class='product_extra_data'>
-				$product_images
-				<h3>$owners_header</h3>
-				$product_owners
-				<p>$external_link</p>
-			</div>
-		";
-
-	} else {
-		// note: if you own it, doesn't seem to show up
-		$non_header = t ("Be the first Vibio Collector in your network with <em>!title</em>",
-			array("!title" => $node->title));
-		$extra_data = "
-                        <div class='product_extra_data'>
-				<h3>$non_header</h3>
-				<p>$external_link</p>
-			</div>
-		";	
-	} 
-
-
-
-}
-else
-{
-	$extra_data = "";
-	if ($node->item)
-	{
-		$price_image = theme("vibio_item_price_image", $node->item);
-	}
-}
-
-echo "
-	$searchcrumb
-	<div class='product_image'>
-		$price_image
-		$image<br />
-		$manage_link
-	</div>
-	<div class='product_node_data'>
-		<a href='/node/{$node->nid}'>
-			$title
-		</a>
-		<h4 class='product_description'>Description</h4>
-		$product_content
-	</div>
-	<div class='clear'></div>
-	$extra_data
-";
-?>
diff --git a/sites/all/themes/vibio/theme-settings.php b/sites/all/themes/vibio/theme-settings.php
deleted file mode 100644
index acaff6f..0000000
--- a/sites/all/themes/vibio/theme-settings.php
+++ /dev/null
@@ -1,45 +0,0 @@
-<?php
-// $Id: theme-settings.php,v 1.7 2008/09/11 09:36:50 johnalbin Exp $
-
-// Include the definition of zen_settings() and zen_theme_get_default_settings().
-include_once './' . drupal_get_path('theme', 'zen') . '/theme-settings.php';
-
-
-/**
- * Implementation of THEMEHOOK_settings() function.
- *
- * @param $saved_settings
- *   An array of saved settings for this theme.
- * @return
- *   A form array.
- */
-function vibio_settings($saved_settings) {
-
-  // Get the default values from the .info file.
-  $defaults = zen_theme_get_default_settings('vibio');
-
-  // Merge the saved variables and their default values.
-  $settings = array_merge($defaults, $saved_settings);
-
-  /*
-   * Create the form using Forms API: http://api.drupal.org/api/6
-   */
-  $form = array();
-  /* -- Delete this line if you want to use this setting
-  $form['vibio_example'] = array(
-    '#type'          => 'checkbox',
-    '#title'         => t('Use this sample setting'),
-    '#default_value' => $settings['vibio_example'],
-    '#description'   => t("This option doesn't do anything; it's just an example."),
-  );
-  // */
-
-  // Add the base theme's settings.
-  $form += zen_settings($saved_settings, $defaults);
-
-  // Remove some of the base theme's settings.
-  unset($form['themedev']['zen_layout']); // We don't need to select the base stylesheet.
-
-  // Return the form
-  return $form;
-}
diff --git a/sites/all/themes/vibio/vibio-logo.png b/sites/all/themes/vibio/vibio-logo.png
deleted file mode 100644
index 6286f79..0000000
Binary files a/sites/all/themes/vibio/vibio-logo.png and /dev/null differ
diff --git a/sites/all/themes/vibio/vibio-tagline.png b/sites/all/themes/vibio/vibio-tagline.png
deleted file mode 100644
index fd89031..0000000
Binary files a/sites/all/themes/vibio/vibio-tagline.png and /dev/null differ
diff --git a/sites/all/themes/vibio/vibio.info b/sites/all/themes/vibio/vibio.info
deleted file mode 100644
index 46f7b5a..0000000
--- a/sites/all/themes/vibio/vibio.info
+++ /dev/null
@@ -1,75 +0,0 @@
-name        = Vibio
-description = The main Vibio theme, created as a sub-theme of the Zen theme.
-screenshot = screenshot.png
-core       = 6.x
-base theme = zen
-
-   ; Stephen making quick edits in various places, better
-   ;  to separate my work than integrate with each file here 
-stylesheets[all][]   = css/stephen.css
- 
-
-stylesheets[all][]   = css/html-reset.css
-stylesheets[all][]   = css/layout-fixed.css
-stylesheets[all][]   = css/tabs.css
-stylesheets[all][]   = css/messages.css
-stylesheets[all][]   = css/pages.css
-stylesheets[all][]   = css/views-styles.css
-stylesheets[all][]   = css/nodes.css
-stylesheets[all][]   = css/comments.css
-stylesheets[all][]   = css/forms.css
-stylesheets[all][]   = css/blocks.css
-
-  ; Set the conditional stylesheets that are processed by IE.
-conditional-stylesheets[if IE][all][]       = css/ie.css
-conditional-stylesheets[if lte IE 6][all][] = css/ie6.css
-
-  ; Optionally add some JavaScripts to your theme.
-; scripts[] = js/script.js
-
-  ; The regions defined in Zen's default page.tpl.php file.  The name in
-  ; brackets is the name of the variable in the page.tpl.php file, (e.g.
-  ; "[content_top]" in the .info file means there should be a $content_top
-  ; variable in the page.tpl.php file.) The text after the equals sign is a
-  ; descriptive text used on the admin/build/blocks page.
-  ;
-  ; To add a new region, copy Zen's page.tpl.php to your sub-theme's directory,
-  ; add a line line to this file, and then add the new variable to your
-  ; page.tpl.php template.
-regions[sidebar_first]  = First sidebar
-;regions[sidebar_second] = Second sidebar
-regions[navigation]     = Navigation bar
-;regions[highlight]      = Highlighted content
-regions[content_top]    = Content top
-regions[content_bottom] = Content bottom
-regions[header]         = Header
-regions[footer]         = Footer
-regions[page_closure]   = Page closure
-
-  ; Various page elements output by the theme can be toggled on and off. The
-  ; "features" control which of these check boxes display on the
-  ; admin/build/themes config page. This is useful for suppressing check boxes
-  ; for elements not used by your sub-theme. To suppress a check box, omit the
-  ; entry for it below. See the Drupal 6 Theme Guide for more info:
-  ; http://drupal.org/node/171205#features
-features[] = logo
-features[] = name
-features[] = slogan
-features[] = mission
-features[] = node_user_picture
-features[] = comment_user_picture
-features[] = search
-features[] = favicon
-features[] = primary_links
-features[] = secondary_links
-
-  ; Set the default settings to be used in theme-settings.php
-settings[zen_block_editing]        = 1
-settings[zen_breadcrumb]           = yes
-settings[zen_breadcrumb_separator] = '  '
-settings[zen_breadcrumb_home]      = 1
-settings[zen_breadcrumb_trailing]  = 1
-settings[zen_breadcrumb_title]     = 0
-settings[zen_rebuild_registry]     = 1
-settings[zen_wireframes]           = 0
-settings[toggle_comment_user_picture] = 1
diff --git a/sites/all/themes/zen/style.css b/sites/all/themes/zen/style.css
new file mode 100644
index 0000000..e69de29
diff --git a/sites/default/files/.htaccess b/sites/default/files/.htaccess
deleted file mode 100644
index 189ef8d..0000000
--- a/sites/default/files/.htaccess
+++ /dev/null
@@ -1,3 +0,0 @@
-SetHandler Drupal_Security_Do_Not_Remove_See_SA_2006_006
-Options None
-Options +FollowSymLinks
\ No newline at end of file
diff --git a/sites/default/modules/cck_and_menus_from_v1_1-6.x-1.1a.tar b/sites/default/modules/cck_and_menus_from_v1_1-6.x-1.1a.tar
new file mode 100644
index 0000000..f188d83
Binary files /dev/null and b/sites/default/modules/cck_and_menus_from_v1_1-6.x-1.1a.tar differ
diff --git a/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.features.content.inc b/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.features.content.inc
new file mode 100644
index 0000000..852bd16
--- /dev/null
+++ b/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.features.content.inc
@@ -0,0 +1,1141 @@
+<?php
+
+/**
+ * Implementation of hook_content_default_fields().
+ */
+function cck_and_menus_from_v1_1_content_default_fields() {
+  $fields = array();
+
+  // Exported field: field_buy_actions
+  $fields['offer-field_buy_actions'] = array(
+    'field_name' => 'field_buy_actions',
+    'type_name' => 'offer',
+    'display_settings' => array(
+      'weight' => '8',
+      'parent' => '',
+      'label' => array(
+        'format' => 'inline',
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'text',
+    'required' => '0',
+    'multiple' => '1',
+    'module' => 'text',
+    'active' => '1',
+    'text_processing' => '0',
+    'max_length' => '',
+    'allowed_values' => 'pay|Payment Sent
+rcd|Item Received
+thanks|Great Experience!
+',
+    'allowed_values_php' => '',
+    'widget' => array(
+      'rows' => 5,
+      'size' => '60',
+      'default_value' => array(
+        '0' => array(
+          'value' => NULL,
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'Actions',
+      'weight' => '8',
+      'description' => '',
+      'type' => 'optionwidgets_buttons',
+      'module' => 'optionwidgets',
+    ),
+  );
+
+  // Exported field: field_city
+  $fields['offer-field_city'] = array(
+    'field_name' => 'field_city',
+    'type_name' => 'offer',
+    'display_settings' => array(
+      'weight' => '-1',
+      'parent' => '',
+      'label' => array(
+        'format' => 'inline',
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'text',
+    'required' => '0',
+    'multiple' => '0',
+    'module' => 'text',
+    'active' => '1',
+    'text_processing' => '0',
+    'max_length' => '',
+    'allowed_values' => '',
+    'allowed_values_php' => '',
+    'widget' => array(
+      'rows' => 5,
+      'size' => '60',
+      'default_value' => array(
+        '0' => array(
+          'value' => '',
+          '_error_element' => 'default_value_widget][field_city][0][value',
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'Shipping Location or City',
+      'weight' => '-1',
+      'description' => '',
+      'type' => 'text_textfield',
+      'module' => 'text',
+    ),
+  );
+
+  // Exported field: field_item_sought
+  $fields['offer-field_item_sought'] = array(
+    'field_name' => 'field_item_sought',
+    'type_name' => 'offer',
+    'display_settings' => array(
+      'weight' => '-4',
+      'parent' => '',
+      'label' => array(
+        'format' => 'inline',
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 1,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'nodereference',
+    'required' => '0',
+    'multiple' => '0',
+    'module' => 'nodereference',
+    'active' => '1',
+    'referenceable_types' => array(
+      'vibio_item' => 'vibio_item',
+      'accept' => 0,
+      'decline' => 0,
+      'offer' => 0,
+      'page' => 0,
+      'product' => 0,
+      'story' => 0,
+    ),
+    'advanced_view' => '--',
+    'advanced_view_args' => '',
+    'widget' => array(
+      'node_link' => array(
+        'teaser' => 1,
+        'full' => 1,
+        'title' => 'temporary automatic nodereference link to create an offer',
+        'hover_title' => '',
+        'destination' => 'node',
+      ),
+      'fallback' => 'autocomplete',
+      'edit_fallback' => 0,
+      'label' => 'Item Sought',
+      'weight' => '-4',
+      'description' => '',
+      'type' => 'nodereference_url',
+      'module' => 'nodereference_url',
+    ),
+  );
+
+  // Exported field: field_offer_expires
+  $fields['offer-field_offer_expires'] = array(
+    'field_name' => 'field_offer_expires',
+    'type_name' => 'offer',
+    'display_settings' => array(
+      'weight' => '-2',
+      'parent' => '',
+      'label' => array(
+        'format' => 'inline',
+      ),
+      'teaser' => array(
+        'format' => 'short',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'short',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'date',
+    'required' => '0',
+    'multiple' => '0',
+    'module' => 'date',
+    'active' => '1',
+    'granularity' => array(
+      'year' => 'year',
+      'month' => 'month',
+      'day' => 'day',
+      'hour' => 'hour',
+      'minute' => 'minute',
+    ),
+    'timezone_db' => 'UTC',
+    'tz_handling' => 'site',
+    'todate' => '',
+    'repeat' => 0,
+    'repeat_collapsed' => '',
+    'default_format' => 'medium',
+    'widget' => array(
+      'default_value' => 'strtotime',
+      'default_value_code' => '+7 days',
+      'default_value2' => 'same',
+      'default_value_code2' => '',
+      'input_format' => 'm/d/Y - H:i:s',
+      'input_format_custom' => '',
+      'increment' => 1,
+      'text_parts' => array(),
+      'year_range' => '-3:+3',
+      'label_position' => 'above',
+      'label' => 'Expires',
+      'weight' => '-2',
+      'description' => '',
+      'type' => 'date_text',
+      'module' => 'date',
+    ),
+  );
+
+  // Exported field: field_price
+  $fields['offer-field_price'] = array(
+    'field_name' => 'field_price',
+    'type_name' => 'offer',
+    'display_settings' => array(
+      'weight' => '-3',
+      'parent' => '',
+      'label' => array(
+        'format' => 'inline',
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'number_decimal',
+    'required' => '0',
+    'multiple' => '0',
+    'module' => 'number',
+    'active' => '1',
+    'prefix' => '$',
+    'suffix' => '',
+    'min' => '',
+    'max' => '',
+    'allowed_values' => '',
+    'allowed_values_php' => '',
+    'precision' => '10',
+    'scale' => '2',
+    'decimal' => '.',
+    'widget' => array(
+      'default_value' => array(
+        '0' => array(
+          'value' => '',
+          '_error_element' => 'default_value_widget][field_price][0][value',
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'Your Offer',
+      'weight' => '-3',
+      'description' => 'Price in dollars',
+      'type' => 'number',
+      'module' => 'number',
+    ),
+  );
+
+  // Exported field: field_chat
+  $fields['offer_neg_buyer-field_chat'] = array(
+    'field_name' => 'field_chat',
+    'type_name' => 'offer_neg_buyer',
+    'display_settings' => array(
+      'weight' => '-2',
+      'parent' => '',
+      'label' => array(
+        'format' => 'hidden',
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'text',
+    'required' => '0',
+    'multiple' => '0',
+    'module' => 'text',
+    'active' => '1',
+    'text_processing' => '0',
+    'max_length' => '',
+    'allowed_values' => '',
+    'allowed_values_php' => '',
+    'widget' => array(
+      'rows' => '3',
+      'size' => 60,
+      'default_value' => array(
+        '0' => array(
+          'value' => 'Would you like to say something? Heres your chance to negotiate.',
+          '_error_element' => 'default_value_widget][field_chat][0][value',
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'Chat',
+      'weight' => '9',
+      'description' => '',
+      'type' => 'text_textarea',
+      'module' => 'text',
+    ),
+  );
+
+  // Exported field: field_city
+  $fields['offer_neg_buyer-field_city'] = array(
+    'field_name' => 'field_city',
+    'type_name' => 'offer_neg_buyer',
+    'display_settings' => array(
+      'weight' => '-1',
+      'parent' => '',
+      'label' => array(
+        'format' => 'inline',
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'text',
+    'required' => '0',
+    'multiple' => '0',
+    'module' => 'text',
+    'active' => '1',
+    'text_processing' => '0',
+    'max_length' => '',
+    'allowed_values' => '',
+    'allowed_values_php' => '',
+    'widget' => array(
+      'rows' => 5,
+      'size' => '60',
+      'default_value' => array(
+        '0' => array(
+          'value' => '',
+          '_error_element' => 'default_value_widget][field_city][0][value',
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'Shipping Location or City',
+      'weight' => '-1',
+      'description' => '',
+      'type' => 'text_textfield',
+      'module' => 'text',
+    ),
+  );
+
+  // Exported field: field_item_received
+  $fields['offer_neg_buyer-field_item_received'] = array(
+    'field_name' => 'field_item_received',
+    'type_name' => 'offer_neg_buyer',
+    'display_settings' => array(
+      'label' => array(
+        'format' => 'above',
+        'exclude' => 0,
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'text',
+    'required' => '1',
+    'multiple' => '0',
+    'module' => 'text',
+    'active' => '1',
+    'text_processing' => '0',
+    'max_length' => '',
+    'allowed_values' => 'No
+Yes',
+    'allowed_values_php' => '',
+    'widget' => array(
+      'default_value' => array(
+        '0' => array(
+          'value' => 'No',
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'Item Received',
+      'weight' => 0,
+      'description' => '',
+      'type' => 'optionwidgets_buttons',
+      'module' => 'optionwidgets',
+    ),
+  );
+
+  // Exported field: field_offer
+  $fields['offer_neg_buyer-field_offer'] = array(
+    'field_name' => 'field_offer',
+    'type_name' => 'offer_neg_buyer',
+    'display_settings' => array(
+      'weight' => '2',
+      'parent' => '',
+      'label' => array(
+        'format' => 'above',
+      ),
+      'teaser' => array(
+        'format' => 'hidden',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'nodereference',
+    'required' => '0',
+    'multiple' => '0',
+    'module' => 'nodereference',
+    'active' => '1',
+    'referenceable_types' => array(
+      'offer' => 'offer',
+      'decline' => 0,
+      'offer_neg_buyer' => 0,
+      'offer_neg_seller' => 0,
+      'page' => 0,
+      'product' => 0,
+      'story' => 0,
+      'vibio_item' => 0,
+    ),
+    'advanced_view' => '--',
+    'advanced_view_args' => '',
+    'widget' => array(
+      'node_link' => array(
+        'teaser' => 0,
+        'full' => 1,
+        'title' => 'Decline',
+        'hover_title' => 'Decline this offer',
+        'destination' => 'source',
+      ),
+      'fallback' => 'autocomplete',
+      'edit_fallback' => 0,
+      'label' => 'Offer Discussion Page (nid)',
+      'weight' => '2',
+      'description' => '',
+      'type' => 'nodereference_url',
+      'module' => 'nodereference_url',
+    ),
+  );
+
+  // Exported field: field_offer_expires
+  $fields['offer_neg_buyer-field_offer_expires'] = array(
+    'field_name' => 'field_offer_expires',
+    'type_name' => 'offer_neg_buyer',
+    'display_settings' => array(
+      'weight' => '-2',
+      'parent' => '',
+      'label' => array(
+        'format' => 'inline',
+      ),
+      'teaser' => array(
+        'format' => 'short',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'short',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'date',
+    'required' => '0',
+    'multiple' => '0',
+    'module' => 'date',
+    'active' => '1',
+    'granularity' => array(
+      'year' => 'year',
+      'month' => 'month',
+      'day' => 'day',
+      'hour' => 'hour',
+      'minute' => 'minute',
+    ),
+    'timezone_db' => 'UTC',
+    'tz_handling' => 'site',
+    'todate' => '',
+    'repeat' => 0,
+    'repeat_collapsed' => '',
+    'default_format' => 'medium',
+    'widget' => array(
+      'default_value' => 'strtotime',
+      'default_value_code' => '+7 days',
+      'default_value2' => 'same',
+      'default_value_code2' => '',
+      'input_format' => 'm/d/Y - H:i',
+      'input_format_custom' => '',
+      'increment' => '1',
+      'text_parts' => array(),
+      'year_range' => '-1:+3',
+      'label_position' => 'above',
+      'label' => 'Expires',
+      'weight' => '-2',
+      'description' => '',
+      'type' => 'date_popup',
+      'module' => 'date',
+    ),
+  );
+
+  // Exported field: field_pay_sent
+  $fields['offer_neg_buyer-field_pay_sent'] = array(
+    'field_name' => 'field_pay_sent',
+    'type_name' => 'offer_neg_buyer',
+    'display_settings' => array(
+      'label' => array(
+        'format' => 'above',
+        'exclude' => 0,
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'text',
+    'required' => '1',
+    'multiple' => '0',
+    'module' => 'text',
+    'active' => '1',
+    'text_processing' => '0',
+    'max_length' => '',
+    'allowed_values' => 'no|Not yet
+paypal|Paypal
+check|Check
+other|Other',
+    'allowed_values_php' => '',
+    'widget' => array(
+      'default_value' => array(
+        '0' => array(
+          'value' => 'no',
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'Pay Sent',
+      'weight' => '-1',
+      'description' => '',
+      'type' => 'optionwidgets_buttons',
+      'module' => 'optionwidgets',
+    ),
+  );
+
+  // Exported field: field_price
+  $fields['offer_neg_buyer-field_price'] = array(
+    'field_name' => 'field_price',
+    'type_name' => 'offer_neg_buyer',
+    'display_settings' => array(
+      'weight' => '-3',
+      'parent' => '',
+      'label' => array(
+        'format' => 'inline',
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'number_decimal',
+    'required' => '0',
+    'multiple' => '0',
+    'module' => 'number',
+    'active' => '1',
+    'prefix' => '$',
+    'suffix' => '',
+    'min' => '',
+    'max' => '',
+    'allowed_values' => '',
+    'allowed_values_php' => '',
+    'precision' => '10',
+    'scale' => '2',
+    'decimal' => '.',
+    'widget' => array(
+      'default_value' => array(
+        '0' => array(
+          'value' => '',
+          '_error_element' => 'default_value_widget][field_price][0][value',
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'Latest Offer',
+      'weight' => '-3',
+      'description' => 'Price in dollars',
+      'type' => 'number',
+      'module' => 'number',
+    ),
+  );
+
+  // Exported field: field_accept
+  $fields['offer_neg_seller-field_accept'] = array(
+    'field_name' => 'field_accept',
+    'type_name' => 'offer_neg_seller',
+    'display_settings' => array(
+      'weight' => '-5',
+      'parent' => '',
+      'label' => array(
+        'format' => 'inline',
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'text',
+    'required' => '1',
+    'multiple' => '0',
+    'module' => 'text',
+    'active' => '1',
+    'text_processing' => '0',
+    'max_length' => '',
+    'allowed_values' => 'negotiating|Not Yet
+accept|Yes
+decline|Decline',
+    'allowed_values_php' => '',
+    'widget' => array(
+      'default_value' => array(
+        '0' => array(
+          'value' => 'negotiating',
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'Accept Offer',
+      'weight' => '-5',
+      'description' => '',
+      'type' => 'optionwidgets_buttons',
+      'module' => 'optionwidgets',
+    ),
+  );
+
+  // Exported field: field_chat
+  $fields['offer_neg_seller-field_chat'] = array(
+    'field_name' => 'field_chat',
+    'type_name' => 'offer_neg_seller',
+    'display_settings' => array(
+      'weight' => '-2',
+      'parent' => '',
+      'label' => array(
+        'format' => 'hidden',
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'text',
+    'required' => '0',
+    'multiple' => '0',
+    'module' => 'text',
+    'active' => '1',
+    'text_processing' => '0',
+    'max_length' => '',
+    'allowed_values' => '',
+    'allowed_values_php' => '',
+    'widget' => array(
+      'rows' => '3',
+      'size' => 60,
+      'default_value' => array(
+        '0' => array(
+          'value' => 'Would you like to say something? Heres your chance to negotiate.',
+          '_error_element' => 'default_value_widget][field_chat][0][value',
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'chat',
+      'weight' => '-2',
+      'description' => '',
+      'type' => 'text_textarea',
+      'module' => 'text',
+    ),
+  );
+
+  // Exported field: field_item_sent
+  $fields['offer_neg_seller-field_item_sent'] = array(
+    'field_name' => 'field_item_sent',
+    'type_name' => 'offer_neg_seller',
+    'display_settings' => array(
+      'weight' => '-3',
+      'parent' => '',
+      'label' => array(
+        'format' => 'inline',
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'text',
+    'required' => '1',
+    'multiple' => '0',
+    'module' => 'text',
+    'active' => '1',
+    'text_processing' => '0',
+    'max_length' => '',
+    'allowed_values' => 'No
+Yes',
+    'allowed_values_php' => '',
+    'widget' => array(
+      'default_value' => array(
+        '0' => array(
+          'value' => 'No',
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'Item Sent',
+      'weight' => '-3',
+      'description' => '',
+      'type' => 'optionwidgets_buttons',
+      'module' => 'optionwidgets',
+    ),
+  );
+
+  // Exported field: field_offer
+  $fields['offer_neg_seller-field_offer'] = array(
+    'field_name' => 'field_offer',
+    'type_name' => 'offer_neg_seller',
+    'display_settings' => array(
+      'weight' => '1',
+      'parent' => '',
+      'label' => array(
+        'format' => 'inline',
+      ),
+      'teaser' => array(
+        'format' => 'hidden',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'nodereference',
+    'required' => '0',
+    'multiple' => '0',
+    'module' => 'nodereference',
+    'active' => '1',
+    'referenceable_types' => array(
+      'offer' => 'offer',
+      'decline' => 0,
+      'offer_neg_buyer' => 0,
+      'offer_neg_seller' => 0,
+      'page' => 0,
+      'product' => 0,
+      'story' => 0,
+      'vibio_item' => 0,
+    ),
+    'advanced_view' => '--',
+    'advanced_view_args' => '',
+    'widget' => array(
+      'node_link' => array(
+        'teaser' => 0,
+        'full' => 1,
+        'title' => 'Decline',
+        'hover_title' => 'Decline this offer',
+        'destination' => 'source',
+      ),
+      'fallback' => 'autocomplete',
+      'edit_fallback' => 0,
+      'label' => 'Offer',
+      'weight' => '1',
+      'description' => '',
+      'type' => 'nodereference_url',
+      'module' => 'nodereference_url',
+    ),
+  );
+
+  // Exported field: field_pay_received
+  $fields['offer_neg_seller-field_pay_received'] = array(
+    'field_name' => 'field_pay_received',
+    'type_name' => 'offer_neg_seller',
+    'display_settings' => array(
+      'weight' => '-4',
+      'parent' => '',
+      'label' => array(
+        'format' => 'inline',
+      ),
+      'teaser' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'full' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '4' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '2' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      '3' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+      'token' => array(
+        'format' => 'default',
+        'exclude' => 0,
+      ),
+    ),
+    'widget_active' => '1',
+    'type' => 'text',
+    'required' => '1',
+    'multiple' => '0',
+    'module' => 'text',
+    'active' => '1',
+    'text_processing' => '0',
+    'max_length' => '',
+    'allowed_values' => 'No
+Yes',
+    'allowed_values_php' => '',
+    'widget' => array(
+      'default_value' => array(
+        '0' => array(
+          'value' => 'No',
+        ),
+      ),
+      'default_value_php' => NULL,
+      'label' => 'Pay Received',
+      'weight' => '-4',
+      'description' => '',
+      'type' => 'optionwidgets_buttons',
+      'module' => 'optionwidgets',
+    ),
+  );
+
+  // Translatables
+  // Included for use with string extractors like potx.
+  t('Accept Offer');
+  t('Actions');
+  t('Chat');
+  t('Expires');
+  t('Item Received');
+  t('Item Sent');
+  t('Item Sought');
+  t('Latest Offer');
+  t('Offer');
+  t('Offer Discussion Page (nid)');
+  t('Pay Received');
+  t('Pay Sent');
+  t('Shipping Location or City');
+  t('Your Offer');
+  t('chat');
+
+  return $fields;
+}
diff --git a/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.features.inc b/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.features.inc
new file mode 100644
index 0000000..4121456
--- /dev/null
+++ b/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.features.inc
@@ -0,0 +1,43 @@
+<?php
+
+/**
+ * Implementation of hook_node_info().
+ */
+function cck_and_menus_from_v1_1_node_info() {
+  $items = array(
+    'offer' => array(
+      'name' => t('Offer'),
+      'module' => 'features',
+      'description' => t('The Offer cck connects other pieces to create an offer with negotiations between buyer and seller.  It is mostly created by computed fields from the negotiations that create it.  Will need to consider efficiency later on.'),
+      'has_title' => '1',
+      'title_label' => t('Title'),
+      'has_body' => '0',
+      'body_label' => '',
+      'min_word_count' => '0',
+      'help' => '',
+    ),
+    'offer_neg_buyer' => array(
+      'name' => t('Offer Neg Buyer'),
+      'module' => 'features',
+      'description' => t('A timestamped offer to buy an item, part of an Offer (by function and nodereference)'),
+      'has_title' => '1',
+      'title_label' => t('Title'),
+      'has_body' => '1',
+      'body_label' => t('Body'),
+      'min_word_count' => '0',
+      'help' => '',
+    ),
+    'offer_neg_seller' => array(
+      'name' => t('Offer Neg Seller'),
+      'module' => 'features',
+      'description' => t('Messages from seller to buyer'),
+      'has_title' => '1',
+      'title_label' => t('Title'),
+      'has_body' => '1',
+      'body_label' => t('Body'),
+      'min_word_count' => '0',
+      'help' => '',
+    ),
+  );
+  return $items;
+}
diff --git a/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.features.menu_custom.inc b/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.features.menu_custom.inc
new file mode 100644
index 0000000..b14c6ab
--- /dev/null
+++ b/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.features.menu_custom.inc
@@ -0,0 +1,30 @@
+<?php
+
+/**
+ * Implementation of hook_menu_default_menu_custom().
+ */
+function cck_and_menus_from_v1_1_menu_default_menu_custom() {
+  $menus = array();
+
+  // Exported menu: menu-about
+  $menus['menu-about'] = array(
+    'menu_name' => 'menu-about',
+    'title' => 'About',
+    'description' => '(was the Secondary menu in v1.0 with just a few links, seen in the footer only?)',
+  );
+  // Exported menu: primary-links
+  $menus['primary-links'] = array(
+    'menu_name' => 'primary-links',
+    'title' => 'Primary links',
+    'description' => 'Primary links are often used at the theme layer to show the major sections of a site. A typical representation for primary links would be tabs along the top.',
+  );
+  // Translatables
+  // Included for use with string extractors like potx.
+  t('(was the Secondary menu in v1.0 with just a few links, seen in the footer only?)');
+  t('About');
+  t('Primary links');
+  t('Primary links are often used at the theme layer to show the major sections of a site. A typical representation for primary links would be tabs along the top.');
+
+
+  return $menus;
+}
diff --git a/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.features.user_role.inc b/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.features.user_role.inc
new file mode 100644
index 0000000..867c3cd
--- /dev/null
+++ b/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.features.user_role.inc
@@ -0,0 +1,15 @@
+<?php
+
+/**
+ * Implementation of hook_user_default_roles().
+ */
+function cck_and_menus_from_v1_1_user_default_roles() {
+  $roles = array();
+
+  // Exported role: Editors
+  $roles['Editors'] = array(
+    'name' => 'Editors',
+  );
+
+  return $roles;
+}
diff --git a/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.info b/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.info
new file mode 100644
index 0000000..7603c8a
--- /dev/null
+++ b/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.info
@@ -0,0 +1,34 @@
+core = "6.x"
+dependencies[] = "date"
+dependencies[] = "features"
+dependencies[] = "menu"
+dependencies[] = "nodereference_url"
+dependencies[] = "number"
+description = "content-related and roles from v1.1 into mesh"
+features[content][] = "offer-field_buy_actions"
+features[content][] = "offer-field_city"
+features[content][] = "offer-field_item_sought"
+features[content][] = "offer-field_offer_expires"
+features[content][] = "offer-field_price"
+features[content][] = "offer_neg_buyer-field_chat"
+features[content][] = "offer_neg_buyer-field_city"
+features[content][] = "offer_neg_buyer-field_item_received"
+features[content][] = "offer_neg_buyer-field_offer"
+features[content][] = "offer_neg_buyer-field_offer_expires"
+features[content][] = "offer_neg_buyer-field_pay_sent"
+features[content][] = "offer_neg_buyer-field_price"
+features[content][] = "offer_neg_seller-field_accept"
+features[content][] = "offer_neg_seller-field_chat"
+features[content][] = "offer_neg_seller-field_item_sent"
+features[content][] = "offer_neg_seller-field_offer"
+features[content][] = "offer_neg_seller-field_pay_received"
+features[menu_custom][] = "menu-about"
+features[menu_custom][] = "primary-links"
+features[node][] = "offer"
+features[node][] = "offer_neg_buyer"
+features[node][] = "offer_neg_seller"
+features[user_role][] = "Editors"
+name = "cck_and_menus_from_v1_1"
+package = "Features"
+project = "cck_and_menus_from_v1_1"
+version = "6.x-1.1a"
diff --git a/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.module b/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.module
new file mode 100644
index 0000000..12df658
--- /dev/null
+++ b/sites/default/modules/cck_and_menus_from_v1_1/cck_and_menus_from_v1_1.module
@@ -0,0 +1,3 @@
+<?php
+
+include_once('cck_and_menus_from_v1_1.features.inc');
diff --git a/sites/default/modules/friend_finder/vibio_offer.module b/sites/default/modules/friend_finder/vibio_offer.module
index ea7849a..aa44a86 100644
--- a/sites/default/modules/friend_finder/vibio_offer.module
+++ b/sites/default/modules/friend_finder/vibio_offer.module
@@ -297,8 +297,9 @@ if ( $nid ) {
 		// set the item it's attached to
 	$node->field_item_sought[]['nid'] = $item_nid; // [] or [0], same
 
-	$node->title = "Offer by " . $user->name . " for $item_nid $item_title";
-
+	$node->title = "Offer by " . $user->name; // . " for $item_nid $item_title";
+		// $item_title gives nothing.  $item_nid is ugly.  I think short might be bette?	
+	
 	// Do we create it, or just load the form for it?  I'm not sure,
 	//  try both ways (both should be ok, but not sure).  Maybe create
 	//	it now, to be sure the nid is saved, and make both processes as
diff --git a/sites/default/modules/invite/invite.install b/sites/default/modules/invite/invite.install
old mode 100755
new mode 100644
diff --git a/sites/default/modules/invite/invite.module b/sites/default/modules/invite/invite.module
index 08405c2..a6a5697 100644
--- a/sites/default/modules/invite/invite.module
+++ b/sites/default/modules/invite/invite.module
@@ -1,5 +1,7 @@
 <?php
 
+// various text and **menu location** changes
+
 /**
  * @file
  * Allows your users to send and track invitations to join your site.
@@ -145,27 +147,31 @@ function invite_menu() {
   // Frontend menu items
 		// temp note, ok to upgrade over this: I think this callback would need
 		// to change to fit into the ajax system.
-  $items['invite'] = array(
+	$contacts_menu = 'contacts/';
+  $items[$contacts_menu . 'invite'] = array(
     'title' => 'Expand your circle',
     'title callback' => 'invite_page_title',
     'page callback' => 'drupal_get_form',
     'page arguments' => array('invite_form', 'page', array()),
     'access arguments' => array('send invitations'),
-    'type' => MENU_NORMAL_ITEM,
+    'type' => MENU_LOCAL_TASK, //MENU_NORMAL_ITEM,
+		'weight' => 6,
   );
-  $items['invite/accept/%invite'] = array(
+
+//!!!! test if theis menu callback wants the new url, or the old without $contacts_menu !!!
+  $items[$contacts_menu . 'invite/accept/%invite'] = array(
     'page callback' => 'invite_accept',
     'page arguments' => array(2),
     'access callback' => TRUE,
     'type' => MENU_CALLBACK,
   );
-  $items['invite/withdraw/%invite'] = array(
+  $items[$contacts_menu . 'invite/withdraw/%invite'] = array(
     'page callback' => 'drupal_get_form',
     'page arguments' => array('invite_cancel', 2),
     'access arguments' => array('track invitations'),
     'type' => MENU_CALLBACK,
   );
-  $items['invite/resend/%invite'] = array(
+  $items[$contacts_menu . 'invite/resend/%invite'] = array(
     'title' => 'Resend invitation',
     'page callback' => 'invite_resend',
     'page arguments' => array(2),
@@ -277,6 +283,8 @@ function invite_user_register_access() {
  *   The default page title, ie. non-overridden.
  */
 function invite_page_title($title) {
+	// !!! somehow network is overwriting the normal approach. Or for tabs 
+	//		maybe titles aren't set? Anyway, this works...
   return variable_get('invite_page_title', $title);
 }
 
@@ -747,7 +755,10 @@ function invite_get_role_limit($account) {
 function invite_page_form($remaining_invites, $edit = array()) {
   global $user;
 
-  // Remaining invites.
+	// problems with title not being set correctly bad bad bad !!!
+  drupal_set_title("Invite Your Friends");
+
+	// Remaining invites.
   if ($remaining_invites != INVITE_UNLIMITED) {
     $form['remaining_invites_markup']['#value'] = format_plural($remaining_invites, 'You have 1 invite remaining.', 'You have @count invites remaining.');
   }
@@ -855,7 +866,7 @@ function invite_page_form($remaining_invites, $edit = array()) {
   $form['message'] = array(
     '#type' => 'textarea',
     '#default_value' => ($edit && !empty($edit['data']['message'])) ? $edit['data']['message'] : '',
-    '#description' => format_plural($allow_multiple ? 1 : 99, 'This message will be added to the mail sent to the persons you are inviting.', 'This message will be added to the mail sent to the person you are inviting.'),
+    '#description' => format_plural($allow_multiple ? 1 : 99, 'This message will be added to the mail sent to each person you are inviting.', 'This message will be added to the mail sent to the person you are inviting.'),
   );
 
   $form['submit'] = array(
diff --git a/sites/default/modules/v1_1_imagecache_presets-6.x-1.1a.tar b/sites/default/modules/v1_1_imagecache_presets-6.x-1.1a.tar
new file mode 100644
index 0000000..8dbdb9e
Binary files /dev/null and b/sites/default/modules/v1_1_imagecache_presets-6.x-1.1a.tar differ
diff --git a/sites/default/modules/v1_1_imagecache_presets/v1_1_imagecache_presets.features.inc b/sites/default/modules/v1_1_imagecache_presets/v1_1_imagecache_presets.features.inc
new file mode 100644
index 0000000..eef60cc
--- /dev/null
+++ b/sites/default/modules/v1_1_imagecache_presets/v1_1_imagecache_presets.features.inc
@@ -0,0 +1,93 @@
+<?php
+
+/**
+ * Implementation of hook_imagecache_default_presets().
+ */
+function v1_1_imagecache_presets_imagecache_default_presets() {
+  $items = array(
+    'full_profile_pic' => array(
+      'presetname' => 'full_profile_pic',
+      'actions' => array(
+        '0' => array(
+          'weight' => '0',
+          'module' => 'imagecache',
+          'action' => 'imagecache_scale_and_crop',
+          'data' => array(
+            'width' => '120',
+            'height' => '120',
+          ),
+        ),
+      ),
+    ),
+    'item_for_offers' => array(
+      'presetname' => 'item_for_offers',
+      'actions' => array(
+        '0' => array(
+          'weight' => '0',
+          'module' => 'imagecache',
+          'action' => 'imagecache_scale',
+          'data' => array(
+            'width' => '132px',
+            'height' => '',
+            'upscale' => 0,
+          ),
+        ),
+        '1' => array(
+          'weight' => '0',
+          'module' => 'imagecache',
+          'action' => 'imagecache_scale',
+          'data' => array(
+            'width' => '',
+            'height' => '132px',
+            'upscale' => 0,
+          ),
+        ),
+      ),
+    ),
+    'little_profile_pic' => array(
+      'presetname' => 'little_profile_pic',
+      'actions' => array(
+        '0' => array(
+          'weight' => '0',
+          'module' => 'imagecache',
+          'action' => 'imagecache_scale_and_crop',
+          'data' => array(
+            'width' => '40',
+            'height' => '40',
+          ),
+        ),
+      ),
+    ),
+    'product_fixed_width' => array(
+      'presetname' => 'product_fixed_width',
+      'actions' => array(
+        '0' => array(
+          'weight' => '0',
+          'module' => 'imagecache',
+          'action' => 'imagecache_scale',
+          'data' => array(
+            'width' => '160px',
+            'height' => '',
+            'upscale' => 0,
+          ),
+        ),
+      ),
+    ),
+    'product_fixed_width_teaser' => array(
+      'presetname' => 'product_fixed_width_teaser',
+      'actions' => array(
+        '0' => array(
+          'weight' => '0',
+          'module' => 'imagecache',
+          'action' => 'imagecache_scale',
+          'data' => array(
+            'width' => '80px',
+            'height' => '',
+            'upscale' => 1,
+          ),
+        ),
+      ),
+    ),
+  );
+  return $items;
+}
diff --git a/sites/default/modules/v1_1_imagecache_presets/v1_1_imagecache_presets.info b/sites/default/modules/v1_1_imagecache_presets/v1_1_imagecache_presets.info
new file mode 100644
index 0000000..30e44f5
--- /dev/null
+++ b/sites/default/modules/v1_1_imagecache_presets/v1_1_imagecache_presets.info
@@ -0,0 +1,11 @@
+core = "6.x"
+description = "From v1.1 to mesh imagecache"
+features[imagecache][] = "full_profile_pic"
+features[imagecache][] = "item_for_offers"
+features[imagecache][] = "little_profile_pic"
+features[imagecache][] = "product_fixed_width"
+features[imagecache][] = "product_fixed_width_teaser"
+name = "v1_1_imagecache_presets"
+package = "Features"
+project = "v1_1_imagecache_presets"
+version = "6.x-1.1a"
diff --git a/sites/default/modules/v1_1_imagecache_presets/v1_1_imagecache_presets.module b/sites/default/modules/v1_1_imagecache_presets/v1_1_imagecache_presets.module
new file mode 100644
index 0000000..675441a
--- /dev/null
+++ b/sites/default/modules/v1_1_imagecache_presets/v1_1_imagecache_presets.module
@@ -0,0 +1,3 @@
+<?php
+
+include_once('v1_1_imagecache_presets.features.inc');
diff --git a/sites/default/modules/v1_1_views-6.x-1.1a.tar b/sites/default/modules/v1_1_views-6.x-1.1a.tar
new file mode 100644
index 0000000..5c9e042
Binary files /dev/null and b/sites/default/modules/v1_1_views-6.x-1.1a.tar differ
diff --git a/sites/default/modules/v1_1_views/v1_1_views.features.inc b/sites/default/modules/v1_1_views/v1_1_views.features.inc
new file mode 100644
index 0000000..3e36865
--- /dev/null
+++ b/sites/default/modules/v1_1_views/v1_1_views.features.inc
@@ -0,0 +1,10 @@
+<?php
+
+/**
+ * Implementation of hook_views_api().
+ */
+function v1_1_views_views_api() {
+  return array(
+    'api' => '3.0',
+  );
+}
diff --git a/sites/default/modules/v1_1_views/v1_1_views.info b/sites/default/modules/v1_1_views/v1_1_views.info
new file mode 100644
index 0000000..6241868
--- /dev/null
+++ b/sites/default/modules/v1_1_views/v1_1_views.info
@@ -0,0 +1,18 @@
+core = "6.x"
+dependencies[] = "comment"
+dependencies[] = "content"
+dependencies[] = "flag"
+dependencies[] = "record_shorten"
+dependencies[] = "views"
+description = "Views added from scratch during v1.1 (possibly incomplete set)"
+features[views][] = "flag_featured"
+features[views][] = "offer_conversation"
+features[views][] = "user_buying_offers"
+features[views][] = "user_selling"
+features[views][] = "user_selling_offered"
+features[views][] = "user_selling_offered_archived"
+features[views_api][] = "api:3.0"
+name = "v1_1_views"
+package = "Features"
+project = "v1_1_views"
+version = "6.x-1.1a"
diff --git a/sites/default/modules/v1_1_views/v1_1_views.module b/sites/default/modules/v1_1_views/v1_1_views.module
new file mode 100644
index 0000000..3991176
--- /dev/null
+++ b/sites/default/modules/v1_1_views/v1_1_views.module
@@ -0,0 +1,3 @@
+<?php
+
+include_once('v1_1_views.features.inc');
diff --git a/sites/default/modules/v1_1_views/v1_1_views.views_default.inc b/sites/default/modules/v1_1_views/v1_1_views.views_default.inc
new file mode 100644
index 0000000..4824522
--- /dev/null
+++ b/sites/default/modules/v1_1_views/v1_1_views.views_default.inc
@@ -0,0 +1,497 @@
+<?php
+
+/**
+ * Implementation of hook_views_default_views().
+ */
+function v1_1_views_views_default_views() {
+  $views = array();
+
+  // Exported view: flag_featured
+  $view = new view;
+  $view->name = 'flag_featured';
+  $view->description = 'Featured Items -- also Provides a tab on all user\'s profile pages';
+  $view->tag = 'flag';
+  $view->base_table = 'node';
+  $view->human_name = '';
+  $view->core = 0;
+  $view->api_version = '3.0';
+  $view->disabled = FALSE; /* Edit this to true to make a default view disabled initially */
+
+  /* Display: Defaults */
+  $handler = $view->new_display('default', 'Defaults', 'default');
+  $handler->display->display_options['title'] = 'Featured Products';
+  $handler->display->display_options['access']['type'] = 'role';
+  $handler->display->display_options['access']['role'] = array(
+    2 => '2',
+  );
+  $handler->display->display_options['cache']['type'] = 'none';
+  $handler->display->display_options['query']['type'] = 'views_query';
+  $handler->display->display_options['exposed_form']['type'] = 'basic';
+  $handler->display->display_options['pager']['type'] = 'infinite_scroll';
+  $handler->display->display_options['pager']['options']['items_per_page'] = '5';
+  $handler->display->display_options['pager']['options']['offset'] = '0';
+  $handler->display->display_options['pager']['options']['id'] = '0';
+  $handler->display->display_options['style_plugin'] = 'default';
+  $handler->display->display_options['row_plugin'] = 'node';
+  /* Relationship: Flags: feature */
+  $handler->display->display_options['relationships']['flag_content_rel']['id'] = 'flag_content_rel';
+  $handler->display->display_options['relationships']['flag_content_rel']['table'] = 'node';
+  $handler->display->display_options['relationships']['flag_content_rel']['field'] = 'flag_content_rel';
+  $handler->display->display_options['relationships']['flag_content_rel']['label'] = 'feature flag';
+  $handler->display->display_options['relationships']['flag_content_rel']['flag'] = 'feature';
+  $handler->display->display_options['relationships']['flag_content_rel']['user_scope'] = 'any';
+  /* Relationship: Flags: User */
+  $handler->display->display_options['relationships']['uid']['id'] = 'uid';
+  $handler->display->display_options['relationships']['uid']['table'] = 'flag_content';
+  $handler->display->display_options['relationships']['uid']['field'] = 'uid';
+  $handler->display->display_options['relationships']['uid']['relationship'] = 'flag_content_rel';
+  $handler->display->display_options['relationships']['uid']['label'] = 'feature';
+  $handler->display->display_options['relationships']['uid']['required'] = 1;
+  /* Field: Node: Type */
+  $handler->display->display_options['fields']['type']['id'] = 'type';
+  $handler->display->display_options['fields']['type']['table'] = 'node';
+  $handler->display->display_options['fields']['type']['field'] = 'type';
+  /* Field: Node: Title */
+  $handler->display->display_options['fields']['title']['id'] = 'title';
+  $handler->display->display_options['fields']['title']['table'] = 'node';
+  $handler->display->display_options['fields']['title']['field'] = 'title';
+  $handler->display->display_options['fields']['title']['link_to_node'] = 1;
+  /* Field: User: Name */
+  $handler->display->display_options['fields']['name']['id'] = 'name';
+  $handler->display->display_options['fields']['name']['table'] = 'users';
+  $handler->display->display_options['fields']['name']['field'] = 'name';
+  $handler->display->display_options['fields']['name']['label'] = 'Author';
+  $handler->display->display_options['fields']['name']['link_to_user'] = 1;
+  /* Field: Node: Comment count */
+  $handler->display->display_options['fields']['comment_count']['id'] = 'comment_count';
+  $handler->display->display_options['fields']['comment_count']['table'] = 'node_comment_statistics';
+  $handler->display->display_options['fields']['comment_count']['field'] = 'comment_count';
+  $handler->display->display_options['fields']['comment_count']['label'] = 'Replies';
+  /* Field: Node: Last comment time */
+  $handler->display->display_options['fields']['last_comment_timestamp']['id'] = 'last_comment_timestamp';
+  $handler->display->display_options['fields']['last_comment_timestamp']['table'] = 'node_comment_statistics';
+  $handler->display->display_options['fields']['last_comment_timestamp']['field'] = 'last_comment_timestamp';
+  $handler->display->display_options['fields']['last_comment_timestamp']['label'] = 'Last Post';
+  /* Sort criterion: Flags: Flagged time */
+  $handler->display->display_options['sorts']['timestamp']['id'] = 'timestamp';
+  $handler->display->display_options['sorts']['timestamp']['table'] = 'flag_content';
+  $handler->display->display_options['sorts']['timestamp']['field'] = 'timestamp';
+  $handler->display->display_options['sorts']['timestamp']['relationship'] = 'flag_content_rel';
+  $handler->display->display_options['sorts']['timestamp']['order'] = 'DESC';
+  /* Filter: Node: Published */
+  $handler->display->display_options['filters']['status']['id'] = 'status';
+  $handler->display->display_options['filters']['status']['table'] = 'node';
+  $handler->display->display_options['filters']['status']['field'] = 'status';
+  $handler->display->display_options['filters']['status']['value'] = 1;
+  $handler->display->display_options['filters']['status']['expose']['operator'] = FALSE;
+
+  /* Display: Page */
+  $handler = $view->new_display('page', 'Page', 'page');
+  $handler->display->display_options['path'] = 'featured_by_vibio';
+  $handler->display->display_options['menu']['type'] = 'normal';
+  $handler->display->display_options['menu']['title'] = 'Featured Products';
+  $handler->display->display_options['menu']['weight'] = '0';
+  $translatables['flag_featured'] = array(
+    t('Defaults'),
+    t('Featured Products'),
+    t('more'),
+    t('Apply'),
+    t('Reset'),
+    t('Sort by'),
+    t('Asc'),
+    t('Desc'),
+    t('Items per page'),
+    t('- All -'),
+    t('Offset'),
+    t('feature flag'),
+    t('feature'),
+    t('Type'),
+    t('Title'),
+    t('Author'),
+    t('Replies'),
+    t('.'),
+    t(','),
+    t('Last Post'),
+    t('Page'),
+  );
+
+  $views[$view->name] = $view;
+
+  // Exported view: offer_conversation
+  $view = new view;
+  $view->name = 'offer_conversation';
+  $view->description = 'Potential buyer and seller chit chatting';
+  $view->tag = 'offers';
+  $view->base_table = 'node';
+  $view->human_name = '';
+  $view->core = 0;
+  $view->api_version = '3.0';
+  $view->disabled = FALSE; /* Edit this to true to make a default view disabled initially */
+
+  /* Display: Defaults */
+  $handler = $view->new_display('default', 'Defaults', 'default');
+  $handler->display->display_options['access']['type'] = 'none';
+  $handler->display->display_options['cache']['type'] = 'none';
+  $handler->display->display_options['query']['type'] = 'views_query';
+  $handler->display->display_options['exposed_form']['type'] = 'basic';
+  $handler->display->display_options['pager']['type'] = 'full';
+  $handler->display->display_options['style_plugin'] = 'default';
+  $handler->display->display_options['row_plugin'] = 'node';
+  /* Empty text: Global: Text area */
+  $handler->display->display_options['empty']['area_1']['id'] = 'area_1';
+  $handler->display->display_options['empty']['area_1']['table'] = 'views';
+  $handler->display->display_options['empty']['area_1']['field'] = 'area';
+  $handler->display->display_options['empty']['area_1']['empty'] = FALSE;
+  $handler->display->display_options['empty']['area_1']['content'] = 'Start negotiating, and the conversation will be recorded here.';
+  $handler->display->display_options['empty']['area_1']['format'] = '1';
+  $handler->display->display_options['empty']['area_1']['tokenize'] = 0;
+  /* Sort criterion: Node: Post date */
+  $handler->display->display_options['sorts']['created']['id'] = 'created';
+  $handler->display->display_options['sorts']['created']['table'] = 'node';
+  $handler->display->display_options['sorts']['created']['field'] = 'created';
+  $handler->display->display_options['sorts']['created']['order'] = 'DESC';
+  /* Argument: Content: Offer (field_offer) */
+  $handler->display->display_options['arguments']['field_offer_nid']['id'] = 'field_offer_nid';
+  $handler->display->display_options['arguments']['field_offer_nid']['table'] = 'node_data_field_offer';
+  $handler->display->display_options['arguments']['field_offer_nid']['field'] = 'field_offer_nid';
+  $handler->display->display_options['arguments']['field_offer_nid']['style_plugin'] = 'default_summary';
+  $handler->display->display_options['arguments']['field_offer_nid']['default_argument_type'] = 'fixed';
+  $translatables['offer_conversation'] = array(
+    t('Defaults'),
+    t('more'),
+    t('Apply'),
+    t('Reset'),
+    t('Sort by'),
+    t('Asc'),
+    t('Desc'),
+    t('Items per page'),
+    t('- All -'),
+    t('Offset'),
+    t('Text area'),
+    t('Start negotiating, and the conversation will be recorded here.'),
+    t('All'),
+  );
+
+  $views[$view->name] = $view;
+
+  // Exported view: user_buying_offers
+  $view = new view;
+  $view->name = 'user_buying_offers';
+  $view->description = 'My offers to buy other peoples items';
+  $view->tag = 'offers';
+  $view->base_table = 'node';
+  $view->human_name = '';
+  $view->core = 0;
+  $view->api_version = '3.0';
+  $view->disabled = FALSE; /* Edit this to true to make a default view disabled initially */
+
+  /* Display: Defaults */
+  $handler = $view->new_display('default', 'Defaults', 'default');
+  $handler->display->display_options['access']['type'] = 'none';
+  $handler->display->display_options['cache']['type'] = 'none';
+  $handler->display->display_options['query']['type'] = 'views_query';
+  $handler->display->display_options['exposed_form']['type'] = 'basic';
+  $handler->display->display_options['pager']['type'] = 'full';
+  $handler->display->display_options['style_plugin'] = 'default';
+  $handler->display->display_options['row_plugin'] = 'node';
+  /* Empty text: Global: Text area */
+  $handler->display->display_options['empty']['text']['id'] = 'area';
+  $handler->display->display_options['empty']['text']['table'] = 'views';
+  $handler->display->display_options['empty']['text']['field'] = 'area';
+  $handler->display->display_options['empty']['text']['label'] = '';
+  $handler->display->display_options['empty']['text']['empty'] = FALSE;
+  $handler->display->display_options['empty']['text']['content'] = 'Nothing going on here. Get busy.';
+  $handler->display->display_options['empty']['text']['format'] = '1';
+  /* Relationship: Flags: archive */
+  $handler->display->display_options['relationships']['flag_content_rel']['id'] = 'flag_content_rel';
+  $handler->display->display_options['relationships']['flag_content_rel']['table'] = 'node';
+  $handler->display->display_options['relationships']['flag_content_rel']['field'] = 'flag_content_rel';
+  $handler->display->display_options['relationships']['flag_content_rel']['required'] = 0;
+  $handler->display->display_options['relationships']['flag_content_rel']['flag'] = 'archive';
+  /* Sort criterion: Node: Updated date */
+  $handler->display->display_options['sorts']['changed']['id'] = 'changed';
+  $handler->display->display_options['sorts']['changed']['table'] = 'node';
+  $handler->display->display_options['sorts']['changed']['field'] = 'changed';
+  $handler->display->display_options['sorts']['changed']['order'] = 'DESC';
+  /* Filter: Node: Type */
+  $handler->display->display_options['filters']['type']['id'] = 'type';
+  $handler->display->display_options['filters']['type']['table'] = 'node';
+  $handler->display->display_options['filters']['type']['field'] = 'type';
+  $handler->display->display_options['filters']['type']['value'] = array(
+    'offer' => 'offer',
+  );
+  $handler->display->display_options['filters']['type']['expose']['operator'] = FALSE;
+  /* Filter: User: Current */
+  $handler->display->display_options['filters']['uid_current']['id'] = 'uid_current';
+  $handler->display->display_options['filters']['uid_current']['table'] = 'users';
+  $handler->display->display_options['filters']['uid_current']['field'] = 'uid_current';
+  $handler->display->display_options['filters']['uid_current']['value'] = '1';
+  $handler->display->display_options['filters']['uid_current']['expose']['operator'] = FALSE;
+  $translatables['user_buying_offers'] = array(
+    t('Defaults'),
+    t('more'),
+    t('Apply'),
+    t('Reset'),
+    t('Sort by'),
+    t('Asc'),
+    t('Desc'),
+    t('Items per page'),
+    t('- All -'),
+    t('Offset'),
+    t('Nothing going on here. Get busy.'),
+    t('flag'),
+  );
+
+  $views[$view->name] = $view;
+
+  // Exported view: user_selling
+  $view = new view;
+  $view->name = 'user_selling';
+  $view->description = 'All your items for sale';
+  $view->tag = 'offers, stephens';
+  $view->base_table = 'node';
+  $view->human_name = '';
+  $view->core = 0;
+  $view->api_version = '3.0';
+  $view->disabled = FALSE; /* Edit this to true to make a default view disabled initially */
+
+  /* Display: Defaults */
+  $handler = $view->new_display('default', 'Defaults', 'default');
+  $handler->display->display_options['access']['type'] = 'none';
+  $handler->display->display_options['cache']['type'] = 'none';
+  $handler->display->display_options['query']['type'] = 'views_query';
+  $handler->display->display_options['exposed_form']['type'] = 'basic';
+  $handler->display->display_options['pager']['type'] = 'some';
+  $handler->display->display_options['pager']['options']['items_per_page'] = 40;
+  $handler->display->display_options['style_plugin'] = 'default';
+  $handler->display->display_options['row_plugin'] = 'node';
+  /* Field: Node: Title */
+  $handler->display->display_options['fields']['title']['id'] = 'title';
+  $handler->display->display_options['fields']['title']['table'] = 'node';
+  $handler->display->display_options['fields']['title']['field'] = 'title';
+  $handler->display->display_options['fields']['title']['alter']['alter_text'] = 0;
+  $handler->display->display_options['fields']['title']['alter']['make_link'] = 0;
+  $handler->display->display_options['fields']['title']['alter']['word_boundary'] = 1;
+  $handler->display->display_options['fields']['title']['alter']['ellipsis'] = 1;
+  $handler->display->display_options['fields']['title']['alter']['strip_tags'] = 0;
+  $handler->display->display_options['fields']['title']['alter']['trim'] = 0;
+  $handler->display->display_options['fields']['title']['alter']['html'] = 0;
+  $handler->display->display_options['fields']['title']['hide_empty'] = 0;
+  $handler->display->display_options['fields']['title']['empty_zero'] = 0;
+  $handler->display->display_options['fields']['title']['link_to_node'] = 0;
+  /* Filter: Node: Type */
+  $handler->display->display_options['filters']['type']['id'] = 'type';
+  $handler->display->display_options['filters']['type']['table'] = 'node';
+  $handler->display->display_options['filters']['type']['field'] = 'type';
+  $handler->display->display_options['filters']['type']['value'] = array(
+    'vibio_item' => 'vibio_item',
+  );
+  $handler->display->display_options['filters']['type']['expose']['operator'] = FALSE;
+  /* Filter: User: Current */
+  $handler->display->display_options['filters']['uid_current']['id'] = 'uid_current';
+  $handler->display->display_options['filters']['uid_current']['table'] = 'users';
+  $handler->display->display_options['filters']['uid_current']['field'] = 'uid_current';
+  $handler->display->display_options['filters']['uid_current']['value'] = '1';
+  $handler->display->display_options['filters']['uid_current']['expose']['operator'] = FALSE;
+  $translatables['user_selling'] = array(
+    t('Defaults'),
+    t('more'),
+    t('Apply'),
+    t('Reset'),
+    t('Sort by'),
+    t('Asc'),
+    t('Desc'),
+    t('Title'),
+  );
+
+  $views[$view->name] = $view;
+
+  // Exported view: user_selling_offered
+  $view = new view;
+  $view->name = 'user_selling_offered';
+  $view->description = 'Jasons v2.0 wireframe selling page, simplified for now';
+  $view->tag = 'offers, stephens';
+  $view->base_table = 'node';
+  $view->human_name = '';
+  $view->core = 0;
+  $view->api_version = '3.0';
+  $view->disabled = FALSE; /* Edit this to true to make a default view disabled initially */
+
+  /* Display: Defaults */
+  $handler = $view->new_display('default', 'Defaults', 'default');
+  $handler->display->display_options['access']['type'] = 'none';
+  $handler->display->display_options['cache']['type'] = 'none';
+  $handler->display->display_options['query']['type'] = 'views_query';
+  $handler->display->display_options['exposed_form']['type'] = 'basic';
+  $handler->display->display_options['pager']['type'] = 'some';
+  $handler->display->display_options['pager']['options']['items_per_page'] = 40;
+  $handler->display->display_options['style_plugin'] = 'default';
+  $handler->display->display_options['row_plugin'] = 'node';
+  /* Empty text: Global: Text area */
+  $handler->display->display_options['empty']['text']['id'] = 'area';
+  $handler->display->display_options['empty']['text']['table'] = 'views';
+  $handler->display->display_options['empty']['text']['field'] = 'area';
+  $handler->display->display_options['empty']['text']['label'] = '';
+  $handler->display->display_options['empty']['text']['empty'] = FALSE;
+  $handler->display->display_options['empty']['text']['content'] = 'Sorry, no ones made you an offer. Yawn.';
+  $handler->display->display_options['empty']['text']['format'] = '1';
+  /* Relationship: Content: Item Sought (field_item_sought) */
+  $handler->display->display_options['relationships']['field_item_sought_nid']['id'] = 'field_item_sought_nid';
+  $handler->display->display_options['relationships']['field_item_sought_nid']['table'] = 'node_data_field_item_sought';
+  $handler->display->display_options['relationships']['field_item_sought_nid']['field'] = 'field_item_sought_nid';
+  $handler->display->display_options['relationships']['field_item_sought_nid']['required'] = 0;
+  /* Relationship: Flags: archive */
+  $handler->display->display_options['relationships']['flag_content_rel']['id'] = 'flag_content_rel';
+  $handler->display->display_options['relationships']['flag_content_rel']['table'] = 'node';
+  $handler->display->display_options['relationships']['flag_content_rel']['field'] = 'flag_content_rel';
+  $handler->display->display_options['relationships']['flag_content_rel']['required'] = 0;
+  $handler->display->display_options['relationships']['flag_content_rel']['flag'] = 'archive';
+  /* Field: Node: Title */
+  $handler->display->display_options['fields']['title']['id'] = 'title';
+  $handler->display->display_options['fields']['title']['table'] = 'node';
+  $handler->display->display_options['fields']['title']['field'] = 'title';
+  $handler->display->display_options['fields']['title']['alter']['alter_text'] = 0;
+  $handler->display->display_options['fields']['title']['alter']['make_link'] = 0;
+  $handler->display->display_options['fields']['title']['alter']['word_boundary'] = 1;
+  $handler->display->display_options['fields']['title']['alter']['ellipsis'] = 1;
+  $handler->display->display_options['fields']['title']['alter']['strip_tags'] = 0;
+  $handler->display->display_options['fields']['title']['alter']['trim'] = 0;
+  $handler->display->display_options['fields']['title']['alter']['html'] = 0;
+  $handler->display->display_options['fields']['title']['hide_empty'] = 0;
+  $handler->display->display_options['fields']['title']['empty_zero'] = 0;
+  $handler->display->display_options['fields']['title']['link_to_node'] = 0;
+  /* Sort criterion: Node: Updated date */
+  $handler->display->display_options['sorts']['changed']['id'] = 'changed';
+  $handler->display->display_options['sorts']['changed']['table'] = 'node';
+  $handler->display->display_options['sorts']['changed']['field'] = 'changed';
+  $handler->display->display_options['sorts']['changed']['order'] = 'DESC';
+  /* Filter: Node: Type */
+  $handler->display->display_options['filters']['type']['id'] = 'type';
+  $handler->display->display_options['filters']['type']['table'] = 'node';
+  $handler->display->display_options['filters']['type']['field'] = 'type';
+  $handler->display->display_options['filters']['type']['relationship'] = 'field_item_sought_nid';
+  $handler->display->display_options['filters']['type']['value'] = array(
+    'vibio_item' => 'vibio_item',
+  );
+  $handler->display->display_options['filters']['type']['expose']['operator'] = FALSE;
+  /* Filter: User: Current */
+  $handler->display->display_options['filters']['uid_current']['id'] = 'uid_current';
+  $handler->display->display_options['filters']['uid_current']['table'] = 'users';
+  $handler->display->display_options['filters']['uid_current']['field'] = 'uid_current';
+  $handler->display->display_options['filters']['uid_current']['relationship'] = 'field_item_sought_nid';
+  $handler->display->display_options['filters']['uid_current']['value'] = '1';
+  $handler->display->display_options['filters']['uid_current']['expose']['operator'] = FALSE;
+  /* Filter: Flags: Flagged */
+  $handler->display->display_options['filters']['flagged']['id'] = 'flagged';
+  $handler->display->display_options['filters']['flagged']['table'] = 'flag_content';
+  $handler->display->display_options['filters']['flagged']['field'] = 'flagged';
+  $handler->display->display_options['filters']['flagged']['relationship'] = 'flag_content_rel';
+  $handler->display->display_options['filters']['flagged']['value'] = '0';
+  $handler->display->display_options['filters']['flagged']['expose']['operator'] = FALSE;
+  $translatables['user_selling_offered'] = array(
+    t('Defaults'),
+    t('more'),
+    t('Apply'),
+    t('Reset'),
+    t('Sort by'),
+    t('Asc'),
+    t('Desc'),
+    t('Sorry, no ones made you an offer. Yawn.'),
+    t('Item Sought'),
+    t('flag'),
+    t('Title'),
+  );
+
+  $views[$view->name] = $view;
+
+  // Exported view: user_selling_offered_archived
+  $view = new view;
+  $view->name = 'user_selling_offered_archived';
+  $view->description = 'Selling page subtab for archived';
+  $view->tag = 'offers, stephens';
+  $view->base_table = 'node';
+  $view->human_name = '';
+  $view->core = 0;
+  $view->api_version = '3.0';
+  $view->disabled = FALSE; /* Edit this to true to make a default view disabled initially */
+
+  /* Display: Defaults */
+  $handler = $view->new_display('default', 'Defaults', 'default');
+  $handler->display->display_options['title'] = 'Selling: Offers For Your Items';
+  $handler->display->display_options['access']['type'] = 'none';
+  $handler->display->display_options['cache']['type'] = 'none';
+  $handler->display->display_options['query']['type'] = 'views_query';
+  $handler->display->display_options['exposed_form']['type'] = 'basic';
+  $handler->display->display_options['pager']['type'] = 'some';
+  $handler->display->display_options['pager']['options']['items_per_page'] = 40;
+  $handler->display->display_options['style_plugin'] = 'default';
+  $handler->display->display_options['row_plugin'] = 'node';
+  /* Relationship: Content: Item Sought (field_item_sought) */
+  $handler->display->display_options['relationships']['field_item_sought_nid']['id'] = 'field_item_sought_nid';
+  $handler->display->display_options['relationships']['field_item_sought_nid']['table'] = 'node_data_field_item_sought';
+  $handler->display->display_options['relationships']['field_item_sought_nid']['field'] = 'field_item_sought_nid';
+  $handler->display->display_options['relationships']['field_item_sought_nid']['required'] = 0;
+  /* Relationship: Flags: archive */
+  $handler->display->display_options['relationships']['flag_content_rel']['id'] = 'flag_content_rel';
+  $handler->display->display_options['relationships']['flag_content_rel']['table'] = 'node';
+  $handler->display->display_options['relationships']['flag_content_rel']['field'] = 'flag_content_rel';
+  $handler->display->display_options['relationships']['flag_content_rel']['label'] = 'archive flag';
+  $handler->display->display_options['relationships']['flag_content_rel']['flag'] = 'archive';
+  /* Field: Node: Title */
+  $handler->display->display_options['fields']['title']['id'] = 'title';
+  $handler->display->display_options['fields']['title']['table'] = 'node';
+  $handler->display->display_options['fields']['title']['field'] = 'title';
+  $handler->display->display_options['fields']['title']['alter']['alter_text'] = 0;
+  $handler->display->display_options['fields']['title']['alter']['make_link'] = 0;
+  $handler->display->display_options['fields']['title']['alter']['word_boundary'] = 1;
+  $handler->display->display_options['fields']['title']['alter']['ellipsis'] = 1;
+  $handler->display->display_options['fields']['title']['alter']['strip_tags'] = 0;
+  $handler->display->display_options['fields']['title']['alter']['trim'] = 0;
+  $handler->display->display_options['fields']['title']['alter']['html'] = 0;
+  $handler->display->display_options['fields']['title']['hide_empty'] = 0;
+  $handler->display->display_options['fields']['title']['empty_zero'] = 0;
+  $handler->display->display_options['fields']['title']['link_to_node'] = 0;
+  /* Filter: Node: Type */
+  $handler->display->display_options['filters']['type']['id'] = 'type';
+  $handler->display->display_options['filters']['type']['table'] = 'node';
+  $handler->display->display_options['filters']['type']['field'] = 'type';
+  $handler->display->display_options['filters']['type']['relationship'] = 'field_item_sought_nid';
+  $handler->display->display_options['filters']['type']['value'] = array(
+    'vibio_item' => 'vibio_item',
+  );
+  $handler->display->display_options['filters']['type']['expose']['operator'] = FALSE;
+  /* Filter: User: Current */
+  $handler->display->display_options['filters']['uid_current']['id'] = 'uid_current';
+  $handler->display->display_options['filters']['uid_current']['table'] = 'users';
+  $handler->display->display_options['filters']['uid_current']['field'] = 'uid_current';
+  $handler->display->display_options['filters']['uid_current']['relationship'] = 'field_item_sought_nid';
+  $handler->display->display_options['filters']['uid_current']['value'] = '1';
+  $handler->display->display_options['filters']['uid_current']['expose']['operator'] = FALSE;
+
+  /* Display: Page */
+  $handler = $view->new_display('page', 'Page', 'page_1');
+  $handler->display->display_options['path'] = 'selling/archived';
+  $handler->display->display_options['menu']['type'] = 'tab';
+  $handler->display->display_options['menu']['title'] = 'Archived';
+  $handler->display->display_options['menu']['description'] = 'Offers on your items for sale, archived';
+  $handler->display->display_options['menu']['weight'] = '1';
+  $handler->display->display_options['menu']['name'] = 'navigation';
+  $translatables['user_selling_offered_archived'] = array(
+    t('Defaults'),
+    t('Selling: Offers For Your Items'),
+    t('more'),
+    t('Apply'),
+    t('Reset'),
+    t('Sort by'),
+    t('Asc'),
+    t('Desc'),
+    t('Item Sought'),
+    t('archive flag'),
+    t('Title'),
+    t('Page'),
+  );
+
+  $views[$view->name] = $view;
+
+  return $views;
+}
diff --git a/sites/default/modules/vibio_offer/vibio_offer.module b/sites/default/modules/vibio_offer/vibio_offer.module
index ea7849a..a33c0b5 100644
--- a/sites/default/modules/vibio_offer/vibio_offer.module
+++ b/sites/default/modules/vibio_offer/vibio_offer.module
@@ -297,7 +297,7 @@ if ( $nid ) {
 		// set the item it's attached to
 	$node->field_item_sought[]['nid'] = $item_nid; // [] or [0], same
 
-	$node->title = "Offer by " . $user->name . " for $item_nid $item_title";
+	$node->title = "Offer by " . $user->name; // . " for $item_nid $item_title";
 
 	// Do we create it, or just load the form for it?  I'm not sure,
 	//  try both ways (both should be ok, but not sure).  Maybe create
diff --git a/sites/default/modules/views_autofakerefresh/README b/sites/default/modules/views_autofakerefresh/README
new file mode 100644
index 0000000..205aa82
--- /dev/null
+++ b/sites/default/modules/views_autofakerefresh/README
@@ -0,0 +1,7 @@
+From views_hacks and modified by stephen, probably very heavily
+
+This module normally updates a view with new incoming information using ajax...
+we're faking that, pretending new information is coming in.
+
+In the future, we might have it test to see if new information has come in,
+and maybe start over?  Could easily get way to complex for a toy
diff --git a/sites/default/modules/views_autofakerefresh/README_generic_instructs b/sites/default/modules/views_autofakerefresh/README_generic_instructs
new file mode 100644
index 0000000..0d8da67
--- /dev/null
+++ b/sites/default/modules/views_autofakerefresh/README_generic_instructs
@@ -0,0 +1,8 @@
+From the project page:
+
+Turn AJAX on for your view
+Edit your view header to use the PHP code input format and insert the following line:
+<?php
+$interval = 5000;
+print theme('views_autorefresh', $interval);
+?>
diff --git a/sites/default/modules/views_autofakerefresh/views_autofakerefresh.info b/sites/default/modules/views_autofakerefresh/views_autofakerefresh.info
new file mode 100644
index 0000000..19b9290
--- /dev/null
+++ b/sites/default/modules/views_autofakerefresh/views_autofakerefresh.info
@@ -0,0 +1,7 @@
+name = Views Auto-Fake-refresh
+description = Acts like it's auto-refreshing of Ajax-enabled views but uses offsets instead.  Modified from Auto-refresh
+package = Views
+dependencies[] = views
+core = 6.x
+
+
diff --git a/sites/default/modules/views_autofakerefresh/views_autofakerefresh.js b/sites/default/modules/views_autofakerefresh/views_autofakerefresh.js
new file mode 100644
index 0000000..8db6837
--- /dev/null
+++ b/sites/default/modules/views_autofakerefresh/views_autofakerefresh.js
@@ -0,0 +1,99 @@
+(function ($) {
+// START jQuery
+
+Drupal.behaviors.views_autofakerefresh = function(context) {
+  if (Drupal.settings && Drupal.settings.views && Drupal.settings.views.ajaxViews) {
+    var ajax_path = Drupal.settings.views.ajax_path;
+    // If there are multiple views this might've ended up showing up multiple times.
+    if (ajax_path.constructor.toString().indexOf("Array") != -1) {
+      ajax_path = ajax_path[0];
+    }
+    $.each(Drupal.settings.views.ajaxViews, function(i, settings) {
+      var view = '.view-dom-id-' + settings.view_dom_id;
+      if (!$(view).size()) {
+        // Backward compatibility: if 'views-view.tpl.php' is old and doesn't
+        // contain the 'view-dom-id-#' class, we fall back to the old way of
+        // locating the view:
+        view = '.view-id-' + settings.view_name + '.view-display-id-' + settings.view_display_id;
+      }
+      $(view).filter(':not(.views-autofakerefresh-processed)')
+        // Don't attach to nested views. Doing so would attach multiple behaviors
+        // to a given element.
+        .filter(function() {
+          // If there is at least one parent with a view class, this view
+          // is nested (e.g., an attachment). Bail.
+          return !$(this).parents('.view').size();
+        })
+        .each(function() {
+          // Set a reference that will work in subsequent calls.
+          var target = this;
+          $(this)
+            .addClass('views-autofakerefresh-processed')
+            // Process pager, tablesort, and attachment summary links.
+            .find('.auto-refresh a')
+            .each(function () {
+              var viewData = { 'js': 1 };
+              // Construct an object using the settings defaults and then overriding
+              // with data specific to the link.
+              $.extend(
+                viewData,
+                Drupal.Views.parseQueryString($(this).attr('href')),
+                // Extract argument data from the URL.
+                Drupal.Views.parseViewArgs($(this).attr('href'), settings.view_base_path),
+                // Settings must be used last to avoid sending url aliases to the server.
+                settings
+              );
+              $(this).click(function () {
+                $.extend(viewData, Drupal.Views.parseViewArgs($(this).attr('href'), settings.view_base_path));
+                $(this).addClass('views-throbbing');
+                $.ajax({
+                  url: ajax_path,
+                  type: 'GET',
+                  data: viewData,
+                  success: function(response) {
+                    $(this).removeClass('views-throbbing');
+                    // Scroll to the top of the view. This will allow users
+                    // to browse newly loaded content after e.g. clicking a pager
+                    // link.
+                    var offset = $(target).offset();
+                    // We can't guarantee that the scrollable object should be
+                    // the body, as the view could be embedded in something
+                    // more complex such as a modal popup. Recurse up the DOM
+                    // and scroll the first element that has a non-zero top.
+                    var scrollTarget = target;
+                    while ($(scrollTarget).scrollTop() == 0 && $(scrollTarget).parent()) {
+                      scrollTarget = $(scrollTarget).parent()
+                    }
+                    // Only scroll upward
+                    if (offset.top - 10 < $(scrollTarget).scrollTop()) {
+                      $(scrollTarget).animate({scrollTop: (offset.top - 10)}, 500);
+                    }
+                    // Call all callbacks.
+                    if (response.__callbacks) {
+                      $.each(response.__callbacks, function(i, callback) {
+                        eval(callback)(target, response);
+                      });
+                    }
+                  },
+                  error: function(xhr) { $(this).removeClass('views-throbbing'); Drupal.Views.Ajax.handleErrors(xhr, ajax_path); },
+                  dataType: 'json'
+                });
+
+                return false;
+              });
+            }); // .each function () {
+      }); // $view.filter().each
+    });
+
+    // Set the autofakerefresh timer.
+    var timer = setTimeout('autofakerefresh()', Drupal.settings.views_autofakerefresh.interval);
+    autofakerefresh = function() {
+      $(".auto-refresh a").click();
+      clearTimeout(timer);
+    }
+  }
+}
+
+// END jQuery
+})(jQuery);
+
diff --git a/sites/default/modules/views_autofakerefresh/views_autofakerefresh.module b/sites/default/modules/views_autofakerefresh/views_autofakerefresh.module
new file mode 100644
index 0000000..7549661
--- /dev/null
+++ b/sites/default/modules/views_autofakerefresh/views_autofakerefresh.module
@@ -0,0 +1,51 @@
+<?php
+
+/**
+ * Implementation of hook_theme().
+ */
+function views_autofakerefresh_theme() {
+  return array(
+    'views_autofakerefresh' => array(
+      'arguments' => array('interval' => array('default' => NULL)),
+    ),
+  );
+}
+
+/**
+ * Theme function for 'views_autofakerefresh'.
+ *  Interval might be 5 seconds, for example
+ */
+function theme_views_autofakerefresh($interval) {
+  drupal_add_js(drupal_get_path('module', 'views_autofakerefresh') . '/views_autofakerefresh.js');
+  drupal_add_js(array('views_autofakerefresh' => array('interval' => $interval)), 'setting');
+  $query_string = drupal_query_string_encode($_REQUEST, array_merge(array('q', 'pass'), array_keys($_COOKIE)));
+
+	$offset = _next_offset();
+	$offset + 3;
+  $query[] = $query_string . "&offset=$offset";
+
+  $link = l('', $_GET['q'], array('query' => count($query) ? implode('&', $query) : NULL));
+  
+	return $link . '<div class="auto-refresh">' . $link . '</div>';
+}
+
+/* Set the offset */
+function views_autofakerefresh_views_pre_view(&$view, &$display_id, &$args) {
+	if($view->name == 'user_hb_incoming_activity'){
+		$view->display['default']->handler->options['pager']['options']['offset'] =  _next_offset();
+	}
+}
+
+/* Get offset from url, and add 1. */
+function _next_offset () {
+	$offset = 0;
+	if ( is_numeric($_GET['offset']) ) {
+		$offset = $_GET['offset'];
+	}
+	// Let's do most recent 120?  (Don't set too high or 
+	//  we get empty text )
+	if ( $offset > 120 ) {
+		$offset = 0;
+	}
+	return $offset + 1;
+}
diff --git a/sites/default/settings.php b/sites/default/settings.php
index 92cc8d5..4a414f3 100644
--- a/sites/default/settings.php
+++ b/sites/default/settings.php
@@ -90,7 +90,7 @@
  *   $db_url = 'pgsql://username:password@localhost/databasename';
  */
 $db_url = 'mysqli://root:vibio@localhost/vibio';
-$db_url = 'mysqli://root:simonsaysFWarvsgESAE@127.0.0.1/vibio';
+#$db_url = 'mysqli://root:simonsaysFWarvsgESAE@127.0.0.1/vibio';
 $db_prefix = 'drupal_';
 
 /**
@@ -241,4 +241,4 @@ ini_set('url_rewriter.tags',        '');
 
 //override any settings
 $settings_file = dirname(__FILE__)."/../../../local/settings.php";
-#require_once($settings_file);
+require_once($settings_file);
diff --git a/sites/default/themes/THIS_IS_HORRIBLE___README b/sites/default/themes/THIS_IS_HORRIBLE___README
deleted file mode 100644
index d708d08..0000000
--- a/sites/default/themes/THIS_IS_HORRIBLE___README
+++ /dev/null
@@ -1,13 +0,0 @@
-When I merged Carolyn's code with mine on 8/22, somehow... not sure how... 
-it started looking in the natural place (here) for the Vibio theme.
-This link solved problems I don't have another hour or two to track down.
-Hope we can get rid of this spaghetti before anyone has to track it down
-or fix it!
-
-Hm... after merging code, it's sometimes looking here: sites/all/themes/vibio/templates/profile/display-block.tpl.php
-when this fubar site should look
-sites/all/themes/vibio/templates/profile/display-block.tpl.php
-what made it do that?
-ouch, but try: ln -s /home/ubuntu/www/vibio/src/themes/vibio vibio
-ln -s /home/ubuntu/www/vibio/src/themes/zen  zen
-
diff --git a/sites/default/themes/vibio b/sites/default/themes/vibio
deleted file mode 120000
index f78f236..0000000
--- a/sites/default/themes/vibio
+++ /dev/null
@@ -1 +0,0 @@
-/home/ubuntu/www/vibio/src/themes/vibio
\ No newline at end of file
diff --git a/t b/t
new file mode 100644
index 0000000..cc97952
--- /dev/null
+++ b/t
@@ -0,0 +1,35 @@
+modules/node/node.pages.inc:    '#submit' => array('node_form_submit'),
+modules/node/node.pages.inc:  $node = node_form_submit_build_node($form, $form_state);
+modules/node/node.pages.inc:function node_form_submit($form, &$form_state) {
+modules/node/node.pages.inc:  $node = node_form_submit_build_node($form, $form_state);
+modules/node/node.pages.inc:function node_form_submit_build_node($form, &$form_state) {
+modules/upload/upload.module:function upload_node_form_submit(&$form, &$form_state) {
+modules/upload/upload.module:      $form['#submit'][] = 'upload_node_form_submit';
+modules/upload/upload.module:      '#submit' => array('node_form_submit_build_node'),
+modules/upload/upload.module:  upload_node_form_submit($cached_form, $form_state);
+modules/vibio/vibio_item/product_catalog/product.module:					//		- node_form_submit($form, &$form_state)
+modules/vibio/vibio_item/product_catalog/product.module:				//$form['#submit'] = array( _add_item_to_my_new_product_form_submit, _privacy_form_submit, menu_node_form_submit );
+Binary file modules/vibio/vibio_item/product_catalog/.product.module.swp matches
+modules/vibio/overrides/overrides.module: $node = node_form_submit_build_node($form, $form_state);
+modules/vibio/overrides/overrides.module: $node = node_form_submit_build_node($form, $form_state);
+modules/vibio/overrides/temp:>  $node = node_form_submit_build_node($form, $form_state);
+modules/vibio/overrides/temp:>  $node = node_form_submit_build_node($form, $form_state);
+modules/poll/poll.module:  node_form_submit_build_node($form, $form_state);
+modules/poll/poll.module:function poll_node_form_submit(&$form, &$form_state) {
+modules/menu/menu.module:    $form['#submit'][] = 'menu_node_form_submit';
+modules/menu/menu.module:function menu_node_form_submit($form, &$form_state) {
+modules/book/book.module:        '#submit' => array('node_form_submit_build_node'),
+sites/default/modules/vibio_offer/vibio_offer.module:			// $form['buttons']['submit']['#submit'][0] = 'MODULENAME_node_form_submit';
+sites/default/modules/friend_finder/vibio_offer.module:			// $form['buttons']['submit']['#submit'][0] = 'MODULENAME_node_form_submit';
+sites/all/modules/auto_nodetitle/auto_nodetitle.module:      $form['#submit'][] = 'auto_nodetitle_node_form_submit';
+sites/all/modules/auto_nodetitle/auto_nodetitle.module:      $form['#submit'][] = 'auto_nodetitle_node_form_submit';
+sites/all/modules/auto_nodetitle/auto_nodetitle.module:function auto_nodetitle_node_form_submit($form, &$form_state) {
+sites/all/modules/auto_nodetitle/autonodetitle_with_hard_coded_offer_php_for_testing:      $form['#submit'][] = 'auto_nodetitle_node_form_submit';
+sites/all/modules/auto_nodetitle/autonodetitle_with_hard_coded_offer_php_for_testing:      $form['#submit'][] = 'auto_nodetitle_node_form_submit';
+sites/all/modules/auto_nodetitle/autonodetitle_with_hard_coded_offer_php_for_testing:function auto_nodetitle_node_form_submit($form, &$form_state) {
+sites/all/modules/orig_core_modules/cck/includes/content.node_form.inc:  node_form_submit_build_node($form, $form_state);
+sites/all/modules/orig_core_modules/video/video.module:    case 'node_form_submit':
+sites/all/modules/orig_core_modules/video/types/videoftp/videoftp_widget.inc:    '#submit' => array('node_form_submit_build_node'),
+sites/all/modules/orig_core_modules/video/types/videoftp/videoftp_widget.inc:    '#submit' => array('node_form_submit_build_node'),
+sites/all/modules/filefield/filefield_widget.inc:    '#submit' => array('node_form_submit_build_node'),
+sites/all/modules/filefield/filefield_widget.inc:    '#submit' => array('node_form_submit_build_node'),
diff --git a/themes/vibio/badge.js b/themes/vibio/badge.js
new file mode 100644
index 0000000..f5fbed2
--- /dev/null
+++ b/themes/vibio/badge.js
@@ -0,0 +1,59 @@
+$(document).ready(function()
+{
+	Drupal.settings.badge = Drupal.settings.badge || {};
+	
+	if (Drupal.settings.badge.popup_html)
+	{
+		vibio_dialog.create(Drupal.settings.badge.popup_html);
+	}
+	
+	var unearned_badges = false;
+	$(".badges_unearned").click(function()
+	{		
+		if (!unearned_badges)
+		{
+			vibio_utility.dialog_busy();
+			
+			$.ajax({
+				url: $(this).attr("href"),
+				success: function(html, stat)
+				{
+					unearned_badges = html;
+					vibio_utility.dialog_unbusy(unearned_badges);
+				}
+			});
+		}
+		else
+		{
+			vibio_dialog.create(unearned_badges);
+		}
+		
+		return false;
+	});
+	
+	var badge_info = {};
+	$(".badge_get_info").live("click", function()
+	{
+		var href = $(this).attr("href");
+		
+		if (badge_info[href])
+		{
+			vibio_dialog.create(badge_info[href]);
+		}
+		else
+		{
+			vibio_utility.dialog_busy();
+			
+			$.ajax({
+				url: href,
+				success: function(html, stat)
+				{
+					badge_info[href] = html;
+					vibio_utility.dialog_unbusy(badge_info[href]);
+				}
+			})
+		}
+		
+		return false;
+	});
+});
\ No newline at end of file
diff --git a/themes/vibio/css/.product.css.swp b/themes/vibio/css/.product.css.swp
deleted file mode 100644
index 5d64f31..0000000
Binary files a/themes/vibio/css/.product.css.swp and /dev/null differ
diff --git a/themes/vibio/css/badge.css b/themes/vibio/css/badge.css
index f653d9d..9b25ba4 100644
--- a/themes/vibio/css/badge.css
+++ b/themes/vibio/css/badge.css
@@ -1,6 +1,25 @@
-#badge_alert_container {
+
+/*Popup after earning a badge*/
+#badge_alert_container_earned {
+	text-align:center;	
+}
+#badge_alert_container_earned h5{
+	font-size: 28px;
+	margin: 28px 0 28px;
+}
+#badge_alert_container_earned div#badge_alert_footer{
+	text-align: right;
+	font-size: 13px;
+	margin: 0 13px 25px 0;
+}
+#badge_alert_container_earned .badge_alert_single {
+	min-height: 150px;
 	text-align: center;
 }
+#badge_alert_container_earned .badge_alert_single div.badge_title {
+	font-weight: bold;
+	font-size: 15px;
+}
 
 #badge_alert_container .badge_alert_single img.badge_image {
 	max-height: 150px;
@@ -11,10 +30,14 @@
 	font-weight: bold;
 	height: 25px;
 	margin: 5px 0 10px;
+	font-size: 15px;
 }
 
 #badge_alert_container .badge_alert_single {
 	min-height: 150px;
+	float: left;
+	width: 120px;
+	text-align: center;
 }
 
 #badge_alert_container .badge_alert_badge {
@@ -28,7 +51,8 @@
 }
 
 .badge_list_badge {
-	margin-bottom: 10px;
+	padding: 5px 0;
+	border-bottom: 1px solid #CCCCCC;
 }
 
 .badge_list_badge .badge_image_container {
@@ -38,8 +62,15 @@
 
 .badge_list_badge .badge_info {
 	float: left;
+	margin-top: 25px;
+	color: #556270;
+}
+.badge_list_badge .badge_info h1{
+	font-size: 15px;
+	font-weight: bold;
+	margin: 0
 }
 
 .badge_list_badge img.badge_image {
-	max-width: 80px;
+	max-width: 105px;
 }
\ No newline at end of file
diff --git a/themes/vibio/css/blocks.css b/themes/vibio/css/blocks.css
index 595db52..353ba7b 100644
--- a/themes/vibio/css/blocks.css
+++ b/themes/vibio/css/blocks.css
@@ -5,97 +5,100 @@
  * Block Styling
  */
 
+.block/* Block wrapper */ {
+	margin-bottom: 1em;
+}
+
+/*Sidebar Featured USer*/
 
-.block /* Block wrapper */ {
-  margin-bottom: 1em;
+.logged-in #block-views-flag_featured_users-block_1 {
+	display: none
 }
 
+#block-views-flag_featured_users-block_1 .medium_user_pic{
+	padding: 5px;
+	border: 1px solid #CCCCCC;
+	width:118px;
+	height: 118px;
+	margin: 0 auto;
+	background: #FFFFFF
+}
+#block-views-flag_featured_users-block_1 .views-field-picture{
+	padding: 8px 0 4px;
+}
+#block-views-flag_featured_users-block_1 .field-content{
+	font-size: 13px;	
+}
+#block-views-flag_featured_users-block_1 {
+	background: url(../images/featured_member.png) no-repeat 8px 33px;
+	padding: 0 16px 25px;
+}
+#block-views-flag_featured_users-block_1 h2 {
+	padding-top: 14px;
+	color: #106F93;
+	font-size: 15px;
+	font-weight:bold;
+}
 #block-block-2 {
-  clear: both;
+	clear: both;
 }
-
-
-.block.region-odd /* Zebra striping for each block in the region */ {
+.block.region-odd/* Zebra striping for each block in the region */ {
 }
-
-.block.region-even /* Zebra striping for each block in the region */ {
+.block.region-even/* Zebra striping for each block in the region */ {
 }
-
-.block.odd /* Zebra striping independent of each region */ {
+.block.odd/* Zebra striping independent of each region */ {
 }
-
-.block.even /* Zebra striping independent of each region */ {
+.block.even/* Zebra striping independent of each region */ {
 }
-
-.region-count-1 /* Incremental count for each block in the region */ {
+.region-count-1/* Incremental count for each block in the region */ {
 }
-
-.count-1 /* Incremental count independent of each region */ {
+.count-1/* Incremental count independent of each region */ {
 }
-
-.block h2.title /* Block title */ {
+.block h2.title/* Block title */ {
 }
-
-.block .content /* Block's content wrapper */ {
+.block .content/* Block's content wrapper */ {
 }
-
-#block-aggregator-category-1 /* Block for the latest news items in the first category */ {
+#block-aggregator-category-1/* Block for the latest news items in the first category */ {
 }
-
-#block-aggregator-feed-1 /* Block for the latest news items in the first feed */ {
+#block-aggregator-feed-1/* Block for the latest news items in the first feed */ {
 }
-
-#block-block-1 /* First administrator-defined block */ {
+#block-block-1/* First administrator-defined block */ {
 }
-
-#block-blog-0 /* "Recent blog posts" block */ {
+#block-blog-0/* "Recent blog posts" block */ {
 }
-
-#block-book-0 /* "Book navigation" block for the current book's table of contents */ {
+#block-book-0/* "Book navigation" block for the current book's table of contents */ {
 }
-
-#block-comment-0 /* "Recent comments" block */ {
+#block-comment-0/* "Recent comments" block */ {
 }
-
-#block-forum-0 /* "Active forum topics" block */ {
+#block-forum-0/* "Active forum topics" block */ {
 }
-
-#block-forum-1 /* "New forum topics" block */ {
+#block-forum-1/* "New forum topics" block */ {
 }
-
-#block-menu-primary-links /* "Primary links" block */ {
+#block-menu-primary-links/* "Primary links" block */ {
 }
-
-#block-menu-secondary-links /* "Secondary links" block */ {
+#block-menu-secondary-links/* "Secondary links" block */ {
 }
-
-#block-node-0 /* "Syndicate" block for primary RSS feed */ {
+#block-node-0/* "Syndicate" block for primary RSS feed */ {
 }
-
-#block-poll-0 /* "Most recent poll" block */ {
+#block-poll-0/* "Most recent poll" block */ {
 }
-
-#block-profile-0 /* "Author information" block for the profile of the page's author */ {
+#block-profile-0/* "Author information" block for the profile of the page's author */ {
 }
-
-#block-search-0 /* "Search form" block */ {
+#block-search-0/* "Search form" block */ {
 }
-
-#block-statistics-0 /* "Popular content" block */ {
+#block-statistics-0/* "Popular content" block */ {
 }
-
-#block-user-0 /* "User login form" block */ {
+#block-user-0/* "User login form" block */ {
 }
-
-#block-user-1 /* "Navigation" block for Drupal navigation menu */ {
+#block-user-0 .menu_description {
+	display: none
 }
-
-#block-user-2 /* "Who's new" block for a list of the newest users */ {
+#block-user-1/* "Navigation" block for Drupal navigation menu */ {
 }
-
-#block-user-3 /* "Who's online" block for a list of the online users */ {
+#block-user-2/* "Who's new" block for a list of the newest users */ {
+}
+#block-user-3/* "Who's online" block for a list of the online users */ {
 }
-
 .block-nice_menus ul {
-  padding: 0;
+	padding: 0;
 }
diff --git a/themes/vibio/css/collections.css b/themes/vibio/css/collections.css
index 2327c16..ff5b03f 100644
--- a/themes/vibio/css/collections.css
+++ b/themes/vibio/css/collections.css
@@ -1,55 +1,67 @@
+/* override collections page Search tool -Keith */
+.view-user-collections .view-filters { display: none; }
+
+/*.user-collection-preview td { width: 360px; }
+.user-collection-preview .collection_list_image img { max-width: 63px; }
+.collection-preview-boxshadow { float: left; box-shadow: 3px 3px 3px 1px #ccc; padding: 3px; width: 335px; }
+.collection_list_collection .collection_image { width: inherit; }
+.collection_list_collection .collection_image img { max-width: 200px; }
+.collection_list_collection .collection_summary { width: 518px; }
+*/
+.view-user-collections div.view-content{
+	margin-top: 20px;
+	position: relative;
+}
+.collection_list_collection .collection_image {
+	margin-right: 10px;
+	padding:5px 0px 2px 5px;
+	border: 1px solid #CCCCCC;
+	background: #FFFFFF;
+}
+.collection_list_collection .collection_image img{
+	max-width: 77px;
+	min-width 100px;
+	border: 1px solid #CCCCCC;
+}
 .collections_view_header {
-	margin-bottom: 10px;
+	position:absolute;
+	right:22px
 }
 
 .collection_list_collection {
 	margin-bottom: 25px;
 }
-
 .collection_image {
 	float: left;
 	margin-right: 10px;
 	width: 85px;
 }
-
-.collection_image img {
-	max-width: 80px;
-}
-
 .collection_summary {
 	float: left;
-	width: 610px;
+	width: 595px;
 }
-
 .collection_summary h3 {
-	color: #667122;
+	
 	margin: 0;
 }
-
 .collection_summary p {
 	color: #252f35;
 	margin: 5px 0 0;
 }
-
 .collection_summary span {
 	color: #4b5e6d;
 	font-size: 12px;
 	float: left;
 }
-
 .collection_summary span.collection_item_count {
 	width: 55px;
 }
-
 .collection_summary span.manage_collection_link {
 	margin-left: 10px;
 }
-
 .collection_preview {
 	width: 100%;
-	border: 2px solid #a5a5a5;
 }
-
 .collection_preview_init {
 	height: 16px;
 	text-align: center;
@@ -57,186 +69,204 @@
 	font-size: 12px;
 	font-weight: bold;
 }
-
 .collection_preview_init img {
 	margin-right: 5px;
 }
-
 .collection_preview_init.expanded {
 	background: #a5a5a5;
 }
-
 .collection_preview_init:hover {
 	cursor: pointer;
 }
-
 .collection_preview_loading {
 	display: none;
 	text-align: center;
 }
-
 .collection_preview_items {
 	display: none;
-	padding: 0 15px;
 }
-
 .collection_list_image {
 	float: left;
 	margin-right: 10px;
 }
-
 .collection_list_image img {
-	max-width: 40px;
+	max-height: 100px; 
+	border: 1px solid #CCCCCC;
 }
-
 .collection_list_item_summary {
-	float: left;
+	border-bottom:1px solid #CCCCCC; 
+	margin: 5px 10px 5px 0px;
+	min-height: 110px;
 }
-
 .collection_list_item_summary span.item_price {
-	float: left;
 	width: 60px;
 }
-
 .user-collection-preview h5, #collection_sidebar .collection_sidebar_collection h5 {
 	margin: 0;
-	color: #8e9e30;
-	font-size: 14px;
+	font-size: 13px;
 }
-
 .user-collection-preview span {
 	color: #404f5a;
 	font-size: 12px;
 }
-
 .user-collection-preview td {
-	width: 230px;
+	width: 365px;
 	vertical-align: top;
 }
-
+td.col-1{ 
+	
+}
+td.col-2{ 
+	padding-left:10px;
+	border-left: 1px solid #CCCCCC; 
+}
+.minisocialbar div{
+}
 .user-collection-preview tr {
 	height: 60px;
 }
-
 .user-collection-preview tr.row-last {
 	height: auto;
 }
-
 .collection_categories {
 	color: #a5a5a5;
 }
-
 .item_updated {
-	display: block;
+	display: none;
 }
-
 #collection_main, #collection_sidebar {
 	float: left;
 }
-
 #collection_main {
 	width: 515px;
 }
-
 #collection_main .collection_summary {
 	width: 400px;
 }
-
 #collection_sidebar {
 	width: 185px;
 	border-left: 1px solid #a5a5a5;
 	padding-left: 20px;
 }
-
 #collection_sidebar h5 {
 	margin: 10px 0 0;
 }
-
 .collection_sidebar_collection {
 	margin-top: 25px;
 	width: 135px;
 }
-
 .collection_sidebar_collection_image {
 	float: left;
 	margin-right: 5px;
 }
-
 .collection_sidebar_collection_image img {
 	max-width: 80px;
 }
-
 .collection_sidebar_collection_items {
 	float: left;
 }
-
 .collection_sidebar_collection_items img {
 	display: block;
 	margin-bottom: 2px;
 	max-height: 25px;
 	max-width: 50px;
 }
-
 #block-collection-random_collection {
-	margin-top: 15px;
-	font-family: 'Trebuchet MS', Verdana, Tahoma, 'DejaVu Sans', sans-serif !important;
+	background: #F6F6F6 url(/themes/vibio/images/showcase.png) no-repeat 5px 0;
+	padding: 0 16px;
+	margin-bottom: 0;
+	min-height: 234px;
 }
+#block-collection-random_collection h2{
+	padding: 10px 0;
+}
+/*Background Image*/
 
+#block-collection-random_collection .content {
+}
 #block-collection-random_collection .content > div {
-	margin-bottom: 2px;
-	padding: 5px 10px;
 	line-height: 15px;
-	text-align: center;
 }
-
 #block-collection-random_collection .collection_image {
 	float: none;
 	margin: 0;
 	width: auto;
+	padding-top: 10px;
+	text-align: center;
 }
-
 #block-collection-random_collection .collection_image img {
-	border: 1px solid black;
+	border: 1px solid #CCC;
+	background:#FFFFFF;
+	padding: 5px;
+	max-height: 115px;
+	max-width: 115px;
+	min-width: 115px;
+}
+#block-collection-random_collection .collection_info {	
+}
+#block-collection-random_collection .collection_owner{
+	padding-top: 6px;
 }
-
 #block-collection-random_collection .collection_owner a, #block-collection-random_collection .collection_title a {
-	color: #33cadf;
-	font-weight: bold;
+	color: #79AFBF;
+	font-size: 15px;
 }
-
 #block-collection-random_collection .collection_title a, #block-collection-random_collection .collection_link a {
-	color: #a3be3d;
+	color: #106F93;
+	font-size: 13px;
 }
-
 #block-collection-random_collection .collection_link a {
 	font-size: 12px;
 }
-
-#block-collection-random_collection .collection_item_count,  #block-collection-random_collection .collection_description {
+#block-collection-random_collection .collection_item_count, #block-collection-random_collection .collection_description {
 	font-size: 12px;
 	color: #859cae;
 	margin-top: 2px;
 }
-
-#block-collection-random_collection .collection_categories,
-#block-collection-random_collection .collection_description,
-#block-collection-random_collection .collection_date_added,
-#block-collection-random_collection .collection_link {
+#block-collection-random_collection .collection_categories, #block-collection-random_collection .collection_description, #block-collection-random_collection .collection_date_added, #block-collection-random_collection .collection_link {
 	text-align: left;
 }
-
 #block-collection-random_collection .collection_description {
 	margin-top: 10px;
 	font-size: 13px;
 }
-
 #block-collection-random_collection .collection_categories {
 	font-size: 11px;
 	color: #a2a7ab;
 }
-
 #block-collection-random_collection .collection_date_added {
 	color: #859cae;
 	font-size: 12px;
 	margin-top: 10px;
 }
+/*Bottom Sidebar*/
+.region-sidebar-first .rounded_content {
+}
+.heartbeat-messages-wrapper {
+	margin-top: 25px;
+}
+#block-heartbeat-connectedheartbeat.block {
+	background: #FFF url(/themes/vibio/images/sidebar_seperator.png) no-repeat scroll 6px 41px;
+	border-bottom-left-radius: 4px;
+	border-bottom-right-radius: 4px;
+	-moz-border-radius-bottomright: 4px;
+	-moz-border-radius-bottomleft: 4px;
+}
+#block-heartbeat-connectedheartbeat {
+	padding: 12px 15px 15px;
+}
+.beat-item {
+	margin-top: 10px;
+	padding-bottom: 10px;
+	border-bottom: 1px solid #ccc;
+}
+.heartbeat-pic-in-block img {
+	height: 32px;
+	width: 32px;
+	border: 1px solid #CCC;
+	float: left;
+	padding: 5px;
+	border: solid 1px #CCC;
+	margin-right: 7px;
+}
+
diff --git a/themes/vibio/css/facebook.css b/themes/vibio/css/facebook.css
index cb22d6b..655381f 100644
--- a/themes/vibio/css/facebook.css
+++ b/themes/vibio/css/facebook.css
@@ -1,60 +1,48 @@
 .fb_dialog {
 	display: none;
 }
-
 .fb_popup #vibio_dialog {
 	padding: 0;
 }
-
 .fb_header {
 	background: #3B5998;
 	padding: 5px 10px;
 }
-
 .fb_body {
 	padding: 10px;
 }
-
 .fb_share_params {
 	display: none;
 }
-
 .fb_login_button:hover {
 	cursor: pointer;
 }
-
 .fb_share_container {
 	float: left;
 	margin-left: 10px;
 }
-
 .collection_list_item_summary .fb_share_container {
 	margin-left: 5px;
 }
-
 .fb_ff_message {
 	margin-bottom: 10px;
 }
-
 .fb_ff_message .fb_message {
 	float: left;
 	width: 500px;
 }
-
 .fb_ff_message .fb_link {
 	float: right;
 }
-
 #block-fb-fb_login {
-	margin-top: 10px;
-	border-top: 3px double #3c4b55;
+	text-align: center;
+}
+.fb-or {
+	color: #00AEF0;
 }
-
 #block-fb-fb_login .fb_login {
-	text-align: center;
-	margin-top: 10px;
+	margin-top: 4px;
 }
-
 .product_image .fb_share_container {
 	float: none;
 	margin: 0;
diff --git a/themes/vibio/css/forms.css b/themes/vibio/css/forms.css
index caa21b7..b56afec 100644
--- a/themes/vibio/css/forms.css
+++ b/themes/vibio/css/forms.css
@@ -5,127 +5,99 @@
  * Form Styling
  */
 
-
-.form-item,
-.form-checkboxes,
-.form-radios /* Wrapper for a form element (or group of form elements) and its label */ {
-  margin: 1em 0;
+.form-item, .form-checkboxes, .form-radios/* Wrapper for a form element (or group of form elements) and its label */ {
+	margin: 1em 0;
 }
-
-.form-item input.error,
-.form-item textarea.error,
-.form-item select.error /* Highlight the form elements that caused a form submission error */ {
-  border: 1px solid #c00 !important;
+.form-item input.error, .form-item textarea.error, .form-item select.error/* Highlight the form elements that caused a form submission error */ {
+	border: 1px solid #c00 !important;
 }
-
-.form-item label /* The label for a form element */ {
-  display: block;
-  font-weight: bold;
+.form-item label/* The label for a form element */ {
+	display: block;
+	font-weight: bold;
 }
-
-.form-item label.option /* The label for a radio button or checkbox */ {
-  display: inline;
-  font-weight: normal;
+.form-item label.option/* The label for a radio button or checkbox */ {
+	display: inline;
+	font-weight: normal;
 }
-
-.form-required /* The part of the label that indicates a required field */ {
-  color: #c00;
+.form-required/* The part of the label that indicates a required field */ {
+	color: #c00;
 }
-
-.form-item .description /* The descriptive help text (separate from the label) */ {
-  font-size: 0.85em;
+.form-item .description/* The descriptive help text (separate from the label) */ {
+	font-size: 0.85em;
 }
-
-.form-checkboxes .form-item,
-.form-radios .form-item /* Pack groups of checkboxes and radio buttons closer together */ {
-  margin: 0.4em 0;
+.form-checkboxes .form-item, .form-radios .form-item/* Pack groups of checkboxes and radio buttons closer together */ {
+	margin: 0.4em 0;
 }
-
-.form-submit /* The submit button */ {
+.form-submit/* The submit button */ {
 }
-
-.container-inline div,
-.container-inline label /* Inline labels and form divs */ {
-  display: inline;
+.container-inline div, .container-inline label/* Inline labels and form divs */ {
+	display: inline;
 }
-
-.tips /* Tips for Drupal's input formats */ {
+.tips/* Tips for Drupal's input formats */ {
 }
-
-
 /*
  * Search (search-theme-form.tpl.php)
  */
-#search-box /* Wrapper for the search form */ {
-  float: left;
-  margin: 4px 0 0 10px;
-  width: 285px;
+#search-box/* Wrapper for the search form */ {
+	float: left;
+	margin-left: 10px;
+	width: 285px;
 }
-
 #search {
-  position: relative;
-  z-index: 0;
+	position: relative;
+	z-index: 0;
 }
-
 #search_type_menu_container {
-  z-index: 1;
+	z-index: 1;
 }
-
 #edit-search-theme-form-1-wrapper {
-  left: 0px;
-  top: 0px;
-  z-index: 0;
+	left: 0px;
+	top: 0px;
+	z-index: 0;
 }
-
 #edit-search-theme-form-1 {
-  color: #999;
-  border: 3px solid #2c3e53;
-  -webkit-border-radius: 7px;
-  -moz-border-radius: 7px;
-  border-radius: 7px;
-  height: 35px;
-  width: 200px;
-  padding-left: 85px;
-  position: absolute;
-  right: 0;
-  top: 0;
-  z-index: 0;
+	color: #999;
+	border: 3px solid #2c3e53;
+	-webkit-border-radius: 7px;
+	-moz-border-radius: 7px;
+	border-radius: 7px;
+	height: 34px;
+	width: 303px;
+	padding: 0 0 0 85px;
+	position: absolute;
+	right: -106px;
+	top: 0;
+	z-index: 0;
+	font-size: 14px;
 }
-
 #search input[type="submit"] {
-  background: transparent url(../images/search-icon.png) no-repeat top center;
-  width: 35px;
-  height: 35px;
-  border: 0;
-  position: absolute;
-  right: 5px;
-  top: 8px !important;
+	background: transparent url(../images/search-icon.png) no-repeat top center;
+	width: 25px;
+	height: 24px;
+	border: 0;
+	position: absolute;
+	padding: 0;
+	margin: 0;
+	right: -98px !important;
+	top: 8px !important;
 }
-
-#edit-search-theme-form-1-wrapper label /* Label that says "Search this site:" */ {
-  display: none;
+#edit-search-theme-form-1-wrapper label/* Label that says "Search this site:" */ {
+	
 }
-
-
 /*
  * Search (search-block-form.tpl.php)
  */
-#search-block-form /* Wrapper for the search form */ {
+#search-block-form/* Wrapper for the search form */ {
 }
-
-#edit-search-block-form-1-wrapper label /* Label that says "Search this site:" */ {
-  display: none;
+#edit-search-block-form-1-wrapper label/* Label that says "Search this site:" */ {
+	display: none;
 }
-
-
 /*
  * Drupal's default login form block
  */
 #user-login-form {
-  text-align: left; /* LTR */
+	text-align: left; /* LTR */
 }
-
-
 /*
  * OpenID
  *
@@ -133,80 +105,50 @@
  * styling of list items.
  */
 
-#user-login-form ul /* OpenID creates a new ul above the login form's links. */ {
-  margin-bottom: 0; /* Position OpenID's ul next to the rest of the links. */
+#user-login-form ul/* OpenID creates a new ul above the login form's links. */ {
+	margin-bottom: 0; /* Position OpenID's ul next to the rest of the links. */
 }
-
-#user-login-form li.openid-link /* The "Log in using OpenID" link. */ {
-  margin-top: 1em;
-  margin-left: -20px; /* LTR */ /* Un-do some of the padding on the ul list. */
+#user-login-form li.openid-link/* The "Log in using OpenID" link. */ {
+	margin-top: 1em;
+	margin-left: -20px; /* LTR */ /* Un-do some of the padding on the ul list. */
 }
-
-#user-login-form li.user-link /* The "Cancel OpenID login" link. */ {
-  margin-top: 1em;
+#user-login-form li.user-link/* The "Cancel OpenID login" link. */ {
+	margin-top: 1em;
 }
-
 #user-login ul {
-  margin: 1em 0;
+	margin: 1em 0;
 }
-
-#user-login li.openid-link,
-#user-login li.user-link /* The OpenID links on the /user form. */ {
-  margin-left: -2em; /* LTR */ /* Un-do all of the padding on the ul list. */
+#user-login li.openid-link, #user-login li.user-link/* The OpenID links on the /user form. */ {
+	margin-left: -2em; /* LTR */ /* Un-do all of the padding on the ul list. */
 }
-
 #user-login-form input[type="submit"] {
- background: #3fc7fb; /* Old browsers */
-  background: -moz-linear-gradient(top, #54cffe 1%, #02aff0 100%); /* FF3.6+ */
-  background: -webkit-gradient(linear, left top, left bottom, color-stop(1%,#54cffe), color-stop(100%,#02aff0)); /* Chrome,Safari4+ */
-  background: -webkit-linear-gradient(top, #54cffe 1%,#02aff0 100%); /* Chrome10+,Safari5.1+ */
-  background: -o-linear-gradient(top, #54cffe 1%,#02aff0 100%); /* Opera11.10+ */
-  background: -ms-linear-gradient(top, #54cffe 1%,#02aff0 100%); /* IE10+ */
-  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#54cffe', endColorstr='#02aff0',GradientType=0 ); /* IE6-9 */
-  background: linear-gradient(top, #54cffe 1%,#02aff0 100%); /* W3C */
-  border: 1px solid #246e89;
-  -webkit-border-radius: 5px;
-  -moz-border-radius: 5px;
-  border-radius: 5px;
-  -webkit-box-shadow: inset 0px 1px 1px 0px #9ee1f3;
-  -moz-box-shadow: inset 0px 1px 1px 0px #9ee1f3;
-  box-shadow: inset 0px 1px 1px 0px #9ee1f3;
-  color: #fff;
-  display: inline-block;
-  font-size: 26px;
-  font-family: helvetica;
-  font-weight: bold;
-  padding: .3em 1em;
-  margin: .2em 0;
-  text-decoration: none;
-  text-shadow: 0px 1px 1px #000000;
-  filter: dropshadow(color=#000000, offx=0, offy=1);
+	display: block;
+	background: url(../images/login_user.png) no-repeat 0 0;
+	height: 36px;
+	width: 125px;
+	border: none;
+	margin: 0 auto;
+	cursor: pointer;
 }
-
 #user-login-form div.item-list {
-	font-size: 11px;
+	font-size: 13px;
 	line-height: 17px;
 }
-
 #user-login-form div.item-list.login_form_separator {
-	padding-top: 1px;
+	padding: 2px 0 17px;
 }
-
 #user-login-form div.item-list.login_form_separator li.openid-processed {
 	margin-left: 0;
 	border-top: 3px double #3c4b55;
 	padding-top: 10px;
 	margin-top: 10px;
 }
-
 #user-login-form div.item-list.login_form_separator li.openid-processed a {
 	padding: 0;
 }
-
 #user-login-form div.item-list li.last {
 	margin-top: 0;
 }
-
 /*
  * Drupal admin tables
  *
@@ -214,93 +156,198 @@
  * section of the site.
  */
 
-form th,
-form thead th {
-  text-align: left; /* LTR */
-  padding-right: 1em; /* LTR */
-  border-bottom: 3px solid #ccc;
+form th, form thead th {
+	text-align: left; /* LTR */
+	padding-right: 1em; /* LTR */
+	border-bottom: 3px solid #ccc;
 }
-
 form tbody th {
-  border-bottom: 1px solid #ccc;
+	border-bottom: 1px solid #ccc;
 }
-
 form fieldset td {
 	vertical-align: top;
 	padding-bottom: 5px;
 }
-
 td.form-item-label {
 	text-align: right;
 	padding-right: 10px;
 	width: 150px;
 	font-weight: bold;
 }
-
 div.form-radios, div.form-checkboxes, div.form-radios > table, div.form-checkboxes > table {
 	margin: 0;
 }
-
 div.form-radios td.form-item-label, div.form-checkboxes td.form-item-label {
 	display: none;
 }
-
 /* registration form */
+form#user-register {
+	width: 470px;
+}
+form#user-register input#edit-submit.form-submit {
+	position: absolute;
+	right: 71px;
+	bottom: 10px;
+}
+.page-user-register form#user-register input#edit-submit.form-submit {
+	right: 16px;
+	bottom: 82px;
+	background: url(../images/create_new_account.png) no-repeat;
+	width: 185px;
+	height: 39px;
+	border: none;
+	text-indent: -9999px;
+	display: block;
+}
+#user-register div.description {
+	font-size: 13px;
+	margin-top: 18px;
+}
+#edit-pass-pass1-wrapper {
+	margin: 0;
+}
+#edit-pass-pass2-wrapper {
+	margin: 0;
+}
 #user-register div.form-item label {
-	float: left;
-	text-align: right;
-	width: 150px;
-	margin-right: 10px;
+	width: 450px;
 }
-
 #user-register div.form-item div.description {
-	margin-left: 160px;
 }
-
 #user-register span.password-result {
 	padding-left: 125px;
 	background-repeat: no-repeat;
 	background-position: 0 4px;
 }
-
 #user-register span.password-result.error {
 	background-image: url(/themes/vibio/images/progress/progressbar_low.png);
 }
-
 #user-register span.password-result.warning {
 	background-image: url(/themes/vibio/images/progress/progressbar_medium.png);
 }
-
 #user-register span.password-result.ok {
 	background-image: url(/themes/vibio/images/progress/progressbar_high.png);
 }
-
 /* ----- Buttons---- */
 
 .button {
-  background: #3fc7fb; /* Old browsers */
-  background: -moz-linear-gradient(top, #54cffe 1%, #02aff0 100%); /* FF3.6+ */
-  background: -webkit-gradient(linear, left top, left bottom, color-stop(1%,#54cffe), color-stop(100%,#02aff0)); /* Chrome,Safari4+ */
-  background: -webkit-linear-gradient(top, #54cffe 1%,#02aff0 100%); /* Chrome10+,Safari5.1+ */
-  background: -o-linear-gradient(top, #54cffe 1%,#02aff0 100%); /* Opera11.10+ */
-  background: -ms-linear-gradient(top, #54cffe 1%,#02aff0 100%); /* IE10+ */
-  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#54cffe', endColorstr='#02aff0',GradientType=0 ); /* IE6-9 */
-  background: linear-gradient(top, #54cffe 1%,#02aff0 100%); /* W3C */
-  border: 1px solid #246e89;
-  -webkit-border-radius: 5px;
-  -moz-border-radius: 5px;
-  border-radius: 5px;
-  -webkit-box-shadow: inset 0px 1px 1px 0px #9ee1f3;
-  -moz-box-shadow: inset 0px 1px 1px 0px #9ee1f3;
-  box-shadow: inset 0px 1px 1px 0px #9ee1f3;
-  color: #fff;
-  display: inline-block;
-  font-weight: bold;
-  padding: .3em 1em;
-  position: relative;
-  margin: .3em 0;
-  text-decoration: none;
-  text-shadow: 0px 1px 1px #000000;
-  filter: dropshadow(color=#000000, offx=0, offy=1);
-  z-index: 0; 
+	background: url(/themes/vibio/images/search_button.png) no-repeat 0px 0px;
+	display: block;
+	position: relative;
+	z-index: 0;
+	width: 80px;
+	height: 33px;
+	text-indent: -9999px;
+	top: -0.9px;
+	left: -1px
+}
+img#searchtype_vibio_item, img#searchtype_user {
+	margin-left: 10px;
+}
+img#searchtype_vibio_item {
+	margin-top: 10px
+}
+img#searchtype_user {
+	margin-top: 10px
+}
+a.add_friend {
+	background: url(../images/add_friend.png) no-repeat 0px 0px;
+	width: 111px;
+	height: 28px;
+	display: block;
+	border: none;
+	text-indent: -9999px;
+}
+a.add_friend:hover {
+	background-position: -0px -38px;
+}
+/*Add Product form*/
+#edit-title, #edit-body, #edit-collection-info-cid {
+	width: 460px;
+}
+#add-product {
+	margin-top: 18px;
+}
+.grippie {
+	display: none
+}
+#edit-submit.form-submit, #edit-preview.form-submit {
+}
+#edit-preview.form-submit {
+}
+/*button styles*/
+
+/*User Login Form*/
+form#user-login {
+	width: 360px;
+	background: #e5e7ea;
+	border-radius: 4px;
+	-moz-border-radius: 4px;
+	margin: 0;
+	padding: 5px 0;
+	position: relative;
+	min-height: 270px;
+	float: left;
+}
+form#user-login input, form#user-login .description {
+	width: 305px;
+	margin: 0 20px;
+}
+form#user-register {
+	width: 480px;
+}
+form#user-register input {
+	width: 450px;
+}
+form#user-login .description {
+	padding: 10px 0;
+	line-height: 20px;
+}
+form#user-login label {
+	font-weight: bold;
+	margin-left: 20px;
+}
+form#user-login input#edit-submit {
+	width: 20px;
+	padding: 0;
+	margin:   :0;
+	background: url(../images/log_in.png) no-repeat;
+	display: block;
+	height: 35px;
+	width: 73px;
+	border: none;
+	text-indent: -9999px;
+	position: absolute;
+	bottom: 10px;
+	right: 13px;
+}
+/*Facebook button User Login PAge*/
+#block-block-12 {
+	float: left;
+	margin: 75px 0 0 60px;
+	position: relative;
+}
+#block-block-12 .fb-or {
+	top: 31px;
+	left: -36px;
+	position: absolute;
+}
+/*Forgot password page*/
+
+form#user-pass input#edit-submit.form-submit {
+	background: url(../images/btn_submit.png) no-repeat;
+	display: block;
+	text-indent: -9999px;
+	width: 82px;
+	height: 36px;
+	border: none;
+	float: right;
+}
+form#user-pass div#edit-name-wrapper {
+	padding-bottom: 20px;
+	margin-bottom: 20px;
+	border-bottom: 1px solid #CCCCCC;
+}
+form#user-pass div#edit-name-wrapper input#edit-name {
+	width: 449px;
 }
diff --git a/themes/vibio/css/html-reset.README b/themes/vibio/css/html-reset.README
deleted file mode 100644
index 93a1ecc..0000000
--- a/themes/vibio/css/html-reset.README
+++ /dev/null
@@ -1,2 +0,0 @@
-This file was used to set, not just reset, basic html
-
diff --git a/themes/vibio/css/html-reset.css b/themes/vibio/css/html-reset.css
index b8487e0..224d111 100644
--- a/themes/vibio/css/html-reset.css
+++ b/themes/vibio/css/html-reset.css
@@ -27,6 +27,8 @@
  */
 body {
   font-size: 100%; /* Fixes exaggerated text resizing in IE6 and IE7 */
+  margin:0;
+  background: #FFFFFF;
 }
 
 #skip-link,
@@ -36,20 +38,21 @@ body {
    * to use a 14px font size on the page, delete the 12px declarations.
    */
 
-  /* Use a 12px base font size with a 16px line height */
-  font-size: 0.75em; /* 16px x .75 = 12px */
-  line-height: 1.333em; /* 12px x 1.333 = 16px */
-
-  /* Use a 14px base font size with a 18px line height */
-  font-size: 0.875em; /* 16px x .875 = 14px */
-  line-height: 1.286em; /* 14px x 1.286 = 18px */
+  /* Use a 12px base font size with a 16px line height 
+  font-size: 0.75em; /* 16px x .75 = 12px 
+  line-height: 1.333em; /* 12px x 1.333 = 16px 
+  
+  /* Use a 14px base font size with a 18px line height 
+  font-size: 0.875em; /* 16px x .875 = 14px 
+  line-height: 1.286em; /* 14px x 1.286 = 18px  */
+ 
+ font-size:	13px;
 }
 
 body,
 caption,
 th,
 td,
-input,
 textarea,
 select,
 option,
@@ -78,8 +81,41 @@ fieldset {
   font-family: "Courier New", "DejaVu Sans Mono", monospace;
 
    */
+  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
+  color: #556270;
+}
+.bold-text{
+	font-weight: bold;
+}
+
+/*Form Inputs*/
 
-  font-family: 'Trebuchet MS', Verdana, Tahoma, "DejaVu Sans", sans-serif;
+input,
+textarea{
+border: 1px solid #CCCCCC;
+-webkit-border-radius: 5px;
+-moz-border-radius: 5px;
+border-radius: 5px;
+/*-webkit-box-shadow: inset 1px 1px 1px 0px #e3e3e3;
+-moz-box-shadow: inset 1px 1px 1px 0px #e3e3e3;
+box-shadow: inset 1px 1px 1px 0px #e3e3e3;*/
+padding: 5px;
+font-size: 13px;
+}
+
+.form-submit{
+background: #556270;
+color: #FFFFFF;
+border: 1px solid #3d454f;
+font-size: 15px;
+padding: 3px 5px;
+cursor: pointer;
+}
+
+
+
+label{
+	font-size: 15px;
 }
 
 pre,
@@ -92,8 +128,7 @@ code {
  * Headings
  */
 h1 {
-  font-size: 2em;
-  line-height: 1.3em;
+  font-size: 22px;
   margin-top: 0;
   margin-bottom: 0.5em; /* 0.5em is equavalent to 1em in the page's base font.
                            Remember, a margin specified in ems is relative to
@@ -119,13 +154,16 @@ h3 {
 }
 
 h4,
-h5,
-h6 {
+h5 {
   font-size: 1.1em;
   line-height: 1.3em;
   margin-top: 0.909em; /* Equivalent to 1em in the page's base font: 1 / 1.1 = 0.909 */
   margin-bottom: 0.909em;
 }
+h6{
+	font-size: 15px;
+	color: #00AEF0;
+}
 
 /*
  * Block-level elements
@@ -157,8 +195,8 @@ ol {
 
 .block ul,
 .item-list ul /* Drupal overrides */ {
-  margin: 1em 0;
-  padding: 0 0 0 2em; /* LTR */
+  /*margin: 1em 0;*/
+  /*padding: 0 0 0 2em;*/ /* LTR */
 }
 
 ul ul, ul ol,
@@ -214,18 +252,37 @@ dd {
  * http://meyerweb.com/eric/thoughts/2007/06/11/who-ordered-the-link-states
  */
 a:link {
+	color: #79AFBF;
+	text-decoration: none;
 }
 
 a:visited {
+	color:#496F8E
 }
 
 a:hover,
 a:focus {
+	color: #00AEF0
 }
 
 a:active {
 }
 
+/*Inside main body content */
+#content-area a:link {
+	color: #106F93;
+	text-decoration: none;
+}
+
+#content-area a:visited {
+	color:#496F8E
+}
+
+#content-area a:hover,
+#content-area a:focus {
+	color: #00AEF0
+}
+
 /*
  * Tables
  *
diff --git a/themes/vibio/css/layout-fixed.css b/themes/vibio/css/layout-fixed.css
index c1bb182..84344a3 100644
--- a/themes/vibio/css/layout-fixed.css
+++ b/themes/vibio/css/layout-fixed.css
@@ -33,7 +33,7 @@ body {
    */
   margin-left: auto;
   margin-right: auto;
-  width: 890px;
+  width: 960px;
 }
 
 #page {
@@ -78,9 +78,9 @@ body {
 }
 
 .sidebar-first #content {
-  width: 680px;
+  width: 750px;
   margin-left: 210px; /* LTR */ /* The width of .region-sidebar-first. */
-  margin-right: -890px; /* LTR */ /* Negative value of #content's width + left margin. */
+  margin-right: -958px; /* LTR */ /* Negative value of #content's width + left margin. */
 }
 
 .sidebar-second #content {
@@ -117,7 +117,7 @@ body {
 .with-navigation #content,
 .with-navigation .region-sidebar-first,
 .with-navigation .region-sidebar-second {
-  margin-top: 2.3em; /* Set this to the same value as the navigation height above. */
+  margin-top: 10px; /* Set this to the same value as the navigation height above. */
 }
 
 #navigation .section {
@@ -139,7 +139,7 @@ body {
  */
 .region-sidebar-first {
   float: left; /* LTR */
-  width: 200px;
+  width: 190px;
   margin-left: 0; /* LTR */
   margin-right: -200px; /* LTR */ /* Negative value of .region-sidebar-first's width + left margin. */
   padding: 0; /* DO NOT CHANGE. Add padding or margin to .region-sidebar-first .section. */
@@ -168,9 +168,12 @@ body {
  * Footer
  */
 #footer {
+	background: url(/themes/vibio/images/footer_bgd.png) repeat-x;
 }
 
 #footer .section {
+	width: 960px;
+	margin: 0 auto;
 }
 
 /*
diff --git a/themes/vibio/css/nodes.css b/themes/vibio/css/nodes.css
index 005b568..8210fa3 100644
--- a/themes/vibio/css/nodes.css
+++ b/themes/vibio/css/nodes.css
@@ -89,7 +89,8 @@
 }
 
 .product_main_image, .node_view_item_image {
-  max-width: 100px;
+  max-width: 250px;
+  border: 1px solid #CCCCCC;
 }
 
 .node_view_item_image {
@@ -99,26 +100,38 @@
 
 .product_node_data {
   float: left;
-  width: 595px;
+  width: 345px;
+}
+.product_node_data .item_link h3{
+  font-size: 18px;
+  margin-bottom: 10px;
 }
-
 .product_description {
   color: #2b363d;
 }
 
+.product_extra_data h3{
+	font-size: 15px;
+	background:url("../images/long_border.png") no-repeat scroll 0 32px transparent;
+    height:43px;
+	margin: 0 0 10px;
+	padding: 0;
+}
+
 .product_extra_data {
   margin-top: 10px;
-  background: #f9f9f9;
-  border: 2px solid #eaeaea;
-  padding: 5px 20px;
+  border-bottom: 1px solid #CCCCCC;
+  padding: 0;
   color: #727272;
+  font-size: 18px;
 }
 
 .product_image {
   float: left;
-  margin: 5px 25px 0 0;
-  text-align: center;
-  width: 100px;
+  padding: 25px;
+  background: #FFFFFF;
+  border: 1px solid #CCCCCC;
+  margin-right: 28px;
 }
 
 .node_vibio_item_title {
diff --git a/themes/vibio/css/offer.css b/themes/vibio/css/offer.css
index d9a6a47..e5b7798 100644
--- a/themes/vibio/css/offer.css
+++ b/themes/vibio/css/offer.css
@@ -1,84 +1,120 @@
-
 /* discussion box */
 #neg-discuss {
-	height: 500px; /* make it scroll */
-	overflow: auto;
+	float: left;
+	margin-left: 15px;
+}
+#neg-discuss h3 {
+	font-size: 22px;
+	margin-top: 10px;
+	font-weight: normal;
 }
 #neg-discuss .content {
-	clear: left; /* around the picture */
 }
 #neg-discuss .minheader {
 	font-size: 1.2em;
 }
 #neg-discuss .picture {
-	float: left;  /* maybe right? */
-	padding-right: 5px;
 }
 #neg-discuss div.label {
-	display: inline;
-	font-weight: bold;
-	clear: left;
-	padding-right: 5px;
 }
 .done {
 	color: green;
 	font-weight: bold;
 }
-
 /* product area */
 #offer_item_offer {
-	font-size: 1.3em;
+	font-size: 13px;
+	font-weight: bold;
+}
+#offer_item_offer .item_title {
+	font-size: 18px;
+	margin-bottom: 18px;
 }
-
 /* Make "My Offer" look like the title */
 #edit-field-price-0-value-wrapper label {
-	font-size: 1.4em;
-	font-weight: bold;
-	padding-bottom: 2px;
-	float: left;  /* or inline? */
 }
-
-.node-type-offer #page_title { display: none; }
-
 div#product_info_in_offer {
-        width: 160px; /* not sure */
-        float: left;
-        min-height: 100px;
-        padding: 8px;
-}
-div#seller_info_in_offer {
-        padding: 5px;
-        height: 95px;
+	width: 250px;
+	float: left;
+	padding: 25px;
+	background: #FFFFFF;
+	border: 1px solid #CCCCCC;
+	margin: 0 20px 10px 0;
+}
+div#product_info_in_offer img, div#seller_info_in_offer img {
+	border: 1px solid #CCCCCC;
+}
+div#seller_info_in_offer .person_pic, #buyer-for-seller .person_pic {
+	border: 1px solid #CCCCCC;
+	padding: 5px 5px 2px;
+	background: #FFFFFF;
+	width: 44px;
+	float: left;
 }
 div#seller_info_in_offer .person_pic {
-	height: 85px;
+	margin-top: 18px;
+}
+div#buyer-for-seller .person_pic {
+	margin: 0 10px 68px 0;
+}
+div.form-radios div.form-item {
+	float: left;
+	width: 85px;
+	font-size: 13px;
+}
+div#seller_info_in_offer .person_pic_seller {
+	font-weight: bold;
+	margin: 18px 0 0 10px;
+	float: left;
+	width: 200px;
+}
+#seller-neg-form div.form-item label {
+	clear: both
+}
+#seller-neg-form div#edit-field-chat-0-value-wrapper {
+	clear: both
+}
+#buyer-for-seller .person_pic_seller {
+	font-weight: bold
+}
+.person_pic_offer {
+	font-weight: bold;
 }
 /* buyer pic in buyer area during offer */
 #offer_neg_buyer .person_pic {
-	float: right;
+}
+#offer_neg_buyer input#edit-field-city-0-value{
+	width:284px;
 }
 div#buyer_info_in_offer {
-        padding: 5px;
-        height: 95px;
 }
-
 /* Stephens, some still in stephen.css */
 #form-column {
-  float: left;
-  clear: left; /* get around user image in v1.1 */
-  width: 48%;
-}
-
-#buyer-for-seller { /* based on neg-form for the moment */
-  background: #ddd;
-  margin-bottom: 1em;
-  border: 1px solid red;
-  padding: 2px;
-	min-height: 42px; /* photo of user, at least */
-}
-
-#chit-chat .node { 
-	margin-bottom: 6px; 
-	border-bottom: 1px solid #ccc;
-}
+	clear: left;
+	float: left;
+	width: 300px;
+	background: #e5e7ea;
+	border-radius: 4px;
+	border-radius: 4px;
+	-moz-border-radius: 4px;
+	-moz-border-radius: 4px;
+	padding: 10px;
+}
+#buyer-for-seller {
+}
+#chit-chat .node {
+}
+/*Offer Review Seller Negotiation form*/
+#seller-neg-form input#edit-submit{
+	float:right;
+	margin-right:4px;
 	
+}
+#seller-neg-form .attachments{
+	clear:both
+}
+#offer_top{
+	height: 320px;
+	margin-bottom:10px;
+	border-bottom:1px solid #CCCCCC;
+}
diff --git a/themes/vibio/css/pages.css b/themes/vibio/css/pages.css
index d2732ad..c88021d 100644
--- a/themes/vibio/css/pages.css
+++ b/themes/vibio/css/pages.css
@@ -13,28 +13,18 @@
 /*
  * Body
  */
-body {
-  background: #425162 url('../images/bgtile.jpg');
+body.not-front, body.front{
+  background: url('../images/bgtile.jpg') repeat scroll 0 0;
   margin: 0;
   padding: 0;
 }
 
-
-a {
-  text-decoration: none;
-  color: #0092c9;
-}
-
 #page-wrapper {
-  padding: 15px 10px;
+  padding: 10px;
 }
 
 #page_title {
-  color: grey;
-}
-
-a.item_link {
-  color: #8e9e30;
+  color: #556270;
 }
 
 /*
@@ -69,12 +59,15 @@ a.item_link {
  */
 
 #header_quick_actions {
-  width: 500px;
-  height: 33px;
+  width: 625px;
+  height: 41px;
   float: right;
   position: relative;
+  font-size: 15px;
+}
+#header_quick_actions a:hover{
+	color:#00AEF0;
 }
-
 #logo /* Wrapping link for logo */ {
   float: left; /* LTR */
   margin: 0;
@@ -88,6 +81,9 @@ a.item_link {
 #name-and-slogan /* Wrapper for website name and slogan */ {
   float: left;
 }
+#name-and-slogan img{
+	width:132px;
+}
 
 h1#site-name,
 div#site-name /* The name of the website */ {
@@ -108,13 +104,13 @@ div#site-name /* The name of the website */ {
 }
 
 .slogan {
-background: transparent url(../vibio-tagline.png) no-repeat;
-  top: 45px;
+  background: transparent url(../vibio-tagline.png) no-repeat;
+  top: 33px;
   position: relative;
-  left: 160px;
-  text-indent: -5000px;
-  height: 30px;
+  left: 130px;
+  text-indent: -4999px;
   width: 200px;
+  height: 20px;
 }
 
 
@@ -142,7 +138,35 @@ background: transparent url(../vibio-tagline.png) no-repeat;
 #mission /* The mission statement of the site (displayed on homepage) */ {
 }
 
+p.section_title {
+background:url("../images/long_border.png") no-repeat scroll 0 30px transparent;
+height:43px;
+margin: 13px 0 0;
+padding: 0;
+}
+
+h1#page_title, h1#box_page_title{
+background:url("../images/long_border.png") no-repeat scroll 0 32px transparent;
+height:43px;
+margin: 3px 0 0;
+padding: 0;
+}
+
+.section_title{
+	font-size: 22px;
+	color: #556270;
+	font-weight: bold;
+}
+
+.section_sub_title a{
+	font-size: 13px;
+	color: #106F93;
+	font-weight: normal;
+	padding-left: 20px
+}
+
 .region-content-top /* Wrapper for any blocks placed in the "content top" region */ {
+	position:relative;
 }
 
 .breadcrumb /* The path to the current page in the form of a list of links */ {
@@ -156,11 +180,11 @@ h3.title /* Comment title */ {
 }
 
 tr.even /* Some tables have rows marked even or odd. */ {
-  /* background-color: #eee; */ /* Drupal core uses a #eee background */
+   background: none; /* Drupal core uses a #eee background */
 }
 
 tr.odd {
-  /* background-color: #eee; */ /* Drupal core uses a #eee background */
+  background: none; /* Drupal core uses a #eee background */
 }
 
 div.messages /* Important messages (status, warning, and error) for the user. See also the declarations in messages.css. */ {
@@ -233,20 +257,17 @@ ul.links li {
   text-align: right; /* LTR */
 }
 
-/*
- Footer
- */
+/*Footer*/
 
 .region-footer {
-  border: 1px solid #c3c8ce;
-  margin-top: 1em;
-  padding: 10px;
 }
 
 .region-footer .block {
-  float: left;
-  margin: 0 10px; 
- }
+  font-size: 11px;
+  font-weight: bold;
+  color: #c3dfe8;
+  padding-top: 5px 
+}
 
 .region-footer h2 {
   display: none;
@@ -254,9 +275,7 @@ ul.links li {
 
 .region-footer a:link,
 .region-footer a:visited {
-  color: #f5fcff;
-  font-size: 12px;
-  font-weight: normal;
+  color: #c3dfe8;
   line-height: 2em;
 }
 
@@ -269,13 +288,70 @@ ul.links li {
   list-style-type: none;
   list-style-image: none;
 }
+#block-block-3{
+	width: 100%;
+	height: 84px;
+}
+#footer-logo img{
+	float: left;
+	width:132px; 
+	margin-right: 87px;
+}
+#footer-links{
+ 	float: left;
+}
+#footer-social{
+	font-size: 13px;
+	margin-top:15px;
+	font-weight: bold;
+}
+#footer-twitter{
+	background-position: 0px 0px;
+	margin-left: 10px;
+}
+#footer-fb{
+	background-position: -29px 0px;
+}
+#footer-tumbler{
+	background-position: -59px 0px;
+	
+}
+#footer-email{
+	background-position: -89px 0px;
+}
+#footer-nav{
+	clear: both;
+}
+.float-left{
+	float: left;
+	margin-top: 5px;
+}
+.footer-s-image{
+	background: url(/themes/vibio/images/footer_social.png) no-repeat;
+	text-indent:-9999px;
+	display: block;
+	width: 21px;
+	height:21px;
+	float: left;
+	margin-right: 7px; 
+}
 
+#footer-copyright{
+ 	font-weight: normal;
+ 	float: right;
+ 	margin-top: 12px;
+}
+#footer-copyright p{
+	margin: 5px 0;
+	text-align: right;
+}
+
+ 
 
 /*
  * Closure
  */
 .region-page-closure {
-	min-height: 155px;
 	width: 100%;
 	margin-top: -75px;
 }
@@ -341,11 +417,12 @@ ul.links li {
  * causes issues for keyboard only or voice recognition users. "!important" is
  * used to prevent unintentional overrides.
  */
-.element-invisible {
+/* .element-invisible {
   position: absolute !important;
   clip: rect(1px 1px 1px 1px); /* IE6, IE7 */
-  clip: rect(1px, 1px, 1px, 1px);
+  /*clip: rect(1px, 1px, 1px, 1px);
 }
+*/
 
 .rounded_container {
   border-radius: 4px;
@@ -353,11 +430,10 @@ ul.links li {
 }
 
 .rounded_content {
-  background: white;
   border-radius: 4px;
   -moz-border-radius: 4px;
   margin: 0;
-  padding: 10px;
+  padding: 5px 0;
 }
 
 .rounded_left_side {
@@ -383,7 +459,8 @@ ul.links li {
 
 #content-area .rounded_content {
   background: transparent url(../images/bg-content-tile.jpg);
-	min-height: 700px;
+	min-height: 749px;
+	padding: 6px;
 }
 
 /*#content-area .rounded_content {
@@ -392,14 +469,12 @@ ul.links li {
 }*/
 
 .sidebar .rounded_content {
-  background: #f6f6f6;
   color: #556270;
+  min-height: 761px;
 }
 
 .sidebar .rounded_content a {
   color: #106f93;
-  font-size: 13px;
-  font-family: Helvetica;
 }
 
 .sidebar .rounded_content a.active {
@@ -427,8 +502,14 @@ ul.links li {
   height: 0;
 }
 
+/* stephen: these are two broad. not all .view .picture
+ * images should be locked to a set size (remove this note when solved)
+ * Featured Member breaks this, bet more things will soon
+ */
 .comment .picture img, .view .picture img, .view-content .picture img  {
-	max-height: 40px;
+	height: 42px;
+	width:42px;
+	border: 1px solid #CCC;
 }
 
 #block-menu-secondary-links {
@@ -469,10 +550,8 @@ ul.links li {
 }
 
 .region-sidebar-first h2.title {
-  border-bottom: 1px solid #e4e5e5;
-  color: #525e6c;
+  color: #106F93;
   font-size: 15px;
-  text-transform: capitalize;
 }
 
 #block-user-1 {
@@ -486,8 +565,7 @@ ul.links li {
 
 .menu_with_count_count {
   float: right;
-  color: #B5CA3E;
-  font-weight: bold;
+  color: #FFF;
 }
 
 .indent {
@@ -495,7 +573,7 @@ ul.links li {
 }
 
 .search-results.user .picture img {
-	max-width: 40px;
+	/*max-width: 40px;*/
 }
 
 .search-results.user .search_user_info {
@@ -549,23 +627,41 @@ img#search_type_current {
 /* stephen-remove-hidden-menu	
 weird, these are larger images, not the ones we want,
 go back to hiding them */
-display: none; 
+ display: none;
 }
 
+/*Search Buttons dropdown images*/
+
+a.searchtype_vibio_item{
+	background: url(../images/btn_search_dropdown.png) no-repeat 7px 10px;
+	text-indent: -9999px;
+	display: block;
+	height: 42px;
+}
+a.searchtype_vibio_item:hover{
+	background-position: 7px -153px;
+}
+a.searchtype_user{
+	background: url(../images/btn_search_dropdown.png) no-repeat 7px -42px;
+	text-indent: -9999px;
+	display: block;
+	height: 42px;
+}
+a.searchtype_user:hover{
+	background-position: 7px -205px;
+}
 .search_type_submenu_container {
-	background: white;
-	border: 1px solid black;
-	opacity: 0.85 !important;
-	filter: alpha(opacity=85) !important;
+	background: url(../images/bgd_search_drop.png) no-repeat 0 0;
+	display:block;
+	height:113px;
+	width: 114px;
 }
 
 .search_type_submenu_container table {
-	margin: -10px 0 0 0;
+	margin: 10px 0 0 0;
 }
 
 .search_type_submenu_container .searchtype_image {
-	max-width: 30px;
-	max-height: 30px;
 	margin-bottom: -5px;
 }
 
@@ -608,10 +704,12 @@ h5.menu_header {
   -moz-border-radius: 5px;
   border-radius: 5px; 
   -webkit-box-shadow: inset 1px 1px 1px 0px #e3e3e3;
--moz-box-shadow: inset 1px 1px 1px 0px #e3e3e3;
-box-shadow: inset 1px 1px 1px 0px #e3e3e3;  
-height: 30px;	
-  width: 180px;
+ -moz-box-shadow: inset 1px 1px 1px 0px #e3e3e3;
+ box-shadow: inset 1px 1px 1px 0px #e3e3e3;  
+ height: 30px;	
+  width: 158px;
+  padding: 0 5px;
+  font-size: 13px;
 }
 
 #user-login-form #edit-openid-identifier {
@@ -699,3 +797,13 @@ span.privatemsg_autocomplete_name {
   margin: 0;
   padding: 0;
 }
+/*Not Logged In Pages*/
+
+.not-logged-in h1#page_title{
+	margin: 1px 0 10px 0px;
+	padding-left: 8px;
+}
+
+.not-logged-in div.tabs{
+	margin: 0 0 25px;
+}
diff --git a/themes/vibio/css/product.css b/themes/vibio/css/product.css
index 1c73d75..43b8f9e 100644
--- a/themes/vibio/css/product.css
+++ b/themes/vibio/css/product.css
@@ -1,38 +1,73 @@
 
 .external_short_link {
 	float: right;
+	position: absolute;
+	top: 15px;
+	right: 20px;
+	font-size: 15px;
+	line-height: 28px;
+}
+
+.external_short_link a#info-button {
+	text-indent: -9999px;
+	display: block;
+	background: url(../images/info_button.png) no-repeat 0px -1px;
+	height: 24px;
+	width: 24px;
+	float: right;
+	margin-left: 5px
+}
+
+.external_short_link a#info-button:hover{
+	background-position: -40px -1px;
 }
 
 #page_title {
 	display: none;
 }
 
+h1#product_description {
+background:url("../images/long_border.png") no-repeat scroll 0 32px transparent;
+height:43px;
+margin: 0 0 20px;
+padding: 0;
+}
+
 .product_title {
-	color: #8e9e30;
 	margin: 0;
 }
 
 .product_owners_results {
-	margin-left: 25px;
 }
 
 .item_owner .action {
-	float: right;
-	width: 140px; /* Carolyn should play */
+	width: 140px;
+	float: right; /* Carolyn should play */
   /* the not_for_sale.png image is messing up the flow after first-pass */
 }
 
 .item_owner .picture {
+	padding: 5px 5px 0;
+	border: 1px solid #CCCCCC;
+	background: #FFFFFF;
+	width: 44px;
 	float: left;
+	margin: 7px 18px 0 0;
 }
 
+.product_owners_results .item_owner .picture img {
+    max-width: 42px;
+    max-height: 42px;
+    border: 1px solid #CCCCCC;
+    
+}
 .item_owner .picture img {
 	max-width: 40px;
 }
 
 .item_owner .item_info {
 	float: left;
-	margin-left: 10px;
+	font-size:13px;
 	width: 430px; /* it was 500, which messed up flow with .item_owner .action above */
 }
 
@@ -46,19 +81,6 @@
   display: inline;
 }
 
-
-.inventory_add, .inventory_want {
-       background: #46c9fd;
-       border: 0;
-       -webkit-border-radius: 5px;
-       -moz-border-radius: 5px;
-       border-radius: 5px;
-       color: #fff;
-       font-weight: bold;
-       margin: 10px 20px;
-       padding: 5px 10px;
-}
-
 .inventory_add_pinfo {
 	margin: 0;
 	color: #8E9E30;
@@ -77,7 +99,9 @@
   display: none;
 }
 
-.highlight {  /* parallel to item_owner */
-	background: purple;	/* doesn't show up */
+/*
+.highlight {
+	background: purple;	
 	border: 2px solid yellow;
 }
+*/
diff --git a/themes/vibio/css/profile.css b/themes/vibio/css/profile.css
index 6178e64..8d7d096 100644
--- a/themes/vibio/css/profile.css
+++ b/themes/vibio/css/profile.css
@@ -1,58 +1,46 @@
 /* #profile_ext_displayblock_image {
-	width: 140px;
-	padding: 3px;
-	border: 2px solid black;
-	background: #eee;
-}
-*/
+ width: 140px;
+ padding: 3px;
+ border: 2px solid black;
+ background: #eee;
+ }
+ */
 #profile_ext_header {
 	border-left: 1px solid #345162;
 	float: right;
-	margin: 7px 10px 0px 0px;
+	margin: 10px 22px 0px 0px;
 	text-align: right;
 	color: #BEE9FF;
 }
-
+#header-faq {
+	margin-left: 36px;
+}
 #profile_ext_header a, .menuContainer a {
 	color: white;
-	font-weight: bold;
 }
-
 .menuContainer table {
 	margin: -3px 0;
 }
-
-.menuContainer a {
-	color: #70818B;
-	font-size: 12px;
-}
-
 #profile_ext_header table {
 	margin: 0;
-	float: right;
+	float: left;
 }
-
 #profile_ext_headermenu {
 	color: white;
 }
-
 #profile_ext_headermenu img {
 	position: relative;
 	top: -2px;
 }
-
 #profile_ext_submenu {
 	display: none;
 }
-
 #profile_ext_headermenu:hover {
 	cursor: pointer;
 }
-
 .profile_ext_displayblock_item:first-child {
 	margin-right: 5px;
 }
-
 .profile_ext_displayblock_item {
 	background: #36434C;
 	padding: 3px;
@@ -60,151 +48,112 @@
 	width: 66px;
 	height: 20px;
 }
-
 .profile_ext_displayblock_item img {
 	float: left;
 }
-
 .profile_ext_displayblock_item span {
 	color: #b5ca3e;
 	float: right;
 	font-size: 14px;
 	font-weight: bold;
 }
-
 #profile_ext_headermenu .rootVoice {
 	padding: 0 10px;
 }
-
 #profile_ext_headermenu .rootVoice.selected {
-	background: white;
-	border-left: 1px solid black;
-	border-right: 1px solid black;
-	border-top: 1px solid black;
-	border-top-left-radius: 4px;
-	border-top-right-radius: 4px;
-	-moz-border-radius-topleft: 4px;
-	-moz-border-radius-topright: 4px;
-	color: black;
-	opacity: 0.85 !important;
-	filter: alpha(opacity=85) !important;
-}
-
+}
 #profile_ext_headermenu .rootVoice.selected .mbmenu_arrow_icon {
 	background-image: url(/themes/vibio/images/icons/acct_dropdown_selected.png);
 }
-
+/*Username dropdown background*/
 .menuContainer {
-	background: white;
-	border-left: 1px solid black;
-	border-right: 1px solid black;
-	border-bottom: 1px solid black;
-	padding: 0 10px 10px;
-	border-bottom-left-radius: 4px;
-	border-bottom-right-radius: 4px;
-	-moz-border-radius-bottomleft: 4px;
-	-moz-border-radius-bottomright: 4px;
-	background: white;
-	opacity: 0.85 !important;
-	filter: alpha(opacity=85) !important;
+	background: url(../images/username_drop_bgd.png) no-repeat 0 0;
+	width: 132px;
+	height: 121px;
+	font-weight: bold;
+	padding-top: 10px;
+}
+.menuContainer td.voice a {
+	color: #FFFFFF;
+	font-size: 12px;
+	padding-left: 18px;
+	display: block;
+}
+.menuContainer td.voice a:hover {
+	color:#00AEF0;
 }
-
-.menuContainer p.separator {
-	background-color: #A0A5A9;
-	height: 1px;
-	margin: 10px 0px 0px;
-	width: 100%;
+#mb_profile_ext_submenu.menuContainer td.voice {
+	padding: 7px 0;
 }
-
 #profile_tabs {
-	margin-top: 15px;
+	margin-top: 10px;
 }
-
 .mbmenu_arrow_icon {
 	background: url(/themes/vibio/images/icons/acct_dropdown.png) no-repeat;
 	display: block;
-	float: left;
+	float: right;
 	height: 5px;
-	left: -5px;
+	right: -5px;
 	position: relative;
 	top: 7px;
 	width: 9px;
 }
-
 .mbmenu_title {
 	float: right;
+	color: #FFFFFF;
 }
-
 .profile_notification > .picture {
 	float: left;
 	margin-right: 15px;
 }
-
 .profile_notifications_summary {
 	float: left;
 	width: 550px;
 }
-
 .profile_busy_indicator {
 	float: right;
 	margin-right: 25px;
 }
-
 .profile_busy_indicator img {
 	display: none;
 }
-
 .profile_notifications_actions {
 	margin-top: 10px;
 }
-
 .uri_notification .profile_notifications_actions {
 	margin-top: 0;
 }
-
 .profile_notifications_actions table {
 	margin: 0;
 }
-
 .profile_notification {
-	background: #E0F2FF !important;
-	border: 1px solid #C7E5FD;
 	padding: 5px !important;
 	min-height: 0 !important;
 	margin-top: 10px !important;
 }
-
 .profile_notification .picture img {
-	max-width: 40px;
 }
-
-#profile_call_to_action > h3{
+#profile_call_to_action > h3 {
 	margin-bottom: 0;
 }
-
 #profile_call_to_action > span {
 	margin-bottom: 10px;
 	font-size: 12px;
 }
-
 .profile_action_image, .profile_action {
 	padding-bottom: 10px;
 }
-
 .profile_action_image {
 	width: 100px;
 	text-align: center;
 }
-
 .profile_action_image img {
 	max-height: 100px;
 	max-width: 85px;
 }
-
 .profile_action {
 	padding-left: 15px;
 }
-
 #profile_change_picture {
 	float: none;
 	position: absolute;
@@ -215,38 +164,30 @@
 	z-index: 10;
 	border: 1px solid #E2E6E9
 }
-
 #profile_ext_change_picture_form_container {
 	float: left;
 	width: 350px;
 }
-
 #profile_ext_change_picture_form_container .description {
 	clear: left;
 	margin-left: 47px !important;
 }
-
 #profile_ext_change_picture_form_container .form-submit {
 	float: right;
 }
-
 #vibio_dialog .picture {
 	float: left;
 }
-
 #vibio_dialog .picture img {
 	max-width: 150px;
 }
-
 #profile_completion_steps_container {
 	display: none; /* stephen: hey, look at this.  Serious code, not displayed? */
 }
-
 #profile_progressbar {
 	position: relative;
 	top: 4px;
 }
-
 .profile_progress {
 	float: left;
 	margin-right: 5px;
diff --git a/themes/vibio/css/search_page.css b/themes/vibio/css/search_page.css
index f98cf10..778d494 100644
--- a/themes/vibio/css/search_page.css
+++ b/themes/vibio/css/search_page.css
@@ -1,3 +1,12 @@
+/* PAY ATTENTION: whole search section removed with css for now.
+ * If we really stick with this change, do it in code instead.
+ * The code that alters the form is in the overrides module
+ */
+#search_form_container {
+	display: none;
+}
+
+
 /* stephen, prefix section */
 #search_page_prefix {
 	text-align: right;
@@ -21,14 +30,10 @@
 
 
 .box h2 { 
-	display: none;
+	/*isplay: none;*/
 }
-
-
-
-
 #page_title {
-	display: none;
+	/*display: none;*/
 }
 
 .tabs {
diff --git a/themes/vibio/css/stephen.css b/themes/vibio/css/stephen.css
index 3b5f2b4..85f534b 100644
--- a/themes/vibio/css/stephen.css
+++ b/themes/vibio/css/stephen.css
@@ -1,100 +1,121 @@
 /* Style guide, site wide, Carolyn will need to fix badly */
 a.local_action_button {
 	padding: 6px;
-	background: blue;
 	color: white;
 	font-weight: bold;
 	margin: 6px;
 	display: block;
 }
-
-
-
+/* hide the pathauto.  This might be better in code one day !!! */
+#edit-pathauto-perform-alias-wrapper {
+/*	display: none;*/
+}
 /* misc */
 .hide {
 	display: none;
 }
-
 /* negotiations */
 
 .item-picture-offer {
-	/* a few pix more than the imagecache setting */
-	height: 142px;
-	width: 142px;
-	margin: auto; /* remove width and margin auto, maybe? design? */
-	text-align: center;
-}
 
+}
 .neg-form {
-	border: 1px solid red;
-	padding: 2px;
-	background: #ddd;
+
 }
 #neg-discuss { /* discussion, or note there isn't one. */
-	float: right;
-	width: 48%;
-	display: block;
-	padding: 2px;
-	border: 1px solid yellow;
+	
 }
-
 /* feature-this flag */
 div.search-flag {
 	position: relative;
 	top: 10px;
 }
-
-
 /* offers page, see also selling page */
 /*  slowly switching to imagacche */
 .person_pic img {
 	height: 42px;
 	width: 42px;
 }
-.popups-box .title { display: none; }
+.popups-box .title {
+	display: none;
+}
 
-/* selling page (and then similar components elsewhere) */
-div.teaser_item_pic {
+/*Selling Page*/
+.selling{
+	
+}
+.selling-top-image{
 	float: left;
+	margin: 15px 12px 15px 10px;
+	width:126px;
 }
-.page-selling .node-type-offer {
-	margin-bottom: 1em;
-	border-bottom: 1px solid #333;
+.selling-top-image img{
+
 }
-div.selling_item_info {   /* the sellers info, left of offer */
-	/* rapid, crappy css */
-	width: 300px; float: left; height: 160px;
-	padding-right: 1em;
-	margin-right: 1em; 
+.selling-top-text{
+	float: left;
+	width:525px;
+}
+.selling_item_info div.teaser_item_pic {
+    float: left;
+    margin-right: 15px;
+    background: #FFFFFF;
+}
+.teaser_item_sought{
+	color: #79AFBF;
+	font-size: 18px;
 }
 
-
-/* user pics in various places, rename thorughout? */
-.person_pic,
-body.page-selling div.picture {
-        float: left;
-	padding-right: 6px;
+.selling_item_info div.teaser_item_pic img {
+   max-width:150px;
+   border: 1px solid #CCCCCC  
+}
+.teaser_item_buyer{
+	margin: 10px 0 28px;
+}
+.teaser_item_asking{
+	margin:10px 0 10px 2px;
+}
+.teaser_item_their{
+	margin-left:2px;
+}
+.negotiation_block a{
+	display: block;
+	background: url(../images/review_offer.png) no-repeat;
+	height: 27px;
+	width:107px;
+	text-indent: -9999px;
+}
+.page-selling .node.node-type-page{
+	padding: 0
+}
+.negotiation_block{
+	width: 100px;
+	float: left;
+}
+.page-selling div.views-row, .page-buying div.views-row {
+	border-bottom: 1px solid #CCCCCC;
+	padding: 18px 0;
 }
-body.page-selling div.picture img {
-	height: 60px;
-	width: 60px;
-	max-height: 60px; /* undoing other css */
+.views-row div.selling_item_info{  
+	float: left;
+	width: 612px;
 }
-body.page-selling h4 {
-	margin-bottom: .1em;
+.views-row div.selling_item_info img {  
+	float: left;
 }
+/* user pics in various places, rename thorughout? */
+
 
 /* meus */
 #block-menu-primary-links li ul li {
 	margin-left: 8px;
 }
-
 /* product page */
 .action_button_link {
 	margin: 4px;
 	background: #ddd;
 }
-
 /* search results, items in an image-square in multiple places */
 .item-square {
 	width: 180px;
@@ -108,7 +129,7 @@ body.page-selling h4 {
 img.item-square-image {  /* should be done with imagecache */
 	height: 180px;
 	width: 180px;
-}	
+}
 div.over-item {
 	position: absolute;
 	top: 10px;
@@ -119,36 +140,28 @@ div.over-item {
 .item-square:hover div.over-item a {
 	color: black;
 }
-div.search-links {
-        position: absolute;
-        bottom: 10px;
-}
 
 /* search results, items in an image-rectangle in multiple places */
 .item-rectangle {
-	width: 160px; /* same as image, I think */
-	padding: 10px;
-	margin: 0px 10px 20px 0px;
-	border: 1px solid #999;
-	background: #eee;
-	float: left;
 	position: relative; /* make it the parent */
 }
-.col1, .col2 { 
+.col1, .col2 {
 	width: 230px;
 	float: left;
 	display: block;
 }
-.col3 { 
+.col3 {
 	width: 230px;
 	float: right;
 	display: block;
 }
-.col0 { background: blue; }
-/*img.item-square-image {  done with imagecache 
-	//height: 180px;
-	width: 180px;
-}*/	
+.col0 {
+	background: blue;
+}
+/*img.item-square-image {  done with imagecache
+ //height: 180px;
+ width: 180px;
+ }*/
 div.title-item {
 }
 .item-rectangle div.over-item a {
@@ -157,24 +170,417 @@ div.title-item {
 .item-rectangle:hover div.over-item a {
 	color: black;
 }
-div.search-links {
-        position: absolute;
-        bottom: 10px;
-}
-
-
 
 /* expect Carolyn to erase and replace this, but there's no correct
  * template so I'm going to design in css
  */
-#profile_ext_displayblock {
-	background: #cce;
+
+a #profile_ext_displayblock_image {
+	display: block;
+	float: left;
+}
+/*Upper Left Sidebar*/
+#upper_title {
+	background: url(/themes/vibio/images/upper_title.png) no-repeat 0 0;
+	height: 40px;
+	display: block;
+}
+#upper_title a {
+	font-size: 15px;
+	font-weight: bold;
+	line-height: 42px;
+	color: #999;
+}
+#upper_title a.active {
+	color: #20a0d1;
+}
+#upper_title .home-b {
+	padding: 10px 26px;
+}
+#upper_title .profile-b {
+	padding: 10px 21px;
+}
+/*Sidebar Little Profile Pic*/
+#profile_ext_displayblock_user_section {
+	background: #ffffff
+}
+#profile_ext_displayblock_image {
+	float: left;
+	border: 1px solid #CCC;
+	padding: 3px 3px 0 3px;
+	margin: 10px 5px 10px 10px;
+}
+#profile_ext_displayblock_image img {
+	border: 1px solid #CCC;
+	width: 50px;
+	height: 50px;
+}
+#profile_ext_displayblock_name {
+	line-height: 38px;
+}
+/*Sidebar Inbox*/
+#profile_ext_displayblock_subitems {
+	background: url(/themes/vibio/images/inbox.png) no-repeat 5px 0 #FFF;
+	width: 190px;
+	height: 164px;
 }
-#profile_ext_displayblock_subitems  {
-	width: 100%;
+ul.primary_menu_by_hand {
+	margin: 0;
+	list-style: none;
+	padding: 33px 0px 0px 15px;
+	width: 163px;
+}
+ul.primary_menu_by_hand li {
+	margin: 0 0 5px 0;
+}
+.menu_with_count_count {
+	background: url(/themes/vibio/images/blue_bubble.png) no-repeat 5px 0;
+	width: 47px;
+	height: 19px;
 	text-align: center;
 }
-a #profile_ext_displayblock_image {
+#block-profile_ext-navigation_profile_display {
+	margin: 0
+}
+/*Sidebar Logged Out*/
+#block-user-0 {
+	padding: 10px;
+}
+#block-user-0.block {
+	margin: 0px;
+}
+#block-user-0 .menu_header {
+	text-align: center;
+	color: #00AEF0;
+}
+#edit-name-wrapper.form-item {
+	margin-bottom: 0;
+	font-size: 15px;
+	font-weight: normal
+}
+#edit-pass-wrapper.form-item {
+	margin: 4px 0;
+	font-size: 15px;
+	font-weight: normal
+}
+
+/*Sidebar Featured USer*/
+#block-views-flag_featured_users-block_1{
+	background: url(../images/featured_member.png) no-repeat 8px 33px;
+	padding: 0 16px;
+}
+#block-views-flag_featured_users-block_1 h2{
+	padding-top: 14px;
+}
+.field-content{
+	padding-top: 10px;
+	text-align: center;
+}
+/*Sidebar Connect Block for featured page*/
+
+#block-block-5 {
+	background: url(../images/sidebar_connect.png) no-repeat -1px 0;
+	padding: 0 0 0 25px;
+	color: #106F93;
+	font-weight: bold;
+	min-height: 255px;
+	margin: 0 -10px;
+}
+.not-logged-in #block-block-5 {
+	display: none;
+}
+.not-logged-in div.rounded_content{
+	background: #F6F6F6;
+}
+#connect-nav {
+	clear: both;
+	padding-top: 25px;
+	font-size: 12px;
+}
+#connect-nav ul {
+	float: left;
+	list-style: none;
+	padding: 0 25px 0 0;
+}
+#connect-nav li {
+	margin-bottom: 7px
+}
+#content-copyright {
+	clear: both;
+	font-size: 9px;
+	color: #FFFFFF;
+	padding-top: 9px;
+}
+#content-copyright p {
+	margin: 0
+}
+/*Front Page Video*/
+.logged-in #block-block-4 {/*hide from loggedin users*/
+	display: none;
+}
+#connection-top {
+	padding-top: 65px;
+}
+#content-social a {
+	background: url(../images/sidebar_social.png) no-repeat;
 	display: block;
+	height: 21px;
+	text-indent: -9999px;
+	float: left;
+	margin: 4px 3px 0 0;
+}
+#connect-nav a:hover {
+	color: #00AEF0
+}
+a#content-twitter {
+	background-position: 0px 0px;
+	width: 22px;
+}
+a#content-fb {
+	background-position: -26px 0px;
+	width: 22px;
+}
+a#content-tumbler {
+	background-position: -54px -1px;
+	width: 22px;
+}
+a#content-email {
+	background-position: -82px -1px;
+	width: 22px;
+}
+#block-block-4 {
+	margin-bottom: 8px;
+}
+#front-video {
+	background: url(../images/front_colorbox.png) no-repeat 0 0;
+	width: 734px;
+	height: 303px;
+}
+#front-video-l {
+	width: 373px;
+	margin: 21px;
+	float: left;
+}
+#front-video-r {
+	float: left;
+}
+#front-p1 {
+	font-size: 24px;
+	color: #106F93;
+	margin-top: 36px;
+}
+#front-p2 {
+	font-size: 18px;
+	margin-top: 32px;
+}
+#front-p3 {
+	margin-top: 45px;
+}
+#facebook-large{
+	cursor: pointer
+}
+/*Featured Page View Rows*/
+/*.views-row-1,.views-row-2,.views-row-3,.views-row-4,.views-row-5,.views-row-6,.views-row-7,.views-row-8 {
+	width: 175px;
+	float: left;
+	background: #FFF;
+	border: 1px solid #CCCCCC;
+	margin-right: 8px;
+}
+.views-row-4,.views-row-8{
+	margin: 0;
+}
+.views-row-5{
+	clear: both;
+}*/
+.item-rectangle {
+	position: relative; /* make it the parent */
+	padding: 5px;
+}
+
+/*fluid elements on the featured and search results pages -ct*/
+.views-fluidgrid-item img:hover{
+	opacity:0.4;
+    filter:alpha(opacity=40); /* For IE8 and earlier */
+}
+.hover-shadow{
+	opacity:0.4;
+    filter:alpha(opacity=40); /* For IE8 and earlier */
+}
+
+/*Search links height on search results page*/
+div.box div.search-links{
+	height:35px;
+}
+
+/*Have and Want Buttons*/
+.inventory_add,.inventory_want{
+	background: url(../images/want_have.png) no-repeat;
+	height: 26px;
+	width: 53px;
+	border: none;
+	text-indent: -9999px;
+	cursor: pointer;
+	float: left;
+	z-index: 500;
+}
+.inventory_add{
+	background-position: 0px 0px;
+}
+.inventory_add:hover{
+	background-position: -100px 0px;
+	z-index: 500;
+}
+.inventory_want{
+	background-position: 2px -30px;
+}
+.inventory_want:hover{
+	background-position: -98px -30px;
+}
+/*Have button Product description*/
+.product_node_data .inventory_add{
+	background: url(../images/have_button.png) no-repeat;
+	height: 40px;
+	width: 64px;
+	margin-top: 23px;
+}
+
+.product_node_data .inventory_add:hover{
+	background-position: 0px -56px;
+}
+
+div.views-field.views-field-nid{
+	position: absolute;
+	width: 128px;
+	left: -6px;
+	height: 2px
+}
+/*Add product header*/
+#add-product h2{
+	font-size: 18px
+}
+#add-product-l{
+	float: left;
+	width: 235px;
+	text-align:center;
+}
+#add-product-r{
+	float: left;
+	width: 415px;	
+}
+#add-product-r p{
+	line-height: 22px;
+}
+
+/*Share Widget*/
+
+.addthis_button_facebook_like{
+	width: 75px
+}
+.addthis_button_tweet{
+	width: 98px;
+}
+.addthis_button_google_plusone{
+	width: 62px;
+}
+/*about us page*/
+#block-block-14,#block-block-19{
+	height: 70px
+}
+/*Hiding the about us page title*/
+.page-about h1#page_title,.page-team h1#page_title{
+	display: none
+}
+#about-top-p{
+	font-size: 28px;
+	line-height: 46px;
+	margin: 1px 0 38px;
+}
+#block-block-14 .content,#block-block-19 .content{
+	position: absolute;
+	top:6px;
+	right: 9px;
+}
+#about-left{
+	float: left;
+	width:250px
+}
+#about-right{
 	float: left;
+	width: 454px;
+	line-height: 22px;
+}
+#about-footer{
+	clear: both;
+	line-height: 22px;
+}
+#about-footer p{
+	float: left;
+	margin-right: 87px;
+}
+#about-footer h2{
+	margin: 15px 0 6px;
+	font-size: 18px;
+}
+#about-copy{
+	clear: both
+}
+/*Terms of Use Page*/
+.terms-header{
+	font-size: 13px;
+	color: #00AEF0;
+	margin-bottom: 0;
+}
+#node-23080 div#terms-top{
+	border-bottom: none;
+}
+
+#node-23080 div.content div{
+	border-bottom: 1px solid #CCCCCC;
+	clear: both;
+}
+
+#node-23080 div p{
+	float: right;
+	width:495px;
+}
+#node-23080 ul{
+	width: 395px;
+	float: right;
+	margin:0 40px 0;
+}
+#modalframe-page-content{
+}
+/*New Search Results*/
+#search_type_submenu_0 a{
+}
+/*Team Page*/
+.team-name{
+	font-size: 28px;
+	font-weight:normal;
+	margin-bottom:10px;
+}
+.team-role{
+	font-size:18px;
+	font-weight:normal;
+	font-style:italic;
+}
+.team-photo{
+	background:url(../images/team/picture_frame.png) no-repeat;
+	width:176px;
+	height:177px;
+	float:left;
+}
+.team-bio{
+	width:500px;
+	float:right;
+	margin-right:54px;
+}
+.team-items{
+	float:right;
+	width:500px;
+	margin-right: 54px;
+}
+.team-items img{
+	display:inline
 }
diff --git a/themes/vibio/css/tabs.css b/themes/vibio/css/tabs.css
index 5f06a0d..e8e552f 100644
--- a/themes/vibio/css/tabs.css
+++ b/themes/vibio/css/tabs.css
@@ -12,7 +12,7 @@
 
 
 div.tabs {
-  margin: 0 0 15px 0;
+  margin: 10px 0 15px 0;
 }
 
 div.tabs_big ul.primary {
@@ -21,7 +21,7 @@ div.tabs_big ul.primary {
 ul.primary {
   border: 0;
   margin: 0;
-  padding: 0 0 0 10px; /* LTR */
+  padding: 0; /* LTR */
   list-style: none;
   white-space: nowrap;
   line-height: normal;
@@ -31,6 +31,8 @@ ul.primary li {
   float: left; /* LTR */
   margin: 0;
   padding: 0;
+  position: relative;
+  
 }
 
 div.tabs_big ul.primary li a {
@@ -44,11 +46,83 @@ ul.primary li a {
   margin: 0;
   font-weight: bold;
   text-decoration: none;
-  color: #777;
   padding: 0;
   background-color: transparent;
 }
 
+/*Site Wide Info Button. 7 is default, 6 is for search pages, 11 for add/product page, 17 home page, 16 selling page, 15 buying page*/
+#block-block-7,#block-block-11,#block-block-15,#block-block-16,#block-block-17,#block-block-18{
+	position: absolute;
+	top:4px;
+	right:3px;
+	margin:0;
+}
+#block-block-6{
+	position: absolute;
+	top:4px;
+	right:-12px;
+	margin:0;
+}
+#block-block-11{
+	top:0;
+}
+#block-block-7 p,#block-block-6 p,#block-block-11 p, #block-block-15 p,#block-block-16 p,#block-block-17 p,#block-block-18 p{
+	margin:0;
+	
+}
+#block-block-6 p{
+	margin-right:5px;
+	float:left;
+}
+.not-logged-in #block-block-17{
+	display: none;
+}
+/*Info Button for Tabs menu*/
+
+a#info-button-small {
+	text-indent: -9999px;
+	display: block;
+	background: url(../images/info_button.png) no-repeat 10px -1px;
+	height: 24px;
+	width: 36px;
+}
+
+a#info-button-small:hover{
+	background-position: -30px -1px;
+}
+
+a#info-button-small:hover span.tab{
+	border-bottom-color:#CFD2D5;
+}
+/*Site wide Info Button*/
+
+a#info-button {
+	text-indent: -9999px;
+	display: block;
+	background: url(../images/btn_info.png) no-repeat 10px -1px;
+	height: 26px;
+	width: 38px;
+}
+
+a#info-button:hover{
+	background-position: -40px -1px;
+}
+
+a#add-item-button {
+	text-indent: -9999px;
+	display: block;
+	background: url(../images/btn_add_item.png) no-repeat -1px 0px;
+	height: 26px;
+	width: 116px;
+}
+
+a#add-item-button:hover{
+	background-position: -1px -42px;
+}
+
+a#info-button:hover span.tab{
+	border-bottom-color:#CFD2D5;
+}
 
 
 div.tabs_big ul.primary li a .tab {
@@ -58,15 +132,23 @@ div.tabs_big ul.primary li a .tab {
   font-weight: bold;
 }
 
-ul.primary li a .tab {
+ul.primary li a .tab, .blank-li span.tab {
   display: block;
   margin: 0;
-  padding: 0 8px 0 5px;
+  padding: 0 11px 5px;
   border-width: 0;
-  line-height: 20px;
+  font-size:15px;
   border-bottom: 7px solid #cfd2d5;  
-  font-weight: normal;
-  color: #758391;
+  font-weight: bold;
+  color: #556270;
+}
+
+.blank-li span.tab{
+	padding: 0 0 5px
+}
+
+li.blank-li{
+	width: 330px;
 }
 
 ul.primary li a:hover {
@@ -74,8 +156,8 @@ ul.primary li a:hover {
 }
 
 ul.primary li a:hover .tab {
-  border-bottom: 7px solid #0092C9;  
-  color: #00aeef;
+  border-bottom: 7px solid #00AEF0;  
+  color: #00AEF0;
 }
 
 div.tabs_big ul.primary li.active a,
@@ -90,8 +172,8 @@ ul.primary li.active a:hover,
 ul.primary li.ui-state-active a,
 ul.primary li.ui-state-active a:hover
 {
- background: transparent;
- border-width: 0;
+  background: transparent;
+  border-width: 0;
   color: black;
 }
 
@@ -107,8 +189,14 @@ ul.primary li.active a:hover .tab,
 ul.primary li.ui-state-active a .tab,
 ul.primary li.ui-state-active a:hover .tab
 {
-  border-bottom: 7px solid #54cffe;
-  color: #54cffe;
+  border-bottom: 7px solid #00AEF0;
+  color: #00AEF0;
+}
+
+.tab-seperator{
+	position: absolute;
+	right: -2px;
+	color: #556270
 }
 
 
diff --git a/themes/vibio/css/travis.css b/themes/vibio/css/travis.css
new file mode 100644
index 0000000..32f0aa5
--- /dev/null
+++ b/themes/vibio/css/travis.css
@@ -0,0 +1,307 @@
+/*featured item page*/
+
+.view.view-flag-featured{
+  width: 740px;
+  position: relative;
+}
+  
+.views-fluidgrid-item .views-field-field-main-image-fid{
+  width:160px;
+  border:1px solid #DADADA;
+  margin:5px;
+  padding:0;
+}
+
+.views-fluidgrid-item{
+  margin:0 5px 20px 0;
+  border:1px solid #DADADA;
+  background: #fff;
+}
+
+.views-fluidgrid-item .views-field-title{
+  width:160px;
+  margin:8px 5px 16px 5px;
+}
+
+/*
+.views-fluidgrid-item .views-fluidgrid-item-inner{
+  margin:6px;
+}
+*/
+
+.views-fluidgrid-item .field-content{
+  margin:0;
+  padding:0;
+}
+
+.search-col{
+  float: left;
+  width: 177px;
+  padding: 0 0 0 5px;
+  top: 0px;
+}
+
+.search-col .views-fluidgrid-item{
+  margin: 0 0 20px 0!important;
+  position: relative;
+}
+
+div.search-links {
+  margin-top: -40px;
+  margin-left: 32px;
+  position: relative;
+  width: 185px;
+}
+
+/*.search-col .views-fluidgrid-item .views-field-title{
+  margin: 45px 0 0 8px;
+  width: 160px;
+}*/
+
+.search-col 1{   
+}
+.search-col 2{   
+}
+.search-col 3{
+}
+.search-col 4{ 
+}
+
+.jquery_dropdown_container {
+  width: 230px;
+  z-index: 1;
+  position: relative;
+}
+
+div.jquery_dropdown_header  {
+  background:url(../images/jquery-dropdown-header.png) left top no-repeat;
+  border: 0;
+  font-size: 13px;
+  width: 220px;
+  padding-left: 10px;
+  font-weight:bold;
+  height:24px;
+  line-height:24px;
+  overflow:hidden;
+  text-indent:2px;
+  color: #666;
+  position: relative;
+  z-index:1!important;
+  font-weight: normal;
+}
+
+ul.jquery_dropdown_list {
+  border: 1px solid #CCC;
+  background: #fff;
+  left:0;
+  margin:0;
+  padding:0;
+  position:absolute;
+  top:24px;
+  width:205px;
+  z-index:2!important;
+}
+
+ul.jquery_dropdown_list li {
+  background: none;
+  border-bottom: 0;
+  list-style:none outside none;
+  margin:0;
+  padding: 0;
+  font-weight: normal;
+}
+
+ul.jquery_dropdown_list li a, 
+ul.jquery_dropdown_list li a:link, 
+ul.jquery_dropdown_list li a:visited {
+  color: #666;
+  display:block;
+  font-size: 13px;
+  text-decoration:none;
+  width: auto;
+  padding: 0 10px;
+  height: 20px; 
+  line-height: 20px;
+  font-weight: normal;
+}
+
+ul.jquery_dropdown_list li a:hover {
+  background:url(../images/jquery-dropdown-link-bg.png) left top repeat-x;
+  color: #000;
+}
+
+.form-item label {
+  display: block;
+  font-weight: 500!important;
+  margin-bottom: 5px;
+}
+
+#content-area .rounded_content {
+  min-height: 749px;
+  padding: 10px!important;
+}
+
+.page-product-add h1#page_title.title{
+  display:none; 
+}
+
+.page-product-add h1#page_title{
+  padding-left:10px;
+}
+
+.page-product-add .node-form{
+   padding: 10px;
+}
+
+.page-product-add #field-images-items,
+.page-product-add #edit-field-main-image-0-ahah-wrapper,
+.page-product-add .region-content-top{
+  border-bottom: 1px solid #CCCCCC;
+  padding-bottom: 40px;
+}
+
+.page-product-add .content-add-more{
+  padding-bottom:20px; 
+}
+
+/*
+.node.node-type-page{
+  padding:10px;
+}
+*/
+
+#node-form #field_images_values .delta-order .form-item{
+  display:none;
+}
+
+.node-form-has-region-right .form-region-footer{
+  margin-top:20px;
+}
+
+#content-area fieldset.rounded_content {
+  background: none!important;
+  border:1px solid #ccc!important;
+}
+
+#edit-submit.form-submit {
+/*right: 110px!important;*/
+}
+ 
+/*#edit-preview.form-submit,
+#edit-submit.form-submit {
+right: 110px;
+margin: 10px;
+padding: 5px 15px;
+text-shadow: 1px 1px 2px #4f6b02;
+filter: dropshadow(color=#4f6b02, offx=1, offy=1);
+color:#fff;
+font-weight: 700;
+} */
+ 
+ 
+.form-region-footer{
+  text-align: right;
+} 
+
+#infscr-loading{
+  z-index: 11111;
+  position:absolute;
+  bottom: 20px;  
+  left:280px;
+}
+
+#info{
+  position:absolute;
+  right:10px;
+  float:right;
+}
+
+.filefield-upload input.form-file{
+  border:none;
+  width:200px;
+  font-size:11px;  
+}
+
+.view.view-flag-featured .view-header{
+  display: block;
+} 
+
+
+.view.view-flag-featured .view-footer{
+width: 720px;
+position: fixed;
+bottom: 0px;
+height: 64px;
+}
+
+.view.view-flag-featured .view-footer a span{
+  font-size: 1px;
+}
+.view.view-flag-featured .view-footer a{
+  float:right;
+  background-image: url(../images/back-to-top.png);
+  background-repeat:  no-repeat;
+  width:84px;
+  height:64px;
+  display: block;
+}
+
+.view.view-flag-featured .view-footer a:hover{
+  background-position-y: -69px;
+}
+
+.view.view-flag-featured .view-footer a:active{
+    background-position-y: -139px;
+}
+
+#block-block-5 {
+	background: url(../images/sidebar_connect.png) no-repeat -1px 0;
+	padding: 0;
+	color: #106F93;
+	font-weight: bold;
+	height: 255px;
+	width: 208px;
+	position: relative;
+}
+#block-block-5 #connection-top {
+	
+}
+
+#block-block-5 .content{
+  position: absolute	;
+  top:0px;
+  left:29px;
+}
+
+#block-block-5 #content-social a {
+	background: url(../images/sidebar_social.png) no-repeat;
+	display: block;
+	height: 21px;
+	text-indent: -9999px;
+	float: left;
+	margin: 4px 3px 0 0;
+}http://dev.vibio.com/#top
+
+#block-block-5 #connect-nav a:hover {
+	color: #00AEF0
+}
+
+#block-block-5 a#content-twitter {
+	background-position: 0px 0px;
+	width: 22px;
+}
+
+#block-block-5 a#content-fb {
+	background-position: -26px 0px;
+	width: 22px;
+}
+
+#block-block-5 a#content-tumbler {
+	background-position: -54px -1px;
+	width: 22px;
+}
+
+#block-block-5 a#content-email {
+	background-position: -82px -1px;
+	width: 22px;
+}
diff --git a/themes/vibio/css/uri.css b/themes/vibio/css/uri.css
index 47aaf3d..c398d8d 100644
--- a/themes/vibio/css/uri.css
+++ b/themes/vibio/css/uri.css
@@ -19,7 +19,6 @@ img.uri_edit_busy_indicator {
 }
 
 #friends_tabs {
-	margin-top: 25px;
 }
 
 .potential_friend {
@@ -30,10 +29,6 @@ img.uri_edit_busy_indicator {
 	float: left;
 }
 
-.potential_friend .picture img {
-	max-width: 40px !important;
-}
-
 .potential_friend .potential_friend_summary {
 	float: left;
 	margin-left: 10px;
@@ -56,23 +51,40 @@ img.uri_edit_busy_indicator {
 	width: 500px;
 }
 
+.user-relationships-listing-table{
+	margin-top: 7px;
+}
+
 .user-relationships-listing-table tr {
 	background: inherit;
-	border-top: 1px solid #E6EAED;
+	border-bottom: 1px solid #CCCCCC;
 }
 
 .user-relationships-listing-table tr:first-child {
 	border-top: none;
 }
 
-.user-relationships-listing-table .picture img {
-	max-width: 40px;
+/*All little pictures with a 5px border should go here*/
+.user-relationships-listing-table .picture, .potential_friend .picture, .profile_notification .picture{
+	padding: 5px 0 0 5px;
+	background: #FFF;
+	border: 1px solid #CCCCCC;
+	height: 50px;
+	width: 50px;
+}
+
+.uri_notification{
+	border-bottom: 1px solid #CCCCCC;
+}
+.user-relationships-listing-table .picture img, .potential_friend .picture img , .profile_notification .picture img{
+	height:42px;
+	width:42px;
+	border: 1px solid #CCCCCC;
 }
 
 .user-relationships-listing-table td {
 	vertical-align: top;
-	padding-bottom: 5px;
-	padding-top: 5px;
+	padding: 8px 0;
 }
 
 .user-relationships-listing-table .ur_friend_info {
@@ -86,6 +98,7 @@ img.uri_edit_busy_indicator {
 
 .ur_friend_remove img {
 	display: none;
+	margin-top:10px;
 }
 
 .ur_friend_busy {
diff --git a/themes/vibio/css/user.css b/themes/vibio/css/user.css
index 6803b7f..e2877f0 100644
--- a/themes/vibio/css/user.css
+++ b/themes/vibio/css/user.css
@@ -1,14 +1,61 @@
-.connect_you 				#name_and_friend { background: yellow; }
-.connect_connection #name_and_friend { background: #f9c900; }
-.connect_second 		#name_and_friend { background: #aa0; }
-.connect_none 			#name_and_friend { background: #eee; }
-#profile_user_information .mouse_for_friends { display: none; }
-#profile_user_information:hover .mouse_for_friends { display: block; }
+.connect_you #name_and_friend {}
+.connect_connection #name_and_friend {}
+.connect_second #name_and_friend { }
+.connect_none #name_and_friend { }
+#profile_user_information .mouse_for_friends { 
+	margin-top: 13px;
+	color: #556270;
+}
 
 
+/*User Profile Page*/
+#profile_picture_container{
+	padding: 5px 5px 1px;
+	border: 1px solid #CCCCCC;
+	margin: 15px 8px 15px 15px;
+	background: #FFFFFF;
+}
+#profile_picture_container img{
+	width: 100px;
+	height: 100px;
+}
+#profile_user_information{
+	background: url(../images/profile_user_bgd.jpg) no-repeat 0 0;
+}
+#profile_username{
+	padding: 30px 0 0 0;
+	min-height: 119px;
+	width: 738px;
+}
 
 #page_title {
-	display: none;
+	
+}
+#profile_username h5 {
+	color: #FFF;
+	margin:10px 10px 8px 10px;
+	font-size:18px;
+	line-height:25px;
+	display: inline;
+}
+.friend_info{
+	padding-top:6px;
+	color: #FFF;
+	display: inline;
+}
+.profile_option,.profile_friends{
+	float: left;
+}
+a.profile_friends{
+	margin: 20px 10px; 
+}
+a.profile_option{
+	display: block;
+	height: 42px;
+	width: 254px;
+	background: url(../images/add_item.png) no-repeat 0 0;
+	text-indent: -9999px;
+	margin-top: 10px;
 }
 /*
 #content-area #profile_user_summary.rounded_content {
@@ -55,15 +102,9 @@
 	background: #E9F0F6;
 }
 */
-#profile_username h5 {
-	color: #464F54;
-	margin: 0;
-	font-size: 1.5em;
-	display: inline;
-	float: left;
-}
-#name_and_friend {
-	padding: 4px;	
+
+#name_and_friend {	
+	position: relative;
 }
 #profile_username table {
 	margin: 0;
@@ -127,7 +168,7 @@
 }
 
 table.profile_fields td.field_name {
-	width: 200px;
+	width: 135px;
 	font-weight: bold;
 	color: #414C52;
 	text-align: right;
@@ -137,10 +178,14 @@ table.profile_fields td.field_name {
 table.profile_fields td.field_name.section_title {
 	font-size: 20px;
 }
+#profile_about_me table.profile_fields td {
+	padding-bottom: 28px;
+}
 
 table.profile_fields td {
-	padding-bottom: 7px;
+	padding-bottom: 15px;
 	vertical-align: top;
+	width: 440px;
 }
 
 #profile_user_tabs {
@@ -155,17 +200,34 @@ table.profile_fields td {
 	padding: 0 15px 10px;
 }
 
-.profile_edit_link {
+/* .profile_edit_link {
 	float: right;
 	display: none;
 	font-size: 10px;
-}
+	color: red;
+} */
 
 #profile_about_me, #profile_demographics {
-	float: left;
 	width: 690px;
 }
 
+#profile_about_me table{
+	margin: 0px;
+}
+
+#profile_demographics {
+	border-bottom: 1px solid #CCCCCC;
+	margin-bottom: 0;
+	padding-bottom: 10px;
+}
+
+div.profile_editable{
+	padding: 0 15px;
+}
+
+table.profile_fields{
+	margin: 0;
+}
 table.user_external_accounts {
 	margin: 0;
 }
@@ -182,3 +244,35 @@ table.user_external_accounts td ul {
 .external_accounts_account_list {
 	vertical-align: middle !important;
 }
+.breadcrumb-sep{
+	color: #106f93;
+	padding: 0 2px;
+}
+#message-user a{
+	background:url(../images/envelope.png) no-repeat;
+	height: 17px;
+	width: 25px;
+	display: block;
+}
+#message-user p{
+	float: left;
+	margin: 0;
+	padding-left: 5px;
+	line-height: 14px;
+}
+#message-user{
+	position: absolute;
+	top:6px;
+	right: 24px;
+	
+}
+#message-link{
+	text-indent: -9999px;
+}
+.dos_display{
+	margin-top: 13px;
+}
+.dos_display a:link{
+	color:#106F93;
+}
+
diff --git a/themes/vibio/css/vibio_dialog.css b/themes/vibio/css/vibio_dialog.css
index 7f2bc32..277cd1c 100644
--- a/themes/vibio/css/vibio_dialog.css
+++ b/themes/vibio/css/vibio_dialog.css
@@ -1,14 +1,49 @@
 #vibio_dialog {
-	padding: 10px;
-	background: #375670;
+	/*padding: 10px;
+	background: #375670;*/
 	border-radius: 8px;
 	-moz-border-radius: 8px;
 	min-height: 55px !important;
 }
+#vibio_dialog .inventory_add_image{
+	padding: 5px 5px 0;
+	border: 1px solid #CCCCCC;
+}
+
+#vibio_dialog .inventory_add_image img{
+	max-height: 150px;
+	border: 1px solid #CCCCCC;
+}
+#inventory_top{
+	font-size: 13px;
+	padding: 15px 0 0 10px;
+}
+.inventory_border_top{
+	border-top: 1px solid #CCCCCC;
+}
+.inventory_border_bottom{
+	border-bottom: 1px solid #CCCCCC;
+}
+tr.inventory_border_bottom td, tr.inventory_border_top td{
+	line-height: 12px
+}
+#vibio_dialog .inventory_title{
+	padding: 0 18px;
+	font-size: 15px;
+	font-weight:bold;
+	width: 100%;
+}
+table.inventory_add_pinfo tr{
+	vertical-align: top;
+}
+span.ui-icon{
+	display: none
+}
 
 .vibio_dialog_content {
 	background: white;
 	max-height: 650px;
+	min-height:150px;
 	overflow: auto;
 	border-radius: 8px;
 	-moz-border-radius: 8px;
@@ -30,7 +65,10 @@
 }
 
 .ui-dialog-titlebar {
-	display: none;
+	/* display: none;  Where is this from?  
+		Where is the entire file from, what dialog
+		was it expecting, to change automodal?
+		We do want the titlebar --stephen */
 }
 
 .ui-dialog-titlebar img {
@@ -45,8 +83,8 @@
 
 .vibio_dialog_close_button {
 	position: absolute;
-	right: -7px;
-	top: -5px;
+	right: -20px;
+	top: -2px;
 }
 
 #vibio_dialog .views_message {
@@ -63,19 +101,43 @@
 }
 
 #vibio_dialog form .form-item label {
-	float: left;
-	margin-right: 10px;
 	width: 150px;
-	text-align: right;
-	color: #2B363D;
 }
-
+#product-ajax-add-form div{
+	margin: 5px 0
+}
+#product-ajax-add-form div#edit-posting-type-wrapper, 
+#product-ajax-add-form div.inventory_add_price{
+	float: left;
+	margin: 0
+}
+div#edit-node-price-wrapper{
+	margin: 0
+}
+#product-ajax-add-form input#edit-submit{
+	background: url(../images/add_item_product.png) no-repeat;
+	display: block;
+	border: none;
+	text-indent: -9999px;
+	width: 110px;
+	padding: 0;
+	margin: 0;
+	height: 27px;
+	right: 15px;
+	position: absolute;
+	bottom: 8px;
+}
+#product-ajax-add-form div#edit-privacy-wrapper{
+	height: 65px;
+	margin-bottom: 40px;
+	border-bottom: 1px solid #CCCCCC;
+}
 #vibio_dialog form select[multiple] {
 	max-height: 120px;
 }
 
 #vibio_dialog form input[type="text"], #vibio_dialog form textarea {
-	max-width: 310px;
+	max-width: 360px;
 	max-height: 60px;
 }
 
@@ -95,4 +157,99 @@
 
 #vibio_dialog form fieldset > div.description {
 	margin-left: 0;
-}
\ No newline at end of file
+}
+/*Info Popups*/
+.modalframe {
+    background: none;
+    border: none;
+    color: #000000;
+}
+.modalframe .ui-dialog-titlebar {
+    background-color: #FFFFFF;
+    border: none;
+    border-top-left-radius: 10px;
+	border-top-right-radius: 10px;
+	-moz-border-radius-topright: 10px;
+	-moz-border-radius-topleft: 10px;
+    cursor: move;
+    height: 26px;
+    position: relative;
+    white-space: nowrap;
+}
+
+/*iFrame styling*/
+
+.modalframe .ui-dialog-title {
+    color: #D9D9D9;
+    display: none;
+    left: 0;
+    margin: 0.2em 0.5em;
+    padding: 0;
+    position: absolute;
+    top: 0;
+}
+.modalframe .ui-dialog-titlebar-close {
+    background: url(../images/close_button_dialog.png) no-repeat scroll 0 0 transparent;
+    display: block;
+    height: 41px;
+    margin: 2px 2px 2px 0.5em;
+    padding: 0;
+    position: absolute;
+    right: -20px;
+    top: -23px;
+    width: 39px;
+}
+.modalframe .ui-dialog-titlebar a.ui-state-hover, .modalframe .ui-dialog-titlebar a.ui-state-focus {
+    background-position: 0 0px;
+}
+.modalframe .ui-dialog-titlebar-close span {
+    display: none;
+}
+.modalframe .ui-dialog-content {
+    background-color: #F8F8F8;
+    color: #292929;
+}
+.modalframe-page-content{
+	padding:0 1em;
+}
+.ui-widget-overlay {
+    background-color: #AAAAAA;
+    height: 100%;
+    left: 0;
+    opacity: 0.4;
+    position: absolute;
+    top: 0;
+    width: 100%;
+}
+#modalframe-container {
+    background: url(../images/loading.gif) no-repeat scroll 50% 50% transparent;
+    margin: 0;
+    overflow: visible;
+    padding: 0;
+}
+#modalframe-container.modalframe-loaded {
+    background: none repeat scroll 0 0 transparent;
+}
+#modalframe-element {
+    -moz-border-bottom-colors: none;
+    -moz-border-image: none;
+    -moz-border-left-colors: none;
+    -moz-border-right-colors: none;
+    -moz-border-top-colors: none;
+    border-color: -moz-use-text-color -moz-use-text-color #1B5084;
+    border-style: none;
+    border-width: 0;
+    margin: 0;
+    padding: 0;
+    border-bottom-left-radius: 10px;
+	border-bottom-right-radius: 10px;
+	-moz-border-radius-bottomright: 10px;
+	-moz-border-radius-bottomleft: 10px;
+}
+.modalframe-throbber {
+    background: url(../images/throbber.gif) no-repeat scroll 0 0 transparent;
+    display: inline-block;
+    height: 13px;
+    width: 13px;
+}
+
diff --git a/themes/vibio/css/views-styles.css b/themes/vibio/css/views-styles.css
index 23d2b90..1f051d7 100644
--- a/themes/vibio/css/views-styles.css
+++ b/themes/vibio/css/views-styles.css
@@ -1,81 +1,84 @@
-.views_node_image_container img {
-	max-height: 40px;
-	max-width: 80px;
+/*spinning views gif*/
+.views-throbbing {
+	display: none;
 }
 
+.views_node_image_container img {
+	height: 42px;
+	width: 42px;
+	border: 1px solid #CCC;
+}
 .views_node_image_container {
 	float: left;
 }
-
 .views-field-picture, .views-field-message {
-	padding: 5px 0;
+	padding: 10px 0;
 	vertical-align: top;
 }
-
-.views-field-picture .picture {
-	margin-right: 5px;
+.views-field-picture .picture, .views_node_image_container {
+	margin-right: 7px;
+	padding: 3px 0 0 3px;
+	height: 47px;
+	width: 47px;
+	background: #FFFFFF;
+	border: 1px solid #CCCCCC;
 }
-
 .views_message {
-	float: left;
-	margin-left: 10px;
-	max-width: 585px;
+	float: right;
+	width: 580px;
+	padding-top: 7px;
 }
-
 .views_message p {
 	margin: 0;
 }
-
 .views_actions {
 	margin: 10px 0;
 }
+.view-header{
+	display: none
+}
 
 .view_activity_timestamp {
-	display: block;
+	display: none;
 	font-size: 10px;
 	color: #838383;
 	margin: -5px 0 0;
 }
-
+table.views-table.cols-2 {
+	margin: 0;
+	padding-top: 0;
+}
+.views-table.cols-2 thead{
+	display: none;
+}
 .view-content tr {
-	background-color: transparent;
-	border-bottom: 1px solid #E2E6E9;
 	padding-bottom: 5px;
 }
-
 .view-content .views-view-grid tr {
 	border-bottom: none;
 }
-
 #views-exposed-form-user-collection-default #edit-collection-order-by-wrapper {
 	display: inline;
 }
-
 #views-exposed-form-user-collection-default #edit-submit-user-collection {
 	margin-top: 0;
 }
-
 .inventory_view_type {
 	float: right;
 	margin-top: -53px;
 }
-
 .inventory_view_type span {
 	display: block;
 	font-weight: bold;
 }
-
 .view-user-inventory td.views-field-field-main-image-fid img {
 	max-width: 80px;
 }
-
 .views_slideshow_singleframe_previous {
-  background: transparent url("../images/arrow-gray-left.png") top left no-repeat;
-  text-indent: -5000px;
-border: 1px solid red;
+	background: transparent url("../images/arrow-gray-left.png") top left no-repeat;
+	text-indent: -5000px;
+	border: 1px solid red;
 }
-
-
 .views_slideshow_singleframe_controls views_slideshow_controls {
-  border: 1px solid red;
+	border: 1px solid red;
 }
diff --git a/themes/vibio/images/about_vibio.png b/themes/vibio/images/about_vibio.png
new file mode 100644
index 0000000..b444074
Binary files /dev/null and b/themes/vibio/images/about_vibio.png differ
diff --git a/themes/vibio/images/add_friend.png b/themes/vibio/images/add_friend.png
new file mode 100644
index 0000000..8bb131d
Binary files /dev/null and b/themes/vibio/images/add_friend.png differ
diff --git a/themes/vibio/images/add_ignore.png b/themes/vibio/images/add_ignore.png
new file mode 100644
index 0000000..b5882af
Binary files /dev/null and b/themes/vibio/images/add_ignore.png differ
diff --git a/themes/vibio/images/add_item.png b/themes/vibio/images/add_item.png
new file mode 100755
index 0000000..28973fd
Binary files /dev/null and b/themes/vibio/images/add_item.png differ
diff --git a/themes/vibio/images/add_item_product.png b/themes/vibio/images/add_item_product.png
new file mode 100644
index 0000000..fd670fb
Binary files /dev/null and b/themes/vibio/images/add_item_product.png differ
diff --git a/themes/vibio/images/back-to-top.png b/themes/vibio/images/back-to-top.png
new file mode 100644
index 0000000..763d55f
Binary files /dev/null and b/themes/vibio/images/back-to-top.png differ
diff --git a/themes/vibio/images/barloader.gif b/themes/vibio/images/barloader.gif
new file mode 100644
index 0000000..8284b5f
Binary files /dev/null and b/themes/vibio/images/barloader.gif differ
diff --git a/themes/vibio/images/bg-content-tile.jpg b/themes/vibio/images/bg-content-tile.jpg
index 38e1334..ff504a2 100644
Binary files a/themes/vibio/images/bg-content-tile.jpg and b/themes/vibio/images/bg-content-tile.jpg differ
diff --git a/themes/vibio/images/bgd_search_drop.png b/themes/vibio/images/bgd_search_drop.png
new file mode 100755
index 0000000..5f207ad
Binary files /dev/null and b/themes/vibio/images/bgd_search_drop.png differ
diff --git a/themes/vibio/images/bgtile.jpg b/themes/vibio/images/bgtile.jpg
index 8738f22..05a0729 100644
Binary files a/themes/vibio/images/bgtile.jpg and b/themes/vibio/images/bgtile.jpg differ
diff --git a/themes/vibio/images/blue_bubble.png b/themes/vibio/images/blue_bubble.png
new file mode 100755
index 0000000..0ef9dc9
Binary files /dev/null and b/themes/vibio/images/blue_bubble.png differ
diff --git a/themes/vibio/images/btn_add_item.png b/themes/vibio/images/btn_add_item.png
new file mode 100644
index 0000000..749510f
Binary files /dev/null and b/themes/vibio/images/btn_add_item.png differ
diff --git a/themes/vibio/images/btn_info.png b/themes/vibio/images/btn_info.png
new file mode 100644
index 0000000..07f9805
Binary files /dev/null and b/themes/vibio/images/btn_info.png differ
diff --git a/themes/vibio/images/btn_search_dropdown.png b/themes/vibio/images/btn_search_dropdown.png
new file mode 100755
index 0000000..0b51d9b
Binary files /dev/null and b/themes/vibio/images/btn_search_dropdown.png differ
diff --git a/themes/vibio/images/btn_submit.png b/themes/vibio/images/btn_submit.png
new file mode 100644
index 0000000..646c8fc
Binary files /dev/null and b/themes/vibio/images/btn_submit.png differ
diff --git a/themes/vibio/images/close_button_dialog-old.png b/themes/vibio/images/close_button_dialog-old.png
new file mode 100644
index 0000000..20b90fa
Binary files /dev/null and b/themes/vibio/images/close_button_dialog-old.png differ
diff --git a/themes/vibio/images/close_button_dialog.png b/themes/vibio/images/close_button_dialog.png
old mode 100644
new mode 100755
index 20b90fa..ae61d93
Binary files a/themes/vibio/images/close_button_dialog.png and b/themes/vibio/images/close_button_dialog.png differ
diff --git a/themes/vibio/images/create_new_account.png b/themes/vibio/images/create_new_account.png
new file mode 100644
index 0000000..a6bf45a
Binary files /dev/null and b/themes/vibio/images/create_new_account.png differ
diff --git a/themes/vibio/images/envelope.png b/themes/vibio/images/envelope.png
new file mode 100644
index 0000000..c9b6290
Binary files /dev/null and b/themes/vibio/images/envelope.png differ
diff --git a/themes/vibio/images/facebook/login-button-old.png b/themes/vibio/images/facebook/login-button-old.png
new file mode 100644
index 0000000..1df09d1
Binary files /dev/null and b/themes/vibio/images/facebook/login-button-old.png differ
diff --git a/themes/vibio/images/facebook/login-button.png b/themes/vibio/images/facebook/login-button.png
index 1df09d1..71b1fdf 100644
Binary files a/themes/vibio/images/facebook/login-button.png and b/themes/vibio/images/facebook/login-button.png differ
diff --git a/themes/vibio/images/facebook/login_fb.png b/themes/vibio/images/facebook/login_fb.png
new file mode 100644
index 0000000..71b1fdf
Binary files /dev/null and b/themes/vibio/images/facebook/login_fb.png differ
diff --git a/themes/vibio/images/facebook/share.png b/themes/vibio/images/facebook/share.png
index 767ad76..dba5595 100644
Binary files a/themes/vibio/images/facebook/share.png and b/themes/vibio/images/facebook/share.png differ
diff --git a/themes/vibio/images/featured_member.png b/themes/vibio/images/featured_member.png
new file mode 100755
index 0000000..6eba50e
Binary files /dev/null and b/themes/vibio/images/featured_member.png differ
diff --git a/themes/vibio/images/footer_bgd.png b/themes/vibio/images/footer_bgd.png
new file mode 100755
index 0000000..e9eb0c5
Binary files /dev/null and b/themes/vibio/images/footer_bgd.png differ
diff --git a/themes/vibio/images/footer_social.png b/themes/vibio/images/footer_social.png
new file mode 100755
index 0000000..e654a97
Binary files /dev/null and b/themes/vibio/images/footer_social.png differ
diff --git a/themes/vibio/images/front_big_facebook.png b/themes/vibio/images/front_big_facebook.png
new file mode 100755
index 0000000..2124f58
Binary files /dev/null and b/themes/vibio/images/front_big_facebook.png differ
diff --git a/themes/vibio/images/front_colorbox.png b/themes/vibio/images/front_colorbox.png
new file mode 100755
index 0000000..3be4f46
Binary files /dev/null and b/themes/vibio/images/front_colorbox.png differ
diff --git a/themes/vibio/images/have_button.png b/themes/vibio/images/have_button.png
new file mode 100755
index 0000000..a978ab1
Binary files /dev/null and b/themes/vibio/images/have_button.png differ
diff --git a/themes/vibio/images/icons/default_item.png b/themes/vibio/images/icons/default_item.png
index 1f708a3..2de5542 100644
Binary files a/themes/vibio/images/icons/default_item.png and b/themes/vibio/images/icons/default_item.png differ
diff --git a/themes/vibio/images/icons/default_items.png b/themes/vibio/images/icons/default_items.png
new file mode 100644
index 0000000..2de5542
Binary files /dev/null and b/themes/vibio/images/icons/default_items.png differ
diff --git a/themes/vibio/images/icons/default_user.png b/themes/vibio/images/icons/default_user.png
index 2e711b7..c509bf1 100644
Binary files a/themes/vibio/images/icons/default_user.png and b/themes/vibio/images/icons/default_user.png differ
diff --git a/themes/vibio/images/inbox.png b/themes/vibio/images/inbox.png
new file mode 100755
index 0000000..fe79eaf
Binary files /dev/null and b/themes/vibio/images/inbox.png differ
diff --git a/themes/vibio/images/info.png b/themes/vibio/images/info.png
new file mode 100644
index 0000000..6423452
Binary files /dev/null and b/themes/vibio/images/info.png differ
diff --git a/themes/vibio/images/info_button.png b/themes/vibio/images/info_button.png
new file mode 100755
index 0000000..352c91f
Binary files /dev/null and b/themes/vibio/images/info_button.png differ
diff --git a/themes/vibio/images/item/not_for_sale.png b/themes/vibio/images/item/not_for_sale.png
index c179efd..564180d 100644
Binary files a/themes/vibio/images/item/not_for_sale.png and b/themes/vibio/images/item/not_for_sale.png differ
diff --git a/themes/vibio/images/jquery-dropdown-header.png b/themes/vibio/images/jquery-dropdown-header.png
new file mode 100644
index 0000000..860956e
Binary files /dev/null and b/themes/vibio/images/jquery-dropdown-header.png differ
diff --git a/themes/vibio/images/loader.gif b/themes/vibio/images/loader.gif
new file mode 100644
index 0000000..da6a6f3
Binary files /dev/null and b/themes/vibio/images/loader.gif differ
diff --git a/themes/vibio/images/log_in.png b/themes/vibio/images/log_in.png
new file mode 100644
index 0000000..82a1b89
Binary files /dev/null and b/themes/vibio/images/log_in.png differ
diff --git a/themes/vibio/images/login_fb.png b/themes/vibio/images/login_fb.png
new file mode 100755
index 0000000..71b1fdf
Binary files /dev/null and b/themes/vibio/images/login_fb.png differ
diff --git a/themes/vibio/images/login_user.png b/themes/vibio/images/login_user.png
new file mode 100755
index 0000000..524a250
Binary files /dev/null and b/themes/vibio/images/login_user.png differ
diff --git a/themes/vibio/images/long_border.png b/themes/vibio/images/long_border.png
new file mode 100755
index 0000000..1ba6a13
Binary files /dev/null and b/themes/vibio/images/long_border.png differ
diff --git a/themes/vibio/images/not_for_sale.png b/themes/vibio/images/not_for_sale.png
new file mode 100755
index 0000000..564180d
Binary files /dev/null and b/themes/vibio/images/not_for_sale.png differ
diff --git a/themes/vibio/images/not_now.png b/themes/vibio/images/not_now.png
new file mode 100644
index 0000000..2e897d8
Binary files /dev/null and b/themes/vibio/images/not_now.png differ
diff --git a/themes/vibio/images/not_now_old.png b/themes/vibio/images/not_now_old.png
new file mode 100755
index 0000000..8e547f6
Binary files /dev/null and b/themes/vibio/images/not_now_old.png differ
diff --git a/themes/vibio/images/popup_close_btn.png b/themes/vibio/images/popup_close_btn.png
new file mode 100755
index 0000000..0f63a08
Binary files /dev/null and b/themes/vibio/images/popup_close_btn.png differ
diff --git a/themes/vibio/images/profile_user_bgd.jpg b/themes/vibio/images/profile_user_bgd.jpg
new file mode 100755
index 0000000..a0ec3b4
Binary files /dev/null and b/themes/vibio/images/profile_user_bgd.jpg differ
diff --git a/themes/vibio/images/review_offer.png b/themes/vibio/images/review_offer.png
new file mode 100644
index 0000000..528714a
Binary files /dev/null and b/themes/vibio/images/review_offer.png differ
diff --git a/themes/vibio/images/search_button.png b/themes/vibio/images/search_button.png
index ab388b4..41eb6de 100644
Binary files a/themes/vibio/images/search_button.png and b/themes/vibio/images/search_button.png differ
diff --git a/themes/vibio/images/search_drop_btns.png b/themes/vibio/images/search_drop_btns.png
new file mode 100755
index 0000000..fb86fa3
Binary files /dev/null and b/themes/vibio/images/search_drop_btns.png differ
diff --git a/themes/vibio/images/search_dropdown.png b/themes/vibio/images/search_dropdown.png
new file mode 100644
index 0000000..90a04f9
Binary files /dev/null and b/themes/vibio/images/search_dropdown.png differ
diff --git a/themes/vibio/images/search_item.png b/themes/vibio/images/search_item.png
new file mode 100644
index 0000000..3f4c37e
Binary files /dev/null and b/themes/vibio/images/search_item.png differ
diff --git a/themes/vibio/images/search_user.png b/themes/vibio/images/search_user.png
new file mode 100644
index 0000000..07f2e88
Binary files /dev/null and b/themes/vibio/images/search_user.png differ
diff --git a/themes/vibio/images/showcase.png b/themes/vibio/images/showcase.png
new file mode 100755
index 0000000..137d87e
Binary files /dev/null and b/themes/vibio/images/showcase.png differ
diff --git a/themes/vibio/images/sidebar_connect.png b/themes/vibio/images/sidebar_connect.png
new file mode 100755
index 0000000..f37ac64
Binary files /dev/null and b/themes/vibio/images/sidebar_connect.png differ
diff --git a/themes/vibio/images/sidebar_seperator.png b/themes/vibio/images/sidebar_seperator.png
new file mode 100755
index 0000000..bb0c4c1
Binary files /dev/null and b/themes/vibio/images/sidebar_seperator.png differ
diff --git a/themes/vibio/images/sidebar_social.png b/themes/vibio/images/sidebar_social.png
new file mode 100755
index 0000000..70899ce
Binary files /dev/null and b/themes/vibio/images/sidebar_social.png differ
diff --git a/themes/vibio/images/tabs_bgd.png b/themes/vibio/images/tabs_bgd.png
new file mode 100755
index 0000000..9d0ca70
Binary files /dev/null and b/themes/vibio/images/tabs_bgd.png differ
diff --git a/themes/vibio/images/upper_title.png b/themes/vibio/images/upper_title.png
new file mode 100755
index 0000000..d42745f
Binary files /dev/null and b/themes/vibio/images/upper_title.png differ
diff --git a/themes/vibio/images/user_button.png b/themes/vibio/images/user_button.png
new file mode 100644
index 0000000..07f2e88
Binary files /dev/null and b/themes/vibio/images/user_button.png differ
diff --git a/themes/vibio/images/username_drop_bgd.png b/themes/vibio/images/username_drop_bgd.png
new file mode 100755
index 0000000..6f336ba
Binary files /dev/null and b/themes/vibio/images/username_drop_bgd.png differ
diff --git a/themes/vibio/images/username_drop_text.png b/themes/vibio/images/username_drop_text.png
new file mode 100755
index 0000000..6751001
Binary files /dev/null and b/themes/vibio/images/username_drop_text.png differ
diff --git a/themes/vibio/images/vibio-tagline.png b/themes/vibio/images/vibio-tagline.png
new file mode 100755
index 0000000..0829389
Binary files /dev/null and b/themes/vibio/images/vibio-tagline.png differ
diff --git a/themes/vibio/images/vibio_bullhorn.png b/themes/vibio/images/vibio_bullhorn.png
new file mode 100755
index 0000000..06676cb
Binary files /dev/null and b/themes/vibio/images/vibio_bullhorn.png differ
diff --git a/themes/vibio/images/vibio_item_button.png b/themes/vibio/images/vibio_item_button.png
new file mode 100644
index 0000000..3f4c37e
Binary files /dev/null and b/themes/vibio/images/vibio_item_button.png differ
diff --git a/themes/vibio/images/want_have.png b/themes/vibio/images/want_have.png
new file mode 100755
index 0000000..77b1cf8
Binary files /dev/null and b/themes/vibio/images/want_have.png differ
diff --git a/themes/vibio/images/your_style.png b/themes/vibio/images/your_style.png
new file mode 100755
index 0000000..0829389
Binary files /dev/null and b/themes/vibio/images/your_style.png differ
diff --git a/themes/vibio/js/backup b/themes/vibio/js/backup
new file mode 100644
index 0000000..d966678
--- /dev/null
+++ b/themes/vibio/js/backup
@@ -0,0 +1,58 @@
+var vibio_dialog = {
+	dialog: false,
+	dialog_options: {},
+	create: function(content)
+	{	
+		if (!this.dialog)
+		{
+			this.init();
+		}
+		
+		content = "<div class='vibio_dialog_content'><div class='vibio_dialog_close_button vibio_dialog_close_link'><img src='/themes/vibio/images/close_button_dialog.png' /></div>"+content+"</div>";
+		
+		this.dialog
+			.html(content)
+			.dialog("open");
+	},
+	init: function()
+	{
+		this.reset_options();
+		this.dialog = $("<div id='vibio_dialog'></div>")
+			.prependTo("body")
+			.dialog(this.dialog_options);
+	},
+	reset_options: function()
+	{
+		this.dialog_options = {
+			modal: true,
+			resizeable: false,
+			draggable: false,
+			autoOpen: false,
+			width: 550,
+			open: function()
+			{
+				vibio_dialog.center();
+			}
+		};
+	},
+	set_options: function(options)
+	{
+		options = $.extend({}, options, { position: "center" });
+		this.dialog.dialog("option", options);
+		this.center();
+	},
+	center: function()
+	{
+		var current_offset = parseInt(this.dialog.closest(".ui-dialog").css("left"));
+		this.dialog.closest(".ui-dialog").css("left", current_offset + 95 + "px");
+	}
+};
+
+$(document).ready(function()
+{
+	$(".vibio_dialog_close_link").live("click", function()
+	{
+		vibio_dialog.dialog.dialog("close");
+		return false;
+	});
+});
diff --git a/themes/vibio/js/dom-manipulate.js b/themes/vibio/js/dom-manipulate.js
new file mode 100644
index 0000000..1011392
--- /dev/null
+++ b/themes/vibio/js/dom-manipulate.js
@@ -0,0 +1,46 @@
+3/**
+ * @author Craig Tockman - Reoder Elements up and down the DOM
+ */
+
+/*Login button position */
+$(window).load(function() {
+	$(".login_form_separator").remove().insertBefore("#edit-submit");
+});
+
+/* feature and search page hover effects, have and want buttons, grey */
+$(document).ready(function() {
+	$('div.views-field.views-field-nid, div.box div.search-links').hide();
+	$('div.views-field.views-field-field-main-image-fid, div.views-field-field-main-image-fid').hover(function() {
+		$(this).next().show();
+	}, function() {
+		$(this).next().hide();
+	});
+	$('div.views-field.views-field-nid, div.box div.search-links').hover(function() {
+		$(this).show();
+		$(this).prev().addClass('hover-shadow');
+	}, function() {
+		$(this).hide();
+		$(this).prev().removeClass('hover-shadow');
+	});
+//places h1 page titles over the tabs on some pages	
+	$(".not-logged-in h1#page_title").remove().insertBefore("div.tabs");
+//places forgot password snippet above page lost password form
+	$(".not-logged-in h1#page_title").remove().insertBefore("div.tabs");
+	$("#block-block-13").remove().insertBefore("form#user-pass");	
+//Intial text value for the Search Bar
+$('input#edit-search-theme-form-1').attr('value', 'Search Items');	
+//Remove search bar text on click of field
+$("input#edit-search-theme-form-1").focus(function() {
+      $('input#edit-search-theme-form-1').attr('value', '');
+ });
+
+//Change Serach box text to "Search Users" on click
+$('img#searchtype_user').click (function() {
+	$('input#edit-search-theme-form-1').attr('value', 'Search Users');
+});
+//Change Serach box text to "Search Items" on click
+$('img#searchtype_vibio_item').click (function() {
+	$('input#edit-search-theme-form-1').attr('value', 'Search Items');
+});
+
+});
diff --git a/themes/vibio/js/dom-removal.js b/themes/vibio/js/dom-removal.js
new file mode 100644
index 0000000..d6e0e03
--- /dev/null
+++ b/themes/vibio/js/dom-removal.js
@@ -0,0 +1,6 @@
+/**
+ * @author Craig Tockman - Removing Elements from the DOM
+ */
+$(document).ready(function() {
+	$('friend_actions, #profile_progressbar, .profile_progress, .collection_item_count , .collection_description , .collection_categories, .collection_date_added, .collection_link, .heartbeat_times, .heartbeat-buttons, .heartbeat-more-messages-wrapper, #user-login-form li.first').remove();
+});
diff --git a/themes/vibio/js/facebook.js b/themes/vibio/js/facebook.js
index f7093d0..c520f8a 100644
--- a/themes/vibio/js/facebook.js
+++ b/themes/vibio/js/facebook.js
@@ -1,228 +1,227 @@
-fb_ajax_actions = {};
-
-$(document).ready(function()
-{
-	if (typeof FB == "undefinged")
-	{
-		return;
-	}
-	
-	FB.init({
-		appId: fb_settings.app_id,
-		status: true,
-		cookie: true,
-		xfbml: true
-	});
-	
-	var fb_next_action, fb_next_action_args, fb_do_reload = false;
-	var fb_next_action_args;
-	var fb_login_callbacks = {
-		"signup": function(res)
-		{
-			if (res.session)
-			{
-				var destination = vibio_utility.get_get_arg("destination");
-				destination = destination ? destination : window.location.pathname.substring(1);
-				window.location = "/facebook/signup?destination="+destination
-			}
-		},
-		"link": function(res)
-		{
-			if (res.session)
-			{
-				window.location = "/facebook/link-account?destination="+window.location.pathname.substring(1);
-			}
-		},
-		"link_ajax": function(res)
-		{
-			if (res.session)
-			{
-				$.ajax({
-					url: "/facebook/link-account-ajax",
-					dataType: "json",
-					success: function(json, stat)
-					{
-						vibio_utility.set_message(json.message, json.status);
-						
-						if (json.status != "error")
-						{
-							fb_settings.fb_uid = json.fb_uid;
-							vibio_utility.invoke(fb_ajax_actions.ajax_link);
-						}
-						else
-						{
-							FB.logout();
-						}
-					}
-				});
-			}
-		},
-		"refresh": function(res)
-		{
-			if (vibio_dialog.dialog)
-			{
-				vibio_dialog.dialog.dialog("close");
-			}
-			
-			if (res.session)
-			{
-				if (res.session.uid == fb_settings.fb_uid)
-				{
-					if (fb_do_reload)
-					{
-						window.location.reload();
-					}
-					else if (typeof fb_next_action != "undefined")
-					{
-						fb_next_action(fb_next_action_args);
-					}
-				}
-				else
-				{
-					FB.logout();
-					incorrect_login();
-				}
-			}
-		}
-	};
-	
-	$(".fb_login").live("click", function()
-	{
-		var fb_callback = $(this).hasClass("fb_refresh") ? fb_login_callbacks.refresh : fb_login_callbacks.signup;
-		
-		if ($(this).hasClass("fb_reload"))
-		{
-			fb_do_reload = true;
-		}
-		
-		FB.getLoginStatus(function(res)
-		{
-			if (res.session)
-			{
-				fb_callback(res);
-			}
-			else
-			{
-				FB.login(fb_callback, { perms: fb_settings.perms });
-			}
-		});
-		
-		return false;
-	});
-	
-	$(".fb_link_account").live("click", function()
-	{
-		var callback = $(this).hasClass("fb_link_account_ajax") ? "link_ajax" : "link";
-		FB.login(fb_login_callbacks[callback], { perms: fb_settings.perms });
-		return false;
-	});
-	
-	$(".fb_remove_account").live("click", function()
-	{
-		var href = $(this).attr("href")+"?destination="+window.location.pathname.substring(1);
-		window.location = href;
-		return false;
-	});
-	
-	$(".fb_share").live("click", function()
-	{
-		var params = JSON.parse($(this).siblings(".fb_share_params").text()) || {};
-		verify_login(share, params);
-		
-		return false;
-	});
-	
-	var verify_login = function(action, params)
-	{
-		if (!fb_settings.fb_uid)
-		{
-			prompt_account_link();
-			return;
-		}
-		
-		FB.getLoginStatus(function(res)
-		{
-			if (res.session)
-			{
-				if (res.session.uid == fb_settings.fb_uid)
-				{
-					action(params);
-				}
-				else
-				{
-					incorrect_login();
-				}
-			}
-			else
-			{
-				prompt_login();
-			}
-		});
-	}
-	
-	var share = function(post_params)
-	{	
-		var defaults = {
-			method: "stream.publish",
-			display: "popup"
-		};
-		post_params = $.extend({}, defaults, post_params);
-		
-		FB.ui(post_params, function(response)
-		{
-			if (response && response.post_id)
-			{
-				//share_success();
-			}
-			else
-			{
-				//what should we do here?
-			}
-		});
-		
-		return false;
-	}
-	
-	var prompt_login = function()
-	{
-		vibio_dialog.create($("#facebook_login_prompt").html());
-		vibio_dialog.set_options({"dialogClass": "fb_popup"});
-	}
-	
-	var incorrect_login = function()
-	{
-		vibio_dialog.create($("#facebook_wrong_login").html());
-		vibio_dialog.set_options({"dialogClass": "fb_popup"});
-	}
-	
-	var share_success = function()
-	{
-		vibio_dialog.create($("#facebook_share_success").html());
-		vibio_dialog.set_options({"dialogClass": "fb_popup"});
-	}
-	
-	var prompt_account_link = function()
-	{
-		vibio_dialog.create($("#facebook_prompt_account_link").html());
-		vibio_dialog.set_options({"dialogClass": "fb_popup"});
-	}
-	
-	if (typeof fb_share_prompts != "undefined")
-	{
-		if (!fb_settings.fb_uid)
-		{
-			return;
-		}
-		
-		$.each (fb_share_prompts, function(i, share_params)
-		{
-			FB.getLoginStatus(function(res)
-			{
-				if (res.session && res.session.uid == fb_settings.fb_uid)
-				{
-					share(share_params);
-				}
-			});
-		});
-	}
-});
+fb_ajax_actions = {};
+
+$(document).ready(function()
+{
+	if (typeof FB == "undefined")
+	{
+		return;
+	}
+	
+	FB.init({
+		appId: fb_settings.app_id,
+		status: true,
+		cookie: true,
+		xfbml: true
+	});
+	
+	var fb_next_action, fb_next_action_args, fb_do_reload = false;
+	var fb_login_callbacks = {
+		"signup": function(res)
+		{
+			if (res.session)
+			{
+				var destination = vibio_utility.get_get_arg("destination");
+				destination = destination ? destination : window.location.pathname.substring(1);
+				window.location = "/facebook/signup?destination="+destination
+			}
+		},
+		"link": function(res)
+		{
+			if (res.session)
+			{
+				window.location = "/facebook/link-account?destination="+window.location.pathname.substring(1);
+			}
+		},
+		"link_ajax": function(res)
+		{
+			if (res.session)
+			{
+				$.ajax({
+					url: "/facebook/link-account-ajax",
+					dataType: "json",
+					success: function(json, stat)
+					{
+						vibio_utility.set_message(json.message, json.status);
+						
+						if (json.status != "error")
+						{
+							fb_settings.fb_uid = json.fb_uid;
+							vibio_utility.invoke(fb_ajax_actions.ajax_link);
+						}
+						else
+						{
+							FB.logout();
+						}
+					}
+				});
+			}
+		},
+		"refresh": function(res)
+		{
+			if (vibio_dialog.dialog)
+			{
+				vibio_dialog.dialog.dialog("close");
+			}
+			
+			if (res.session)
+			{
+				if (res.session.uid == fb_settings.fb_uid)
+				{
+					if (fb_do_reload)
+					{
+						window.location.reload();
+					}
+					else if (typeof fb_next_action != "undefined")
+					{
+						fb_next_action(fb_next_action_args);
+					}
+				}
+				else
+				{
+					FB.logout();
+					incorrect_login();
+				}
+			}
+		}
+	};
+	
+	$(".fb_login").live("click", function()
+	{
+		var fb_callback = $(this).hasClass("fb_refresh") ? fb_login_callbacks.refresh : fb_login_callbacks.signup;
+		
+		if ($(this).hasClass("fb_reload"))
+		{
+			fb_do_reload = true;
+		}
+		
+		FB.getLoginStatus(function(res)
+		{
+			if (res.session)
+			{
+				fb_callback(res);
+			}
+			else
+			{
+				FB.login(fb_callback, { perms: fb_settings.perms });
+			}
+		});
+		
+		return false;
+	});
+	
+	$(".fb_link_account").live("click", function()
+	{
+		var callback = $(this).hasClass("fb_link_account_ajax") ? "link_ajax" : "link";
+		FB.login(fb_login_callbacks[callback], { perms: fb_settings.perms });
+		return false;
+	});
+	
+	$(".fb_remove_account").live("click", function()
+	{
+		var href = $(this).attr("href")+"?destination="+window.location.pathname.substring(1);
+		window.location = href;
+		return false;
+	});
+	
+	$(".fb_share").live("click", function()
+	{
+		var params = JSON.parse($(this).siblings(".fb_share_params").text()) || {};
+		verify_login(share, params);
+		
+		return false;
+	});
+	
+	var verify_login = function(action, params)
+	{
+		if (!fb_settings.fb_uid)
+		{
+			prompt_account_link();
+			return;
+		}
+		
+		FB.getLoginStatus(function(res)
+		{
+			if (res.session)
+			{
+				if (res.session.uid == fb_settings.fb_uid)
+				{
+					action(params);
+				}
+				else
+				{
+					incorrect_login();
+				}
+			}
+			else
+			{
+				prompt_login();
+			}
+		});
+	}
+	
+	var share = function(post_params)
+	{	
+		var defaults = {
+			method: "stream.publish",
+			display: "popup"
+		};
+		post_params = $.extend({}, defaults, post_params);
+		
+		FB.ui(post_params, function(response)
+		{
+			if (response && response.post_id)
+			{
+				//share_success();
+			}
+			else
+			{
+				//what should we do here?
+			}
+		});
+		
+		return false;
+	}
+	
+	var prompt_login = function()
+	{
+		vibio_dialog.create($("#facebook_login_prompt").html());
+		vibio_dialog.set_options({"dialogClass": "fb_popup"});
+	}
+	
+	var incorrect_login = function()
+	{
+		vibio_dialog.create($("#facebook_wrong_login").html());
+		vibio_dialog.set_options({"dialogClass": "fb_popup"});
+	}
+	
+	var share_success = function()
+	{
+		vibio_dialog.create($("#facebook_share_success").html());
+		vibio_dialog.set_options({"dialogClass": "fb_popup"});
+	}
+	
+	var prompt_account_link = function()
+	{
+		vibio_dialog.create($("#facebook_prompt_account_link").html());
+		vibio_dialog.set_options({"dialogClass": "fb_popup"});
+	}
+	
+	if (typeof fb_share_prompts != "undefined")
+	{
+		if (!fb_settings.fb_uid)
+		{
+			return;
+		}
+		
+		$.each (fb_share_prompts, function(i, share_params)
+		{
+			FB.getLoginStatus(function(res)
+			{
+				if (res.session && res.session.uid == fb_settings.fb_uid)
+				{
+					share(share_params);
+				}
+			});
+		});
+	}
+});
diff --git a/themes/vibio/js/fixed-scroll.js b/themes/vibio/js/fixed-scroll.js
new file mode 100644
index 0000000..8da55f8
--- /dev/null
+++ b/themes/vibio/js/fixed-scroll.js
@@ -0,0 +1,5 @@
+/*fixed scroll*/
+$(document).ready(function() {
+    $('#block-block-5').scrollToFixed();
+    //$('.view.view-flag-featured .view-footer').scrollToFixed();
+});
\ No newline at end of file
diff --git a/themes/vibio/js/jquery-scrolltofixed-min.js b/themes/vibio/js/jquery-scrolltofixed-min.js
new file mode 100644
index 0000000..ba15a9c
--- /dev/null
+++ b/themes/vibio/js/jquery-scrolltofixed-min.js
@@ -0,0 +1 @@
+(function(a){a.ScrollToFixed=function(c,f){var i=this;i.$el=a(c);i.el=c;i.$el.data("ScrollToFixed",i);var b=false;var u=i.$el;var t=0;var l=0;var g=-1;var d=-1;var n=null;function o(){h();d=-1;t=u.offset().top;l=u.offset().left;if(g==-1){orginalOffsetLeft=l}b=true;if(i.options.bottom!=-1){q()}}function k(){return u.css("position")=="fixed"}function r(){return u.css("position")=="absolute"}function e(){return !(k()||r())}function q(){if(!k()){n.css({display:u.css("display"),width:u.outerWidth(true),height:u.outerHeight(true),"float":u.css("float")});u.css({width:u.width(),position:"fixed",top:i.options.bottom==-1?m():"",bottom:i.options.bottom==-1?"":i.options.bottom})}}function h(){if(!e()){d=-1;n.css("display","none");u.css({width:"",position:"",left:"",top:""})}}function p(v){if(v!=d){u.css("left",l-v);d=v}}function m(){return i.options.marginTop}function s(){if(!b){o()}var v=a(window).scrollLeft();var w=a(window).scrollTop();if(i.options.bottom==-1){if(i.options.limit>0&&w>=i.options.limit-m()){if(!r()){j();u.trigger("preAbsolute");u.css({width:u.width(),position:"absolute",top:i.options.limit,left:l});u.trigger("unfixed")}}else{if(w>=t-m()){if(!k()){j();u.trigger("preFixed");q();d=-1;u.trigger("fixed")}p(v)}else{if(k()){j();u.trigger("preUnfixed");h();u.trigger("unfixed")}}}}else{if(i.options.limit>0){if(w+a(window).height()-u.outerHeight(true)>=i.options.limit-m()){if(k()){j();u.trigger("preUnfixed");h();u.trigger("unfixed")}}else{if(!k()){j();u.trigger("preFixed");q()}p(v);u.trigger("fixed")}}else{p(v)}}}function j(){var v=u.css("position");if(v=="absolute"){u.trigger("postAbsolute")}else{if(v=="fixed"){u.trigger("postFixed")}else{u.trigger("postUnfixed")}}}i.init=function(){i.options=a.extend({},a.ScrollToFixed.defaultOptions,f);if(navigator.platform=="iPad"||navigator.platform=="iPhone"||navigator.platform=="iPod"){return}i.$el.css("z-index",i.options.zIndex);n=a("<div/>");i.$el.after(n);a(window).bind("resize",function(v){o();s()});a(window).bind("scroll",function(v){s()});if(i.options.preFixed){u.bind("preFixed",i.options.preFixed)}if(i.options.postFixed){u.bind("postFixed",i.options.postFixed)}if(i.options.preUnfixed){u.bind("preUnfixed",i.options.preUnfixed)}if(i.options.postUnfixed){u.bind("postUnfixed",i.options.postUnfixed)}if(i.options.preAbsolute){u.bind("preAbsolute",i.options.preAbsolute)}if(i.options.postAbsolute){u.bind("postAbsolute",i.options.postAbsolute)}if(i.options.fixed){u.bind("fixed",i.options.fixed)}if(i.options.unfixed){u.bind("unfixed",i.options.unfixed)}if(i.options.bottom!=-1){if(!k()){j();u.trigger("preFixed");q()}}};i.init()};a.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1000};a.fn.scrollToFixed=function(b){return this.each(function(){(new a.ScrollToFixed(this,b))})}})(jQuery);
\ No newline at end of file
diff --git a/themes/vibio/js/masonry.js b/themes/vibio/js/masonry.js
new file mode 100644
index 0000000..cd0f07c
--- /dev/null
+++ b/themes/vibio/js/masonry.js
@@ -0,0 +1,224 @@
+/*************************************************
+**  jQuery Masonry version 1.0.1
+**  copyright David DeSandro, licensed GPL & MIT
+**  http://desandro.com/resources/jquery-masonry
+**************************************************/
+;(function($){  
+
+    $.fn.masonry = function(options, callback) { 
+
+        function placeBrick($brick, setCount, setY, setSpan, props) {
+            var shortCol = 0;
+            
+            for ( i=0; i < setCount; i++ ) {
+                if ( setY[i] < setY[ shortCol ] ) shortCol = i;
+            }
+
+            $brick.css({
+                top: setY[ shortCol ],
+                left: props.colW * shortCol + props.posLeft
+            });
+
+            for ( i=0; i < setSpan; i++ ) {
+                props.colY[ shortCol + i ] = setY[ shortCol ] + $brick.outerHeight(true) ;
+            }
+        }
+
+
+        function masonrySetup($wall, opts, props) {
+            props.$bricks = opts.itemSelector == undefined ?
+                        opts.$brickParent.children() :
+                        opts.$brickParent.find(opts.itemSelector);
+
+            if ( opts.columnWidth == undefined) {
+                props.colW = props.masoned ?
+                        $wall.data('masonry').colW :
+                        props.$bricks.outerWidth(true);
+            } else {
+                props.colW = opts.columnWidth;
+            }
+
+            props.colCount = Math.floor( $wall.width() / props.colW ) ;
+            props.colCount = Math.max( props.colCount, 1 );
+        }
+
+
+        function masonryArrange($wall, opts, props) {
+            // if masonry hasn't been called before
+            if( !props.masoned ) $wall.css( 'position', 'relative' );            
+            
+            if ( !props.masoned || opts.appendedContent != undefined ) {
+                // just the new bricks
+                props.$bricks.css( 'position', 'absolute' );
+            }
+
+            // get top left position of where the bricks should be
+            var cursor = $('<div />');
+            $wall.prepend( cursor );
+            props.posTop =  Math.round( cursor.position().top );
+            props.posLeft = Math.round( cursor.position().left );
+            cursor.remove();
+
+            // set up column Y array
+            if ( props.masoned && opts.appendedContent != undefined ) {
+                // if appendedContent is set, use colY from last call
+                props.colY = $wall.data('masonry').colY;
+                
+                /*
+                *  in the case that the wall is not resizeable,
+                *  but the colCount has changed from the previous time
+                *  masonry has been called
+                */
+                for (i= $wall.data('masonry').colCount; i < props.colCount; i++) {
+                    props.colY[i] = props.posTop;
+                };
+                
+            } else {
+                props.colY = [];
+                for ( i=0; i < props.colCount; i++) {
+                    props.colY[i] = props.posTop;
+                }    
+            }
+
+            // layout logic
+            if ( opts.singleMode ) {
+                props.$bricks.each(function(){
+                    var $brick = $(this);
+                    placeBrick($brick, props.colCount, props.colY, 1, props);
+                });            
+            } else {
+                props.$bricks.each(function() {
+                    var $brick = $(this);
+                
+                    //how many columns does this brick span
+                    var colSpan = Math.ceil( $brick.outerWidth(true) / props.colW);
+                    colSpan = Math.min( colSpan, props.colCount );
+
+                    if ( colSpan == 1 ) {
+                        // if brick spans only one column, just like singleMode
+                        placeBrick($brick, props.colCount, props.colY, 1, props);
+                    } else {
+                        // brick spans more than one column
+
+                        //how many different places could this brick fit horizontally
+                        var groupCount = props.colCount + 1 - colSpan; 
+                        var groupY = [0];
+                        // for each group potential horizontal position
+                        for ( i=0; i < groupCount; i++ ) {
+                            groupY[i] = 0;
+                            // for each column in that group
+                            for ( j=0; j < colSpan; j++ ) {
+                                // get the maximum column height in that group
+                                groupY[i] = Math.max( groupY[i], props.colY[i+j] );
+                            }
+                        }
+                
+                        placeBrick($brick, groupCount, groupY, colSpan, props);
+                    }
+                }); //        /props.bricks.each(function() {
+            }  //         /layout logic
+        
+            // set the height of the wall to the tallest column
+            props.wallH = 0;
+            for ( i=0; i < props.colCount; i++ ) {
+                props.wallH = Math.max( props.wallH, props.colY[i] );
+            }
+            $wall.height( props.wallH - props.posTop );
+
+            // provide props.bricks as context for the callback
+            callback.call( props.$bricks );
+            
+            // set all data so we can retrieve it for appended appendedContent
+            //        or anyone else's crazy jquery fun
+            $wall.data('masonry', props );
+
+
+        } //  /masonryArrange function
+
+
+        function masonryResize($wall, opts, props) {
+            var prevColCount = $wall.data('masonry').colCount;
+            masonrySetup($wall, opts, props);
+            if ( props.colCount != prevColCount ) masonryArrange($wall, opts, props); 
+        }
+
+
+        /*
+        *  let's begin
+        *  IN A WORLD...
+        */
+        return this.each(function() {  
+
+            var $wall = $(this);
+
+            var props = $.extend( {}, $.masonry );
+
+            // checks if masonry has been called before on this object
+            props.masoned = $wall.data('masonry') != undefined;
+        
+            var previousOptions = props.masoned ? $wall.data('masonry').options : {};
+
+            var opts =  $.extend(
+                            {},
+                            props.defaults,
+                            previousOptions,
+                            options
+                        );  
+
+            // should we save these options for next time?
+            props.options = opts.saveOptions ? opts : previousOptions;
+
+            //picked up from Paul Irish
+            callback = callback || function(){};
+
+            if ( props.masoned && opts.appendedContent != undefined ) {
+                // if we're dealing with appendedContent
+                opts.$brickParent = opts.appendedContent;
+            } else {
+                opts.$brickParent = $wall;
+            }
+            
+            if ( opts.$brickParent.children().length > 0  ) {
+                // call masonry layout
+                masonrySetup($wall, opts, props);
+                masonryArrange($wall, opts, props);
+            
+                // binding window resizing
+                var resizeOn = previousOptions.resizeable;
+                if ( !resizeOn && opts.resizeable ) {
+                    $(window).bind('resize.masonry', function() { masonryResize($wall, opts, props); } );
+                }
+                if ( resizeOn && !opts.resizeable ) $(window).unbind('resize.masonry');
+            } else {
+                // brickParent is empty, do nothing, go back home and eat chips
+                return this;
+            }
+
+        });        //        /return this.each(function()
+    };            //        /$.fn.masonry = function(options)
+
+
+ 
+    $.masonry = {
+        defaults : {
+            singleMode: false,
+            columnWidth: undefined,
+            itemSelector: undefined,
+            appendedContent: undefined,
+            saveOptions: true,
+            resizeable: true
+        },
+        colW: undefined,
+        colCount: undefined,
+        colY: undefined,
+        wallH: undefined,
+        masoned: undefined,
+        posTop: 0,
+        posLeft: 0,
+        options: undefined,
+        $bricks: undefined,
+        $brickParent: undefined
+    };
+
+})(jQuery);  
+
diff --git a/themes/vibio/js/mbMenu/css/menu_black.css b/themes/vibio/js/mbMenu/css/menu_black.css
index 9ff9c34..3a87360 100644
--- a/themes/vibio/js/mbMenu/css/menu_black.css
+++ b/themes/vibio/js/mbMenu/css/menu_black.css
@@ -34,7 +34,7 @@ body{
 
 .rootVoices td.rootVoice.selected{
   background: black url("../images/bgnd_sel_4.png");
-  padding:8px;
+  padding:28px;
   color:#ffffff;
   cursor: pointer;
   font-size:14px;
diff --git a/themes/vibio/js/mb_menu.js b/themes/vibio/js/mb_menu.js
index 9a63322..fb67173 100644
--- a/themes/vibio/js/mb_menu.js
+++ b/themes/vibio/js/mb_menu.js
@@ -3,7 +3,9 @@ $(document).ready(function()
 	var menu_topoffset = $.browser.mozilla ? 0 : 2;
 	var menu_leftoffset = $.browser.mozilla ? -1 : 0;
 	var menu_width = $.browser.msie ? 21 : $.browser.mozilla ? 19 : 20;
-	
+	//Tells us what kind of search is currently being performed
+	var type_id = $("#edit-search-type").val(type_id);
+       	
 	$("#profile_ext_headermenu").buildMenu({
 		menuWidth: $("#profile_ext_headermenu").width() - menu_width,
 		hasImages: false,
@@ -29,15 +31,22 @@ $(document).ready(function()
 		menuSelector: ".search_type_submenu_container"
 	});
 
+        //Set the current search type image
+        $("#search_type_menu .button").css("background-image", 'url("/themes/vibio/images/' + type_id + '_button.png")');	
+
 	$(".searchtype_image").live("click", function()
 	{
-		var type_id = $(this).attr("id").split("searchtype_")[1];
-		$("#search_type_current")
-			.attr("src", $(this).attr("src"))
-			.attr("alt", $(this).attr("alt"))
-			.attr("title", $(this).attr("title"));
+		//see what the updated search type is
+		type_id = $(this).attr("id").split("searchtype_")[1];
+		/* this used to use the same button up top and in the menu.
+       Now it doesn't.  Need a non-displaying option that displays
+       when it's the "Item ^" or "User ^" button
+     */
 
-		$("#edit-search-type").val(type_id);
+		$("#edit-search-type").val(type_id); // this is hidden value for submit
+		//display the currently selected search type as a button label on the
+		//left of the search bar.
+                $("#search_type_menu .button").css("background-image", 'url("/themes/vibio/images/' + type_id + '_button.png")');
 
 		return false;
 	});
diff --git a/themes/vibio/js/product.js b/themes/vibio/js/product.js
index 5c7c92a..8fe4b3c 100644
--- a/themes/vibio/js/product.js
+++ b/themes/vibio/js/product.js
@@ -44,7 +44,7 @@ $(document).ready(function()
 			data: { nid: nid },
 			success: function(html, stat)
 			{
-				vibio_dialog.dialog.dialog("close");
+				/* remove close button? vibio_dialog.dialog.dialog("close"); */
 				vibio_dialog.create(html);
 			}
 		});
@@ -93,4 +93,4 @@ $(document).ready(function()
 	  
 	  return false;
 	});
-});
\ No newline at end of file
+});
diff --git a/themes/vibio/js/scroll-init.js b/themes/vibio/js/scroll-init.js
new file mode 100644
index 0000000..45fbdba
--- /dev/null
+++ b/themes/vibio/js/scroll-init.js
@@ -0,0 +1,47 @@
+$(function(){
+ if($(".pager-last").find('a').attr('href') != undefined){
+    //Get the number of pages from the Views Pager (Use the full pager, it will be hidden with .infinitescroll() anyway)
+   	 lastPageHref = $(".pager-last").find('a').attr('href').toString(); 
+    	 lastPageHref = lastPageHref.split("=");
+    	 numOfPages = parseInt(lastPageHref[1]);
+
+    $('.view.view-flag-featured .view-content').masonry({
+        columnWidth: 180, 
+        itemSelector: '.views-row:visible' 
+    });
+
+    $('.view.view-flag-featured .view-content').infinitescroll({
+        navSelector  : ".pager",    // selector for the paged navigation 
+        nextSelector : ".pager .pager-next a",    // selector for the NEXT link (to page 2)
+        itemSelector : ".views-row",       // selector for all items you'll retrieve
+        loadingImg   : '/themes/vibio/images/barloader.gif',
+        donetext     : "No more pages to load.",
+        debug        : false,
+        pathParse    : '?page=1',
+        animate      : true, 
+        pages        : numOfPages, //NEW OPTION: number of pages in the Views Pager
+        errorCallback: function() { $('#infscr-loading').animate({opacity: .8},2000).fadeOut('normal');//fade out the error message after 2 seconds
+
+      }
+    },
+    // call masonry as a callback.
+    function() { $('.view.view-flag-featured .view-content').masonry({ appendedContent: $(this) }); 
+    $('div.views-field.views-field-nid').hide();
+	  $('div.views-field.views-field-field-main-image-fid').hover(function() {
+		  $(this).next().show();
+	  }, 
+	  function() {
+		  $(this).next().hide();
+	  });
+	  $('div.views-field.views-field-nid').hover(function() {
+      $(this).show();
+  		$(this).prev().addClass('hover-shadow');
+	  }, 
+	  function() {
+		  $(this).hide();
+		  $(this).prev().removeClass('hover-shadow');
+	  });
+   }
+  );
+}
+});
diff --git a/themes/vibio/js/scroll.js b/themes/vibio/js/scroll.js
new file mode 100644
index 0000000..d40e016
--- /dev/null
+++ b/themes/vibio/js/scroll.js
@@ -0,0 +1,272 @@
+/*!
+// Infinite Scroll jQuery plugin
+// copyright Paul Irish, licensed GPL & MIT
+// version 1.2.090804
+
+// home and docs: http://www.infinite-scroll.com
+
+
+// Updated for Drupal 6
+// http://github.com/vladikoff/Infinite-Scroll-jQuery-plugin-for-Drupal
+
+
+*/
+
+// todo: add preloading option.
+ 
+;(function($){
+    
+  $.fn.infinitescroll = function(options,callback){
+    
+    // console log wrapper.
+    function debug(){
+      if (opts.debug) { window.console && console.log.call(console,arguments)}
+    }
+    
+    // grab each selector option and see if any fail.
+    function areSelectorsValid(opts){
+      for (var key in opts){
+        if (key.indexOf && key.indexOf('Selector') && $(opts[key]).length === 0){
+            debug('Your ' + key + ' found no elements.');    
+            return false;
+        } 
+        return true;
+      }
+    }
+
+
+    // find the number to increment in the path.
+    function determinePath(path){
+      
+      path.match(relurl) ? path.match(relurl)[2] : path; 
+
+      // there is a 2 in the url surrounded by slashes, e.g. /page/2/
+      if ( path.match(/^(.*?)\b1\b(.*?$)/) ){  
+          path = path.match(/^(.*?)\b1\b(.*?$)/).slice(1);
+      } else 
+        // if there is any 2 in the url at all.
+        if (path.match(/^(.*?)1(.*?$)/)){
+          
+          // page= is used in django:
+          //   http://www.infinite-scroll.com/changelog/comment-page-1/#comment-127
+          if ( path.match(/^(.*?page=)1(\/.*|$)/) ){
+            path = path.match(/^(.*?page=)2(\/.*|$)/).slice(1);
+            return path;
+          }
+          
+          debug('Trying backup next selector parse technique. Treacherous waters here, matey.');
+          path = path.match(/^(.*?)1(.*?$)/).slice(1);
+      } else {
+        debug('Sorry, we couldn\'t parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com.');    
+        props.isInvalidPage = true;  //prevent it from running on this page.
+      }
+      
+      return path;
+    }
+
+
+    // 'document' means the full document usually, but sometimes the content of the overflow'd div in local mode
+    function getDocumentHeight(){
+      // weird doubletouch of scrollheight because http://soulpass.com/2006/07/24/ie-and-scrollheight/
+      return opts.localMode ? ($(props.container)[0].scrollHeight && $(props.container)[0].scrollHeight) 
+                                // needs to be document's height. (not props.container's) html's height is wrong in IE.
+                                : $(document).height()
+    }
+    
+    
+        
+    function isNearBottom(opts,props){
+      
+      // distance remaining in the scroll
+      // computed as: document height - distance already scroll - viewport height - buffer
+      var pixelsFromWindowBottomToBottom = getDocumentHeight()  -
+                                            (opts.localMode ? $(props.container).scrollTop() : 
+                                              // have to do this bs because safari doesnt report a scrollTop on the html element
+                                              ($(props.container).scrollTop() || $(props.container.ownerDocument.body).scrollTop())) - 
+                                            $(opts.localMode ? props.container : window).height();
+      
+      debug('math:',pixelsFromWindowBottomToBottom, props.pixelsFromNavToBottom);
+      
+      // if distance remaining in the scroll (including buffer) is less than the orignal nav to bottom....
+      return (pixelsFromWindowBottomToBottom  - opts.bufferPx < props.pixelsFromNavToBottom);    
+    }    
+    
+    function showDoneMsg(){
+      props.loadingMsg
+        .find('img').hide()
+        .parent()
+          .find('div').html(opts.donetext).animate({opacity: 1},2000).fadeOut('normal');
+      
+      // user provided callback when done    
+      opts.errorCallback();
+    }
+    
+    function infscrSetup(path,opts,props,callback){
+    
+        if (props.isDuringAjax || props.isInvalidPage || props.isDone) return; 
+    
+            if ( !isNearBottom(opts,props) ) return; 
+              
+            // we dont want to fire the ajax multiple times
+            props.isDuringAjax = true; 
+              props.currPage++;
+			
+			if ( !(props.currPage <= opts.pages)) return //limits pages for the pager in the Views module.
+            // show the loading message and hide the previous/next links
+            props.loadingMsg.appendTo( opts.contentSelector ).show();
+            $( opts.navSelector ).hide(); 
+            
+            // increment the URL bit. e.g. /page/3/
+          
+            
+            debug('heading into ajax',path);
+            
+            // if we're dealing with a table we can't use DIVs
+            var box = $(opts.contentSelector).is('table') ? $('<tbody/>') : $('<div/>');  
+            
+
+
+            box
+              .attr('id','infscr-page-'+props.currPage)
+              .addClass('infscr-pages')
+              .appendTo( opts.contentSelector )
+              .load( path.join( props.currPage ) + ' ' + opts.itemSelector,null,function(){
+			 
+                
+                    // if we've hit the last page...
+                    if (props.isDone){ 
+                    showDoneMsg();
+                          return false;    
+                          
+                  } else {
+                    
+                      // if it didn't return anything
+                      if (box.children().length == 0){
+                        // fake an ajaxError so we can quit.
+                        $.event.trigger( "ajaxError", [{status:404}] ); 
+                      } 
+                      
+                      // fadeout currently makes the <em>'d text ugly in IE6
+                        props.loadingMsg.fadeOut('normal' ); 
+  
+                        // smooth scroll to ease in the new content
+                        if (opts.animate){ 
+                          var scrollTo = $(window).scrollTop() + $('#infscr-loading').height() + opts.extraScrollPx + 'px';
+                      $('html,body').animate({scrollTop: scrollTo}, 800,function(){ props.isDuringAjax = false; }); 
+                        }
+                    
+                    // pass in the new DOM element as context for the callback
+                    callback.call( box[0] );
+                    
+                        if (!opts.animate) props.isDuringAjax = false; // once the call is done, we can allow it again.
+                  }
+                }); // end of load()
+                
+              
+      }  // end of infscrSetup()
+          
+  
+    
+      
+    // lets get started.
+    
+    var opts    = $.extend({}, $.infinitescroll.defaults, options);
+    var props   = $.infinitescroll; // shorthand
+    callback    = callback || function(){};
+    
+    if (!areSelectorsValid(opts)){ return false;  }
+    
+     // we doing this on an overflow:auto div?
+    props.container   =  opts.localMode ? this : document.documentElement;
+                          
+    // contentSelector we'll use for our .load()
+    opts.contentSelector = opts.contentSelector || this; 
+    
+    
+    // get the relative URL - everything past the domain name.
+    var relurl        = /(.*?\/\/).*?(\/.*)/;
+    var path          = $(opts.nextSelector).attr('href');
+    
+    
+    if (!path) { debug('Navigation selector not found'); return; }
+    
+    // set the path to be a relative URL from root.
+    path          = determinePath(path);
+    
+
+    // reset scrollTop in case of page refresh:
+    if (opts.localMode) $(props.container)[0].scrollTop = 0;
+
+    // distance from nav links to bottom
+    // computed as: height of the document + top offset of container - top offset of nav link
+    props.pixelsFromNavToBottom =  getDocumentHeight()  +
+                                     $(props.container).offset().top - 
+                                     $(opts.navSelector).offset().top;
+    
+    // define loading msg
+    props.loadingMsg = $('<div id="infscr-loading" style="text-align: center;"><img alt="Loading..." src="'+
+                                  opts.loadingImg+'" /><div>'+opts.loadingText+'</div></div>');    
+     // preload the image
+    (new Image()).src    = opts.loadingImg;
+                
+
+  
+    // set up our bindings
+    $(document).ajaxError(function(e,xhr,opt){
+      debug('Page not found. Self-destructing...');    
+      
+      // die if we're out of pages.
+      if (xhr.status == 404){ 
+        showDoneMsg();
+        props.isDone = true; 
+        $(opts.localMode ? this : window).unbind('scroll.infscr');
+      } 
+    });
+    
+    // bind scroll handler to element (if its a local scroll) or window  
+    $(opts.localMode ? this : window)
+      .bind('scroll.infscr', function(){ infscrSetup(path,opts,props,callback); } )
+      .trigger('scroll.infscr'); // trigger the event, in case it's a short page
+    
+    
+    return this;
+  
+  }  // end of $.fn.infinitescroll()
+  
+
+  
+  // options and read-only properties object
+  
+  $.infinitescroll = {     
+        defaults      : {
+                          debug           : false,
+                          preload         : false,
+                          nextSelector    : "div.navigation a:first",
+                          loadingImg      : "http://www.infinite-scroll.com/loading.gif",
+                          loadingText     : "<em>Loading the next set of posts...</em>",
+                          donetext        : "<em>Congratulations, you've reached the end of the internet.</em>",
+                          navSelector     : "div.navigation",
+                          contentSelector : null,           // not really a selector. :) it's whatever the method was called on..
+                          extraScrollPx   : 150,
+                          itemSelector    : "div.post",
+                          animate         : false,
+                          localMode      : false,
+                          bufferPx        : 40,
+						  pages: 1, //pages in the Drupal Views pager.
+                          errorCallback   : function(){}
+						
+                        }, 
+        loadingImg    : undefined,
+        loadingMsg    : undefined,
+        container     : undefined,
+        currPage      : 1,
+        currDOMChunk  : null,  // defined in setup()'s load()
+        isDuringAjax  : false,
+        isInvalidPage : false,
+        isDone        : false  // for when it goes all the way through the archive.
+  };
+  
+
+
+})(jQuery);
+
diff --git a/themes/vibio/js/select.js b/themes/vibio/js/select.js
new file mode 100644
index 0000000..0e1cf26
--- /dev/null
+++ b/themes/vibio/js/select.js
@@ -0,0 +1,8 @@
+/**
+* attach Jquery Dropdown functionality
+*/
+Drupal.behaviors.themeAttachJQDropDown = function(context) {
+  $('#node-form select').each(function () {
+    $(this).addClass('jquery_dropdown jquery_dropdown_jump');
+  });
+}
\ No newline at end of file
diff --git a/themes/vibio/template.php b/themes/vibio/template.php
index c636b05..5635a39 100644
--- a/themes/vibio/template.php
+++ b/themes/vibio/template.php
@@ -57,7 +57,7 @@ function vibio_preprocess_search_results(&$variables) {
   $variables['search_results'] = '';
 	$zebra = 1;
   foreach ($variables['results'] as $result) {
-		$z = $result['zebra'] = $zebra%3;
+		$z = $result['zebra'] = $zebra%4;
 		$zebra++;
     $variables["search_results_$z"] .= theme('search_result', $result, $variables['type']);
   }
@@ -220,7 +220,7 @@ function phptemplate_user_relationships_pending_request_disapprove_link($uid, $r
 function phptemplate_user_relationships_remove_link($uid, $rid)
 {
 	return l(
-		"<img src='/themes/vibio/images/close_button.png' />",
+		"<img src='/themes/vibio/images/not_now.png' />",
 		"relationships/{$uid}/{$rid}/remove",
 		array(
 			"attributes"=> array(
@@ -247,7 +247,7 @@ function phptemplate_user_relationships_pending_request_cancel_link($uid, $rid)
 function phptemplate_user_relationships_request_relationship_direct_link($relate_to, $relationship_type)
 {
 	return l(
-		"<button>".t("Add friend")."</button>",
+		"<button class='add_connection'>".t("Connect")."</button>",
 		"relationships/{$relate_to->uid}/{$relationship_type->rtid}/request",
 		array(
 			"attributes"=> array(
@@ -371,3 +371,13 @@ function vibio_checkboxes($ele)
 	$ele['#children'] = "<table>{$ele['#children']}</table>";
 	return theme_checkboxes($ele);
 }*/
+
+/*Remove Resizable funtion of text area*/
+/*function phptemplate_textarea($element) {
+  if (strpos($_GET['q'], 'node/add') !== 0) {
+    $element['#resizable'] = FALSE;
+  }
+  return theme_textarea($element);
+}*/
+
+?>
diff --git a/themes/vibio/templates/badge/alert-badge-single.tpl.php b/themes/vibio/templates/badge/alert-badge-single.tpl.php
index 8c612c2..795c568 100644
--- a/themes/vibio/templates/badge/alert-badge-single.tpl.php
+++ b/themes/vibio/templates/badge/alert-badge-single.tpl.php
@@ -2,4 +2,5 @@
 	<img class='badge_image' src="<?php echo $badge->image_src; ?>"
 		alt="<?php echo $badge->description; ?>" title="<?php echo $badge->description; ?>" />
 	<div class="badge_title"><?php echo $badge->title; ?></div>
-</div>
\ No newline at end of file
+	<!--<div class="badge_text"><?php echo $badge->description; ?></div>-->
+</div>
diff --git a/themes/vibio/templates/badge/alert.tpl.php b/themes/vibio/templates/badge/alert.tpl.php
index 135aa7c..6a56d60 100644
--- a/themes/vibio/templates/badge/alert.tpl.php
+++ b/themes/vibio/templates/badge/alert.tpl.php
@@ -3,16 +3,17 @@ global $user;
 $uid = $user->uid;
 
 $header = t("Congratulations!");
-$footer = t("!click_here to view your badges", array("!click_here" => l(t("Click here"), "user/{$uid}/badges")));
+$footer = t("!click_here", array("!click_here" => l(t("Click here to view all your badges"), "user/{$uid}/badges")));
 ?>
 
-<div id="badge_alert_container">
+<div id="badge_alert_container_earned">
 	<h5><?php echo $header; ?></h5>
-	<div class="badge_alert_title">
+	<?php echo $badge_html; ?>
+	<div class="badge_alert_title_earned">
 		<?php echo $badge_title; ?>
 	</div>
-	<?php echo $badge_html; ?>
-	<div id="badge_alert_footer">
+	
+	<div id="badge_alert_footer_earned">
 		<?php echo $footer; ?>
 	</div>
 </div>
\ No newline at end of file
diff --git a/themes/vibio/templates/badge/list-badge.tpl.php b/themes/vibio/templates/badge/list-badge.tpl.php
index e887baa..a66cd3f 100644
--- a/themes/vibio/templates/badge/list-badge.tpl.php
+++ b/themes/vibio/templates/badge/list-badge.tpl.php
@@ -1,15 +1,15 @@
 <?php
 echo "
-	<div class='badge_list_badge'>
+<div class='badge_list_badge'>
 		<div class='badge_image_container'>
 			<img class='badge_image' src='{$badge->image_src}' />
 		</div>
 		<div class='badge_info'>
-			{$badge->title}<br />
-			{$badge->description}<br />
-			<span class='timestamp_uncalculated'>{$badge->tstamp}</span>
+			<h1>{$badge->title}</h1>
+			{$badge->description}
+			<!-- <span class='timestamp_uncalculated'>{$badge->tstamp}</span> -->
 		</div>
 		<div class='clear'></div>
 	</div>
 ";
-?>
\ No newline at end of file
+?>
diff --git a/themes/vibio/templates/collections/collection-item-preview.tpl.php b/themes/vibio/templates/collections/collection-item-preview.tpl.php
index f8797d8..3dd047f 100644
--- a/themes/vibio/templates/collections/collection-item-preview.tpl.php
+++ b/themes/vibio/templates/collections/collection-item-preview.tpl.php
@@ -2,7 +2,9 @@
 $updated = t("Updated !date", array("!date" => "<span class='timestamp_uncalculated'>{$item->node_changed}</span>"));
 $price_image = theme("vibio_item_price_image", $item, "mini");
 
-echo "
+
+
+echo "<!-- sites/default/themes/vibio/templates/collections/collection-item-preview.tpl.php -->
 	<div class='collection_list_image'>
 		$price_image
 		<a href='/node/{$item->nid}'>
@@ -15,7 +17,6 @@ echo "
 		</a>
 		<span class='item_updated'>$updated</span>
 		<span class='item_price'>{$item->offer2buy_price}</span>
-		{$share_links}
 	</div>
 ";
 ?>
diff --git a/themes/vibio/templates/collections/random-collection.tpl.php b/themes/vibio/templates/collections/random-collection.tpl.php
index 7a2d4cf..b722923 100644
--- a/themes/vibio/templates/collections/random-collection.tpl.php
+++ b/themes/vibio/templates/collections/random-collection.tpl.php
@@ -20,4 +20,4 @@ echo "
 		<div class='collection_link'>$link</div>
 	</div>
 ";
-?>
\ No newline at end of file
+?>
diff --git a/themes/vibio/templates/dos/display.tpl.php b/themes/vibio/templates/dos/display.tpl.php
index 730ef90..7602f1f 100644
--- a/themes/vibio/templates/dos/display.tpl.php
+++ b/themes/vibio/templates/dos/display.tpl.php
@@ -1,4 +1,4 @@
-<?php    /* seems to print a link to the user, maybe on the profile page */
+<?php    /* seems to print a link on the other user page -breadcrumb */
 if ($dos === false)
 {
 	$out = t("This is you");
@@ -18,7 +18,7 @@ elseif (!empty($dos))
 		$links[] = l($name, "user/{$uid}");
 	}
 	
-	$out = implode(" -> ", $links);
+	$out = implode("<span class='breadcrumb-sep'>-</span>", $links);
 }
 
 echo "
diff --git a/themes/vibio/templates/facebook/login-block.tpl.php b/themes/vibio/templates/facebook/login-block.tpl.php
index 5add870..6e79e09 100644
--- a/themes/vibio/templates/facebook/login-block.tpl.php
+++ b/themes/vibio/templates/facebook/login-block.tpl.php
@@ -1,17 +1,18 @@
-<?php
-global $user;
-
-if (!$user->uid)
-{
-	$title = t("New to Vibio?");
-	$description = t("You can log in with your Facebook account");
-
-	echo "
-		<h5 class='menu_header'>$title</h5>
-		<span class='menu_description'>$description</span>
-		<div class='fb_login'>
-			<img class='fb_login_button' src='/themes/vibio/images/facebook/login-button.png' />
-		</div>
-	";
-}
-?>
+<?php
+/* quick reverse-engineer:  suspect class=fb_login clicks are dealt with
+ *  by themes/vibio/js/facebook.js
+ * If we switch to a normal facebook module, um...
+ */
+
+
+global $user;
+
+if (!$user -> uid) {
+	echo "
+		<span class='fb-or'>OR</span>
+		<div class='fb_login'>
+			<img class='fb_login_button' src='/themes/vibio/images/facebook/login-button.png' />
+		</div>
+	";
+}
+?>
diff --git a/themes/vibio/templates/facebook/share.tpl.php b/themes/vibio/templates/facebook/share.tpl.php
index 89d03a8..f9b4146 100644
--- a/themes/vibio/templates/facebook/share.tpl.php
+++ b/themes/vibio/templates/facebook/share.tpl.php
@@ -1,11 +1,11 @@
-<?php
-$alt = t("Share on Facebook");
-echo "
-	<div class='fb_share_container'>
-		<span class='fb_share_params'>$share_params</span>
-		<a class='fb_share' href='#'>
-			<img src='{$share_image}' alt='$alt' title='$alt' />
-		</a>
-	</div>
-";
-?>
+<?php
+$alt = t("Share on Facebook");
+echo "
+	<div class='fb_share_container'>
+		<span class='fb_share_params'>$share_params</span>
+		<a class='fb_share' href='#'>
+			<img src='{$share_image}' alt='$alt' title='$alt' />
+		</a>
+	</div>
+";
+?>
diff --git a/themes/vibio/templates/network/friend-finder-messages.tpl.php b/themes/vibio/templates/network/friend-finder-messages.tpl.php
index 3e51c6a..1d1e5d0 100644
--- a/themes/vibio/templates/network/friend-finder-messages.tpl.php
+++ b/themes/vibio/templates/network/friend-finder-messages.tpl.php
@@ -1,4 +1,4 @@
 <div class="rounded_content" id="network_ff_messages">
-	<h4><?php echo t("Didn't find anyone to connect to?"); ?></h4>
+	<h4><?php echo t("Youve got friends already on Vibio!"); ?></h4>
 	<?php echo $errors; ?>
 </div>
diff --git a/themes/vibio/templates/node-blank.tpl.php b/themes/vibio/templates/node-blank.tpl.php
new file mode 100644
index 0000000..a7a381d
--- /dev/null
+++ b/themes/vibio/templates/node-blank.tpl.php
@@ -0,0 +1,12 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="<?php print $language -> language;?>" xml:fb="http://ogp.me/ns/fb#" lang="<?php print $language -> language;?>" dir="<?php print $language -> dir;?>">
+	<head>
+		<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
+		<title><?php print $head_title;?></title>
+	</head>
+	<body>
+		<div class="content">
+			<?php print $content;?>
+		</div>
+	</body>
+</html>
diff --git a/themes/vibio/templates/node-offer.tpl.php b/themes/vibio/templates/node-offer.tpl.php
index 5ce9e3f..e9cb2a8 100644
--- a/themes/vibio/templates/node-offer.tpl.php
+++ b/themes/vibio/templates/node-offer.tpl.php
@@ -80,6 +80,7 @@
  * @see zen_preprocess_node()
  * @see zen_process()
  */
+global $base_url;
 ?>
 
 <?php /* we need the conversation/negotiation */
@@ -115,8 +116,7 @@
 
 
 <div id="node-<?php print $node->nid; ?>" class="<?php print $classes; ?> clearfix popthis">
-
- <div id="product_info_in_offer">
+ <div id="offer_top"><div id="product_info_in_offer">
   <?php /* product picture (name in title) */ 
 	// dsm($item); -> I don't see collection as part of this
 
@@ -164,11 +164,8 @@
 	/* imagecache the person_pic soon !!! */
 	?>
 	<div class="person_pic"><?php print theme('user_picture', $item_owner); ?></div>
-  <?php 
-	print "<b>Seller:</b> <a href='user/" . $item_owner->uid . "'>" .
-		$item_owner->name . "</a>" ; 
-//d5 print theme("user_picture",$user);
-?>
+<div class="person_pic_seller">  <?php print "Seller: <a href='". $base_url . "/user/" . $item_owner->uid . "'>" .
+		$item_owner->name . "</a>" ; //d5 print theme("user_picture",$user);?>
   <?php /* it was Requested price, Jason sent frames that had it as Price,
 	* Simon said "Asking", Jason changed it to "List", back to Asking. */ ?>
 <?php
@@ -183,17 +180,17 @@ print content_view_field(content_fields("field_pay_received"), $current_seller,
 print content_view_field(content_fields("field_item_sent"), $current_seller, FALSE, FALSE);
 */
 ?>
-
- </div>
+</div>
+ </div></div>
 <?php /* Prep the buyer info section. Moves depending on buyer logged in. */ 
 	$offer_user = user_load($node->uid);
-
+	$amount = $node->field_price[0][value];
 	$buyer_div = 
    '<div class="person_pic">' .
 	 theme('user_picture', $offer_user) .
 	 '</div>' .
-	 "<b>Buyer:</b> <a href='user/" . $offer_user->uid . "'>" .  
-			$offer_user->name . "</a>" ; 
+	 "<div class='person_pic_seller'>Buyer: <a href='" . $base_url . "/user/" . $offer_user->uid . "'>" .  
+			$offer_user->name . "</a></div><div class='person_pic_offer'>Offer:$amount</div>"; 
 
 if ($perm_seller) {
  	$buyer_div .=
@@ -260,21 +257,20 @@ if ($perm_seller) {
 			$output = "<div id='buyer_info_in_offer' >$buyer_div</div>";
 		}
 
-print $output;
-?>
+print $output; ?>
 
   <div id="neg-discuss">
   <?php /* print the conversation, view defined (and cache loaded) above */
 //print views_embed_view($viewName, $display_id, $myArgs);
 	if ( $perm_buyer || $perm_seller ) { // you  are buyer or seller
-		print "<h3>Negotiation Log</h3><div id='chit-chat'>" .
-			$chit_chat . '</div>';
+		print "<h3>Negotiation Log</h3><div id='chit-chat'>" . $chit_chat . "</div>";
 	} else {
-		print "<h3>Discussions are private to the participants.</h3>";
+		print "<div><h3>Discussions are private to the participants.</h3></div>";
 	}
   ?>
-	</div>
+</div>
 
   <?php // print $links; Links contains: Archive, Decline, Decline (huh?)  ?>
-</div> <!-- /.node -->
+ <!-- /.node -->
 
+</div>
diff --git a/themes/vibio/templates/node-offer_neg_buyer.tpl.php b/themes/vibio/templates/node-offer_neg_buyer.tpl.php
index daadd1f..33c1f50 100644
--- a/themes/vibio/templates/node-offer_neg_buyer.tpl.php
+++ b/themes/vibio/templates/node-offer_neg_buyer.tpl.php
@@ -80,14 +80,20 @@
  */
 ?>
 <div id="node-<?php print $node->nid; ?>" class="<?php print $classes; ?> clearfix">
-  <?php print $user_picture; ?>
-
+<?php 
+	$buyer = user_load($node->uid);
+        if (!$buyer->picture) {
+                $buyer->picture = "themes/vibio/images/icons/default_user_large.png";
+        }
+	$buyer_picture = theme('imagecache','little_profile_pic', $buyer->picture, $buyer->name . "'s Picture", 'User Picture', ''); 
+	print $buyer_picture;
+?>
         <span class="submitted">
           <?php
 						$amount = $node->field_price[0][value];
 						if ( $amount > 0 ) { $amount = "offers \$$amount"; }
 						else { $amount = "is interested"; }
-						print "<div class='date'>$date</div>";
+						print "<div class='date'>$user_picture $date</div>";
 						print "<div class='minheader'>$name $amount</div>";
           ?>
         </span>
@@ -96,23 +102,22 @@
   <div class="content">
 <?php
 if ( $node->field_offer_expires[0][value] ) {
-	print "<br><div class='label'>Expires:</div>" . $node->field_offer_expires[0][value] 
-		. '</div>';
+	print "<div class='label'>Expires:</div>" . $node->field_offer_expires[0][value];
 } else {
 	print "<div class='label'>No Expiration Set</div>";
 }
 if ( $node->field_city[0][value] ) {
-	print "<br><div class='label'>Ship to:</div>" . $node->field_city[0][safe];
+	print "<div class='label'>Ship to:</div>" . $node->field_city[0][safe];
 }
 if ( $node->field_pay_sent[0][value] != 'no' ) {
-	print "<br><div class='label'>Payment Sent:</div>" . $node->field_pay_sent[0][value];
+	print "<div class='label'>Payment Sent:</div>" . $node->field_pay_sent[0][value];
 }
 if ( $node->field_item_received[0][value] == 'Yes' ) {
-	print "<br><div class='label'>Received!</div>";
+	print "<div class='label'>Received!</div>";
 }
 
 
-print "<div class='chat'>" . $node->field_chat[0][value] . "</div>";
+print "<div class='chat'>Message: " . $node->field_chat[0][value] . "</div>";
 ?>
     <?php //print $content; ?>
   </div>
diff --git a/themes/vibio/templates/node-offer_neg_seller.tpl.php b/themes/vibio/templates/node-offer_neg_seller.tpl.php
index 6a114e2..6f71e22 100644
--- a/themes/vibio/templates/node-offer_neg_seller.tpl.php
+++ b/themes/vibio/templates/node-offer_neg_seller.tpl.php
@@ -82,14 +82,20 @@
  */
 ?>
 <div id="node-<?php print $node->nid; ?>" class="<?php print $classes; ?> clearfix">
-  <?php print $user_picture; ?>
-
+  <?php
+	$seller = user_load($node->uid);
+	if (!$seller->picture) {
+		$seller->picture = "themes/vibio/images/icons/default_user_large.png";
+        }
+	$seller_picture = theme('imagecache','little_profile_pic', $seller->picture, $seller->name . "'s Picture", 'User Picture', '');
+        print $seller_picture;
+  ?>
   <?php if ($display_submitted || $terms): ?>
     <div class="meta">
       <?php if ($display_submitted): ?>
         <span class="submitted">
           <?php
-            print t("!username reply to offer on !datetime",
+            print t("!username Replied<br />On: !datetime",
               array('!username' => $name, '!datetime' => $date));
           ?>
         </span>
diff --git a/themes/vibio/templates/node-product.tpl.php b/themes/vibio/templates/node-product.tpl.php
index 61f0244..8551102 100644
--- a/themes/vibio/templates/node-product.tpl.php
+++ b/themes/vibio/templates/node-product.tpl.php
@@ -1,196 +1,205 @@
-<?php
-$title = "<h3 class='product_title'>".check_plain($node->title)."</h3>";
-
-/* Back link for searches */
-if ($_GET['searchcrumb'])
-{
-	/* stephen: security updtae 20110609 */
-	$sanitary = htmlspecialchars ( $_GET['searchcrumb'],   ENT_QUOTES );
-  	$searchcrumb = t("Back to search results");
-	$searchcrumb = "<a href='{$sanitary}'>$searchcrumb</a><br /> . ";
-}
-else
-{
-	$searchcrumb = "";
-}
-
-if ($image = _product_get_image($node->nid, true))
-{
-	$image = "
-		<a href='$image' rel='prettyphoto[item_image]'>
-			<img src='$image' class='product_main_image' />
-		</a>
-	";
-}
-
-/* stephen: security update 20110609 */
-$sanitary = htmlspecialchars ( $_GET['searchcrumb'],   ENT_QUOTES );
-$manage_link = theme("product_inventory_manage_link", $node, $sanitary);
-
-if (isset($node->amazon_data)) {
-	/* bug hunt: nodes with field_amazon_asin are returning false here.
-   *  returned by: amazon/vibio_amazon.module
-   *    function vibio_amazon_nodeapi ($op = load)
-   *     "amazon_data" => array_shift(amazon_item_lookup_from_db($node->field_amazon_asin[0]['asin'])),
-   * this is working: dsm(amazon_item_lookup_from_db($node->field_amazon_asin[0]['asin']));
-   * and node_load is firing, but somehow that lookup, which works here, isn't
-   *  working there.
-   * $node->field_amazon_asin[0]['asin'] isn't set at node_api. It is set here.
-   *  module weighting problem?  
-
-   */
-
-	if (empty($node->body))
-	{
-		$product_content = theme("product_amazon_display", $node, $page);
-	}
-	else
-	{
-		$product_content = theme("product_display", $node, $page);
-		$product_content .= theme("vibio_amazon_item_details", $node);
-	}
-	
-	$external_link = $page ? t("Get \"!item\" from !external_link.", array("!item" => $node->title, "!external_link" => l(t("Amazon"), $node->amazon_data['detailpageurl'], array("absolute" => true)))) : "";
-	$external_it_link =  t("Find it on !external_link.", array("!external_link" => l(t("Amazon"), $node->amazon_data['detailpageurl'], array("absolute" => true))));
-
-}
-else
-{
-	$product_content = theme("product_display", $node, $page);
-$external_link = "We couldn't find this product at Amazon.";
-//this is working: dsm(amazon_item_lookup_from_db($node->field_amazon_asin[0]['asin']));
-}
-
-// these things will show up, regardless of the product source
-if (arg(0) != "product" && arg(2) != "add-to-inventory")
-{
-	drupal_set_title($node->title);
-}
-
-/*  This section is for the page starting after "People who have...." */
-if ($page)
-{
-	module_load_include("inc", "product");
-	
-	$product_images = theme("vibio_item_images", product_images($node));
-	$any_collectors = ''; // boolean	
-
-	// 20110715 We need to highlight one product based on URL
-	// Might also think about adding your product to the list.
-	// Nelson's style is to call the database for eachsuch search
-	// My pref would be a hashreturned from database.
-	// Yeah -- his approach breaks down... every call has to remove
-	// the highlighted product, icky. Not going to do that..
-	// All this code should be moved (mine, plus what was already here)
-	// out of tpl.	
-
-	// deal with [network]->those owners, [vibio]->those owners	
-	foreach (_product_get_product_owners($node->nid, $user->uid) as $type => $data)
-	{
-		// $data are [count] => 0 [page] => 0 [results] =>
-		if ( $data[count] ) { 
-			$any_collectors = 1;
-		}
-
-		// Deal with highlighting
-		$uid_highlight=$_GET['highlight']; // no security, passing to boolean ONLY
-		// warning: $data is an array, not well crafted object.
-		foreach ( $data['results'] as $i => $result ) {
-			//print_r($result);
-			if ( $result['user']['uid'] == $uid_highlight ) {
-				// !!! cut, and move to top of $data['results']
-				// add clas for highlight
-				//$data['results']["highlight"] = " highlight"; // boolean, and css class
-				$data['results'][$i]["user"]['highlight'] = " highlight";
-
-
-				$hold = $data['results'][$i];
-				unset($data['results'][$i]);
-				array_unshift($data['results'], $hold); // work despite non-object?
-
-			}
-		}
-
-		$type_title = $type == "network" ? t("In your network") : t("On Vibio");
-		$product_owners .= "<div class='product_owners_type_container' id='product_type_{$type}'>";
-		//$product_owners .= "<h4 class='product_description'>$type_title</h4>";
-		$product_owners .= "<div class='product_owners_results'>";
-		// is this really theming a custom, non-node data structure?
-		// to make design changes, have to go back to 
-		// product_catalog/product.inc which is formating the
-		// links, for example.	
-		// Also look here list:
-		//  modules/vibio/vibio_item/offer_to_buy/offer2buy.module
-		$product_owners .= theme("product_owners", $type, $data);
-		
-		$product_owners .= "</div></div>";
-	}
-	
-	// $owners_header	
-	$owners_header = '';
-	$extra_data = '';
-	
-	if ( $any_collectors ) {
-		$owners_header = t("Collectors who have !title in their inventory", array("!title" => $node->title));
-		$extra_data = "
-			<div class='product_extra_data'>
-				$product_images
-				<h3>$owners_header</h3>
-				$product_owners
-				<p>$external_link</p>
-			</div>
-		";
-
-	} else {
-		// note: if you own it, doesn't seem to show up... so...
-		if ( product_user_owns_product($node->nid) ) {
-			$non_header = t("Besides yourself, no other Vibio Collectors in your network have this item.");
-		} else {
-			$non_header = t ("Be the first Vibio Collector in your network with <em>!title</em>", array("!title" => $node->title));
-		}
-		$extra_data = "
-                        <div class='product_extra_data'>
-				<h3>$non_header</h3>
-				<p>$external_link</p>
-			</div>
-		";	
-	} 
-
-
-
-}
-else
-{
-	$extra_data = "";
-	if ($node->item)
-	{
-		$price_image = theme("vibio_item_price_image", $node->item);
-	}
-}
-
-/* press design/wireframe team to get a back-to-search into the design
- *  $searchcrumb
- */
-
-echo "
-		<div class='external_short_link'>
-		$external_it_link
-	</div>
-	<div class='product_image'>
-		$price_image
-		$image<br />
-		$manage_link
-	</div>
-	<div class='product_node_data'>
-		<a href='/node/{$node->nid}'>
-			$title
-		</a>
-		<h4 class='product_description'>Description</h4>
-		$product_content
-	</div>
-	<div class='clear'></div>
-	$extra_data
-";
-?>
- 
-<?php print flag_create_link('feature', $node->nid); /* could easily do this for items, with $product->nid*/ ?>
+<?php
+$title = "<h3 class='product_title'>".check_plain($node->title)."</h3>";
+
+/* Back link for searches */
+if ($_GET['searchcrumb'])
+{
+	/* stephen: security updtae 20110609 */
+	$sanitary = htmlspecialchars ( $_GET['searchcrumb'],   ENT_QUOTES );
+  	$searchcrumb = t("Back to search results");
+	$searchcrumb = "<a href='{$sanitary}'>$searchcrumb</a><br /> . ";
+}
+else
+{
+	$searchcrumb = "";
+}
+
+if ($image = _product_get_image($node->nid, true))
+{
+
+	$alt = 'Product Image';
+	$title = '';
+	$attributes = array('class' => 'product_main_image');
+	$imagecached = theme('imagecache', 'product_main_product_page', 
+		file_uncreate_url($image), 
+		$alt, $title, $attributes);
+	$image = "
+		<a href='$image' rel='prettyphoto[item_image]'>
+			$imagecached
+		</a>
+	";
+}
+
+/* stephen: security update 20110609 */
+$sanitary = htmlspecialchars ( $_GET['searchcrumb'],   ENT_QUOTES );
+$manage_link = theme("product_inventory_manage_link", $node, $sanitary);
+
+if (isset($node->amazon_data)) {
+	/* bug hunt: nodes with field_amazon_asin are returning false here.
+   *  returned by: amazon/vibio_amazon.module
+   *    function vibio_amazon_nodeapi ($op = load)
+   *     "amazon_data" => array_shift(amazon_item_lookup_from_db($node->field_amazon_asin[0]['asin'])),
+   * this is working: dsm(amazon_item_lookup_from_db($node->field_amazon_asin[0]['asin']));
+   * and node_load is firing, but somehow that lookup, which works here, isn't
+   *  working there.
+   * $node->field_amazon_asin[0]['asin'] isn't set at node_api. It is set here.
+   *  module weighting problem?  
+
+   */
+
+	if (empty($node->body))
+	{
+		$product_content = theme("product_amazon_display", $node, $page);
+	}
+	else
+	{
+		$product_content = theme("product_display", $node, $page);
+		$product_content .= theme("vibio_amazon_item_details", $node);
+	}
+	
+	$external_link = $page ? t("Get \"!item\" from !external_link.", array("!item" => $node->title, "!external_link" => l(t("Amazon"), $node->amazon_data['detailpageurl'], array("absolute" => true)))) : "";
+	$external_it_link =  t("Find it on !external_link.", array("!external_link" => l(t("Amazon"), $node->amazon_data['detailpageurl'], array("absolute" => true))));
+
+}
+else
+{
+	$product_content = theme("product_display", $node, $page);
+$external_link = "We couldn't find this product at Amazon.";
+//this is working: dsm(amazon_item_lookup_from_db($node->field_amazon_asin[0]['asin']));
+}
+
+// these things will show up, regardless of the product source
+if (arg(0) != "product" && arg(2) != "add-to-inventory")
+{
+	drupal_set_title($node->title);
+}
+
+/*  This section is for the page starting after "People who have...." */
+if ($page)
+{
+	module_load_include("inc", "product");
+	
+	$product_images = theme("vibio_item_images", product_images($node));
+	$any_collectors = ''; // boolean	
+
+	// 20110715 We need to highlight one product based on URL
+	// Might also think about adding your product to the list.
+	// Nelson's style is to call the database for eachsuch search
+	// My pref would be a hashreturned from database.
+	// Yeah -- his approach breaks down... every call has to remove
+	// the highlighted product, icky. Not going to do that..
+	// All this code should be moved (mine, plus what was already here)
+	// out of tpl.	
+
+	// deal with [network]->those owners, [vibio]->those owners	
+	foreach (_product_get_product_owners($node->nid, $user->uid) as $type => $data)
+	{
+		// $data are [count] => 0 [page] => 0 [results] =>
+		if ( $data[count] ) { 
+			$any_collectors = 1;
+		}
+
+		// Deal with highlighting
+		$uid_highlight=$_GET['highlight']; // no security, passing to boolean ONLY
+		// warning: $data is an array, not well crafted object.
+		foreach ( $data['results'] as $i => $result ) {
+			//print_r($result);
+			if ( $result['user']['uid'] == $uid_highlight ) {
+				// !!! cut, and move to top of $data['results']
+				// add clas for highlight
+				//$data['results']["highlight"] = " highlight"; // boolean, and css class
+				$data['results'][$i]["user"]['highlight'] = " highlight";
+
+
+				$hold = $data['results'][$i];
+				unset($data['results'][$i]);
+				array_unshift($data['results'], $hold); // work despite non-object?
+
+			}
+		}
+
+		$type_title = $type == "network" ? t("In your network") : t("On Vibio");
+		$product_owners .= "<div class='product_owners_type_container' id='product_type_{$type}'>";
+		//$product_owners .= "<h4 class='product_description'>$type_title</h4>";
+		$product_owners .= "<div class='product_owners_results'>";
+		// is this really theming a custom, non-node data structure?
+		// to make design changes, have to go back to 
+		// product_catalog/product.inc which is formating the
+		// links, for example.	
+		// Also look here list:
+		//  modules/vibio/vibio_item/offer_to_buy/offer2buy.module
+		$product_owners .= theme("product_owners", $type, $data);
+		
+		$product_owners .= "</div></div>";
+	}
+	
+	// $owners_header	
+	$owners_header = '';
+	$extra_data = '';
+	
+	if ( $any_collectors ) {
+		$owners_header = t("Collectors who have !title in their inventory", array("!title" => $node->title));
+		$extra_data = "
+			<div class='product_extra_data'>
+				$product_images
+				<h3>$owners_header</h3>
+				$product_owners
+				<p>$external_link</p>
+			</div>
+		";
+
+	} else {
+		// note: if you own it, doesn't seem to show up... so...
+		if ( product_user_owns_product($node->nid) ) {
+			$non_header = t("Besides yourself, no other Vibio Collectors in your network have this item.");
+		} else {
+			$non_header = t ("Be the first Vibio Collector in your network with <em>!title</em>", array("!title" => $node->title));
+		}
+		$extra_data = "
+                        <div class='product_extra_data'>
+				<h3>$non_header</h3>
+				<p>$external_link</p>
+			</div>
+		";	
+	} 
+
+
+
+}
+else
+{
+	$extra_data = "";
+	if ($node->item)
+	{
+		$price_image = theme("vibio_item_price_image", $node->item);
+	}
+}
+
+/* press design/wireframe team to get a back-to-search into the design
+ *  $searchcrumb
+ */
+
+echo "
+	<h1 id='product_description'>Description</h1>
+	<div class='external_short_link'>
+		$external_it_link<a id='info-button' class='automodal' href='/product-help'><span class='tab'>Info</span></a>
+	</div>
+	<div class='product_image'>
+		$price_image
+		$image
+	</div>
+	<div class='product_node_data'>
+		<a href='/node/{$node->nid}'>
+			$title
+		</a>
+		$product_content
+		$manage_link
+	</div>
+	<div class='clear'></div>
+	$extra_data
+";
+?>
+
+<?php print flag_create_link('feature', $node -> nid);
+	/* could easily do this for items, with $product->nid*/
+?>
diff --git a/themes/vibio/templates/node-view-flag_featured.tpl.php b/themes/vibio/templates/node-view-flag_featured.tpl.php
index 3df0ddb..d748fa1 100644
--- a/themes/vibio/templates/node-view-flag_featured.tpl.php
+++ b/themes/vibio/templates/node-view-flag_featured.tpl.php
@@ -25,7 +25,7 @@ $justkeepmakingchanges = "
                                 <a class='item-title' href='$url'>$title</a><br />
                         </div>
 			$flag
-                        <div class='search-links'>$search_links</div>
+                        <div class='search-links'>Search links: $search_links X</div>
                 </div>
 ";
 
diff --git a/themes/vibio/templates/node-view-user_buying_offers.tpl.php b/themes/vibio/templates/node-view-user_buying_offers.tpl.php
index 62a33bd..26811aa 100644
--- a/themes/vibio/templates/node-view-user_buying_offers.tpl.php
+++ b/themes/vibio/templates/node-view-user_buying_offers.tpl.php
@@ -66,44 +66,15 @@ $item_pic = vibio_item_get_image($item->nid, 'product_fixed_width_teaser');
 $price = $item->offer2buy['settings']['price'];
 
  ?>
-<div class="selling_item_info"
- >
+<div class="selling_item_info">
 <div class="teaser_item_pic"><?php print $item_pic; ?></div>
-<?php print $collection['title']; ?>
-<?php print $node->field_item_sought[0][view];?>
-<br>List Price: $<?php print $price; ?>
-</div>
-
-
-  <?php  /* vibiosity will go here
-/* put this code into sellers version when chance */
-$alt = $owner->name . 'Picture';
-$title = ''; // orname, if itsnot printed right below anyway
-$attributes = '';
-print theme('imagecache', 'little_profile_pic', $owner->picture, $alt,$title, $attributes);
-  ?>
-
-	<div class="negotiation_block" style="float: right; width: 200px;">
-		<a  class="automodal popups" href="/node/<?php print $node->nid; ?>">Update Offer</a>
-	</div>
-
-  <?php if ($unpublished): ?>
-    <div class="unpublished"><?php print t('Unpublished'); ?></div>
-  <?php endif; ?>
-
-  <div class="content">
-    <?php print "Seller: " . $owner->name;  /* v2: connection level */
+<div class="teaser_item_sought"><?php print $node->field_item_sought[0][view];?></div>
+<div class="teaser_item_collection"><?php print $collection['title']; ?></div>
+<div class="teaser_item_buyer"><span class="bold-text">Buyer: <?php print $name;  /* v2: connection level */
  			/* is this up to date in the offer, or do we need to do more to load the
 				 negs */
-		 ?>
-    <br><strong>Your Offer: <?php print $current_buyer->field_price[0][value]; ?> <?php
-	//label of "Latest Offer" not correct text... print content_view_field(content_fields("field_price"), $current_buyer, FALSE, FALSE);
-	print  _vibio_offer_simplify_accept($current_seller, $current_buyer);
-	print  _vibio_offer_simplify_pay($current_seller, $current_buyer);
-	print  _vibio_offer_simplify_ship($current_seller, $current_buyer);
-
-?></strong>
-	<div class="comment">Last Comment:	<?php /* we want one line from the most recent conversation,
+		 ?></span></div> 
+<div class="teaser_item_comments"><span class="bold-text">New Comment:	<?php /* we want one line from the most recent conversation,
 			yours or theirs.  Similar to node-offer.tpl.php */
   $viewName = 'offer_conversation';
   $display_id = 'default';
@@ -123,7 +94,29 @@ print theme('imagecache', 'little_profile_pic', $owner->picture, $alt,$title, $a
 		print $text;
 	}
 		?>
-	</div><!-- comment -->
-  </div>
+	</div>
+</div>		 
+
+
+	<div class="negotiation_block">
+		<a href="/node/<?php print $node->nid; ?>">Review Offer</a>
+	<?php if ($unpublished): ?>
+    <div class="unpublished"><?php print t('Unpublished'); ?></div>
+  <?php endif; ?>
+<div class="teaser_item_asking"><span class="bold-text"> Asking Price: </span><?php print $price; ?></div>
+<div class="teaser_item_their"><span class="bold-text"> My Offer: </span><?php
+if ( $current_buyer->field_price[0][value] ) {
+	print $current_buyer->field_price[0][value] ;
+} else {
+	print "--";
+}
+
+
+        //label of "Latest Offer" not correct text... print content_view_field(content_fields("field_price"), $current_buyer, FALSE, FALSE);
+        print  _vibio_offer_simplify_accept($current_seller, $current_buyer);
+        print  _vibio_offer_simplify_pay($current_seller, $current_buyer);
+        print  _vibio_offer_simplify_ship($current_seller, $current_buyer);
+
+?></div></div>
 	<?php print $links; //should just be archive flag link ?>
 </div> <!-- /.node -->
diff --git a/themes/vibio/templates/node-view-user_selling_offered.tpl.php b/themes/vibio/templates/node-view-user_selling_offered.tpl.php
index f048f12..b153493 100644
--- a/themes/vibio/templates/node-view-user_selling_offered.tpl.php
+++ b/themes/vibio/templates/node-view-user_selling_offered.tpl.php
@@ -74,7 +74,6 @@
  */
 ?>
 <div id="node-<?php print $node->nid; ?>" class="<?php print $classes; ?> clearfix">
-
 <?php //dsm($node);
 // get the item sought
 $item = node_load( $node->field_item_sought[0][nid] );
@@ -105,12 +104,38 @@ $item_pic = vibio_item_get_image($item->nid, 'product_fixed_width_teaser');
 $price = $item->offer2buy['settings']['price'];
 
  ?>
-<div class="selling_item_info"
- >
+<div class="selling_item_info">
 <div class="teaser_item_pic"><?php print $item_pic; ?></div>
-<?php print $collection['title']; ?>
-<?php print $node->field_item_sought[0][view];?>
-<br>Requested: $<?php print $price; ?>
+<div class="teaser_item_sought"><?php print $node->field_item_sought[0][view];?></div>
+<div class="teaser_item_collection"><?php print $collection['title']; ?></div>
+<div class="teaser_item_buyer"><span class="bold-text">Buyer: <?php print $name;  /* v2: connection level */
+ 			/* is this up to date in the offer, or do we need to do more to load the
+				 negs */
+		 ?></span></div>
+<div class="teaser_item_comments"><span class="bold-text">Last Comment:</span>	<?php /* we want one line from the most recent conversation,
+			yours or theirs.  Similar to node-offer.tpl.php */
+  $viewName = 'offer_conversation';
+  $display_id = 'default';
+  $myArgs = array($node->nid); // node is this offer
+        // below is much like views_embed_view
+  $view_neg = views_get_view($viewName);
+  $view_neg->set_arguments($myArgs);
+					$chit_chat = $view_neg->preview($display_id, $args);
+					$neg = node_load( $view_neg->result[0]->nid );   // is this most recent? or oldest?
+	//dsm($neg);
+	// note" if $neg->uid == $user->uid, it's me.  
+	// I think this should be in design
+	$chars = 70;  // length of string to print before elipses
+	$text = $neg->field_chat[0][value];
+
+  if ( strlen($text) > ($chars+3) ) {
+    print substr($text, 0 , $chars) . "...";
+  } else {
+    print $text;
+  }
+
+	//dsm(array($node, $view_neg));	
+		?></div>
 </div>
 
 
@@ -144,61 +169,29 @@ list($chit_chat, $current_buyer, $current_seller) =
 
 
 ?>
-	<div class="negotiation_block" style="float: right; width: 200px;">
-		<a  class="automodal popups-form-reload" href="/node/<?php print $node->nid; ?>">Review Offer</a>
-	</div>
+	<div class="negotiation_block">
+		<a href="/node/<?php print $node->nid; ?>">Review Offer</a>
+	
 
   <?php if ($unpublished): ?>
     <div class="unpublished"><?php print t('Unpublished'); ?></div>
   <?php endif; ?>
-
-  <div class="content">
-    <?php print $name;  /* v2: connection level */
- 			/* is this up to date in the offer, or do we need to do more to load the
-				 negs */
-		 ?>
-
- <br><strong>Their Offer: <?php
+<div class="teaser_item_asking"><span class="bold-text"> Asking Price: </span><?php print $price; ?></div>
+<div class="teaser_item_their"><span class="bold-text"> Their Offer: </span><?php
 if ( $current_buyer->field_price[0][value] ) {
 	print $current_buyer->field_price[0][value] ;
 } else {
 	print "--";
 }
-if ( $current_buyer->field_city[0][value] ) {
-	print "<br>Ship: " . $current_buyer->field_city[0][value]; 
-}
+
 
         //label of "Latest Offer" not correct text... print content_view_field(content_fields("field_price"), $current_buyer, FALSE, FALSE);
         print  _vibio_offer_simplify_accept($current_seller, $current_buyer);
         print  _vibio_offer_simplify_pay($current_seller, $current_buyer);
         print  _vibio_offer_simplify_ship($current_seller, $current_buyer);
 
-?></strong>
-
-	<br>Last Comment:	<?php /* we want one line from the most recent conversation,
-			yours or theirs.  Similar to node-offer.tpl.php */
-  $viewName = 'offer_conversation';
-  $display_id = 'default';
-  $myArgs = array($node->nid); // node is this offer
-        // below is much like views_embed_view
-  $view_neg = views_get_view($viewName);
-  $view_neg->set_arguments($myArgs);
-					$chit_chat = $view_neg->preview($display_id, $args);
-					$neg = node_load( $view_neg->result[0]->nid );   // is this most recent? or oldest?
-	//dsm($neg);
-	// note" if $neg->uid == $user->uid, it's me.  
-	// I think this should be in design
-	$chars = 70;  // length of string to print before elipses
-	$text = $neg->field_chat[0][value];
-
-  if ( strlen($text) > ($chars+3) ) {
-    print substr($text, 0 , $chars) . "...";
-  } else {
-    print $text;
-  }
-
-	//dsm(array($node, $view_neg));	
-		?>
-  </div>
+?></div></div>
 	<?php print $links; //should just be archive flag link ?>
-</div> <!-- /.node -->
+</div> <!-- /.node removed not in comp if ( $current_buyer->field_city[0][value] ) {
+	print "<br>Ship: " . $current_buyer->field_city[0][value]; 
+}-->
diff --git a/themes/vibio/templates/overrides/search-type-select.tpl.php b/themes/vibio/templates/overrides/search-type-select.tpl.php
index 5a859fa..04563eb 100644
--- a/themes/vibio/templates/overrides/search-type-select.tpl.php
+++ b/themes/vibio/templates/overrides/search-type-select.tpl.php
@@ -11,12 +11,49 @@ foreach ($search_types as $type => $data)
 			"data"	=> $data,
 		);
 
+	/* what v1.0 did, works with sites/default/themes/vibio/js/mb_menu.js
+  $submenu .= "
+    <a href='#'>
+      <img id='searchtype_{$type}' src='{$data['image']}' class='searchtype_imag
+e'
+        alt='{$data['title']}' title='{$data['title']}' />
+    </a>
+  ";
+	*/
+
+	/* what v1.1 theming did -- notice the id became class, and the class
+		is gone... the javascript depends on the class:
 	$submenu .= "
-		<a href='#'>
-			<img id='searchtype_{$type}' src='{$data['image']}' class='searchtype_image'
-				alt='{$data['title']}' title='{$data['title']}' />
-		</a>
+		<a href='#' class='searchtype_{$type}'>{$data['title']}</a>
 	";
+	*/
+
+	// 1) Stephen smushing to get theming started -- proof before declaring done,
+	//  this clearly never worked! (maybe Carolyn)  Get dev right away!
+
+	// 2) ALSO, not cool to get rid of alts (and titles) of images in general
+
+	// 3) Have to use src because that's what the javascript changes.  
+	//    The src's for item and user need to match the drop-down button,
+	//		which sucks too much.  So I'll change the javascript
+
+	// ok to condense/erase these notes
+
+	// To get the images working, integrate with 
+	//  sites/default/themes/vibio/js/mb_menu.js
+	// Untested: make the source of the sub-menus correspond to
+	//	the main like this:       .attr("src", $(this).attr("src") + "_main")
+
+
+
+	$submenu .= "
+		<a href='#'>
+	    <img id='searchtype_{$type}' src='{$data['image']}' class='searchtype_image'
+        alt='{$data['title']}' title='{$data['title']}' />
+    </a>
+  ";
+
+
 }
 ?>
 
diff --git a/themes/vibio/templates/page-offer.tpl.php b/themes/vibio/templates/page-offer.tpl.php
index a3d73fb..8cb592a 100644
--- a/themes/vibio/templates/page-offer.tpl.php
+++ b/themes/vibio/templates/page-offer.tpl.php
@@ -58,7 +58,6 @@
 		</div>
 
 	<div id="main-wrapper"><div id="main" class="clearfix<?php if ($primary_links || $navigation) { print ' with-navigation'; } ?>">
-
 	  <div id="content" class="column">
 	  	<?php echo $messages; ?>
 	  	<div class="section rounded_container">
@@ -77,7 +76,7 @@
 				</div>
 			</div>
 		</div>
-	  </div> <!-- /.section, /#content -->
+	</div> <!-- /.section, /#content -->
 
 	  <?php if ($primary_links || $navigation): ?>
 		<div id="navigation"><div class="section clearfix">
diff --git a/themes/vibio/templates/page.tpl.php b/themes/vibio/templates/page.tpl.php
index 8dfcc7e..7920a33 100644
--- a/themes/vibio/templates/page.tpl.php
+++ b/themes/vibio/templates/page.tpl.php
@@ -1,169 +1,165 @@
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
-<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="<?php print $language->language; ?>" lang="<?php print $language->language; ?>" dir="<?php print $language->dir; ?>">
-
-<head>
-  <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
-  <title><?php print $head_title; ?></title>
-  <?php print $head; ?>
-  <meta name="description" content="Vibio is a social commerce tool that lets you buy, sell, and share items within your social graph" />
-  <meta name="keywords" content="social commerce, inventory, buy, sell, share, social graph, friends, trade, collections" />
-
-  <?php print $styles; ?>
-  <link rel="stylesheet" href="/themes/vibio/css/jquery-ui.tabs.css" />
-  <link rel="stylesheet" href="/themes/vibio/css/vibio_dialog.css" />
-  <link rel="stylesheet" href="/themes/vibio/prettyphoto/css/prettyPhoto.css" />
-
-<?php // hack in ctools modal
- // ctools_include('modal');
- // ctools_modal_add_js();
-?>
-  
-  <!--[if IE]>
-  <link rel="stylesheet" href="/themes/vibio/css/ie.css" />
-  <![endif]-->
-  
-  <?php print $scripts; ?>
-  <script type="text/javascript" src="/themes/vibio/js/jquery-ui-1.8.2.custom.min.js"></script>
-  <script type="text/javascript" src="/themes/vibio/js/vibio_dialog.js"></script>
-  <script type="text/javascript" src="/themes/vibio/js/utility.js"></script>
-  <script type="text/javascript" src="/themes/vibio/prettyphoto/js/jquery.prettyPhoto.js"></script>
-  <script type='text/javascript' src='/themes/vibio/js/jquery.livequery.min.js'></script>
-  <script type="text/javascript" src="/themes/vibio/js/mbMenu/inc/jquery.hoverIntent.js"></script>
-  <script type="text/javascript" src="/themes/vibio/js/mbMenu/inc/jquery.metadata.js"></script>
-  <script type="text/javascript" src="/themes/vibio/js/mbMenu/inc/mbMenu.js"></script>
-  <script type="text/javascript" src="/themes/vibio/js/mb_menu.js"></script>
-</head>
-<body class="<?php print $classes; ?>">
-
-<div id="page-wrapper">
-	<div id="page">
-		<div id="header">
-			<div class="section clearfix">
-				<div id="name-and-slogan">
-					<a href="<?php print $front_page; ?>" title="<?php print t('Home'); ?>" rel="home">
-						<img src='/themes/vibio/vibio-logo.png' />
-					</a>
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="<?php print $language -> language;?>" xml:fb="http://ogp.me/ns/fb#" lang="<?php print $language -> language;?>" dir="<?php print $language -> dir;?>">
+	<head>
+		<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
+		<title><?php print $head_title;?></title>
+		<?php print $head;?>
+		<meta name="description" content="Vibio is a social commerce tool that lets you buy, sell, and share items within your social graph" />
+		<meta name="keywords" content="social commerce, inventory, buy, sell, share, social graph, friends, trade, collections" />
+		<?php print $styles;?>
+		<link rel="stylesheet" href="/themes/vibio/css/jquery-ui.tabs.css" />
+		<link rel="stylesheet" href="/themes/vibio/css/vibio_dialog.css" />
+		<link rel="stylesheet" href="/themes/vibio/prettyphoto/css/prettyPhoto.css" />
+		<?php // hack in ctools modal
+			// ctools_include('modal');
+			// ctools_modal_add_js();
+		?>
+
+		<!--[if IE]>
+		<link rel="stylesheet" href="/themes/vibio/css/ie.css" />
+		<![endif]-->
+		<?php print $scripts;?>
+		<script type="text/javascript" src="/themes/vibio/js/jquery-ui-1.8.2.custom.min.js"></script>
+		<script type="text/javascript" src="/themes/vibio/js/vibio_dialog.js"></script>
+		<script type="text/javascript" src="/themes/vibio/js/utility.js"></script>
+		<script type="text/javascript" src="/themes/vibio/prettyphoto/js/jquery.prettyPhoto.js"></script>
+		<script type='text/javascript' src='/themes/vibio/js/jquery.livequery.min.js'></script>
+	</head>
+	<body class="<?php print $classes;?>">
+	  <div id="fb-root"></div>
+		<div id="page-wrapper">
+			<div id="page">
+				<div id="header">
+					<div class="section clearfix">
+						<div id="name-and-slogan">
+							<a href="<?php print $front_page;?>" title="<?php print t('Home');?>" rel="home"> <img src='/themes/vibio/vibio-logo.png' /> </a>
+						</div>
+						<div class="slogan">
+							<?php print $site_slogan;?>
+						</div>
+						<?php
+						echo "<div id='header_quick_actions'>";
+						if ($search_box) {
+							echo "<div id='search-box'>{$search_box}</div>";
+						}
+						echo $profile_ext_header;
+						echo "</div>";
+
+						echo $header;
+						?>
+					</div>
 				</div>
-				<div class="slogan">
-                                  <?php print $site_slogan; ?>
-                                </div>
-				<?php
-				echo "<div id='header_quick_actions'>";
-				if ($search_box)
-				{
-					echo "<div id='search-box'>{$search_box}</div>";
-				}
-				echo $profile_ext_header;
-				echo "</div>";
-				
-				echo $header;
-				?>
+				<div id="main-wrapper">
+					<div id="main" class="clearfix<?php
+					if ($primary_links || $navigation) { print ' with-navigation';
+					}
+ ?>">
+						<div id="content" class="column">
+							<?php echo $messages;?>
+							<div class="section rounded_container">
+								<div id="content-area">
+									<div class="rounded_content">
+										<div id="js_messages_container"></div>
+										
+										<?php
+										echo $content_top;									
+										echo $title ? "<h1 id='page_title' class='title'>$title</h1>" : "";
+										echo $tabs ? "<div class='tabs'>$tabs</div>" : "";
+										echo $content;
+										echo $help;
+										echo $content_bottom;
+										echo $feed_icons ? "<div class='feed-icons'>$feed_icons</div>" : "";
+										?>
+									</div>
+								</div>
+							</div>
+						</div>
+						<!-- /.section, /#content -->
+						<?php if ($primary_links || $navigation):
+						?>
+						<div id="navigation">
+							<div class="section clearfix">
+								<?php if (isset($secondary_links)):
+								?>
+								<div id="secondary">
+									<?php //print theme('links', $secondary_links);?>
+									<?php //vibio_secondary_menu_ad_hoc($secondary_links); /* in template.php */?>
+								</div>
+								<?php endif;?>
+								<?php
+								//print_r($secondary_links);
+								/*print theme(array(/*'links__system_secondary_menu'x/ 'vibio_secondary_menu_theme', 'links'), $secondary_links,
+								 array(
+								 'id' => 'secondary-menu',
+								 'class' => 'links clearfix',
+								 ),
+								 array(
+								 'text' => t('Second level of current primary menu choice'),
+								 'level' => 'h2',
+								 'class' => 'element-invisible',
+								 ));
+								 */
+
+								/* switch to blocks print theme(array('links__system_main_menu', 'links'), $primary_links,
+								 array(
+								 'id' => 'main-menu',
+								 'class' => 'links clearfix',
+								 ),
+								 array(
+								 'text' => t('Main menu'),
+								 'level' => 'h2',
+								 'class' => 'element-invisible',
+								 ));
+								 ?>
+								 <?php /* stephen, quick
+								 //test: $secondary_links = $primary_links;
+								 print theme(array('links__system_secondary_menu', 'links'), $secondary_links,
+								 array(
+								 'id' => 'secondary-menu',
+								 'class' => 'links clearfix',
+								 ),
+								 array(
+								 'text' => t('Secondary menu'),
+								 'level' => 'h2',
+								 'class' => 'element-invisible',
+								 ));
+								 */
+								?>
+
+								<?php print $navigation;?>
+							</div>
+						</div>
+						<!-- /.section, /#navigation -->
+						<?php endif;?>
+
+						<?php print $sidebar_first;?>
+
+						<?php //not set: print $sidebar_second;?>
+					</div>
+				</div>
+				<!-- /#main, /#main-wrapper -->
 			</div>
 		</div>
-
-	<div id="main-wrapper"><div id="main" class="clearfix<?php if ($primary_links || $navigation) { print ' with-navigation'; } ?>">
-
-	  <div id="content" class="column">
-	  	<?php echo $messages; ?>
-	  	<div class="section rounded_container">
-			<div id="content-area">
-				<div class="rounded_content">
-					<div id="js_messages_container"></div>
-					<?php
-					echo $title ? "<h1 id='page_title' class='title'>$title</h1>" : "";
-					echo $tabs ? "<div class='tabs'>$tabs</div>" : "";
-					echo $help;
-					echo $content_top;
-					echo $content;
-					echo $content_bottom;
-					echo $feed_icons ? "<div class='feed-icons'>$feed_icons</div>" : "";
-					?>
+		<!-- /#page, /#page-wrapper -->
+		<?php if ($footer || $footer_message):
+		?>
+		<div id="footer">
+			<div class="section">
+				<?php if ($footer_message):
+				?>
+				<div id="footer-message">
+					<?php print $footer_message;?>
 				</div>
+				<?php endif;?>
+
+				<?php print $footer;?>
 			</div>
 		</div>
-	  </div> <!-- /.section, /#content -->
-
-	  <?php if ($primary_links || $navigation): ?>
-		<div id="navigation"><div class="section clearfix">
-
-<?php if (isset($secondary_links)): ?>
-  <div id="secondary">
-    <?php //print theme('links', $secondary_links); ?>
-<?php //vibio_secondary_menu_ad_hoc($secondary_links); /* in template.php */ ?>
-
-  </div>
-<?php endif; ?>
-		  <?php 
-//print_r($secondary_links);
-/*print theme(array(/*'links__system_secondary_menu'x/ 'vibio_secondary_menu_theme', 'links'), $secondary_links,
-           array(
-             'id' => 'secondary-menu',
-             'class' => 'links clearfix',
-           ),
-           array(
-             'text' => t('Second level of current primary menu choice'),
-             'level' => 'h2',
-             'class' => 'element-invisible',
-           ));
-*/
-
-
-/* switch to blocks print theme(array('links__system_main_menu', 'links'), $primary_links,
-			array(
-			  'id' => 'main-menu',
-			  'class' => 'links clearfix',
-			),
-			array(
-			  'text' => t('Main menu'),
-			  'level' => 'h2',
-			  'class' => 'element-invisible',
-			));
-		  ?>
-<?php /* stephen, quick 
-	//test: $secondary_links = $primary_links;
-          print theme(array('links__system_secondary_menu', 'links'), $secondary_links,
-           array(
-             'id' => 'secondary-menu',
-             'class' => 'links clearfix',
-           ),
-           array(
-             'text' => t('Secondary menu'),
-             'level' => 'h2',
-             'class' => 'element-invisible',
-           ));
-*/
-         ?>
-
-
-
-
-		  <?php print $navigation; ?>
-
-		</div></div> <!-- /.section, /#navigation -->
-	  <?php endif; ?>
-
-	  <?php print $sidebar_first; ?>
-
-	  <?php //not set: print $sidebar_second; ?>
-
-	</div></div> <!-- /#main, /#main-wrapper -->
-
-	<?php if ($footer || $footer_message): ?>
-	  <div id="footer"><div class="section">
-		<?php if ($footer_message): ?>
-		  <div id="footer-message"><?php print $footer_message; ?></div>
-		<?php endif; ?>
-
-		<?php print $footer; ?>
-
-	  </div></div> <!-- /.section, /#footer -->
-	<?php endif; ?>
-
-  </div></div> <!-- /#page, /#page-wrapper -->
-
-  <?php print $page_closure; ?>
+		<!-- /.section, /#footer -->
+		<?php endif;?>
 
-  <?php print $closure; ?>
+		<?php print $page_closure;?>
 
-</body>
+		<?php print $closure;?>
+	</body>
 </html>
diff --git a/themes/vibio/templates/page.tpl.php.save b/themes/vibio/templates/page.tpl.php.save
new file mode 100644
index 0000000..282b545
--- /dev/null
+++ b/themes/vibio/templates/page.tpl.php.save
@@ -0,0 +1,166 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="<?php print $language -> language;?>" xml:fb="http://ogp.me/ns/fb#" lang="<?php print $language -> language;?>" dir="<?php print $language -> dir;?>">
+	<head>
+		<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
+		<title><?php print $head_title;?></title>
+		<?php print $head;?>
+		<meta name="description" content="Vibio is a social commerce tool that lets you buy, sell, and share items within your social graph" />
+		<meta name="keywords" content="social commerce, inventory, buy, sell, share, social graph, friends, trade, collections" />
+		<?php print $styles;?>
+		<link rel="stylesheet" href="/themes/vibio/css/jquery-ui.tabs.css" />
+		<link rel="stylesheet" href="/themes/vibio/css/vibio_dialog.css" />
+		<link rel="stylesheet" href="/themes/vibio/prettyphoto/css/prettyPhoto.css" />
+		<?php // hack in ctools modal
+			// ctools_include('modal');
+			// ctools_modal_add_js();
+		?>
+
+		<!--[if IE]>
+		<link rel="stylesheet" href="/themes/vibio/css/ie.css" />
+		<![endif]-->
+		<?php print $scripts;?>
+		<script type="text/javascript" src="/themes/vibio/js/jquery-ui-1.8.2.custom.min.js"></script>
+		<script type="text/javascript" src="/themes/vibio/js/vibio_dialog.js"></script>
+		<script type="text/javascript" src="/themes/vibio/js/utility.js"></script>
+		<script type="text/javascript" src="/themes/vibio/prettyphoto/js/jquery.prettyPhoto.js"></script>
+		<script type='text/javascript' src='/themes/vibio/js/jquery.livequery.min.js'></script>
+		<script type="text/javascript" src="/themes/vibio/js/mbMenu/inc/jquery.hoverIntent.js"></script>
+	</head>
+	<body class="<?php print $classes;?>">
+	  <div id="fb-root"></div>
+		<div id="page-wrapper">
+			<div id="page">
+				<div id="header">
+					<div class="section clearfix">
+						<div id="name-and-slogan">
+							<a href="<?php print $front_page;?>" title="<?php print t('Home');?>" rel="home"> <img src='/themes/vibio/vibio-logo.png' /> </a>
+						</div>
+						<div class="slogan">
+							<?php print $site_slogan;?>
+						</div>
+						<?php
+						echo "<div id='header_quick_actions'>";
+						if ($search_box) {
+							echo "<div id='search-box'>{$search_box}</div>";
+						}
+						echo $profile_ext_header;
+						echo "</div>";
+
+						echo $header;
+						?>
+					</div>
+				</div>
+				<div id="main-wrapper">
+					<div id="main" class="clearfix<?php
+					if ($primary_links || $navigation) { print ' with-navigation';
+					}
+ ?>">
+						<div id="content" class="column">
+							<?php echo $messages;?>
+							<div class="section rounded_container">
+								<div id="content-area">
+									<div class="rounded_content">
+										<div id="js_messages_container"></div>
+										
+										<?php
+										echo $content_top;									
+										echo $title ? "<h1 id='page_title' class='title'>$title</h1>" : "";
+										echo $tabs ? "<div class='tabs'>$tabs</div>" : "";
+										echo $content;
+										echo $help;
+										echo $content_bottom;
+										echo $feed_icons ? "<div class='feed-icons'>$feed_icons</div>" : "";
+										?>
+									</div>
+								</div>
+							</div>
+						</div>
+						<!-- /.section, /#content -->
+						<?php if ($primary_links || $navigation):
+						?>
+						<div id="navigation">
+							<div class="section clearfix">
+								<?php if (isset($secondary_links)):
+								?>
+								<div id="secondary">
+									<?php //print theme('links', $secondary_links);?>
+									<?php //vibio_secondary_menu_ad_hoc($secondary_links); /* in template.php */?>
+								</div>
+								<?php endif;?>
+								<?php
+								//print_r($secondary_links);
+								/*print theme(array(/*'links__system_secondary_menu'x/ 'vibio_secondary_menu_theme', 'links'), $secondary_links,
+								 array(
+								 'id' => 'secondary-menu',
+								 'class' => 'links clearfix',
+								 ),
+								 array(
+								 'text' => t('Second level of current primary menu choice'),
+								 'level' => 'h2',
+								 'class' => 'element-invisible',
+								 ));
+								 */
+
+								/* switch to blocks print theme(array('links__system_main_menu', 'links'), $primary_links,
+								 array(
+								 'id' => 'main-menu',
+								 'class' => 'links clearfix',
+								 ),
+								 array(
+								 'text' => t('Main menu'),
+								 'level' => 'h2',
+								 'class' => 'element-invisible',
+								 ));
+								 ?>
+								 <?php /* stephen, quick
+								 //test: $secondary_links = $primary_links;
+								 print theme(array('links__system_secondary_menu', 'links'), $secondary_links,
+								 array(
+								 'id' => 'secondary-menu',
+								 'class' => 'links clearfix',
+								 ),
+								 array(
+								 'text' => t('Secondary menu'),
+								 'level' => 'h2',
+								 'class' => 'element-invisible',
+								 ));
+								 */
+								?>
+
+								<?php print $navigation;?>
+							</div>
+						</div>
+						<!-- /.section, /#navigation -->
+						<?php endif;?>
+
+						<?php print $sidebar_first;?>
+
+						<?php //not set: print $sidebar_second;?>
+					</div>
+				</div>
+				<!-- /#main, /#main-wrapper -->
+			</div>
+		</div>
+		<!-- /#page, /#page-wrapper -->
+		<?php if ($footer || $footer_message):
+		?>
+		<div id="footer">
+			<div class="section">
+				<?php if ($footer_message):
+				?>
+				<div id="footer-message">
+					<?php print $footer_message;?>
+				</div>
+				<?php endif;?>
+
+				<?php print $footer;?>
+			</div>
+		</div>
+		<!-- /.section, /#footer -->
+		<?php endif;?>
+
+		<?php print $page_closure;?>
+
+		<?php print $closure;?>
+	</body>
+</html>
diff --git a/themes/vibio/templates/product/.inventory-want.tpl.php.swp b/themes/vibio/templates/product/.inventory-want.tpl.php.swp
new file mode 100644
index 0000000..3f50828
Binary files /dev/null and b/themes/vibio/templates/product/.inventory-want.tpl.php.swp differ
diff --git a/themes/vibio/templates/product/add-product-link.tpl.php b/themes/vibio/templates/product/add-product-link.tpl.php
index c76d6cb..0abee57 100644
--- a/themes/vibio/templates/product/add-product-link.tpl.php
+++ b/themes/vibio/templates/product/add-product-link.tpl.php
@@ -1,12 +1,26 @@
 <?php
+/* This is called on the search page.  Anywhere else? */
+
+
 if (user_access("create product content"))
 {
+/* older stuff I think we may go back to
 	$link_args = array(
 		"!add_link"				=> l(t("Add it directly to our Product Database"), "product/add"),
 		"!external_search_link"	=> l(t("importing"), substr($_SERVER['SCRIPT_URL'], 1), array("query" => array("external_product_search" => 1))),
 	);
 
 	//echo t("Can't find your product? !add_link to Vibio!", $link_args);
-	echo '<span class="link_to_add_item">' . t("Can't find your item? !add_link" , $link_args) . '</span>';
+	//echo '<span class="link_to_add_item">' . t("Can't find your item? !add_link" , $link_args) . '</span>';
+*/
+	echo l('+ Add Item', "product/add", array(
+		attributes => array(
+			alt=>"Add an item to our database",
+			'class'=>"autonodal ",   
+				// not discussed or time-budgeded, does it work
+				// out of box?
+			)
+		)
+	);
 }
 ?>
diff --git a/themes/vibio/templates/product/amazon-display.tpl.php b/themes/vibio/templates/product/amazon-display.tpl.php
index ad2a6e6..1c96c11 100644
--- a/themes/vibio/templates/product/amazon-display.tpl.php
+++ b/themes/vibio/templates/product/amazon-display.tpl.php
@@ -38,13 +38,13 @@ if (strlen($description) > PRODUCT_DETAIL_SNIPPET_LENGTH)
 	
 	$body = "
 		<div class='product_snippet'>
-			$snippet <a href='#' class='product_snippet_link'>more</a>
+			$snippet <a href='#' class='product_snippet_link'>More</a>
 		</div>
 		<div class='product_snippet product_snippet_expand'>
 			$description 
 			<div class='clear'></div>
-			$details<br />
-			<a href='#' class='product_snippet_link'>less</a>
+			$details
+			<a href='#' class='product_snippet_link'>Less</a>
 		</div>
 	";
 }
diff --git a/themes/vibio/templates/product/display.tpl.php b/themes/vibio/templates/product/display.tpl.php
index e1375dd..fccb711 100644
--- a/themes/vibio/templates/product/display.tpl.php
+++ b/themes/vibio/templates/product/display.tpl.php
@@ -4,10 +4,10 @@ if (strlen($description) > PRODUCT_DETAIL_SNIPPET_LENGTH) {
 	
 	$body = "
 		<div class='product_snippet'>
-			$snippet <a href='#' class='product_snippet_link'>more</a>
+			$snippet <a href='#' class='product_snippet_link'>More</a>
 		</div>
 		<div class='product_snippet product_snippet_expand'>
-			{$node->body} <a href='#' class='product_snippet_link'>less</a> 
+			{$node->body} <a href='#' class='product_snippet_link'>Less</a> 
 			<div class='clear'></div>>
 		</div>
 	";
diff --git a/themes/vibio/templates/product/inventory-add.tpl.php b/themes/vibio/templates/product/inventory-add.tpl.php
index 34d912c..7b4b41a 100644
--- a/themes/vibio/templates/product/inventory-add.tpl.php
+++ b/themes/vibio/templates/product/inventory-add.tpl.php
@@ -1,8 +1,22 @@
 <?php
 $text = t("Have");
+/* A javascript seems to catch this from v1.0 days */
+
+/* text version:
 echo "
-	<button class='inventory_add' id='inventory_add_{$nid}'>
+	<a class='inventory_add' id='inventory_add_{$nid}'>
 		$text
-	</button>
+	</a>
 ";
+*/
+
+echo "
+	<a class='inventory_add' id='inventory_add_{$nid}'><img
+		src='/sites/default/themes/vibio/images/have_button.png'/></a>
+";
+
+
+
+
+
 ?>
diff --git a/themes/vibio/templates/product/inventory-manage-link.tpl.php b/themes/vibio/templates/product/inventory-manage-link.tpl.php
index e06b588..fbd1e1b 100644
--- a/themes/vibio/templates/product/inventory-manage-link.tpl.php
+++ b/themes/vibio/templates/product/inventory-manage-link.tpl.php
@@ -11,13 +11,13 @@ if ($is_product_page && $item_id || // PRODUCT page where user owns the product
 			'attributes' => array(
 				'class' => "local_action_button",),
 			'query'=>'manage=1')
-		) . "<br />";  // used to be View yours
+		);  // used to be View yours
 }
 elseif (!$item_id) // user doesn't own this product, always show this.
 {
 	// originally unsanitized though maybe theme fixed. fix 20110609
 	$searchcrumb = htmlentities ( trim ( $searchcrumb ) , ENT_QUOTES )  ;
-	$manage_link = theme("product_inventory_add", $product->nid, $searchcrumb)."<br />";
+	$manage_link = theme("product_inventory_add", $product->nid, $searchcrumb);
 }
 
 if (!$is_product_page)
diff --git a/themes/vibio/templates/product/inventory-want.tpl.php b/themes/vibio/templates/product/inventory-want.tpl.php
index 7e32d43..eb0ab68 100644
--- a/themes/vibio/templates/product/inventory-want.tpl.php
+++ b/themes/vibio/templates/product/inventory-want.tpl.php
@@ -1,7 +1,7 @@
 <?php
 $text = t("Want");
 echo "
-	<button class='inventory_want' onclick=\"window.location='/node/{$nid}'\">
+	<a class='inventory_want' onclick=\"window.location='/node/{$nid}'\">
 		$text
-	</button>
+	</a>
 ";
diff --git a/themes/vibio/templates/profile/display-block.tpl.php b/themes/vibio/templates/profile/display-block.tpl.php
index ad2d8b1..b53140e 100644
--- a/themes/vibio/templates/profile/display-block.tpl.php
+++ b/themes/vibio/templates/profile/display-block.tpl.php
@@ -1,128 +1,128 @@
-<?php
-/* called by function profile_ext_display_block($u)
- * return theme("profile_ext_displayblock", $u, $pic, $vars);
-
- * $vars['msg_count']
- * $vars['notifications']
- * later want new offers in or out !!!
- */
-$uid = $user->uid; // always me
-$name = $user->name;
-$url_name = url("user/$uid");
-
-$msg_count = $vars['msg_count'];
-$notifications = $vars['notifications'];
-$selling = $vars['selling'];
-$buying = $vars['buying'];
-$friend_count = $vars['friend_count'];
-//dsm($vars);
-
-/* We're building a menu by hand, with counts
- *  theme_menu_item wants to be told if it's $in_active_trail.
- * The "primary menu" should in the future, when the dust settles,
- *  be built in a way that lets us use functions like
- *  $tree = menu_tree_page_data($menu_name);
-
-http://api.drupal.org/api/drupal/includes--menu.inc/group/menu/6
-menu_get_active_menu_name
- */
-
-// Selling: no children in active-trail if popups work
-// always says "navigation," seems broke: $active_menu = menu_get_active_menu_name();
-
-$taint_path = drupal_get_path_alias($_GET['q']);  // unsafe ugc except for ==
-// user/xx/something means highlight the profile button
-$pieces = explode("/", $taint_path);
-if ( $pieces[0] == 'user' ) {
-	if ( $uid == $pieces[1] ) {
-		$taint_path = 'profile';
-	}
-}
-     
-$selling_menu = l("Offers to you", "selling", array(
-	attributes => array(
-		'title' => 'Selling: offers others have have made to you',
-		'class' => $taint_path == 'selling' ? " active" : '',
-		),
-	)
-);
-$buying_menu = l("Offers from you", "buying", array(
-	attributes => array(
-		'title' => 'Buying: offers you have made',
-		'class' => $taint_path == 'buying' ? " active" : '',
-		),
-	)
-);
-// !!! Notifications becoming invitations?
-$notifications_menu =
-	l("Invitations", "notifications", array(
-	attributes => array(
-		'title' => 'Connect with other Vibio Users',
-		'class' => $taint_path == 'notifications' ? " active" : '',
-		),
-	)
-);
-$messages_menu =
-	l("Messages", "messages", array(
-	attributes => array(
-		'title' => 'Messages sent by other Vibio Users',
-		'class' => $taint_path == 'messages' ? " active" : '',
-		),
-	)
-);
-$contacts_menu =
-	l("Contacts", "contacts", array(
-	attributes => array(
-		'title' => 'Widen your circle of contacts on Vibio or link to Facebook',
-		'class' => $taint_path == 'contacts' ? " active" : '',
-		),
-	)
-);
-// !!! children menus look like: user/$uid/something
-$profile_menu =
-	l("Profile", "user/$uid", array(
-	attributes => array(
-		'title' => 'My Profile',
-		'class' => $taint_path == 'profile' ? " active" : '',
-		),
-	)
-);
-$home_menu = 
-	l("Home", "", array(
-	attributes => array(
-		'title' => 'Home',
-		'class' => $taint_path == 'home' ? " active" : '',
-		),
-	)
-);
-
-echo "
-
-<div id='profile_ext_displayblock'>	
-	<div id='upper_title'>
-		$home_menu | $profile_menu
-	</div>
-	<div id='profile_ext_displayblock_user_section'>
-		<a href='$url_name' id='profile_ext_displayblock_image'>
-			$profile_picture
-		</a>
-		<a href='$url_name' id='profile_ext_displayblock_name'>
-			$name
-		</a>
-		<div class='clear'></div>
-	</div>
-	<div id='profile_ext_displayblock_subitems'>
-		<ul class='primary_menu_by_hand'>
-			<li><span class='menu_with_count_text'>$buying_menu</span><span class='menu_with_count_count'>$buying</span></a></li>
-			<li><span class='menu_with_count_text'>$selling_menu</span><span class='menu_with_count_count'>$selling</span></a></li>
-			<li><span class='menu_with_count_text'>$notifications_menu</span><span class='menu_with_count_count'>$notifications</span></a></li>
-			<li><span class='menu_with_count_text'>$messages_menu</span><span class='menu_with_count_count'>$msg_count</span></li>
-		<li><span class='menu_with_count_text'>$contacts_menu</span><span class='menu_with_count_count'>$friend_count</span></a></li>
-
-
-		</ul>
-	</div>
-</div>
-	<div class='clear'></div>
-";
-?>
+<?php
+/* called by function profile_ext_display_block($u)
+ * return theme("profile_ext_displayblock", $u, $pic, $vars);
+
+ * $vars['msg_count']
+ * $vars['notifications']
+ * later want new offers in or out !!!
+ */
+$uid = $user->uid; // always me
+$name = $user->name;
+$url_name = url("user/$uid");
+
+$msg_count = $vars['msg_count'];
+$notifications = $vars['notifications'];
+$selling = $vars['selling'];
+$buying = $vars['buying'];
+$friend_count = $vars['friend_count'];
+//dsm($vars);
+
+/* We're building a menu by hand, with counts
+ *  theme_menu_item wants to be told if it's $in_active_trail.
+ * The "primary menu" should in the future, when the dust settles,
+ *  be built in a way that lets us use functions like
+ *  $tree = menu_tree_page_data($menu_name);
+
+http://api.drupal.org/api/drupal/includes--menu.inc/group/menu/6
+menu_get_active_menu_name
+ */
+
+// Selling: no children in active-trail if popups work
+// always says "navigation," seems broke: $active_menu = menu_get_active_menu_name();
+
+$taint_path = drupal_get_path_alias($_GET['q']);  // unsafe ugc except for ==
+// user/xx/something means highlight the profile button
+$pieces = explode("/", $taint_path);
+if ( $pieces[0] == 'user' ) {
+	if ( $uid == $pieces[1] ) {
+		$taint_path = 'profile';
+	}
+}
+     
+$selling_menu = l("Offers to you", "selling", array(
+	attributes => array(
+		'title' => 'Selling: offers others have have made to you',
+		'class' => $taint_path == 'selling' ? " active" : '',
+		),
+	)
+);
+$buying_menu = l("Offers from you", "buying", array(
+	attributes => array(
+		'title' => 'Buying: offers you have made',
+		'class' => $taint_path == 'buying' ? " active" : '',
+		),
+	)
+);
+// !!! Notifications becoming invitations?
+$notifications_menu =
+	l("Invitations", "notifications", array(
+	attributes => array(
+		'title' => 'Connect with other Vibio Users',
+		'class' => $taint_path == 'notifications' ? " active" : '',
+		),
+	)
+);
+$messages_menu =
+	l("Messages", "messages", array(
+	attributes => array(
+		'title' => 'Messages sent by other Vibio Users',
+		'class' => $taint_path == 'messages' ? " active" : '',
+		),
+	)
+);
+$contacts_menu =
+	l("Contacts", "contacts", array(
+	attributes => array(
+		'title' => 'Widen your circle of contacts on Vibio or link to Facebook',
+		'class' => $taint_path == 'contacts' ? " active" : '',
+		),
+	)
+);
+// !!! children menus look like: user/$uid/something
+$profile_menu =
+	l("Profile", "user/$uid", array(
+	attributes => array(
+		'title' => 'My Profile',
+		'class' => $taint_path == 'profile' ? "profile-b active" : 'profile-b inactive',
+		),
+	)
+);
+$home_menu = 
+	l("Home", "", array(
+	attributes => array(
+		'title' => 'Home',
+		'class' => $taint_path == 'home' ? "home-b active" : 'home-b inactive',
+		),
+	)
+);
+
+echo "
+
+<div id='profile_ext_displayblock'>	
+	<div id='upper_title'>
+		$home_menu  $profile_menu
+	</div>
+	<div id='profile_ext_displayblock_user_section'>
+		<a href='$url_name' id='profile_ext_displayblock_image'>
+			$profile_picture
+		</a>
+		<a href='$url_name' id='profile_ext_displayblock_name'>
+			$name
+		</a>
+		<div class='clear'></div>
+	</div>
+	<div id='profile_ext_displayblock_subitems'>
+		<ul class='primary_menu_by_hand'>
+			<li><span class='menu_with_count_text'>$buying_menu</span><span class='menu_with_count_count'>$buying</span></a></li>
+			<li><span class='menu_with_count_text'>$selling_menu</span><span class='menu_with_count_count'>$selling</span></a></li>
+			<li><span class='menu_with_count_text'>$notifications_menu</span><span class='menu_with_count_count'>$notifications</span></a></li>
+			<li><span class='menu_with_count_text'>$messages_menu</span><span class='menu_with_count_count'>$msg_count</span></li>
+		<li><span class='menu_with_count_text'>$contacts_menu</span><span class='menu_with_count_count'>$friend_count</span></a></li>
+
+
+		</ul>
+	</div>
+</div>
+	<div class='clear'></div>
+";
+?>
diff --git a/themes/vibio/templates/profile/header-menu.tpl.php b/themes/vibio/templates/profile/header-menu.tpl.php
index ba10abe..833bab7 100644
--- a/themes/vibio/templates/profile/header-menu.tpl.php
+++ b/themes/vibio/templates/profile/header-menu.tpl.php
@@ -1,8 +1,8 @@
 <?php
-$edit_account_link = l(t("Account Settings"), "user/{$profile_ext_user->uid}/edit");
-$privacy_settings_link = l(t("Privacy Settings"), "user/{$profile_ext_user->uid}/edit/privacy_settings");
-$faq_link = l(t("Help"), "faq");
-$logout_link = l(t("Logout"), "logout");
+$edit_account_link = l(t("Account Settings"), "user/{$profile_ext_user->uid}/edit", array('attributes' => array('id' => 'user-account')));
+$privacy_settings_link = l(t("Privacy Settings"), "user/{$profile_ext_user->uid}/edit/privacy_settings", array('attributes' => array('id' => 'user-privacy')));
+$faq_link = l(t("Help"), "faq", array('attributes' => array('id' => 'user-faq')));
+$logout_link = l(t("Logout"), "logout", array('attributes' => array('id' => 'user-logout')));
 $menu_title = strlen($profile_ext_user->name) > 20 ? substr($profile_ext_user->name, 0, 20)."..." : $profile_ext_user->name
 ?>
 
@@ -21,11 +21,11 @@ $menu_title = strlen($profile_ext_user->name) > 20 ? substr($profile_ext_user->n
 
 <div id="profile_ext_submenu">
 	<?php
-	echo "<a rel='separator'> </a>";
+	//echo "<a rel='separator'> </a>";
 	echo $edit_account_link;
 	echo $privacy_settings_link;
 	echo $faq_link;
-	echo "<a rel='separator'> </a>";
+	//echo "<a rel='separator'> </a>";
 	echo $logout_link;
 	?>
 </div>
diff --git a/themes/vibio/templates/profile/header.tpl.php b/themes/vibio/templates/profile/header.tpl.php
index 4a760f3..0144ff9 100644
--- a/themes/vibio/templates/profile/header.tpl.php
+++ b/themes/vibio/templates/profile/header.tpl.php
@@ -5,12 +5,12 @@ if ($profile_ext_user->uid)
 }
 else
 {
-	$message = t("!login or !signup", array("!login" => l(t("Login"), "user/login"), "!signup" => l(t("Register"), "user/register")));
+	$message = t("!login or !signup", array("!login" => l(t("Login"), "user/login"), "!signup" => l(t("Sign Up"), "user/register")));
 }
 
 echo "
 	<div id='profile_ext_header'>
-		$message
+		$message <a id='header-faq' href='/faq'>FAQ</a>
 	</div>
 ";
 ?>
\ No newline at end of file
diff --git a/themes/vibio/templates/profile/profile.tpl.php b/themes/vibio/templates/profile/profile.tpl.php
index 1dce39b..b58b9be 100644
--- a/themes/vibio/templates/profile/profile.tpl.php
+++ b/themes/vibio/templates/profile/profile.tpl.php
@@ -1,14 +1,12 @@
 <?php
 // reprofileicious
-
-
-print "Account print_r:<p>";
-print_r($account);
-
+This page isn't used is it?  Delete if no error message appears after
+multiple cache clears and testing...
 
 global $user;
 $u = $profile['user'];
 
+
 // edit your picture
 if ($user->uid == $u->uid || user_access("administer users"))
 {
@@ -90,6 +88,9 @@ echo "profile completeness: {$profile['profile_progress']}%";
 //die("profile.tpl.php still runs"); why not running? cached?
 print $sec_menu;
 
+// Add a flag, for admins
+// This isn't even called, is it...print "stuff here" . flag_create_link('feature_users', $u->uid); 
+
 print $this_page;
 
 ?>
diff --git a/themes/vibio/templates/profile/view-fields.tpl.php b/themes/vibio/templates/profile/view-fields.tpl.php
index e293f40..81e96c1 100644
--- a/themes/vibio/templates/profile/view-fields.tpl.php
+++ b/themes/vibio/templates/profile/view-fields.tpl.php
@@ -3,7 +3,6 @@
 
 $res = _profile_get_fields($fields_category);
 $offset = strlen("profile_") - 1;
-
 echo "<table class='profile_fields'>";
 while ($row = db_fetch_object($res))
 {
diff --git a/themes/vibio/templates/search/README--search-result-vibio_item b/themes/vibio/templates/search/README--search-result-vibio_item
new file mode 100644
index 0000000..cfa7e17
--- /dev/null
+++ b/themes/vibio/templates/search/README--search-result-vibio_item
@@ -0,0 +1,9 @@
+There seems to be a half-done effort to convert search from 4[adjustable] columns
+in a simple, solid but slightly clunky way to some cool javascript or ???
+
+At some point this work could be taken up again, the old file is being left.
+
+If so, get rid of / transform function vibio_preprocess_search_results(&$variables) {
+in template.php
+
+
diff --git a/themes/vibio/templates/search/search-result-vibio_item.tpl--what-is-this-weird-version-10-31 b/themes/vibio/templates/search/search-result-vibio_item.tpl--what-is-this-weird-version-10-31
new file mode 100644
index 0000000..264a77a
--- /dev/null
+++ b/themes/vibio/templates/search/search-result-vibio_item.tpl--what-is-this-weird-version-10-31
@@ -0,0 +1,28 @@
+<?php /* print '<pre>'. check_plain(print_r($info_split, 1)) .'</pre>'; */ 
+$node = $result[node]; //!!! Different from node-view-flag_featured.tpl.php
+		// !!! Also, $search_links is set here, not there.
+$flag = flag_create_link('feature', $node->nid);
+$img = theme('imagecache', 'product_fixed_width', $node->field_main_image[0]['filepath']);
+
+// $search_links are have and want buttons
+
+$rectangle = "
+<div class='views-fluidgrid-item'> 
+	<div class='views-fluidgrid-item-inner'>
+  	<div class='views-field-field-main-image-fid'>
+  		<a href='$url' title='$title' alt='$title'>
+  			 $img
+  		</a>
+  	</div>	
+  		<div class='search-links'>$search_links</div>
+  		<div class='views-field-title'>
+  			<a class='item-title' href='$url'>$title</a>
+  		</div>   		                     
+  	<div class='search-flag'>$flag</div>
+	</div>
+</div>
+";
+
+print $rectangle;
+
+?>
diff --git a/themes/vibio/templates/search/search-result-vibio_item.tpl.php b/themes/vibio/templates/search/search-result-vibio_item.tpl.php
index d47f663..264a77a 100644
--- a/themes/vibio/templates/search/search-result-vibio_item.tpl.php
+++ b/themes/vibio/templates/search/search-result-vibio_item.tpl.php
@@ -1,42 +1,28 @@
 <?php /* print '<pre>'. check_plain(print_r($info_split, 1)) .'</pre>'; */ 
-//print $result[node]->nid;
 $node = $result[node]; //!!! Different from node-view-flag_featured.tpl.php
 		// !!! Also, $search_links is set here, not there.
-//dpm(debug_backtrace());
-//print_r(debug_backtrace());
 $flag = flag_create_link('feature', $node->nid);
 $img = theme('imagecache', 'product_fixed_width', $node->field_main_image[0]['filepath']);
 
-/* two sets of wireframes, rectangle and square, keep both variants for now */
+// $search_links are have and want buttons
+
 $rectangle = "
-	<div class='item-rectangle col_$zebra'> 
-		<a href='$url' title='$title' alt='$title'>
-			 $img
-		</a>
-		<div class='title-item'>
-			<a class='item-title' href='$url'>$title</a><br/>
-		</div>                        
-	<div class='search-flag'>$flag</div>
-	<div class='search-links'>$search_links</div>
+<div class='views-fluidgrid-item'> 
+	<div class='views-fluidgrid-item-inner'>
+  	<div class='views-field-field-main-image-fid'>
+  		<a href='$url' title='$title' alt='$title'>
+  			 $img
+  		</a>
+  	</div>	
+  		<div class='search-links'>$search_links</div>
+  		<div class='views-field-title'>
+  			<a class='item-title' href='$url'>$title</a>
+  		</div>   		                     
+  	<div class='search-flag'>$flag</div>
 	</div>
+</div>
 ";
 
-$square = "
-		<div class='item-square'>
-			<a href='$url' title='$title' alt='$title'>
-				<img class='item-square-image' srcimagecache='$img' src='{$info_split['image']}' />
-			</a>
-			<div class='over-item'>
-			</div>
-			<div class='search-links'>$search_links</div>
-                        <div class='under-item'>
-                                <a class='item-title' href='$url'>$title</a><br />
-                        </div>
-                 </div>
-
-";
-
-
 print $rectangle;
 
 ?>
diff --git a/themes/vibio/templates/search/search-results-vibio_item.tpl.php b/themes/vibio/templates/search/search-results-vibio_item.tpl.php
index bf8a508..ea19b9a 100644
--- a/themes/vibio/templates/search/search-results-vibio_item.tpl.php
+++ b/themes/vibio/templates/search/search-results-vibio_item.tpl.php
@@ -1,4 +1,8 @@
 <?php
+/* normall the form would be above here.  I hid it with css in search_page.css
+ * while waiting for design to completely stabilize.  -stephen
+ */
+
 echo theme("product_add_product_link");
 echo $pager;
 
@@ -7,15 +11,23 @@ echo $pager;
  * /var/www/vibio/src/modules/vibio/vibio_item/product_catalog/product.module
  * that might produce $other_results ... is this eBay ? 
 
- * The three columns are produced in template.php
+ * The three or four columns are produced in template.php
  * vibio_preprocess_search_results
+
+ * It can't work like this, please, but seems to:
+ *  $search_results fills will one type of search results, 
+ *  so local products if there are some, Amazon if not.
+ *  Then $other_results has the other results.  So Amazon
+ *  products can come in EITHER way
+
  */
-echo "
+echo " 
 	<!-- table class='search-results $type' -->
-		<div class='col1'>$search_results_1</div>
-		<div class='col2'>$search_results_2</div>
-		<div class='col3'>$search_results_0</div>
-		$other_results
+		<div class='search-col 1'>$search_results_0</div>
+		<div class='search-col 2'>$search_results_1</div>
+		<div class='search-col 3'>$search_results_2</div>
+		<div class='search-col 4'>$search_results_3</div>
+		<div class='clearfix'></div>
 	<!-- /table -->
 ";
 
diff --git a/themes/vibio/templates/search/travis_search_diffed_with_older_search.diff b/themes/vibio/templates/search/travis_search_diffed_with_older_search.diff
new file mode 100644
index 0000000..63d6a1d
--- /dev/null
+++ b/themes/vibio/templates/search/travis_search_diffed_with_older_search.diff
@@ -0,0 +1,31 @@
+diff --git a/themes/vibio/templates/search/search-results-vibio_item.tpl.php b/themes/vibio/templates/search/search-results-vibio_item.tpl.php
+index 2440795..53e5430 100644
+--- a/themes/vibio/templates/search/search-results-vibio_item.tpl.php
++++ b/themes/vibio/templates/search/search-results-vibio_item.tpl.php
+@@ -13,13 +13,21 @@ echo $pager;
+ 
+  * The three columns are produced in template.php
+  * vibio_preprocess_search_results
++
++ * It can't work like this, please, but seems to:
++ *  $search_results fills will one type of search results, 
++ *  so local products if there are some, Amazon if not.
++ *  Then $other_results has the other results.  So Amazon
++ *  products can come in EITHER way
++
+  */
+-echo "
++echo " 
+ 	<!-- table class='search-results $type' -->
+-		<div class='col1'>$search_results_1</div>
+-		<div class='col2'>$search_results_2</div>
+-		<div class='col3'>$search_results_0</div>
+-		$other_results
++		<div class='search-col 1'>$search_results_0</div>
++		<div class='search-col 2'>$search_results_1</div>
++		<div class='search-col 3'>$search_results_2</div>
++		<div class='search-col 4'>$search_results_3</div>
++		<div class='clearfix'></div>
+ 	<!-- /table -->
+ ";
+ 
diff --git a/themes/vibio/templates/uri/.friends.tpl.php.swp b/themes/vibio/templates/uri/.friends.tpl.php.swp
deleted file mode 100644
index a67c48e..0000000
Binary files a/themes/vibio/templates/uri/.friends.tpl.php.swp and /dev/null differ
diff --git a/themes/vibio/templates/uri/friends.tpl.php b/themes/vibio/templates/uri/friends.tpl.php
index c3b8a59..f07fbb1 100644
--- a/themes/vibio/templates/uri/friends.tpl.php
+++ b/themes/vibio/templates/uri/friends.tpl.php
@@ -1,6 +1,8 @@
 <?php
+/* Still used in v1.1 but should be cleaned up */
+
 $friends_title = t("Connections");
-$friend_finder_title = t("Vibio Connection Finder");
+$friend_finder_title = t("Connection Finder");
 $invite_title = t("Invite Friends");
 
 /* Simon 20110907 remove notifications, which was first line in echo:
@@ -11,20 +13,20 @@ $invite_title = t("Invite Friends");
  * EFFICIENCY: what creates $notifications, and can we remove it?
  */
 
-
+//dsm($friends);
 echo "
 	<div id='friends_tabs' class='tabs'>
-		<div class='tabs'>
+		<div class='tabs' style='display: none;'>
 			<ul class='tabs primary clearfix'>
 				<li>
 					<a href='#friends'>
 						<span class='tab'>$friends_title</span>
-					</a>
+					</a><span class='tab-seperator'>|</span>
 				</li>
 				<li>
-					<a href='/network/find-friends'>
+					<a href='/network/find-friends'> turning into contacts/find-friends
 						<span class='tab'>$friend_finder_title</span>
-					</a>
+					</a><span class='tab-seperator'>|</span>
 				</li>
 				<li>
 					<a href='/invite'>
@@ -32,7 +34,7 @@ echo "
 Mocked this up but didn't get it working.  End the single-page-ajax effort.
 
 						<span class='tab'>$invite_title</span>
-					</a>
+					</a><span class='tab-seperator'>|</span>
 				</li>
 			</ul>
 		</div>
diff --git a/themes/vibio/templates/user/user-profile.tpl.php b/themes/vibio/templates/user/user-profile.tpl.php
index be0d51c..6966893 100644
--- a/themes/vibio/templates/user/user-profile.tpl.php
+++ b/themes/vibio/templates/user/user-profile.tpl.php
@@ -1,34 +1,35 @@
 <?php
-/* All user-profile pages go through here.  Too much is done in this 
+/* All user-profile pages go through here.  Too much is done in this
  * tpl for long-run.  Disentangling from a single page with internal nav
- * and javascript. 
+ * and javascript.
  */
-
-
 global $user;
-$u = $profile['user'];
-
-if ($user->uid == $u->uid || user_access("administer users"))
-{
-	$text = t("Edit");
-	$account_edit_link = theme("profile_ext_edit_link", "user/{$u->uid}/edit");
-	/* profile_ext.module creates this meny callback */
-	$picture_edit_link = "
+$u=$profile['user'];
+/* Remove Edit account and Edit Picture options for v1.1
+ *  They were poorly placed, but I think might be reintroduced
+ *  with clearer design soon...?? 
+ 
+if($user->uid==$u->uid||user_access("administer users")) {
+$text=t("Edit Picture");
+$account_edit_link=theme("profile_ext_edit_link","user/{$u->uid}/edit");
+// profile_ext.module creates this meny callback 
+$picture_edit_link="
 		<div id='profile_change_picture' class='profile_edit_link'>
 			<a href='/profile/{$u->uid}/change-picture'>$text</a>
 		</div>
 	";
 }
+*/
+
+
+
 
 // "Send --- a message"
-if ($user->uid && $user->uid != $u->uid && module_exists("privatemsg"))
-{
-	$message_link = l(t("Send !user a message", array("!user" => $u->name)), "messages/new/{$u->uid}");
+if($user->uid&&$user->uid!=$u->uid&&module_exists("privatemsg")) {
+$message_link= "<p>Send Message</p><p id='message-link'>".l(t("Send !user a message",array("!user"=>$u->name)),"messages/new/{$u->uid}")."</p>";
 }
-
-if (!$u->picture)
-{
-	$profile['user_picture'] = "
+if(!$u->picture) {
+$profile['user_picture']="
 		<div class='picture'>
 			<a href='/user/{$u->uid}'>
 				<img src='/themes/vibio/images/icons/default_user_large.png' />
@@ -36,124 +37,104 @@ if (!$u->picture)
 		</div>
 	";
 }
-
-/* Friend information 
+/* Friend information
  * $profile['dos'] written by Nelson not explored yet; shows up to second degree?
  * $vars['connect'] = You, Connection, Second or false
  */
 switch ($who_to_you) {
-	case 'you':
-		$friends_info = "You";
-		$my_options = "<div class='profile_options'><a href='/search' class='profile_option'>Search for and Add an Item to Your Profile</a>
+case 'you':
+$friends_info="You";
+$my_options="<div class='profile_options'><a href='/product/add' class='profile_option'>+ Add an Item to Your Profile</a>
 	<a href='/contacts' class='profile_friends'>Invite friends to view your collections</a>	</div>
 		";
-		break;
-	case 'connection':
-		$friends_info = "Direct Connection";
-		break;
-	case 'second':
-		$friends_info = "In Your Network<div class='mouse_for_friends'>" .
-			$profile['dos'] . "</div>";
-		break;
-	case 'none':
-		$friends_info = "No Connection<div class='mouse_for_friends'>" .
-			"Keep connecting with people till you find a common connection.</div>";
-		break;
+break;
+case 'connection':
+$friends_info="Direct Connection";
+break;
+case 'second':
+$friends_info="<div class='mouse_for_friends'>".$profile['dos']."</div>";
+break;
+case 'none':
+$friends_info="No Connection<div class='mouse_for_friends'>"."Keep connecting with people till you find a common connection.</div>";
+break;
 }
-
 ?>
 
 <div id="profile_picture_container" class="profile_editable">
-	<?php echo $picture_edit_link; ?>
+	<?php echo $picture_edit_link;?>
 	<div id="profile_picture" >
-		<?php echo $profile['user_picture']; ?>
+		<?php echo $profile['user_picture'];?>
 	</div>
 </div>
-
 <div id='profile_user_information' class='connect_<?php echo $who_to_you;?>'>
 	<div id='profile_username' class='profile_data profile_editable '>
 		<div>
 			<?php
-			echo "<div id='name_and_friend'><h5>$u->name</h5><div class='friend_info'>";
-
-			echo $friends_info . "</div><div class='friend_actions'>" . 
-				$profile['uri_actions']['actions'] . '</div>';
-			if ( $profile['profile_progress'] ) {
-				echo $profile['profile_progress'];
-			}
-			echo '</div>';
-			echo "<br/>";
-			echo $message_link;
-						//echo $profile['profile_progress'];
-			echo $my_options;
+echo "<div id='name_and_friend'><h5>$u->name</h5><div id='message-user'>$message_link</div><div class='friend_info'>";
+echo $friends_info."</div><div class='friend_actions'>".$profile['uri_actions']['actions'].'</div>';
+if($profile['profile_progress']) {
+echo $profile['profile_progress'];
+}
+echo '</div>';
+//echo $profile['profile_progress'];
+echo $my_options;
 			?>
 		</div>
-		<?php echo $account_edit_link; ?>
-		<?php echo $profile['public_info']; ?>
+		<?php echo $account_edit_link;?>
+		<?php echo $profile['public_info'];?>
 
 		<div class='clear'></div>
 	</div>
 </div>
-
 <?php //
 // this was the tab-based everything else,
 // to be replaced with saner options
-//echo $profile['social_info']; ?>
+//echo $profile['social_info'];
+?>
 <div class="clear"></div>
-
 <?php
-
 /* The secondary content goes here.
-	This replaces the odd $profile['social_info']	
+ This replaces the odd $profile['social_info']
  */
-
-
-
-//print "<h3>Secondary Menu will go here</h3>";
-// next: this seems like it should work: or back up, skip nice menus v1.1
-/*$menu = theme('nice_menus', -1, 'primary-links', 21, 'down');
-print $menu['content'];*/
-
+// Secondary Menu  --> now formatted like tabs (but not really Drupal's tabs)
 /* Still to do:
-		- badges and some others need a number... not necessarily well defined yet,
-			badges, collections, friends -> in every case is that number new or total?
-			how new?
-		- active menu link, and menu-ify this in general
+ - badges and some others need a number... not necessarily well defined yet,
+ badges, collections, friends -> in every case is that number new or total?
+ how new?
+ - active menu link, and menu-ify this in general
  */
-
-
-/* Currently, 
+/* Currently,
  * these look a lot like tabs.  But, we don't want to mix in with other tabs,
  * and tabs are printed at the top of the page.  So unless really
  * wants to retheme every page, just spit out the tabs in a forced/faked way
  */
-$uid = $u->uid; // shortcut to move way up this tpl
-$secondary = array ('activity' => "Activity", 
-	'collections' => "Collections", 
-	'badges' => "Badges", 
-	'about' => "About"
-	);
-print "<div id='profile_tabs'><ul class='primary'>"; /* primary? css currently calls for it, I think */
-foreach ($secondary as $key => $name ) {
-	print "<li {$active[$key]}><a href='/user/$uid/$key' ><span class='tab'>$name</span></a></li>";
+$uid=$u->uid;
+// shortcut to move way up this tpl
+$secondary=array('activity'=>"Activity<span class='tab-seperator'>|</span>",'collections'=>"Collections<span class='tab-seperator'>|</span>",'badges'=>"Badges<span class='tab-seperator'>|</span>",'about'=>"About Me<span class='tab-seperator'>|</span>");
+print "<div id='profile_tabs'><ul class='primary'>";
+/* primary? css currently calls for it, I think */
+foreach($secondary as $key=>$name) {
+print "<li {$active[$key]}><a href='/user/$uid/$key' ><span class='tab'>$name</span></a></li>";
 }
 //dsm(menu_get_active_trail());
 //dsm($active);
-print "</ul></div>";
+
+//check script in blocks footer section file for the info button href settings
+print "<li><a href='/info/profile' id='info-button-small' class='automodal'><span class=tab>Info</span></a></li><li class='blank-li'><span class='tab'>&nbsp;</span></li></ul></div>";
 /*
-  $options['attributes']['class'] .= ($tabkey == $active_tab ? ' active' : '');
-  $output .= '<li'. $attributes_li .'>'. l($tab['title'], $_GET['q'] . $tabkey, $options) .'</li>';
-*/
+ $options['attributes']['class'] .= ($tabkey == $active_tab ? ' active' : '');
+ $output .= '<li'. $attributes_li .'>'. l($tab['title'], $_GET['q'] . $tabkey, $options) .'</li>';
+ */
 ?>
-          <?php if (!empty($tabs)): ?><div class="tabs"><?php print $tabs; ?></div><?php endif; ?>
-
 
+<?php if (!empty($tabs)):
+?><div class="tabs"><?php print $tabs;?></div><?php endif;?>
 
 <div class="clear"></div>
-<?php
 
+<?php print flag_create_link('feature_users', $uid);  ?>
+<?php
 /* this is from function profile_ext_preprocess_user_profile(&$vars) */
 print $sec_content;
-
 //echo "profile completeness: {$profile['profile_progress']}%";
 ?>
diff --git a/themes/vibio/templates/views/user_collection/views-view-grid--user-collection.tpl.php b/themes/vibio/templates/views/user_collection/views-view-grid--user-collection.tpl.php
index 32c97db..e3594ee 100644
--- a/themes/vibio/templates/views/user_collection/views-view-grid--user-collection.tpl.php
+++ b/themes/vibio/templates/views/user_collection/views-view-grid--user-collection.tpl.php
@@ -1,52 +1,43 @@
-<?php
-if ($view->args[2] == PRIVACY_ONLYME)
-{	
-	$collections_link_text = t("View your collections");
-}
-else
-{
-	$u = user_load($view->args[0]);
-	$collections_link_text = t("View !user's collections", array("!user" => $u->name));
-}
-
-$display_args = array(
-	"!start"	=> $view->pager['items_per_page']*$view->pager['current_page'] + 1,
-	"!end"		=> min($view->total_rows, $view->pager['items_per_page']*($view->pager['current_page']+1)),
-	"!total"	=> $view->total_rows,
-);
-
-//echo l($collections_link_text, "user/{$view->args[0]}/inventory")."<br />";
-echo t("Viewing !start - !end of !total", $display_args);
-?>
-
-<table class="views-view-grid user-collection-preview">
-	<?php
-	foreach ($rows as $i => $cols)
-	{
-		$row_class = "row-".($i + 1);
-		if ($i == 0)
-		{
-			$row_class .= " row-first";
-		}
-		if (count($rows) == $i + 1)
-		{
-			$row_class .= " row-last";
-		}
-
-		echo "<tr class='$row_class'>";
-		foreach ($cols as $j => $item)
-		{
-			$result_index = count($cols)*$i + $j;
-			$col_class = "col-".($j + 1);
-			$td_output = isset($view->result[$result_index]) ? theme("collection_list_item_preview", $view->result[$result_index]) : $item;
-
-			echo "
-				<td class='$col_class'>
-					$td_output
-				</td>
-			";
-		}
-		echo "</tr>";
-	}
-	?>
-</table>
\ No newline at end of file
+<?php
+if ($view->args[2] == PRIVACY_ONLYME) {	
+	$collections_link_text = t("View your collections");
+} else {
+	$u = user_load($view->args[0]);
+	$collections_link_text = t("View !user's collections", array("!user" => $u->name));
+}
+
+$display_args = array(
+	"!start"	=> $view->pager['items_per_page']*$view->pager['current_page'] + 1,
+	"!end"		=> min($view->total_rows, $view->pager['items_per_page']*($view->pager['current_page'])+1),
+	"!total"	=> $view->total_rows,
+);
+echo "<!-- sites/default/themes/vibio/templates/views/user_collection/views-view-grid--user-collection.tpl.php -->\n";
+//echo l($collections_link_text, "user/{$view->args[0]}/inventory")."<br />";
+echo t("Viewing !start - !end of !total", $display_args);
+?>
+
+<table class="views-view-grid user-collection-preview">
+	<?php
+	foreach ($rows as $i => $cols) {
+		$row_class = "row-".($i + 1);
+		if ($i == 0)
+			$row_class .= " row-first";
+		if (count($rows) == $i + 1)
+			$row_class .= " row-last";
+
+		echo "<tr class='$row_class'>";
+		foreach ($cols as $j => $item) {
+			$result_index = count($cols)*$i + $j;
+			$col_class = "col-".($j + 1);
+			$td_output = isset($view->result[$result_index]) ? theme("collection_list_item_preview", $view->result[$result_index]) : $item;
+
+			echo "
+				<td class='$col_class'>
+					$td_output
+				</td>
+			";
+		}
+		echo "</tr>";
+	}
+	?>
+</table>
diff --git a/themes/vibio/templates/views/user_collection_preview/views-view-grid--user-collection-preview.tpl.php b/themes/vibio/templates/views/user_collection_preview/views-view-grid--user-collection-preview.tpl.php
index c791a94..e116a45 100644
--- a/themes/vibio/templates/views/user_collection_preview/views-view-grid--user-collection-preview.tpl.php
+++ b/themes/vibio/templates/views/user_collection_preview/views-view-grid--user-collection-preview.tpl.php
@@ -13,12 +13,9 @@ if ($unshown_items)
 			$more_link
 		</span>
 	";
-	foreach ($rows as $i => $cols)
-	{
-		foreach ($cols as $j => $item)
-		{
-			if (empty($item))
-			{
+	foreach ($rows as $i => $cols) {
+		foreach ($cols as $j => $item) {
+			if (empty($item)) {
 				$empty_spot = true;
 				$rows[$i][$j] = $extra_td;
 				break;
@@ -26,13 +23,11 @@ if ($unshown_items)
 		}
 	}
 
-	if (!$empty_spot)
-	{
+	if (!$empty_spot) {
 		$next_row_i = count($rows);
 		$next_row = array();
 
-		for ($i = 0; $i < $view->display['default']->display_options['style_options']['columns']; ++$i)
-		{
+		for ($i = 0; $i < $view->display['default']->display_options['style_options']['columns']; ++$i) {
 			$next_row[] = $i == 0 ? $extra_td : "";
 		}
 
@@ -43,32 +38,33 @@ if ($unshown_items)
 
 <table class="views-view-grid user-collection-preview">
 	<?php
-	foreach ($rows as $i => $cols)
-	{
+	foreach ($rows as $i => $cols) {
 		$row_class = "row-".($i + 1);
-		if ($i == 0)
-		{
+		if ($i == 0) {
 			$row_class .= " row-first";
 		}
-		if (count($rows) == $i + 1)
-		{
+		if (count($rows) == $i + 1) {
 			$row_class .= " row-last";
 		}
 
 		echo "<tr class='$row_class'>";
-		foreach ($cols as $j => $item)
-		{
+		foreach ($cols as $j => $item) {
 			$result_index = count($cols)*$i + $j;
 			$col_class = "col-".($j + 1);
 			$td_output = isset($view->result[$result_index]) ? theme("collection_list_item_preview", $view->result[$result_index]) : $item;
 
-			echo "
-				<td class='$col_class'>
-					$td_output
-				</td>
-			";
+			if(strlen($td_output))
+				echo "
+					<td class='$col_class'>
+					  <div class='collection-preview-boxshadow'>
+						$td_output
+					  </div>
+					</td>
+				";
+			else
+				echo "<td></td>\n";
 		}
 		echo "</tr>";
 	}
 	?>
-</table>
\ No newline at end of file
+</table>
diff --git a/themes/vibio/templates/views/user_collections/views-view-grid--user-collections.tpl.php b/themes/vibio/templates/views/user_collections/views-view-grid--user-collections.tpl.php
index 7b6a912..e4adc98 100644
--- a/themes/vibio/templates/views/user_collections/views-view-grid--user-collections.tpl.php
+++ b/themes/vibio/templates/views/user_collections/views-view-grid--user-collections.tpl.php
@@ -1,7 +1,7 @@
 <?php
 if ($view->args[1] == PRIVACY_ONLYME)
 {
-	echo l(t("Create New Collection"), "collections/new")."<br />";
+	echo l(t("Create New Collection"), "collections/new");
 }
 
 echo l(t("View All Items"), "collections/{$view->args[0]}/view-all");
diff --git a/themes/vibio/templates/views/user_collections/views-view-unformatted--user-collections.tpl.php b/themes/vibio/templates/views/user_collections/views-view-unformatted--user-collections.tpl.php
index 33efa04..5719a62 100644
--- a/themes/vibio/templates/views/user_collections/views-view-unformatted--user-collections.tpl.php
+++ b/themes/vibio/templates/views/user_collections/views-view-unformatted--user-collections.tpl.php
@@ -3,7 +3,7 @@ echo "<div class='collections_view_header'>";
 
 if ($view->args[1] == PRIVACY_ONLYME)
 {
-	echo l("<button>".t("Create New Collection")."</button>", "collections/new", array("html" => true))."<br />";
+	echo l(t("Create New Collection"), "collections/new", array("html" => true));
 }
 echo "</div>";
 
diff --git a/themes/vibio/templates/views/views-view--user-selling-offered.tpl.php b/themes/vibio/templates/views/views-view--user-selling-offered.tpl.php
new file mode 100644
index 0000000..ea63548
--- /dev/null
+++ b/themes/vibio/templates/views/views-view--user-selling-offered.tpl.php
@@ -0,0 +1,92 @@
+<?php
+/**
+ * @file views-view.tpl.php
+ * Main view template
+ *
+ * Variables available:
+ * - $classes_array: An array of classes determined in
+ *   template_preprocess_views_view(). Default classes are:
+ *     .view
+ *     .view-[css_name]
+ *     .view-id-[view_name]
+ *     .view-display-id-[display_name]
+ *     .view-dom-id-[dom_id]
+ * - $classes: A string version of $classes_array for use in the class attribute
+ * - $css_name: A css-safe version of the view name.
+ * - $css_class: The user-specified classes names, if any
+ * - $header: The view header
+ * - $footer: The view footer
+ * - $rows: The results of the view query, if any
+ * - $empty: The empty text to display if the view is empty
+ * - $pager: The pager next/prev links to display, if any
+ * - $exposed: Exposed widget form/info to display
+ * - $feed_icon: Feed icon to display, if any
+ * - $more: A link to view more, if any
+ * - $admin_links: A rendered list of administrative links
+ * - $admin_links_raw: A list of administrative links suitable for theme('links')
+ *
+ * @ingroup views_templates
+ */
+?>
+<div class="<?php print $classes; ?>">
+  <?php if ($admin_links): ?>
+    <div class="views-admin-links views-hide">
+      <?php print $admin_links; ?>
+    </div>
+  <?php endif; ?>
+  
+  <?php if ($pager): ?>
+    <?php print $pager; ?>
+  <?php endif; ?>
+  
+  <?php if ($header): ?>
+    <div class="view-header">
+      <?php print $header; ?>
+    </div>
+  <?php endif; ?>
+
+  <?php if ($exposed): ?>
+    <div class="view-filters">
+      <?php print $exposed; ?>
+    </div>
+  <?php endif; ?>
+
+  <?php if ($attachment_before): ?>
+    <div class="attachment attachment-before">
+      <?php print $attachment_before; ?>
+    </div>
+  <?php endif; ?>
+
+  <?php if ($rows): ?>
+    <div class="view-content">
+      <?php print $rows; ?>
+    </div>
+  <?php elseif ($empty): ?>
+    <div class="view-empty">
+      <?php print $empty; ?>
+    </div>
+  <?php endif; ?>
+
+  <?php if ($attachment_after): ?>
+    <div class="attachment attachment-after">
+      <?php print $attachment_after; ?>
+    </div>
+  <?php endif; ?>
+
+  <?php if ($more): ?>
+    <?php print $more; ?>
+  <?php endif; ?>
+
+  <?php if ($footer): ?>
+    <div class="view-footer">
+      <?php print $footer; ?>
+    </div>
+  <?php endif; ?>
+
+  <?php if ($feed_icon): ?>
+    <div class="feed-icon">
+      <?php print $feed_icon; ?>
+    </div>
+  <?php endif; ?>
+
+</div><?php /* class view */ ?>
diff --git a/themes/vibio/templates/views/views-view-field--flag-featured--nid.tpl.php b/themes/vibio/templates/views/views-view-field--flag-featured--nid.tpl.php
new file mode 100644
index 0000000..7aeb000
--- /dev/null
+++ b/themes/vibio/templates/views/views-view-field--flag-featured--nid.tpl.php
@@ -0,0 +1,26 @@
+<?php
+ /*   Turn an nid into have and want buttons
+  *    Something similar is done in search, in that case using preprocess
+  */
+
+ /**
+  * This template is used to print a single field in a view. It is not
+  * actually used in default Views, as this is registered as a theme
+  * function which has better performance. For single overrides, the
+  * template is perfectly okay.
+  *
+  * Variables available:
+  * - $view: The view object
+  * - $field: The field handler object that can process the input
+  * - $row: The raw SQL result that can be used
+  * - $output: The processed output that will normally be used.
+  *
+  * When fetching output from the $row, copy and paste the following snippet:
+  * $data = $row->{$field->field_alias}
+  *
+  * The above will guarantee that you'll always get the correct data,
+  * regardless of any changes in the aliasing that might happen if
+  * the view is modified.
+  */
+?>
+<div class='search-links'><?php print product_have_want($output); ?></div>
diff --git a/themes/vibio/templates/views/views-view-field--flag-featured-users--picture.tpl.php b/themes/vibio/templates/views/views-view-field--flag-featured-users--picture.tpl.php
new file mode 100644
index 0000000..8546e6c
--- /dev/null
+++ b/themes/vibio/templates/views/views-view-field--flag-featured-users--picture.tpl.php
@@ -0,0 +1,10 @@
+<div class="medium_user_pic">
+<?php
+$pic = $row->users_picture ? $row->users_picture : "/themes/vibio/images/icons/default_user.png";
+//print_r($row);
+$alt = $row->users_name . "'s Picture";
+$title = ''; // or name, if itsnot printed right below anyway
+$attributes = ;
+print	theme('imagecache', 'medium_square_standard', $pic, $alt,$title, $attributes);
+?>
+</div>
diff --git a/themes/vibio/templates/views/views-view-field--message.tpl.php b/themes/vibio/templates/views/views-view-field--message.tpl.php
index 8ca7b90..1040152 100644
--- a/themes/vibio/templates/views/views-view-field--message.tpl.php
+++ b/themes/vibio/templates/views/views-view-field--message.tpl.php
@@ -1,7 +1,14 @@
 <?php
 $row = $view->result[$view->row_index];
 
+/* stephen: this prints the row for a heartbeat.
+ * At some point in September 2011 the messages disappeared.
+ * I'm not sure what Nelson was trying to do or where this info was 
+ *  supposed to come from / how it was supposed to be transformed,
+ *  but it appears to be right there in the $row->message
+ */
 $message = "";
+// Get's a second image if it's got an nid (item, product?)
 if ($row->nid)
 {
 	$is_item_message = strpos($row->message_id, "node") !== false || strpos($row->message_id, "item") !== false;
@@ -29,6 +36,29 @@ if ($row->nid)
 	";
 }
 
+/* Neither friends nor badges print the second image.  Seems like they
+ *  sure should.  Begun work here, realized it's a feature not a bug/priority,
+ *  code snippets should get you started...
+ */
+//if   [message_id] => heartbeat_become_friends,  $row->uid_target
+
+/*if ($row->variables['@badge']) {
+
+print '<pre>';
+print_r($row);
+print '</pre>';
+
+}
+*/
+
+
+// where does "$output" come from?  appears to come from nowhere = 
+//  it's never set, not sure how this code ever worked (did it?)...
+// v1.1 force it.  On my personal homepage, $output never[?] appears
+//  to be set
+if ( !$output ) {
+	$output = $row->message;
+}
 $message .= "
 	<div class='views_message'>
 		$output
@@ -37,4 +67,4 @@ $message .= "
 ";
 
 echo $message;
-?>
\ No newline at end of file
+?>
diff --git a/themes/vibio/templates/views/views-view-field--picture.tpl.php b/themes/vibio/templates/views/views-view-field--picture.tpl.php
index b0c445e..781f96e 100644
--- a/themes/vibio/templates/views/views-view-field--picture.tpl.php
+++ b/themes/vibio/templates/views/views-view-field--picture.tpl.php
@@ -1,13 +1,19 @@
 <?php
-$profile_pic = $row->actor->picture ? file_create_url($row->actor->picture) : "/themes/vibio/images/icons/default_user.png";
+// Confused: what is actor?  Is this totally custom code?  Doesn't extend
+//  well when creating new views
+!empty($row->actor->picture) ? $profile_pic = $row->actor->picture : $profile_pic = "themes/vibio/images/icons/default_user_large.png";
+// Generate image using imagecache
+$picture = theme('imagecache', "little_profile_pic", $profile_pic, $alt, $alt, "");
 $alt = $row->actor->name;
-
+//dsm($row);
+//debug_backtrace());
+//why don't any backtrace options work? die(var_dump(debug_backtrace()));
 echo "
 	<div class='picture'>
 		<a href='/user/{$row->actor->uid}'>
-			<img src='$profile_pic' alt='$alt' title='$alt' />
+			{$picture}
 		</a>
 		<span class='view_activity_timestamp timestamp_uncalculated'>{$row->timestamp}</span>
 	</div>
 ";
-?>
\ No newline at end of file
+?>
diff --git a/themes/vibio/templates/viewscd b/themes/vibio/templates/viewscd
new file mode 100644
index 0000000..00a35e8
--- /dev/null
+++ b/themes/vibio/templates/viewscd
@@ -0,0 +1,22 @@
+<?php
+ /**
+  * This template is used to print a single field in a view. It is not
+  * actually used in default Views, as this is registered as a theme
+  * function which has better performance. For single overrides, the
+  * template is perfectly okay.
+  *
+  * Variables available:
+  * - $view: The view object
+  * - $field: The field handler object that can process the input
+  * - $row: The raw SQL result that can be used
+  * - $output: The processed output that will normally be used.
+  *
+  * When fetching output from the $row, copy and paste the following snippet:
+  * $data = $row->{$field->field_alias}
+  *
+  * The above will guarantee that you'll always get the correct data,
+  * regardless of any changes in the aliasing that might happen if
+  * the view is modified.
+  */
+?>
+<?php print $output; ?>
\ No newline at end of file
diff --git a/themes/vibio/vibio-tagline.png b/themes/vibio/vibio-tagline.png
index fd89031..0829389 100644
Binary files a/themes/vibio/vibio-tagline.png and b/themes/vibio/vibio-tagline.png differ
diff --git a/themes/vibio/vibio.info b/themes/vibio/vibio.info
index 398c538..a35de74 100644
--- a/themes/vibio/vibio.info
+++ b/themes/vibio/vibio.info
@@ -7,8 +7,7 @@ base theme = zen
    ; Stephen making quick edits in various places, better
    ;  to separate my work than integrate with each file here 
 stylesheets[all][]   = css/stephen.css
- 
-
+stylesheets[all][]   = css/travis.css
 stylesheets[all][]   = css/html-reset.css
 stylesheets[all][]   = css/layout-fixed.css
 stylesheets[all][]   = css/tabs.css
@@ -27,7 +26,19 @@ conditional-stylesheets[if IE][all][]       = css/ie.css
 conditional-stylesheets[if lte IE 6][all][] = css/ie6.css
 
   ; Optionally add some JavaScripts to your theme.
-; scripts[] = js/script.js
+scripts[] = js/dom-removal.js
+scripts[] = js/dom-manipulate.js
+scripts[] = js/product.js
+scripts[] = js/select.js
+scripts[] = js/scroll.js
+scripts[] = js/scroll-init.js
+scripts[] = js/masonry.js
+scripts[] = js/fixed-scroll.js
+scripts[] = js/jquery-scrolltofixed-min.js
+scripts[] = js/mb_menu.js
+scripts[] = js/mbMenu/inc/mbMenu.js
+scripts[] = js/mbMenu/inc/jquery.hoverIntent.js
+scripts[] = js/mbMenu/inc/jquery.metadata.js
 
   ; The regions defined in Zen's default page.tpl.php file.  The name in
   ; brackets is the name of the variable in the page.tpl.php file, (e.g.
@@ -43,6 +54,7 @@ regions[sidebar_first]  = First sidebar
 regions[navigation]     = Navigation bar
 ;regions[highlight]      = Highlighted content
 regions[content_top]    = Content top
+regions[content]    = Content
 regions[content_bottom] = Content bottom
 regions[header]         = Header
 regions[footer]         = Footer
